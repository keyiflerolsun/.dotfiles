{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"R10 AdFck","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://www.r10.net/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1670972857868,"data":{}},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/442192-r10-adfck/code/R10%20AdFck.user.js","uuid":"3d544001-f7bb-4ab4-b72b-5763d59126c7","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBSMTAgQWRGY2sKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL0tla2lrQWthZGVtaS5vcmcvS2FodmUKLy8gQGRlc2NyaXB0aW9uICBSMTAuTmV0IFJla2xhbSBFbmdlbGxleWljaQovLyBAY29weXJpZ2h0ICAgIDIwMjIsIGtleWlmbGVyb2xzdW4sIGh0dHBzOi8vdC5tZS9LZWtpa0FrYWRlbWkKLy8gQHZlcnNpb24gICAgICAxLjMxCi8vIEBsaWNlbnNlICAgICAgR1BMdjMKLy8gQGF1dGhvciAgICAgICBAS2VraWtBa2FkZW1pCi8vIEBtYXRjaCAgICAgICAgKjovL3d3dy5yMTAubmV0LyoKLy8gQGljb24gICAgICAgICBodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2Zhdmljb25zP3N6PTY0JmRvbWFpbj1yMTAubmV0Ci8vIEBncmFudCAgICAgICAgbm9uZQovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9hamF4Lmdvb2dsZWFwaXMuY29tL2FqYXgvbGlicy9qcXVlcnkvMy42LjAvanF1ZXJ5Lm1pbi5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCgovLyAhIEVsZW1hbiBWYXJzYSBTaWwKZnVuY3Rpb24gaWNpbmRlbl9nZWMoc2VjaWNpKSB7CiAgICBsZXQgZWxlbWFuID0galF1ZXJ5KHNlY2ljaSkKCiAgICBpZiAoZWxlbWFuLmxlbmd0aCkgewogICAgICAgIGVsZW1hblswXS5yZW1vdmUoKQogICAgfQoKICAgIHJldHVybiBqUXVlcnkoc2VjaWNpKQp9CgovLyAhIFhQYXRoIFNlw6dpY2kKZnVuY3Rpb24geF9wYXRoKFNUUl9YUEFUSCkgewogICAgdmFyIHhyZXN1bHQgPSBkb2N1bWVudC5ldmFsdWF0ZShTVFJfWFBBVEgsIGRvY3VtZW50LCBudWxsLCBYUGF0aFJlc3VsdC5BTllfVFlQRSwgbnVsbCk7CiAgICB2YXIgeG5vZGVzID0gW107CiAgICB2YXIgeHJlczsKICAgIHdoaWxlICh4cmVzID0geHJlc3VsdC5pdGVyYXRlTmV4dCgpKSB7CiAgICAgICAgeG5vZGVzLnB1c2goeHJlcyk7CiAgICB9CgogICAgcmV0dXJuIHhub2RlczsKfQoKLy8gISBYUEFUSCBWYXJzYSBTaWwKZnVuY3Rpb24geF9kZWwoc2VjaWNpKSB7CiAgICBsZXQgZWxlbWFuID0geF9wYXRoKHNlY2ljaSkKCiAgICBpZiAoZWxlbWFuLmxlbmd0aCkgewogICAgICAgIGVsZW1hblswXS5yZW1vdmUoKQogICAgfQoKICAgIHJldHVybiB4X3BhdGgoc2VjaWNpKQp9CgovLyAhIExpbmsgWcO2bmxlbmRpcm1lIMSwcHRhbGkKZnVuY3Rpb24geW9ubGVuZGlybWVfc2lsKCkgewogICAgbGV0IF95b25sZW5kaXIgPSAnaHR0cHM6Ly93d3cucjEwLm5ldC95b25sZW5kaXIvP2FkcmVzPScKICAgIGpRdWVyeShgYVtocmVmXj0iJHtfeW9ubGVuZGlyfSJdYCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5ocmVmID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuaHJlZi5yZXBsYWNlKF95b25sZW5kaXIsICIiKS5zcGxpdCgnJnRva2VuJylbMF0pCiAgICB9KQp9CgoKLy8gKiBLYXluYWsgS29kIFnDvGtsZW5pbmNlCmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgewoKICAgIC8vICEgw5xzdHRla2kgUmVrbGFtIFNpbAogICAgaWNpbmRlbl9nZWMoJ3NlY3Rpb246Y29udGFpbnMoInRvcGJhciIpJykKCiAgICAvLyAhIFNvbCBUYXJhZnRha2kgUmVrbGFtxLEgU2lsCiAgICBpY2luZGVuX2dlYygnLmhlYWQ6Y29udGFpbnMoIlJla2xhbSIpJykKICAgIGpRdWVyeSgnbWFpbicpLmNzcygncGFkZGluZy1sZWZ0JywgMCkKCiAgICAvLyAhIEhlZGVmIExpbmtsZXJpbiBSZWtsYW1sYXLEsW7EsSBTaWwKICAgIGljaW5kZW5fZ2VjKCdhW2hyZWYqPSJqZXR0ZWtub2xvamkiXScpCiAgICBpY2luZGVuX2dlYygnYVtocmVmKj0idGljaW1heCJdJykKICAgIGljaW5kZW5fZ2VjKCdhW2hyZWYqPSJpa2FzLmNvbSJdJykKICAgIGljaW5kZW5fZ2VjKCdhW2hyZWYqPSIzNDQ5NDA5LWlrYXMtZS10aWNhcmV0Il0nKQoKICAgIC8vICEgS2F0ZWdvcmkgxLDDp2kgU3BvbnNvcmx1CiAgICBpY2luZGVuX2dlYygnYVtyZWwqPSJzcG9uc29yZWQiXScpCgogICAgLy8gISBCbG9nIFJla2xhbSBTaWwKICAgIGljaW5kZW5fZ2VjKCdkaXZbY2xhc3M9ImJsb2dwb3N0cyJdJykKCiAgICAvLyAhIExpbmsgWcO2bmxlbmRpcm1lIMSwcHRhbGkKICAgIHlvbmxlbmRpcm1lX3NpbCgpCgogICAgLy8gISBCbG9nIFNwb25zb3JsdQogICAgeF9kZWwoIi8vc3Bhbltjb250YWlucyh0ZXh0KCksICdTUE9OU09STFUnKV0vYW5jZXN0b3I6OmRpdltjb250YWlucyhAY2xhc3MsICdwb3N0JyldIikKCn0pCgoKLy8gKiBTYXlmYSBZw7xrbGVuaW5jZQpqUXVlcnkod2luZG93KS5vbigibG9hZCIsIGZ1bmN0aW9uICgpIHsKCiAgICAvLyAhIFBNIEFsYW7EsSBGaXgKICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT0gJy9wcml2YXRlLnBocCcpIHsKICAgICAgICBqUXVlcnkoJ2Rpdi5jb252ZXJzYXRpb24nKVswXS5zdHlsZS53aWR0aCA9IG51bGwKICAgICAgICBqUXVlcnkoJ2Rpdi5jb252ZXJzYXRpb24nKVswXS5zdHlsZS5oZWlnaHQgPSBudWxsCiAgICAgICAgalF1ZXJ5KCdkaXYuY29udmVyc2F0aW9uIGRpdicpWzBdLnN0eWxlLndpZHRoID0gbnVsbAogICAgICAgIGpRdWVyeSgnZGl2LmNvbnZlcnNhdGlvbiBkaXYgZGl2JylbMF0uc3R5bGUud2lkdGggPSBudWxsCiAgICB9Cgp9KQoKCgovLyAqIEhlciBTYW5peWUKZnVuY3Rpb24ga29udHJvbEV0KCkgewoKICAgIC8vICEgS2F0ZWdvcmkgU3BvbnNvciBSZWtsYW0KICAgIGpRdWVyeSgnbGknKS5maWx0ZXIoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmlkLm1hdGNoKC9zcG9uc29yUmVrbGFtLykKICAgIH0pLnJlbW92ZSgpCgoKICAgIC8vICogVVJMIERlxJ9pxZ9pbmNlCiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYgIT0gZWxkZWtpVVJMKSB7CgogICAgICAgIC8vICEgTGluayBZw7ZubGVuZGlybWUgxLBwdGFsaQogICAgICAgIHlvbmxlbmRpcm1lX3NpbCgpCgogICAgICAgIGVsZGVraVVSTCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmCiAgICB9Cn0KCnZhciBlbGRla2lVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZgpzZXRJbnRlcnZhbChrb250cm9sRXQsIDEwMDAp","requires":[{"meta":{"name":"jquery.min.js","url":"http://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js","ts":1671008943967,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="}]},{"name":"YouTube™ Multi Downloader 🚀💯 - yt1s.com (MP3, FHD, MP4, HD, SD, 3GP / NO ADS 🚫)","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.youtube.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1670972863682,"data":{}},"enabled":true,"position":2,"file_url":"https://greasyfork.org/scripts/34613-youtube-multi-downloader-yt1s-com-mp3-fhd-mp4-hd-sd-3gp-no-ads/code/YouTube%E2%84%A2%20Multi%20Downloader%20%F0%9F%9A%80%F0%9F%92%AF%20-%20yt1scom%20(MP3,%20FHD,%20MP4,%20HD,%20SD,%203GP%20%20NO%20ADS%20%F0%9F%9A%AB).user.js","uuid":"4885dfee-70c7-48de-b5af-1406ae1d4b71","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnB0LUJSIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIFNFTSBBTsOaTkNJT1Mg8J+aqykKLy8gQG5hbWU6YXIgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmJnIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpjcyBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6ZGEgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmRlIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTplbCBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6ZW8gWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmVzIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpmaSBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6ZnIgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmZyLUNBIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpoZSBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6aHUgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmlkIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTppdCBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6amEgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmtvIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpuYiBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6bmwgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnBsIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpybyBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6cnUgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnNrIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpzciBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6c3YgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnRoIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTp0ciBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6dWsgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnVnIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTp2aSBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6emgtQ04gWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnpoLVRXIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAZGVzY3JpcHRpb24gQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpwdC1CUiBDb21wYXTDrXZlbCBjb20gWW91VHViZSBNUDMgRG93bmxvYWRlciEgRXNzZSBzY3JpcHQgYWRpY2lvbmEgdW0gYm90w6NvIGRlIGRvd25sb2FkLCB1bWEgbWFuZWlyYSBtYWlzIHLDoXBpZGEgZGUgYmFpeGFyIMOhdWRpbyBkbyBZb3VUdWJlIGUgY29tIHF1YWxpZGFkZSBnYXJhbnRpZGEuIEVzdGUgc2l0ZSDDqSBtdWl0byBzaW1wbGVzLCByw6FwaWRvIGUgZWZpY2F6IHBhcmEgYmFpeGFyISBNZWxob3IgZGUgdG9kb3MhCi8vIEBkZXNjcmlwdGlvbjphciBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmJnIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246Y3MgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpkYSBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmRlIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246ZWwgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjplbyBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmVzIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246ZmkgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpmciBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmZyLUNBIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246aGUgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpodSBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmlkIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246aXQgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpqYSBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmtvIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246bmIgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpubCBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnBsIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246cm8gQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpydSBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnNrIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246c3IgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpzdiBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnRoIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246dHIgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjp1ayBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnVnIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246dmkgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnpoLVRXIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAbmFtZXNwYWNlIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvdXNlcnMvMTUyOTI0Ci8vIEBob21lcGFnZVVSTCBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMzQ2MTMKLy8gQHN1cHBvcnRVUkwgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzM0NjEzL2ZlZWRiYWNrCi8vIEBhdXRob3IgUHVuaXNoZXIKLy8gQHZlcnNpb24gRmluYWwKLy8gQGRhdGUgMjAyMi0wNS0yMQovLyBAaWNvbiBodHRwczovL2kuaW1ndXIuY29tL0ludUREVksucG5nCi8vIEBjb21wYXRpYmxlIGNocm9tZQovLyBAY29tcGF0aWJsZSBmaXJlZm94Ci8vIEBjb21wYXRpYmxlIG9wZXJhCi8vIEBjb21wYXRpYmxlIHNhZmFyaQovLyBAY29tcGF0aWJsZSBlZGdlCi8vIEBhbnRpZmVhdHVyZSByZWZlcnJhbC1saW5rCi8vIEBsaWNlbnNlIENDLUJZLU5DLU5ELTQuMAovLyBAbWF0Y2ggKjovLyoueW91dHViZS5jb20vKgovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnJvd3Nlci1hcHAiKSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFzdGhlYWQiKSB8fCB3aW5kb3cuUG9seW1lcikgewogICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIndhdGNoP3Y9IikgPCAwKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZXRhLWNvbnRlbnRzIikgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInB1bmlzaGVyIikgPT09IG51bGwpIHsKICAgICAgICAgICAgQWRkWVQoKTsKICAgICAgICB9CiAgICB9LCAxKTsKCiAgICBzZXRFbGVtZW50ID0gZnVuY3Rpb24odXJsKSB7CiAgICAgICB2YXIgcmVnRXhwID0gL14uKigoeW91dHUuYmVcLyl8KHZcLyl8KFwvdVwvXHdcLyl8KGVtYmVkXC8pfCh3YXRjaFw/KSlcPz92Pz0/KFteI1wmXD9dKikuKi87CiAgICAgICB2YXIgbWF0Y2ggPSBTdHJpbmcodXJsKS5tYXRjaChyZWdFeHApOwogICAgICAgcmV0dXJuIChtYXRjaCYmbWF0Y2hbN10ubGVuZ3RoPT0xMSk/IG1hdGNoWzddOiBmYWxzZTsKICAgIH07Cn0KCmZ1bmN0aW9uIEFkZFlUKCkgewogICAgdmFyIGJ1dHRvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgIGJ1dHRvbkRpdi5pZCA9ICJwdW5pc2hlciI7CiAgICBidXR0b25EaXYuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICBidXR0b25EaXYuc3R5bGUubWFyZ2luVG9wID0gIjNweCI7CiAgICBidXR0b25EaXYuc3R5bGUucGFkZGluZyA9ICIxMHB4IDAiOwogICAgdmFyIGFkZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgIGFkZEJ1dHRvbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiRE9XTkxPQUQiKSk7CiAgICBhZGRCdXR0b24uc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICBhZGRCdXR0b24uc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwogICAgYWRkQnV0dG9uLnN0eWxlLmhlaWdodCA9ICJpbmhlcml0IjsKICAgIGFkZEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzM5MzkzOSI7CiAgICBhZGRCdXR0b24uc3R5bGUuY29sb3IgPSAiI2ZmZmZmZiI7CiAgICBhZGRCdXR0b24uc3R5bGUucGFkZGluZyA9ICIxMHB4IDIycHgiOwogICAgYWRkQnV0dG9uLnN0eWxlLm1hcmdpbiA9ICIwcHggMHB4IjsKICAgIGFkZEJ1dHRvbi5zdHlsZS5ib3JkZXIgPSAiMCI7CiAgICBhZGRCdXR0b24uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjJweCI7CiAgICBhZGRCdXR0b24uc3R5bGUuZm9udFNpemUgPSAiMS40cmVtIjsKICAgIGFkZEJ1dHRvbi5zdHlsZS5mb250RmFtaWx5ID0gImluaGVyaXQiOwogICAgYWRkQnV0dG9uLnN0eWxlLnRleHRBbGlnbiA9ICJjZW50ZXIiOwogICAgYWRkQnV0dG9uLnN0eWxlLnRleHREZWNvcmF0aW9uID0gIm5vbmUiOwogICAgYWRkQnV0dG9uLmhyZWYgPSAiLy95dDFzLmNvbS9lbi95b3V0dWJlLXRvLW1wMz9xPSIgKyBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZik7CiAgICBhZGRCdXR0b24udGFyZ2V0ID0gIl9ibGFuayI7CiAgICBidXR0b25EaXYuYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKTsKICAgIHZhciB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiW2lkPSdzdWJzY3JpYmUtYnV0dG9uJ10iKTsKICAgIGlmKHRhcmdldEVsZW1lbnQpewogICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGFyZ2V0RWxlbWVudC5sZW5ndGg7IGkrKyl7CiAgICAgICAgaWYodGFyZ2V0RWxlbWVudFtpXS5jbGFzc05hbWUuaW5kZXhPZigieXRkLXZpZGVvLXNlY29uZGFyeS1pbmZvLXJlbmRlcmVyIikgPiAtMSl7CiAgICAgICAgICAgIHRhcmdldEVsZW1lbnRbaV0uYXBwZW5kQ2hpbGQoYnV0dG9uRGl2KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHZhciBkZXNjcmlwdGlvbkJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInl0ZC12aWRlby1zZWNvbmRhcnktaW5mby1yZW5kZXJlciIpOwogICAgaWYoZGVzY3JpcHRpb25Cb3hbMF0uY2xhc3NOYW1lLmluZGV4T2YoImxvYWRpbmciKSA+IC0xKXsKICAgICAgICBkZXNjcmlwdGlvbkJveFswXS5jbGFzc0xpc3QucmVtb3ZlKCJsb2FkaW5nIik7CiAgICB9Cn0KfSkoKTs="},{"name":"AdsBypasser","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["*"],"orig_excludes":[],"orig_includes":["http://*","https://*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1670972879766,"data":{"version":"n3"}},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/4881-adsbypasser/code/AdsBypasser.user.js","uuid":"03b66547-fc45-4e3f-bbcc-611c1d7d172b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIEFkc0J5cGFzc2VyCi8vIEBuYW1lc3BhY2UgICAgICBBZHNCeXBhc3NlcgovLyBAZGVzY3JpcHRpb24gICAgQnlwYXNzIEFkcwovLyBAY29weXJpZ2h0ICAgICAgMjAxMissIFdlaS1DaGVuZyBQYW4gKGxlZ25hbGV1cmMpCi8vIEB2ZXJzaW9uICAgICAgICA1LjczLjAKLy8gQGxpY2Vuc2UgICAgICAgIEJTRAovLyBAaG9tZXBhZ2VVUkwgICAgaHR0cHM6Ly9hZHNieXBhc3Nlci5naXRodWIuaW8vCi8vIEBzdXBwb3J0VVJMICAgICBodHRwczovL2dpdGh1Yi5jb20vYWRzYnlwYXNzZXIvYWRzYnlwYXNzZXIvaXNzdWVzCi8vIEBpY29uICAgICAgICAgICBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWRzYnlwYXNzZXIvYWRzYnlwYXNzZXIvdjUuNzMuMC9pbWcvbG9nby5wbmcKLy8gQGdyYW50ICAgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRSZXNvdXJjZVRleHQKLy8gQGdyYW50ICAgICAgICAgIEdNX2dldFJlc291cmNlVVJMCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAcnVuLWF0ICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQHJlc291cmNlICAgICAgIGFsaWduQ2VudGVyIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZHNieXBhc3Nlci9hZHNieXBhc3Nlci92NS43My4wL2Nzcy9hbGlnbl9jZW50ZXIuY3NzCi8vIEByZXNvdXJjZSAgICAgICBzY2FsZUltYWdlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZHNieXBhc3Nlci9hZHNieXBhc3Nlci92NS43My4wL2Nzcy9zY2FsZV9pbWFnZS5jc3MKLy8gQHJlc291cmNlICAgICAgIGJnSW1hZ2UgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Fkc2J5cGFzc2VyL2Fkc2J5cGFzc2VyL3Y1LjczLjAvaW1nL2ltYWdlZG9jLWRhcmtub2lzZS5wbmcKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwczovLyoKLy8gQGNvbm5lY3QgICAgICAgICoKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoY29udGV4dCwgUHJvbWlzZSk7CiAgfSBlbHNlIHsKICAgIHZhciBQID0gbnVsbDsKICAgIGlmIChjb250ZXh0LnVuc2FmZVdpbmRvdy5GdXR1cmUpIHsKICAgICAgUCA9IGZ1bmN0aW9uIChmbikgewogICAgICAgIHJldHVybiBjb250ZXh0LnVuc2FmZVdpbmRvdy5GdXR1cmUuY2FsbCh0aGlzLCBmdW5jdGlvbiAoZnIpIHsKICAgICAgICAgIGZuKGZyLnJlc29sdmUuYmluZChmciksIGZyLnJlamVjdC5iaW5kKGZyKSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9IGVsc2UgaWYgKGNvbnRleHQuUHJvbWlzZVJlc29sdmVyKSB7CiAgICAgIFAgPSBmdW5jdGlvbiAoZm4pIHsKICAgICAgICByZXR1cm4gbmV3IGNvbnRleHQuUHJvbWlzZShmdW5jdGlvbiAocHIpIHsKICAgICAgICAgIGZuKHByLnJlc29sdmUuYmluZChwciksIHByLnJlamVjdC5iaW5kKHByKSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZXh0LlByb21pc2UgPT09ICdmdW5jdGlvbicpIHsKICAgICAgUCA9IGNvbnRleHQuUHJvbWlzZTsKICAgIH0gZWxzZSB7CiAgICAgIFAgPSB0aGlzLlByb21pc2U7CiAgICB9CiAgICBmYWN0b3J5KGNvbnRleHQsIFApOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoY29udGV4dCwgUHJvbWlzZSkgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgXyA9IGNvbnRleHQuXyA9IHt9OwogIGZ1bmN0aW9uIHNldHVwU3RhY2sgKCkgewogICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7CiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpOwogICAgfSBlbHNlIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgnc3RhY2snKSkgewogICAgICB2YXIgc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrLnNwbGl0KCdcbicpLnNsaWNlKDIpOwogICAgICB2YXIgZSA9IHN0YWNrWzBdLm1hdGNoKC9eLipAKC4qKTooXGQqKSQvKTsKICAgICAgdGhpcy5maWxlTmFtZSA9IGVbMV07CiAgICAgIHRoaXMubGluZU51bWJlciA9IHBhcnNlSW50KGVbMl0sIDEwKTsKICAgICAgdGhpcy5zdGFjayA9IHN0YWNrLmpvaW4oJ1xuJyk7CiAgICB9CiAgfQogIGZ1bmN0aW9uIEFkc0J5cGFzc2VyRXJyb3IgKG1lc3NhZ2UpIHsKICAgIHNldHVwU3RhY2suY2FsbCh0aGlzKTsKICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7CiAgfQogIEFkc0J5cGFzc2VyRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpOwogIEFkc0J5cGFzc2VyRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWRzQnlwYXNzZXJFcnJvcjsKICBBZHNCeXBhc3NlckVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0Fkc0J5cGFzc2VyRXJyb3InOwogIEFkc0J5cGFzc2VyRXJyb3IuZXh0ZW5kID0gZnVuY3Rpb24gKHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgICB2YXIgcGFyZW50ID0gdGhpcywgY2hpbGQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHNldHVwU3RhY2suY2FsbCh0aGlzKTsKICAgICAgcHJvdG9Qcm9wcy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICAgIGV4dGVuZChjaGlsZCwgcGFyZW50LCBzdGF0aWNQcm9wcyk7CiAgICBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpOwogICAgZXh0ZW5kKGNoaWxkLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgICBjaGlsZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjaGlsZDsKICAgIGNoaWxkLnN1cGVyID0gcGFyZW50LnByb3RvdHlwZTsKICAgIHJldHVybiBjaGlsZDsKICB9OwogIEFkc0J5cGFzc2VyRXJyb3Iuc3VwZXIgPSBudWxsOwogIF8uQWRzQnlwYXNzZXJFcnJvciA9IEFkc0J5cGFzc2VyRXJyb3I7CiAgZnVuY3Rpb24gYW55IChjLCBmbikgewogICAgaWYgKGMuc29tZSkgewogICAgICByZXR1cm4gYy5zb21lKGZuKTsKICAgIH0KICAgIGlmICh0eXBlb2YgYy5sZW5ndGggPT09ICdudW1iZXInKSB7CiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGMsIGZuKTsKICAgIH0KICAgIHJldHVybiBPYmplY3Qua2V5cyhjKS5zb21lKGZ1bmN0aW9uIChrKSB7CiAgICAgIHJldHVybiBmbihjW2tdLCBrLCBjKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBhbGwgKGMsIGZuKSB7CiAgICBpZiAoYy5ldmVyeSkgewogICAgICByZXR1cm4gYy5ldmVyeShmbik7CiAgICB9CiAgICBpZiAodHlwZW9mIGMubGVuZ3RoID09PSAnbnVtYmVyJykgewogICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoYywgZm4pOwogICAgfQogICAgcmV0dXJuIE9iamVjdC5rZXlzKGMpLmV2ZXJ5KGZ1bmN0aW9uIChrKSB7CiAgICAgIHJldHVybiBmbihjW2tdLCBrLCBjKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBlYWNoIChjLCBmbikgewogICAgaWYgKGMuZm9yRWFjaCkgewogICAgICBjLmZvckVhY2goZm4pOwogICAgfSBlbHNlIGlmICh0eXBlb2YgYy5sZW5ndGggPT09ICdudW1iZXInKSB7CiAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYywgZm4pOwogICAgfSBlbHNlIHsKICAgICAgT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgIGZuKGNba10sIGssIGMpOwogICAgICB9KTsKICAgIH0KICB9CiAgZnVuY3Rpb24gbWFwIChjLCBmbikgewogICAgaWYgKGMubWFwKSB7CiAgICAgIHJldHVybiBjLm1hcChmbik7CiAgICB9CiAgICBpZiAodHlwZW9mIGMubGVuZ3RoID09PSAnbnVtYmVyJykgewogICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGMsIGZuKTsKICAgIH0KICAgIHJldHVybiBPYmplY3Qua2V5cyhjKS5tYXAoZnVuY3Rpb24gKGspIHsKICAgICAgcmV0dXJuIGZuKGNba10sIGssIGMpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGV4dGVuZChjKSB7CiAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkgewogICAgICBpZiAoIXNvdXJjZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBfLkMoc291cmNlKS5lYWNoKGZ1bmN0aW9uICh2LCBrKSB7CiAgICAgICAgY1trXSA9IHY7CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gQ29sbGVjdGlvblByb3h5IChjb2xsZWN0aW9uKSB7CiAgICB0aGlzLl9jID0gY29sbGVjdGlvbjsKICB9CiAgQ29sbGVjdGlvblByb3h5LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9jLmxlbmd0aCA9PT0gJ251bWJlcicpIHsKICAgICAgcmV0dXJuIHRoaXMuX2MubGVuZ3RoOwogICAgfQogICAgcmV0dXJuIE9iamVjdC5rZXlzKGMpLmxlbmd0aDsKICB9OwogIENvbGxlY3Rpb25Qcm94eS5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbiAoaykgewogICAgcmV0dXJuIHRoaXMuX2Nba107CiAgfTsKICBDb2xsZWN0aW9uUHJveHkucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbiAoZm4pIHsKICAgIGVhY2godGhpcy5fYywgZm4pOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBDb2xsZWN0aW9uUHJveHkucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoZm4pIHsKICAgIHZhciByZXN1bHQ7CiAgICBhbnkodGhpcy5fYywgZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgc2VsZikgewogICAgICB2YXIgdG1wID0gZm4odmFsdWUsIGluZGV4LCBzZWxmKTsKICAgICAgaWYgKHRtcCAhPT0gXy5ub25lKSB7CiAgICAgICAgcmVzdWx0ID0gewogICAgICAgICAga2V5OiBpbmRleCwKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIHBheWxvYWQ6IHRtcCwKICAgICAgICB9OwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9OwogIENvbGxlY3Rpb25Qcm94eS5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKGZuKSB7CiAgICByZXR1cm4gYWxsKHRoaXMuX2MsIGZuKTsKICB9OwogIENvbGxlY3Rpb25Qcm94eS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuKSB7CiAgICByZXR1cm4gbWFwKHRoaXMuX2MsIGZuKTsKICB9OwogIF8uQyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7CiAgICByZXR1cm4gbmV3IENvbGxlY3Rpb25Qcm94eShjb2xsZWN0aW9uKTsKICB9OwogIF8uVCA9IGZ1bmN0aW9uIChzKSB7CiAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7CiAgICB9IGVsc2UgaWYgKHMgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgcyA9IHMudG9TdHJpbmcoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBBZHNCeXBhc3NlckVycm9yKCd0ZW1wbGF0ZSBtdXN0IGJlIGEgc3RyaW5nJyk7CiAgICB9CiAgICB2YXIgVCA9IHsKICAgICAgJ3t7JzogJ3snLAogICAgICAnfX0nOiAnfScsCiAgICB9OwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgICB2YXIga3dhcmdzID0gYXJnc1thcmdzLmxlbmd0aC0xXTsKICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXHtce3xcfVx9fFx7KFteXH1dKylcfS9nLCBmdW5jdGlvbiAobSwga2V5KSB7CiAgICAgICAgaWYgKFQuaGFzT3duUHJvcGVydHkobSkpIHsKICAgICAgICAgIHJldHVybiBUW21dOwogICAgICAgIH0KICAgICAgICBpZiAoYXJncy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICByZXR1cm4gYXJnc1trZXldOwogICAgICAgIH0KICAgICAgICBpZiAoa3dhcmdzLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgIHJldHVybiBrd2FyZ3Nba2V5XTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG07CiAgICAgIH0pOwogICAgfTsKICB9OwogIF8uUCA9IGZ1bmN0aW9uIChmbikgewogICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdtdXN0IGdpdmUgYSBmdW5jdGlvbicpOwogICAgfQogICAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwogICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7CiAgICB9OwogIH07CiAgXy5EID0gZnVuY3Rpb24gKGZuKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZm4pOwogIH07CiAgXy5wYXJzZUpTT04gPSBmdW5jdGlvbiAoanNvbikgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIF8ud2FybihlLCBqc29uKTsKICAgIH0KICAgIHJldHVybiBfLm5vbmU7CiAgfTsKICBfLmlzU3RyaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHx8ICh2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZyk7CiAgfTsKICBfLm5vcCA9IGZ1bmN0aW9uICgpIHsKICB9OwogIF8ubm9uZSA9IF8ubm9wOwogIF8ud2FpdCA9IGZ1bmN0aW9uIChtc0RlbGF5KSB7CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBtc0RlbGF5KTsKICAgIH0pOwogIH07CiAgXy50cnkgPSBmdW5jdGlvbiAobXNJbnRlcnZhbCwgZm4pIHsKICAgIHJldHVybiBfLkQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgaGFuZGxlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciByZXN1bHQgPSBmbigpOwogICAgICAgIGlmIChyZXN1bHQgIT09IF8ubm9uZSkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChoYW5kbGUpOwogICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgIH0KICAgICAgfSwgbXNJbnRlcnZhbCk7CiAgICB9KTsKICB9OwogIGZ1bmN0aW9uIGxvZyAobWV0aG9kLCBhcmdzKSB7CiAgICBpZiAoXy5fcXVpZXQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpOwogICAgaWYgKF8uaXNTdHJpbmcoYXJnc1swXSkpIHsKICAgICAgYXJnc1swXSA9ICdBZHNCeXBhc3NlcjogJyArIGFyZ3NbMF07CiAgICB9IGVsc2UgewogICAgICBhcmdzLnVuc2hpZnQoJ0Fkc0J5cGFzc2VyOicpOwogICAgfQogICAgdmFyIGYgPSBjb25zb2xlW21ldGhvZF07CiAgICBpZiAodHlwZW9mIGYgPT09ICdmdW5jdGlvbicpIHsKICAgICAgZi5hcHBseShjb25zb2xlLCBhcmdzKTsKICAgIH0KICB9CiAgXy5fcXVpZXQgPSBmYWxzZTsKICBfLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICBsb2coJ2luZm8nLCBhcmd1bWVudHMpOwogIH07CiAgXy53YXJuID0gZnVuY3Rpb24gKCkgewogICAgbG9nKCd3YXJuJywgYXJndW1lbnRzKTsKICB9OwogIHJldHVybiBfOwp9KSk7CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICAgIHZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIGNvcmUpOwogICAgfTsKICB9IGVsc2UgewogICAgY29udGV4dC4kID0gZmFjdG9yeShjb250ZXh0LCBjb250ZXh0Ll8pOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoY29udGV4dCwgXykgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciBEb21Ob3RGb3VuZEVycm9yID0gXy5BZHNCeXBhc3NlckVycm9yLmV4dGVuZCh7CiAgICBuYW1lOiAnRG9tTm90Rm91bmRFcnJvcicsCiAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIERvbU5vdEZvdW5kRXJyb3Iuc3VwZXIuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBfLlQoJ2B7MH1gIG5vdCBmb3VuZCcpKHNlbGVjdG9yKSk7CiAgICB9LAogIH0pOwogIHZhciAkID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7CiAgICBpZiAoIWNvbnRleHQgfHwgIWNvbnRleHQucXVlcnlTZWxlY3RvcikgewogICAgICBjb250ZXh0ID0gZG9jdW1lbnQ7CiAgICB9CiAgICB2YXIgbiA9IGNvbnRleHQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBpZiAoIW4pIHsKICAgICAgdGhyb3cgbmV3IERvbU5vdEZvdW5kRXJyb3Ioc2VsZWN0b3IpOwogICAgfQogICAgcmV0dXJuIG47CiAgfTsKICAkLiQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiAkKHNlbGVjdG9yLCBjb250ZXh0KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKICAkLiQkID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7CiAgICBpZiAoIWNvbnRleHQgfHwgIWNvbnRleHQucXVlcnlTZWxlY3RvckFsbCkgewogICAgICBjb250ZXh0ID0gZG9jdW1lbnQ7CiAgICB9CiAgICB2YXIgbnMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgcmV0dXJuIF8uQyhucyk7CiAgfTsKICAkLnRvRE9NID0gZnVuY3Rpb24ocmF3SFRNTCkgewogICAgdHJ5IHsKICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgdmFyIERPTUhUTUwgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJhd0hUTUwsICJ0ZXh0L2h0bWwiKTsKICAgICAgcmV0dXJuIERPTUhUTUw7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ2NvdWxkIG5vdCBwYXJzZSBIVE1MIHRvIERPTScpOwogICAgfQogIH07CiAgJC5yZW1vdmVOb2RlcyA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkgewogICAgJC4kJChzZWxlY3RvciwgY29udGV4dCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7CiAgICB9KTsKICB9OwogIGZ1bmN0aW9uIHNlYXJjaFNjcmlwdHNCeVJlZ0V4cCAocGF0dGVybiwgY29udGV4dCkgewogICAgdmFyIG0gPSAkLiQkKCdzY3JpcHQnLCBjb250ZXh0KS5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgIHZhciBtID0gcy5pbm5lckhUTUwubWF0Y2gocGF0dGVybik7CiAgICAgIGlmICghbSkgewogICAgICAgIHJldHVybiBfLm5vbmU7CiAgICAgIH0KICAgICAgcmV0dXJuIG07CiAgICB9KTsKICAgIGlmICghbSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiBtLnBheWxvYWQ7CiAgfQogIGZ1bmN0aW9uIHNlYXJjaFNjcmlwdHNCeVN0cmluZyAocGF0dGVybiwgY29udGV4dCkgewogICAgdmFyIG0gPSAkLiQkKCdzY3JpcHQnLCBjb250ZXh0KS5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgIHZhciBtID0gcy5pbm5lckhUTUwuaW5kZXhPZihwYXR0ZXJuKTsKICAgICAgaWYgKG0gPCAwKSB7CiAgICAgICAgcmV0dXJuIF8ubm9uZTsKICAgICAgfQogICAgICByZXR1cm4gbTsKICAgIH0pOwogICAgaWYgKCFtKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgcmV0dXJuIG0udmFsdWUuaW5uZXJIVE1MOwogIH0KICAkLnNlYXJjaFNjcmlwdHMgPSBmdW5jdGlvbiAocGF0dGVybiwgY29udGV4dCkgewogICAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgcmV0dXJuIHNlYXJjaFNjcmlwdHNCeVJlZ0V4cChwYXR0ZXJuLCBjb250ZXh0KTsKICAgIH0gZWxzZSBpZiAoXy5pc1N0cmluZyhwYXR0ZXJuKSkgewogICAgICByZXR1cm4gc2VhcmNoU2NyaXB0c0J5U3RyaW5nKHBhdHRlcm4sIGNvbnRleHQpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKICByZXR1cm4gJDsKfSkpOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCwgR00pIHsKICAgICAgdmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUuanMnKTsKICAgICAgcmV0dXJuIGZhY3RvcnkoY29udGV4dCwgR00sIGNvcmUpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCB7CiAgICAgIHhtbGh0dHBSZXF1ZXN0OiBHTV94bWxodHRwUmVxdWVzdCwKICAgIH0sIGNvbnRleHQuXyk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBHTSwgXykgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciAkID0gY29udGV4dC4kIHx8IHt9OwogIGZ1bmN0aW9uIGRlZXBKb2luIChwcmVmaXgsIG9iamVjdCkgewogICAgcmV0dXJuIF8uQyhvYmplY3QpLm1hcChmdW5jdGlvbiAodiwgaykgewogICAgICB2YXIga2V5ID0gXy5UKCd7MH1bezF9XScpKHByZWZpeCwgayk7CiAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gZGVlcEpvaW4oa2V5LCB2KTsKICAgICAgfQogICAgICByZXR1cm4gXy5UKCd7MH09ezF9JykuYXBwbHkodGhpcywgW2tleSwgdl0ubWFwKGVuY29kZVVSSUNvbXBvbmVudCkpOwogICAgfSkuam9pbignJicpOwogIH0KICBmdW5jdGlvbiB0b1F1ZXJ5IChkYXRhKSB7CiAgICB2YXIgdHlwZSA9IHR5cGVvZiBkYXRhOwogICAgaWYgKGRhdGEgPT09IG51bGwgfHwgKHR5cGUgIT09ICdzdHJpbmcnICYmIHR5cGUgIT09ICdvYmplY3QnKSkgewogICAgICByZXR1cm4gJyc7CiAgICB9CiAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpOwogICAgfQogICAgcmV0dXJuIF8uQyhkYXRhKS5tYXAoZnVuY3Rpb24gKHYsIGspIHsKICAgICAgaWYgKHR5cGVvZiB2ID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBkZWVwSm9pbihrLCB2KTsKICAgICAgfQogICAgICByZXR1cm4gXy5UKCd7MH09ezF9JykuYXBwbHkodGhpcywgW2ssIHZdLm1hcChlbmNvZGVVUklDb21wb25lbnQpKTsKICAgIH0pLmpvaW4oJyYnKTsKICB9CiAgZnVuY3Rpb24gYWpheCAobWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMpIHsKICAgIHZhciBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgbC5ocmVmID0gdXJsOwogICAgdmFyIHJlcUhvc3QgPSBsLmhvc3RuYW1lOwogICAgdmFyIG92ZXJyaWRlSGVhZGVycyA9IHsKICAgICAgSG9zdDogcmVxSG9zdCB8fCB3aW5kb3cubG9jYXRpb24uaG9zdCwKICAgICAgT3JpZ2luOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luLAogICAgICBSZWZlcmVyOiB3aW5kb3cubG9jYXRpb24uaHJlZiwKICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLAogICAgfTsKICAgIF8uQyhvdmVycmlkZUhlYWRlcnMpLmVhY2goZnVuY3Rpb24gKHYsIGssIGMpIHsKICAgICAgaWYgKGhlYWRlcnNba10gPT09IF8ubm9uZSkgewogICAgICAgIGRlbGV0ZSBoZWFkZXJzW2tdOwogICAgICB9IGVsc2UgewogICAgICAgIGhlYWRlcnNba10gPSB2OwogICAgICB9CiAgICB9KTsKICAgIGlmIChkYXRhKSB7CiAgICAgIGlmIChoZWFkZXJzWydDb250ZW50LVR5cGUnXS5pbmRleE9mKCdqc29uJykgPj0gMCkgewogICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhID0gdG9RdWVyeShkYXRhKTsKICAgICAgfQogICAgICBoZWFkZXJzWydDb250ZW50LUxlbmd0aCddID0gZGF0YS5sZW5ndGg7CiAgICB9CiAgICB2YXIgeGhyID0gbnVsbDsKICAgIHZhciBwcm9taXNlID0gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgeGhyID0gR00ueG1saHR0cFJlcXVlc3QoewogICAgICAgIG1ldGhvZDogbWV0aG9kLAogICAgICAgIHVybDogdXJsLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVzcG9uc2UgPSAodHlwZW9mIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCAhPT0gJ3VuZGVmaW5lZCcpID8gcmVzcG9uc2UgOiB0aGlzOwogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgIHJlamVjdChyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXNwb25zZSA9ICh0eXBlb2YgcmVzcG9uc2UucmVzcG9uc2VUZXh0ICE9PSAndW5kZWZpbmVkJykgPyByZXNwb25zZSA6IHRoaXM7CiAgICAgICAgICByZWplY3QocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICB9LAogICAgICB9KTsKICAgIH0pOwogICAgcHJvbWlzZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHsKICAgICAgeGhyLmFib3J0KCk7CiAgICB9OwogICAgcmV0dXJuIHByb21pc2U7CiAgfQogICQuZ2V0ID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgaGVhZGVycykgewogICAgZGF0YSA9IHRvUXVlcnkoZGF0YSk7CiAgICBkYXRhID0gZGF0YSA/ICc/JyArIGRhdGEgOiAnJzsKICAgIGhlYWRlcnMgPSBoZWFkZXJzIHx8IHt9OwogICAgcmV0dXJuIGFqYXgoJ0dFVCcsIHVybCArIGRhdGEsICcnLCBoZWFkZXJzKTsKICB9OwogICQucG9zdCA9IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGhlYWRlcnMpIHsKICAgIHZhciBoID0gewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsCiAgICB9OwogICAgaWYgKGhlYWRlcnMpIHsKICAgICAgXy5DKGhlYWRlcnMpLmVhY2goZnVuY3Rpb24gKHYsIGspIHsKICAgICAgICBoW2tdID0gdjsKICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gYWpheCgnUE9TVCcsIHVybCwgZGF0YSwgaCk7CiAgfTsKICByZXR1cm4gJDsKfSkpOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCkgewogICAgICB2YXIgY29yZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpOwogICAgICByZXR1cm4gZmFjdG9yeShjb250ZXh0LCBjb3JlKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIGZhY3RvcnkoY29udGV4dCwgY29udGV4dC5fKTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKGNvbnRleHQsIF8pIHsKICAndXNlIHN0cmljdCc7CiAgdmFyIHdpbmRvdyA9IGNvbnRleHQud2luZG93OwogIHZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDsKICB2YXIgJCA9IGNvbnRleHQuJCB8fCB7fTsKICAkLnNldENvb2tpZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7CiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgIG5vdy5zZXRUaW1lKG5vdy5nZXRUaW1lKCkgKyAzNjAwICogMTAwMCk7CiAgICB2YXIgdHBsID0gXy5UKCd7MH09ezF9O3BhdGg9ezJ9OycpOwogICAgZG9jdW1lbnQuY29va2llID0gdHBsKGtleSwgdmFsdWUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgbm93LnRvVVRDU3RyaW5nKCkpOwogIH07CiAgJC5nZXRDb29raWUgPSBmdW5jdGlvbiAoa2V5KSB7CiAgICB2YXIgYyA9IF8uQyhkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKSkuZmluZChmdW5jdGlvbiAodikgewogICAgICB2YXIgayA9IHYucmVwbGFjZSgvXlxzKihbYS16QS1aMC05LV9dKyk9LiskLywgJyQxJyk7CiAgICAgIGlmIChrICE9PSBrZXkpIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICB9KTsKICAgIGlmICghYykgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGMgPSBjLnZhbHVlLnJlcGxhY2UoL15ccypbYS16QS1aMC05LV9dKz0oW147XSspLj8kLywgJyQxJyk7CiAgICBpZiAoIWMpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICByZXR1cm4gYzsKICB9OwogICQucmVzZXRDb29raWVzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSBkb2N1bWVudC5kb21haW47CiAgICB2YXIgYiA9IGRvY3VtZW50LmRvbWFpbi5yZXBsYWNlKC9ed3d3XC4vLCAnJyk7CiAgICB2YXIgYyA9IGRvY3VtZW50LmRvbWFpbi5yZXBsYWNlKC9eKFx3K1wuKSs/KFx3K1wuXHcrKSQvLCAnJDInKTsKICAgIHZhciBkID0gKG5ldyBEYXRlKDFlMykpLnRvVVRDU3RyaW5nKCk7CiAgICBfLkMoZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykpLmVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgdmFyIGsgPSB2LnJlcGxhY2UoL15ccyooXHcrKT0uKyQvLCAnJDEnKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gXy5UKCd7MH09O2V4cGlyZXM9ezF9OycpKGssIGQpOwogICAgICBkb2N1bWVudC5jb29raWUgPSBfLlQoJ3swfT07cGF0aD0vO2V4cGlyZXM9ezF9OycpKGssIGQpOwogICAgICB2YXIgZSA9IF8uVCgnezB9PTtwYXRoPS87ZG9tYWluPXsxfTtleHBpcmVzPXsyfTsnKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gZShrLCBhLCBkKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gZShrLCBiLCBkKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gZShrLCBjLCBkKTsKICAgIH0pOwogIH07CiAgcmV0dXJuICQ7Cn0pKTsKKGZ1bmN0aW9uIChjb250ZXh0LCBmYWN0b3J5KSB7CiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbnRleHQpIHsKICAgICAgdmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUuanMnKTsKICAgICAgcmV0dXJuIGZhY3RvcnkoY29udGV4dCwgY29yZSk7CiAgICB9OwogIH0gZWxzZSB7CiAgICBmYWN0b3J5KGNvbnRleHQsIGNvbnRleHQuXyk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBfKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICB2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7CiAgdmFyICQgPSBjb250ZXh0LiQgfHwge307CiAgdmFyIHBhdHRlcm5zID0gW107CiAgJC5yZWdpc3RlciA9IGZ1bmN0aW9uIChwYXR0ZXJuKSB7CiAgICBwYXR0ZXJucy5wdXNoKHBhdHRlcm4pOwogIH07CiAgZnVuY3Rpb24gZGlzcGF0Y2hCeU9iamVjdCAocnVsZSwgdXJsXzYpIHsKICAgIHZhciBtYXRjaGVkID0ge307CiAgICB2YXIgcGFzc2VkID0gXy5DKHJ1bGUpLmFsbChmdW5jdGlvbiAocGF0dGVybiwgcGFydCkgewogICAgICBpZiAocGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICAgIG1hdGNoZWRbcGFydF0gPSB1cmxfNltwYXJ0XS5tYXRjaChwYXR0ZXJuKTsKICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICB2YXIgciA9IF8uQyhwYXR0ZXJuKS5maW5kKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICB2YXIgbSA9IHVybF82W3BhcnRdLm1hdGNoKHApOwogICAgICAgICAgcmV0dXJuIG0gfHwgXy5ub25lOwogICAgICAgIH0pOwogICAgICAgIG1hdGNoZWRbcGFydF0gPSByID8gci5wYXlsb2FkIDogbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gISFtYXRjaGVkW3BhcnRdOwogICAgfSk7CiAgICByZXR1cm4gcGFzc2VkID8gbWF0Y2hlZCA6IG51bGw7CiAgfQogIGZ1bmN0aW9uIGRpc3BhdGNoQnlSZWdFeHAgKHJ1bGUsIHVybF8xKSB7CiAgICByZXR1cm4gdXJsXzEubWF0Y2gocnVsZSk7CiAgfQogIGZ1bmN0aW9uIGRpc3BhdGNoQnlBcnJheSAocnVsZXMsIHVybF8xLCB1cmxfMywgdXJsXzYpIHsKICAgIHZhciB0bXAgPSBfLkMocnVsZXMpLmZpbmQoZnVuY3Rpb24gKHJ1bGUpIHsKICAgICAgdmFyIG0gPSBkaXNwYXRjaChydWxlLCB1cmxfMSwgdXJsXzMsIHVybF82KTsKICAgICAgaWYgKCFtKSB7CiAgICAgICAgcmV0dXJuIF8ubm9uZTsKICAgICAgfQogICAgICByZXR1cm4gbTsKICAgIH0pOwogICAgcmV0dXJuIHRtcCA/IHRtcC5wYXlsb2FkIDogbnVsbDsKICB9CiAgZnVuY3Rpb24gZGlzcGF0Y2hCeVN0cmluZyAocnVsZSwgdXJsXzMpIHsKICAgIHZhciBzY2hlbWUgPSAvXCp8aHR0cHM/fGZpbGV8ZnRwfGNocm9tZS1leHRlbnNpb24vOwogICAgdmFyIGhvc3QgPSAvXCp8KFwqXC4pPyhbXlwvKl0rKS87CiAgICB2YXIgcGF0aCA9IC9cLy4qLzsKICAgIHZhciB1cCA9IG5ldyBSZWdFeHAoXy5UKCdeKHtzY2hlbWV9KTovLyh7aG9zdH0pPyh7cGF0aH0pJCcpKHsKICAgICAgc2NoZW1lOiBzY2hlbWUuc291cmNlLAogICAgICBob3N0OiBob3N0LnNvdXJjZSwKICAgICAgcGF0aDogcGF0aC5zb3VyY2UsCiAgICB9KSk7CiAgICB2YXIgbWF0Y2hlZCA9IHJ1bGUubWF0Y2godXApOwogICAgaWYgKCFtYXRjaGVkKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgc2NoZW1lID0gbWF0Y2hlZFsxXTsKICAgIGhvc3QgPSBtYXRjaGVkWzJdOwogICAgdmFyIHdjID0gbWF0Y2hlZFszXTsKICAgIHZhciBzZCA9IG1hdGNoZWRbNF07CiAgICBwYXRoID0gbWF0Y2hlZFs1XTsKICAgIGlmIChzY2hlbWUgPT09ICcqJyAmJiAhL2h0dHBzPy8udGVzdCh1cmxfMy5zY2hlbWUpKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfSBlbHNlIGlmIChzY2hlbWUgIT09IHVybF8zLnNjaGVtZSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGlmIChzY2hlbWUgIT09ICdmaWxlJyAmJiBob3N0ICE9PSAnKicpIHsKICAgICAgaWYgKHdjKSB7CiAgICAgICAgdXAgPSB1cmxfMy5ob3N0LmluZGV4T2Yoc2QpOwogICAgICAgIGlmICh1cCA8IDAgfHwgdXAgKyBzZC5sZW5ndGggIT09IHVybF8zLmhvc3QubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaG9zdCAhPT0gdXJsXzMuaG9zdCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9CiAgICBwYXRoID0gbmV3IFJlZ0V4cChfLlQoJ157MH0kJykocGF0aC5yZXBsYWNlKC9bKi5cW1xdPysjXS9nLCBmdW5jdGlvbiAoYykgewogICAgICBpZiAoYyA9PT0gJyonKSB7CiAgICAgICAgcmV0dXJuICcuKic7CiAgICAgIH0KICAgICAgcmV0dXJuICdcXCcgKyBjOwogICAgfSkpKTsKICAgIGlmICghcGF0aC50ZXN0KHVybF8zLnBhdGgpKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgcmV0dXJuIHVybF8zOwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaEJ5RnVuY3Rpb24gKHJ1bGUsIHVybF8xLCB1cmxfMywgdXJsXzYpIHsKICAgIHJldHVybiBydWxlKHVybF8xLCB1cmxfMywgdXJsXzYpOwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaCAocnVsZSwgdXJsXzEsIHVybF8zLCB1cmxfNikgewogICAgaWYgKHJ1bGUgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICByZXR1cm4gZGlzcGF0Y2hCeUFycmF5KHJ1bGUsIHVybF8xLCB1cmxfMywgdXJsXzYpOwogICAgfQogICAgaWYgKHR5cGVvZiBydWxlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaEJ5RnVuY3Rpb24ocnVsZSwgdXJsXzEsIHVybF8zLCB1cmxfNik7CiAgICB9CiAgICBpZiAocnVsZSBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICByZXR1cm4gZGlzcGF0Y2hCeVJlZ0V4cChydWxlLCB1cmxfMSk7CiAgICB9CiAgICBpZiAoXy5pc1N0cmluZyhydWxlKSkgewogICAgICByZXR1cm4gZGlzcGF0Y2hCeVN0cmluZyhydWxlLCB1cmxfMyk7CiAgICB9CiAgICByZXR1cm4gZGlzcGF0Y2hCeU9iamVjdChydWxlLCB1cmxfNik7CiAgfQogICQuX2ZpbmRIYW5kbGVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHVybF8xID0gd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCk7CiAgICB2YXIgdXJsXzMgPSB7CiAgICAgIHNjaGVtZTogd2luZG93LmxvY2F0aW9uLnByb3RvY29sLnNsaWNlKDAsIC0xKSwKICAgICAgaG9zdDogd2luZG93LmxvY2F0aW9uLmhvc3QsCiAgICAgIHBhdGg6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyB3aW5kb3cubG9jYXRpb24uaGFzaCwKICAgIH07CiAgICB2YXIgdXJsXzYgPSB7CiAgICAgIHNjaGVtZTogd2luZG93LmxvY2F0aW9uLnByb3RvY29sLAogICAgICBob3N0OiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsCiAgICAgIHBvcnQ6IHdpbmRvdy5sb2NhdGlvbi5wb3J0LAogICAgICBwYXRoOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsCiAgICAgIHF1ZXJ5OiB3aW5kb3cubG9jYXRpb24uc2VhcmNoLAogICAgICBoYXNoOiB3aW5kb3cubG9jYXRpb24uaGFzaCwKICAgIH07CiAgICB2YXIgcGF0dGVybiA9IF8uQyhwYXR0ZXJucykuZmluZChmdW5jdGlvbiAocGF0dGVybikgewogICAgICB2YXIgbSA9IGRpc3BhdGNoKHBhdHRlcm4ucnVsZSwgdXJsXzEsIHVybF8zLCB1cmxfNik7CiAgICAgIGlmICghbSkgewogICAgICAgIHJldHVybiBfLm5vbmU7CiAgICAgIH0KICAgICAgcmV0dXJuIG07CiAgICB9KTsKICAgIGlmICghcGF0dGVybikgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHZhciBtYXRjaGVkID0gcGF0dGVybi5wYXlsb2FkOwogICAgcGF0dGVybiA9IHBhdHRlcm4udmFsdWU7CiAgICBpZiAoIXBhdHRlcm4uc3RhcnQgJiYgIXBhdHRlcm4ucmVhZHkpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICByZXR1cm4gewogICAgICBzdGFydDogcGF0dGVybi5zdGFydCA/IF8uUChwYXR0ZXJuLnN0YXJ0LCBtYXRjaGVkKSA6IF8ubm9wLAogICAgICByZWFkeTogcGF0dGVybi5yZWFkeSA/IF8uUChwYXR0ZXJuLnJlYWR5LCBtYXRjaGVkKSA6IF8ubm9wLAogICAgfTsKICB9OwogIHJldHVybiAkOwp9KSk7CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICAgIHZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIGNvcmUpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCBjb250ZXh0Ll8pOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoY29udGV4dCwgXykgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciAkID0gY29udGV4dC4kIHx8IHt9OwogIGZ1bmN0aW9uIHByZXBhcmUgKGUpIHsKICAgIGlmICghZG9jdW1lbnQuYm9keSkgewogICAgICBkb2N1bWVudC5ib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpOwogICAgfQogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKTsKICAgIHJldHVybiBfLndhaXQoMCk7CiAgfQogIGZ1bmN0aW9uIGdldCAodXJsKSB7CiAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIGEuaHJlZiA9IHVybDsKICAgIHZhciBjbGlja2VkID0gZmFsc2U7CiAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICBjbGlja2VkID0gdHJ1ZTsKICAgIH0pOwogICAgcHJlcGFyZShhKS50aGVuKCgpID0+IHsKICAgICAgYS5jbGljaygpOwogICAgICB2YXIgdGljayA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY2xpY2tlZCkgewogICAgICAgICAgXy5pbmZvKCdhbHJlYWR5IGNsaWNrZWQnKTsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGljayk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIF8uaW5mbygndHJ5IGFnYWluJyk7CiAgICAgICAgYS5jbGljaygpOwogICAgICB9LCA1MCk7CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcG9zdCAocGF0aCwgcGFyYW1zKSB7CiAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307CiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTsKICAgIGZvcm0ubWV0aG9kID0gJ3Bvc3QnOwogICAgZm9ybS5hY3Rpb24gPSBwYXRoOwogICAgXy5DKHBhcmFtcykuZWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgaW5wdXQudHlwZSA9ICdoaWRkZW4nOwogICAgICAgIGlucHV0Lm5hbWUgPSBrZXk7CiAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZTsKICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTsKICAgIH0pOwogICAgcHJlcGFyZShmb3JtKTsKICAgIGZvcm0uc3VibWl0KCk7CiAgfQogICQub3BlbkxpbmsgPSBmdW5jdGlvbiAodG8sIG9wdGlvbnMpIHsKICAgIGlmICghXy5pc1N0cmluZyh0bykgJiYgIXRvKSB7CiAgICAgIF8ud2FybignZmFsc2UgVVJMJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgdmFyIHdpdGhSZWZlcmVyID0gdHlwZW9mIG9wdGlvbnMucmVmZXJlciA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5yZWZlcmVyOwogICAgdmFyIHBvc3REYXRhID0gb3B0aW9ucy5wb3N0OwogICAgdmFyIGZyb20gPSB3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKTsKICAgIF8uaW5mbyhfLlQoJ3swfSAtPiB7MX0nKShmcm9tLCB0bykpOwogICAgaWYgKHBvc3REYXRhKSB7CiAgICAgIHBvc3QodG8sIHBvc3REYXRhKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKHdpdGhSZWZlcmVyKSB7CiAgICAgIGdldCh0byk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHdpbmRvdy50b3AubG9jYXRpb24ucmVwbGFjZSh0byk7CiAgfTsKICByZXR1cm4gJDsKfSkpOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCkgewogICAgICB2YXIgY29yZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpOwogICAgICB2YXIgYWpheCA9IHJlcXVpcmUoJy4vYWpheC5qcycpOwogICAgICB2YXIgJCA9IGFqYXgoY29udGV4dCk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIGNvcmUsICQpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCBjb250ZXh0Ll8sIGNvbnRleHQuJCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBfLCAkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICB2YXIgdW5zYWZlV2luZG93ID0gY29udGV4dC51bnNhZmVXaW5kb3cgfHwgKDAsIGV2YWwpKCd0aGlzJykud2luZG93OwogIHZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDsKICAkLnJlbW92ZUFsbFRpbWVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGhhbmRsZSA9IHdpbmRvdy5zZXRJbnRlcnZhbChfLm5vcCwgMTApOwogICAgd2hpbGUgKGhhbmRsZSA+IDApIHsKICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaGFuZGxlLS0pOwogICAgfQogICAgaGFuZGxlID0gd2luZG93LnNldFRpbWVvdXQoXy5ub3AsIDEwKTsKICAgIHdoaWxlIChoYW5kbGUgPiAwKSB7CiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGFuZGxlLS0pOwogICAgfQogIH07CiAgJC5udWtlID0gZnVuY3Rpb24gKHVybCkgewogICAgdHJ5IHsKICAgICAgJC53aW5kb3cuZG9jdW1lbnQud3JpdGUoJ251a2VkIGJ5IEFkc0J5cGFzc2VyLCBsZWFkaW5nIHRvIC4uLjxici8+Jyk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIF8ud2FybignbnVrZSBmYWlsZWQnLCBlKTsKICAgIH0KICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgYS5ocmVmID0gdXJsOwogICAgYS50ZXh0Q29udGVudCA9IHVybDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgfTsKICAkLmdlbmVyYXRlUmFuZG9tSVAgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gWzAsMCwwLDBdLm1hcChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpOwogICAgfSkuam9pbignLicpOwogIH07CiAgJC5jYXB0Y2hhID0gZnVuY3Rpb24gKGltZ1NyYywgY2IpIHsKICAgIGlmICghJC5jb25maWcuZXh0ZXJuYWxTZXJ2ZXJTdXBwb3J0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICB2YXIgYiA9IGEuZ2V0Q29udGV4dCgnMmQnKTsKICAgIHZhciBjID0gbmV3IEltYWdlKCk7CiAgICBjLnNyYyA9IGltZ1NyYzsKICAgIGMub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICBhLndpZHRoID0gYy53aWR0aDsKICAgICAgYS5oZWlnaHQgPSBjLmhlaWdodDsKICAgICAgYi5kcmF3SW1hZ2UoYywgMCwgMCk7CiAgICAgIHZhciBkID0gYS50b0RhdGFVUkwoKTsKICAgICAgdmFyIGUgPSBkLnN1YnN0cihkLmluZGV4T2YoJywnKSArIDEpOwogICAgICAkLnBvc3QoJ2h0dHA6Ly93d3cud2NwYW4uaW5mby9jZ2ktYmluL2NhcHRjaGEuY2dpJywgewogICAgICAgIGk6IGUsCiAgICAgIH0sIGNiKTsKICAgIH07CiAgfTsKICBmdW5jdGlvbiBjbG9uZSAoc2FmZSkgewogICAgaWYgKHNhZmUgPT09IG51bGwgfHwgIShzYWZlIGluc3RhbmNlb2YgT2JqZWN0KSkgewogICAgICByZXR1cm4gc2FmZTsKICAgIH0KICAgIGlmIChzYWZlID09PSB1bnNhZmVXaW5kb3cpIHsKICAgICAgcmV0dXJuIHNhZmU7CiAgICB9CiAgICBpZiAoc2FmZSBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICByZXR1cm4gc2FmZS50b1N0cmluZygpOwogICAgfQogICAgaWYgKHNhZmUgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICByZXR1cm4gZXhwb3J0RnVuY3Rpb24oc2FmZSwgdW5zYWZlV2luZG93LCB7CiAgICAgICAgYWxsb3dDcm9zc09yaWdpbkFyZ3VtZW50czogdHJ1ZSwKICAgICAgfSk7CiAgICB9CiAgICBpZiAoc2FmZSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgIHZhciB1bnNhZmUgPSBuZXcgdW5zYWZlV2luZG93LkFycmF5KCk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FmZS5sZW5ndGg7ICsraSkgewogICAgICAgIHVuc2FmZS5wdXNoKGNsb25lKHNhZmVbaV0pKTsKICAgICAgfQogICAgICByZXR1cm4gdW5zYWZlOwogICAgfQogICAgdmFyIHVuc2FmZSA9IG5ldyB1bnNhZmVXaW5kb3cuT2JqZWN0KCk7CiAgICBfLkMoc2FmZSkuZWFjaChmdW5jdGlvbiAodiwgaykgewogICAgICB1bnNhZmVba10gPSBjbG9uZSh2KTsKICAgIH0pOwogICAgcmV0dXJuIHVuc2FmZTsKICB9CiAgdmFyIE1BR0lDX0tFWSA9ICdfX2Fkc2J5cGFzc2VyX3JldmVyc2VfcHJveHlfXyc7CiAgJC53aW5kb3cgPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIGlzRmlyZWZveCA9IHR5cGVvZiBJbnN0YWxsVHJpZ2dlciAhPT0gJ3VuZGVmaW5lZCc7CiAgICBpZiAoIWlzRmlyZWZveCkgewogICAgICByZXR1cm4gdW5zYWZlV2luZG93OwogICAgfQogICAgdmFyIGRlY29yYXRvciA9IHsKICAgICAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gTUFHSUNfS0VZKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmICh0YXJnZXQgPT09IHVuc2FmZVdpbmRvdyAmJiBrZXkgPT09ICdvcGVuJykgewogICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KTsKICAgICAgICAgIGQudmFsdWUgPSBjbG9uZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBydiA9IHZhbHVlKCk7CiAgICAgICAgICAgIHJldHVybiBjbG9uZUludG8ocnYsIHVuc2FmZVdpbmRvdyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRhcmdldFtrZXldID0gY2xvbmUodmFsdWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSwKICAgICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsKICAgICAgICBpZiAoa2V5ID09PSBNQUdJQ19LRVkpIHsKICAgICAgICAgIHJldHVybiB0YXJnZXQ7CiAgICAgICAgfQogICAgICAgIHZhciB2YWx1ZSA9IHRhcmdldFtrZXldOwogICAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlOwogICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCAodHlwZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICE9PSAnb2JqZWN0JykpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgZGVjb3JhdG9yKTsKICAgICAgfSwKICAgICAgYXBwbHk6IGZ1bmN0aW9uICh0YXJnZXQsIHNlbGYsIGFyZ3MpIHsKICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5zYWZlV2luZG93Lk9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgewogICAgICAgICAgYXJnc1swXSA9IGFyZ3NbMF1bTUFHSUNfS0VZXTsKICAgICAgICB9CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5zYWZlV2luZG93LkZ1bmN0aW9uLmFwcGx5KSB7CiAgICAgICAgICBzZWxmID0gc2VsZltNQUdJQ19LRVldOwogICAgICAgICAgYXJnc1sxXSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3NbMV0pOwogICAgICAgIH0KICAgICAgICBpZiAodGFyZ2V0ID09PSB1bnNhZmVXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcikgewogICAgICAgICAgc2VsZiA9IHNlbGZbTUFHSUNfS0VZXTsKICAgICAgICB9CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5zYWZlV2luZG93LmRvY3VtZW50LndyaXRlKSB7CiAgICAgICAgICBzZWxmID0gc2VsZltNQUdJQ19LRVldOwogICAgICAgIH0KICAgICAgICB2YXIgdXNhcmdzID0gY2xvbmUoYXJncyk7CiAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseShzZWxmLCB1c2FyZ3MpOwogICAgICB9LAogICAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uICh0YXJnZXQsIGFyZ3MpIHsKICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7CiAgICAgICAgYXJncy51bnNoaWZ0KHVuZGVmaW5lZCk7CiAgICAgICAgdmFyIHVzYXJncyA9IGNsb25lKGFyZ3MpOwogICAgICAgIHZhciBiaW5kID0gdW5zYWZlV2luZG93LkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kOwogICAgICAgIHJldHVybiBuZXcgKGJpbmQuYXBwbHkodGFyZ2V0LCB1c2FyZ3MpKTsKICAgICAgfSwKICAgIH07CiAgICByZXR1cm4gbmV3IFByb3h5KHVuc2FmZVdpbmRvdywgZGVjb3JhdG9yKTsKICB9KSgpOwogIHJldHVybiAkOwp9KSk7CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZXh0LCBHTSkgewogICAgICB2YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpOwogICAgICB2YXIgY29yZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpOwogICAgICB2YXIgbWlzYyA9IHJlcXVpcmUoJy4vbWlzYy5qcycpOwogICAgICB2YXIgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hlci5qcycpOwogICAgICB2YXIgbW9kdWxlcyA9IFttaXNjLCBkaXNwYXRjaGVyXS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdi5jYWxsKG51bGwsIGNvbnRleHQsIEdNKTsKICAgICAgfSk7CiAgICAgIHZhciAkID0gXy5hc3NpZ24uYXBwbHkobnVsbCwgbW9kdWxlcyk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIEdNLCBjb3JlLCAkKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIGZhY3RvcnkoY29udGV4dCwgewogICAgICBnZXRWYWx1ZTogR01fZ2V0VmFsdWUsCiAgICAgIHNldFZhbHVlOiBHTV9zZXRWYWx1ZSwKICAgIH0sIGNvbnRleHQuXywgY29udGV4dC4kKTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKGNvbnRleHQsIEdNLCBfLCAkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBNQU5JRkVTVCA9IFsKICAgIHsKICAgICAgbmFtZTogJ3ZlcnNpb24nLAogICAgICBrZXk6ICd2ZXJzaW9uJywKICAgICAgZGVmYXVsdF86IDAsCiAgICAgIHZlcmlmeTogZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdudW1iZXInICYmIHYgPj0gMDsKICAgICAgfSwKICAgICAgbm9ybWFsaXplOiB0b051bWJlciwKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICdhbGlnbkNlbnRlcicsCiAgICAgIGtleTogJ2FsaWduX2NlbnRlcicsCiAgICAgIGRlZmF1bHRfOiB0cnVlLAogICAgICB2ZXJpZnk6IGlzQm9vbGVhbiwKICAgICAgbm9ybWFsaXplOiB0b0Jvb2xlYW4sCiAgICB9LAogICAgewogICAgICBuYW1lOiAnY2hhbmdlQmFja2dyb3VuZCcsCiAgICAgIGtleTogJ2NoYW5nZV9iYWNrZ3JvdW5kJywKICAgICAgZGVmYXVsdF86IHRydWUsCiAgICAgIHZlcmlmeTogaXNCb29sZWFuLAogICAgICBub3JtYWxpemU6IHRvQm9vbGVhbiwKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICdleHRlcm5hbFNlcnZlclN1cHBvcnQnLAogICAgICBrZXk6ICdleHRlcm5hbF9zZXJ2ZXJfc3VwcG9ydCcsCiAgICAgIGRlZmF1bHRfOiBmYWxzZSwKICAgICAgdmVyaWZ5OiBpc0Jvb2xlYW4sCiAgICAgIG5vcm1hbGl6ZTogdG9Cb29sZWFuLAogICAgfSwKICAgIHsKICAgICAgbmFtZTogJ3JlZGlyZWN0SW1hZ2UnLAogICAgICBrZXk6ICdyZWRpcmVjdF9pbWFnZScsCiAgICAgIGRlZmF1bHRfOiB0cnVlLAogICAgICB2ZXJpZnk6IGlzQm9vbGVhbiwKICAgICAgbm9ybWFsaXplOiB0b0Jvb2xlYW4sCiAgICB9LAogICAgewogICAgICBuYW1lOiAnc2NhbGVJbWFnZScsCiAgICAgIGtleTogJ3NjYWxlX2ltYWdlJywKICAgICAgZGVmYXVsdF86IHRydWUsCiAgICAgIHZlcmlmeTogaXNCb29sZWFuLAogICAgICBub3JtYWxpemU6IHRvQm9vbGVhbiwKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICdsb2dMZXZlbCcsCiAgICAgIGtleTogJ2xvZ19sZXZlbCcsCiAgICAgIGRlZmF1bHRfOiAxLAogICAgICB2ZXJpZnk6IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnbnVtYmVyJyAmJiB2ID49IDAgJiYgdiA8PSAyOwogICAgICB9LAogICAgICBub3JtYWxpemU6IHRvTnVtYmVyLAogICAgfSwKICBdOwogIHZhciBQQVRDSEVTID0gWwogICAgZnVuY3Rpb24gKGMpIHsKICAgICAgdmFyIGFjID0gdHlwZW9mIGMuYWxpZ25DZW50ZXIgPT09ICdib29sZWFuJzsKICAgICAgaWYgKHR5cGVvZiBjLmNoYW5nZUJhY2tncm91bmQgIT09ICdib29sZWFuJykgewogICAgICAgIGMuY2hhbmdlQmFja2dyb3VuZCA9IGFjID8gYy5hbGlnbkNlbnRlciA6IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBjLnNjYWxlSW1hZ2UgIT09ICdib29sZWFuJykgewogICAgICAgIGMuc2NhbGVJbWFnZSA9IGFjID8gYy5hbGlnbkNlbnRlciA6IHRydWU7CiAgICAgIH0KICAgICAgaWYgKCFhYykgewogICAgICAgIGMuYWxpZ25DZW50ZXIgPSB0cnVlOwogICAgICB9CiAgICAgIGlmICh0eXBlb2YgYy5yZWRpcmVjdEltYWdlICE9PSAnYm9vbGVhbicpIHsKICAgICAgICBjLnJlZGlyZWN0SW1hZ2UgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgZnVuY3Rpb24gKGMpIHsKICAgICAgaWYgKHR5cGVvZiBjLmV4dGVybmFsU2VydmVyU3VwcG9ydCAhPT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgYy5leHRlcm5hbFNlcnZlclN1cHBvcnQgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGZ1bmN0aW9uIChjKSB7CiAgICAgIGlmICh0eXBlb2YgYy5sb2dMZXZlbCAhPT0gJ251bWJlcicpIHsKICAgICAgICBjLmxvZ0xldmVsID0gMTsKICAgICAgfQogICAgfSwKICBdOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICBmdW5jdGlvbiBpc0Jvb2xlYW4gKHYpIHsKICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nOwogIH0KICBmdW5jdGlvbiB0b0Jvb2xlYW4gKHYpIHsKICAgIHJldHVybiAhIXY7CiAgfQogIGZ1bmN0aW9uIHRvTnVtYmVyICh2KSB7CiAgICByZXR1cm4gcGFyc2VJbnQodiwgMTApOwogIH0KICBmdW5jdGlvbiBjcmVhdGVDb25maWcgKCkgewogICAgdmFyIGMgPSB7fTsKICAgIF8uQyhNQU5JRkVTVCkuZWFjaChmdW5jdGlvbiAobSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYywgbS5uYW1lLCB7CiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gR00uZ2V0VmFsdWUobS5rZXksIG0uZGVmYXVsdF8pOwogICAgICAgIH0sCiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikgewogICAgICAgICAgR00uc2V0VmFsdWUobS5rZXksIHYpOwogICAgICAgICAgdmFyIG52ID0gR00uZ2V0VmFsdWUobS5rZXksIG0uZGVmYXVsdF8pOwogICAgICAgICAgaWYgKG52ICE9PSB2KSB7CiAgICAgICAgICAgIHZhciBzID0gXy5UKCdmYWlsZWQgdG8gd3JpdGUgY29uZmlnLCBrZXk6IHswfSwgdmFsdWU6IHsxfSwgbmV3OiB7Mn0nKTsKICAgICAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcihzKHMua2V5LCBudiwgdikpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gc2VuaXR5Q2hlY2sgKGMpIHsKICAgIHZhciBvayA9IF8uQyhNQU5JRkVTVCkuYWxsKGZ1bmN0aW9uIChtKSB7CiAgICAgIHJldHVybiBtLnZlcmlmeShjW20ubmFtZV0pOwogICAgfSk7CiAgICBpZiAoIW9rKSB7CiAgICAgIGMudmVyc2lvbiA9IDA7CiAgICB9CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gbWlncmF0ZSAoYykgewogICAgaWYgKHR5cGVvZiBjLnZlcnNpb24gIT09ICdudW1iZXInIHx8IGMudmVyc2lvbiA8IDApIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignd3JvbmcgY29uZmlnIHZlcnNpb246ICcgKyBjLnZlcnNpb24pOwogICAgfQogICAgd2hpbGUgKGMudmVyc2lvbiA8IFBBVENIRVMubGVuZ3RoKSB7CiAgICAgIFBBVENIRVNbYy52ZXJzaW9uXShjKTsKICAgICAgKytjLnZlcnNpb247CiAgICB9CiAgICByZXR1cm4gYzsKICB9CiAgJC5jb25maWcgPSBtaWdyYXRlKHNlbml0eUNoZWNrKGNyZWF0ZUNvbmZpZygpKSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eYWRzYnlwYXNzZXJcLmdpdGh1YlwuaW8kLywKICAgICAgcGF0aDogL15cL2NvbmZpZ3VyZVwuaHRtbCQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICQud2luZG93LmNvbW1pdCA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgZGF0YS52ZXJzaW9uID0gJC5jb25maWcudmVyc2lvbjsKICAgICAgICBfLkMoZGF0YSkuZWFjaChmdW5jdGlvbiAodiwgaykgewogICAgICAgICAgJC5jb25maWdba10gPSB2OwogICAgICAgIH0pOwogICAgICB9OwogICAgICAkLndpbmRvdy5yZW5kZXIoewogICAgICAgIHZlcnNpb246ICQuY29uZmlnLnZlcnNpb24sCiAgICAgICAgb3B0aW9uczogewogICAgICAgICAgYWxpZ25DZW50ZXI6IHsKICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgICAgdmFsdWU6ICQuY29uZmlnLmFsaWduQ2VudGVyLAogICAgICAgICAgICBsYWJlbDogJ0FsaWduIENlbnRlcicsCiAgICAgICAgICAgIGhlbHA6ICdBbGlnbiBpbWFnZSB0byB0aGUgY2VudGVyIGlmIHBvc3NpYmxlLiAoZGVmYXVsdDogZW5hYmxlZCknLAogICAgICAgICAgfSwKICAgICAgICAgIGNoYW5nZUJhY2tncm91bmQ6IHsKICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgICAgdmFsdWU6ICQuY29uZmlnLmNoYW5nZUJhY2tncm91bmQsCiAgICAgICAgICAgIGxhYmVsOiAnQ2hhbmdlIEJhY2tncm91bmQnLAogICAgICAgICAgICBoZWxwOiAnVXNlIEZpcmVmb3gtbGlrZSBpbWFnZSBiYWNrZ3JvdW5kIGlmIHBvc3NpYmxlLiAoZGVmYXVsdDogZW5hYmxlZCknLAogICAgICAgICAgfSwKICAgICAgICAgIHJlZGlyZWN0SW1hZ2U6IHsKICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgICAgdmFsdWU6ICQuY29uZmlnLnJlZGlyZWN0SW1hZ2UsCiAgICAgICAgICAgIGxhYmVsOiAnUmVkaXJlY3QgSW1hZ2UnLAogICAgICAgICAgICBoZWxwOiBbCiAgICAgICAgICAgICAgJ0RpcmVjdGx5IG9wZW4gaW1hZ2UgbGluayBpZiBwb3NzaWJsZS4gKGRlZmF1bHQ6IGVuYWJsZWQpJywKICAgICAgICAgICAgICAnSWYgZGlzYWJsZWQsIHJlZGlyZWN0aW9uIHdpbGwgb25seSB3b3JrcyBvbiBsaW5rIHNob3J0ZW5lciBzaXRlcy4nLAogICAgICAgICAgICBdLmpvaW4oJzxici8+XG4nKSwKICAgICAgICAgIH0sCiAgICAgICAgICBzY2FsZUltYWdlOiB7CiAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsCiAgICAgICAgICAgIHZhbHVlOiAkLmNvbmZpZy5zY2FsZUltYWdlLAogICAgICAgICAgICBsYWJlbDogJ1NjYWxlIEltYWdlJywKICAgICAgICAgICAgaGVscDogJ1doZW4gaW1hZ2UgbG9hZGVkLCBzY2FsZSBpdCB0byBmaXQgd2luZG93IGlmIHBvc3NpYmxlLiAoZGVmYXVsdDogZW5hYmxlZCknLAogICAgICAgICAgfSwKICAgICAgICAgIGV4dGVybmFsU2VydmVyU3VwcG9ydDogewogICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLAogICAgICAgICAgICB2YWx1ZTogJC5jb25maWcuZXh0ZXJuYWxTZXJ2ZXJTdXBwb3J0LAogICAgICAgICAgICBsYWJlbDogJ0V4dGVybmFsIFNlcnZlciBTdXBwb3J0JywKICAgICAgICAgICAgaGVscDogWwogICAgICAgICAgICAgICdTZW5kIFVSTCBpbmZvcm1hdGlvbiB0byBleHRlcm5hbCBzZXJ2ZXIgdG8gZW5oYW5jZSBmZWF0dXJlcyAoZS5nLjogY2FwdGNoYSByZXNvbHZpbmcpLiAoZGVmYXVsdDogZGlzYWJsZWQpJywKICAgICAgICAgICAgICAnQWZmZWN0ZWQgc2l0ZXM6JywKICAgICAgICAgICAgICAnc2V0bGlua3MudXMgKGNhcHRjaGEpJywKICAgICAgICAgICAgXS5qb2luKCc8YnIvPlxuJyksCiAgICAgICAgICB9LAogICAgICAgICAgbG9nTGV2ZWw6IHsKICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICAgIHZhbHVlOiAkLmNvbmZpZy5sb2dMZXZlbCwKICAgICAgICAgICAgbWVudTogWwogICAgICAgICAgICAgIFswLCAnMCAocXVpZXQpJ10sCiAgICAgICAgICAgICAgWzEsICcxIChkZWZhdWx0KSddLAogICAgICAgICAgICAgIFsyLCAnMiAodmVyYm9zZSknXSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgbGFiZWw6ICdMb2cgTGV2ZWwnLAogICAgICAgICAgICBoZWxwOiBbCiAgICAgICAgICAgICAgJ0xvZyBsZXZlbCBpbiBkZXZlbG9wZXIgY29uc29sZS4gKGRlZmF1bHQ6IDEpJywKICAgICAgICAgICAgICAnMCB3aWxsIG5vdCBwcmludCBhbnl0aGluZyBpbiBjb25zb2xlLicsCiAgICAgICAgICAgICAgJzEgd2lsbCBvbmx5IHByaW50IGxvZ3Mgb24gYWZmZWN0ZWQgc2l0ZXMuJywKICAgICAgICAgICAgICAnMiB3aWxsIHByaW50IG9uIGFueSBzaXRlcy4nLAogICAgICAgICAgICBdLmpvaW4oJzxici8+XG4nKSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9LAogIH0pOwogIHJldHVybiAkOwp9KSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eMDFcLm5sJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCdpZnJhbWUjcmVkaXJlY3RmcmFtZScpOwogICAgJC5vcGVuTGluayhmLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eMTBjb1wuKGJpenx4eXp8Y298bWUpJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGQgPSAkKCcuZ28nKTsKICAgICQub3BlbkxpbmsoZC5kYXRhc2V0LmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/MWJlXC5iaXokLywKICAgIHBhdGg6IC9eXC9zXC5waHAkLywKICAgIHF1ZXJ5OiAvXlw/KC4rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsobS5xdWVyeVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT8xdGlueVwubmV0JC8sCiAgICBwYXRoOiAvXC9cdysvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGRpcmVjdFVybCA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5sb2NhdGlvbj0nKFteJ10rKSc7Lyk7CiAgICBpZiAoIWRpcmVjdFVybCkgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdzY3JpcHQgY29udGVudCBjaGFuZ2VkJyk7CiAgICB9CiAgICAkLm9wZW5MaW5rKGRpcmVjdFVybFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eMnR5XC5jYyQvLAogICAgcGF0aDogL15cLy4rLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBhID0gJCgnI2Nsb3NlJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT8zcmFcLmJlJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgZiA9ICQud2luZG93LmZjOwogICAgaWYgKCFmKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3dpbmRvdy5mYyBpcyB1bmRlZmluZWQnKTsKICAgIH0KICAgIGYgPSBmLnRvU3RyaW5nKCk7CiAgICBmID0gZi5tYXRjaCgvaHJlZj0iKFteIl0qKS8pOwogICAgaWYgKCFmKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3VybCBwYXR0ZXJuIG91dGRhdGVkJyk7CiAgICB9CiAgICAkLm9wZW5MaW5rKGZbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/NGZ1blwudHckLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNvcmlnaW5hbF91cmwnKTsKICAgICQub3BlbkxpbmsoaS52YWx1ZSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYWQybGlua3NcLmNvbSQvLAogICAgcGF0aDogL15cL1x3LS4rJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rQnlQb3N0KHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpLCB7CiAgICAgIHBvc3Q6IHsKICAgICAgICBpbWFnZTogJ1NraXAgQWQuJywKICAgICAgfSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmFkNFwuZnIkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC8ic3JjIiwgIihbXiJdKykiLyk7CiAgICBpZiAoIXMpIHsKICAgICAgXy53YXJuKCdjaGFuZ2VkJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgICQub3Blbkxpbmsoc1sxXSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmFkN1wuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cZCtcLyguKikkLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgIHZhciByZWRpcmVjdExpbmsgPSBtLnBhdGhbMV07CiAgICAgIGlmICghcmVkaXJlY3RMaW5rLm1hdGNoKC9eaHR0cHM/OlwvXC8vKSkgewogICAgICAgIHJlZGlyZWN0TGluayA9ICJodHRwOi8vIiArIHJlZGlyZWN0TGluazsKICAgICAgfQogICAgICAkLm9wZW5MaW5rKHJlZGlyZWN0TGluayk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmFkN1wuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cdyskLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIHNjcmlwdCA9ICQuc2VhcmNoU2NyaXB0cygndmFyIHJfdXJsJyk7CiAgICAgIHZhciB1cmwgPSBzY3JpcHQubWF0Y2goLyZ1cmw9KFteJl0rKS8pOwogICAgICB1cmwgPSB1cmxbMV07CiAgICAgICQub3BlbkxpbmsodXJsKTsKICAgIH0sCiAgfSk7Cn0pKCk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL14od3d3XC4pP2FkYlwudWckLywKICAgICAgICAvXih3d3dcLik/bHlua1wubXkkLywKICAgICAgICAvXmFkeW91XC5tZSQvLAogICAgICBdLAogICAgICBwYXRoOiAvXig/IVwvKD86cHJpdmFjeXx0ZXJtc3xjb250YWN0KFwvLiopP3wjLiopPyQpLiokLwogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICd1c2Ugc3RyaWN0JzsKICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgIHZhciBtID0gJC5zZWFyY2hTY3JpcHRzKC90b3BcLmxvY2F0aW9uXC5ocmVmPSIoW14iXSspIi8pOwogICAgICBpZiAobSkgewogICAgICAgICQub3BlbkxpbmsobVsxXSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGdldEFyZ3VtZW50cygpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHsKICAgICAgICB0cnlMaW5rKGFyZ3MpOwogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgZnVuY3Rpb24gZ2V0QXJndW1lbnRzICgpIHsKICAgIHZhciBQQVRURVJOID0gL1x7XHMqX2FyZ3NbXn1dK1x9W159XStcfS87CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoUEFUVEVSTik7CiAgICAgIGlmIChtKSB7CiAgICAgICAgcmVzb2x2ZShtKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgIGlmIChub2RlLmxvY2FsTmFtZSA9PT0gJ3NjcmlwdCcpIHsKICAgICAgICAgICAgICB2YXIgbSA9IG5vZGUudGV4dENvbnRlbnQubWF0Y2goUEFUVEVSTik7CiAgICAgICAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgICAgIHJlc29sdmUobSk7CiAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewogICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgfSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChtKSB7CiAgICAgIHJldHVybiBldmFsKCcoJyArIG1bMF0gKyAnKScpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHRyeUxpbmsgKGFyZ3MpIHsKICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnL3NraXBfdGltZXInOwogICAgdmFyIGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICQucG9zdCh1cmwsIGFyZ3MpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgamogPSBfLnBhcnNlSlNPTih0ZXh0KTsKICAgICAgICBpZiAoIWpqLmVycm9ycyAmJiBqai5tZXNzYWdlcykgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChpKTsKICAgICAgICAgICQub3BlbkxpbmsoamoubWVzc2FnZXMudXJsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwgMTAwMCk7CiAgfQp9KSgpOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBnZXRUb2tlbkZyb21Sb2NrZXRTY3JpcHQgKCkgewogICAgdmFyIGEgPSAkLnNlYXJjaFNjcmlwdHMoL3ZhciBldSA9ICcoPyFmYWxzZSkoLiopJy8pOwogICAgcmV0dXJuIGEgPyBhWzFdIDogbnVsbDsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eYWRmXC5seSQvLAogICAgICBwYXRoOiAvXlwvcmVkaXJlY3RpbmdcLyguKykkLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgdmFyIHVybCA9IGF0b2IobS5wYXRoWzFdKTsKICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgcGF0aDogL1wvbG9ja2VkJC8sCiAgICAgIHF1ZXJ5OiAvdXJsPShbXiZdKykvLAogICAgfSwKICAgIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgICAkLnJlc2V0Q29va2llcygpOwogICAgICB2YXIgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KG0ucXVlcnlbMV0pOwogICAgICBpZiAodXJsLm1hdGNoKC9eaHR0cC8pKSB7CiAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICB9IGVsc2UgewogICAgICAgICQub3BlbkxpbmsoJy8nICsgdXJsKTsKICAgICAgfQogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGggPSAkLiQoJ2h0bWxbaWQ9Im1haW5faHRtbCJdJyk7CiAgICAgIGlmIChoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAkLndpbmRvdy5kb2N1bWVudC53cml0ZSA9IF8ubm9wOwogICAgICAkLndpbmRvdy5idG9hID0gXy5ub3A7CiAgICAgIHdhaXRUb2tlbigpLnRoZW4oZnVuY3Rpb24gKHRva2VuKSB7CiAgICAgICAgdmFyIHVybCA9IGRlY29kZVRva2VuKHRva2VuKTsKICAgICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgXy53YXJuKGUpOwogICAgICB9KTsKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgaCA9ICQuJCgnI21haW5faHRtbCcpLCBiID0gJC4kKCcjaG9tZScpOwogICAgICBpZiAoIWggfHwgIWIgfHwgaC5ub2RlTmFtZSAhPT0gJ0hUTUwnIHx8IGIubm9kZU5hbWUgIT09ICdCT0RZJykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgJC53aW5kb3cuY29va2llQ2hlY2sgPSBfLm5vcDsKICAgICAgaCA9IGdldFRva2VuRnJvbVJvY2tldFNjcmlwdCgpOwogICAgICBpZiAoIWgpIHsKICAgICAgICBoID0gJCgnI2FkZmx5X2JhcicpOwogICAgICAgICQud2luZG93LmNsb3NlX2JhcigpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBoID0gZGVjb2RlVG9rZW4oaCk7CiAgICAgICQub3BlbkxpbmsoaCk7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIHdhaXRUb2tlbiAoKSB7CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHZhciBvID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgICAgXy5DKG11dGF0aW9uLmFkZGVkTm9kZXMpLmVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgaWYgKG5vZGUubG9jYWxOYW1lID09PSAnc2NyaXB0JykgewogICAgICAgICAgICAgIHZhciBtID0gbm9kZS50ZXh0Q29udGVudC5tYXRjaCgvdmFyIHlzbW0gPSAnKFteJ10rKScvKTsKICAgICAgICAgICAgICBpZiAobSkgewogICAgICAgICAgICAgICAgby5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICByZXNvbHZlKG1bMV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvLm9ic2VydmUoZG9jdW1lbnQuaGVhZCwgewogICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgfSk7CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gZGVjb2RlVG9rZW4gKHRva2VuKSB7CiAgICB2YXIgYSA9IHRva2VuLmluZGV4T2YoJyFIaVRvbW15Jyk7CiAgICBpZiAoYSA+PSAwKSB7CiAgICAgIHRva2VuID0gdG9rZW4uc3Vic3RyaW5nKDAsIGEpOwogICAgfQogICAgYSA9ICcnOwogICAgdmFyIGIgPSAnJzsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKGkgJSAyID09PSAwKSB7CiAgICAgICAgYSA9IGEgKyB0b2tlbi5jaGFyQXQoaSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYiA9IHRva2VuLmNoYXJBdChpKSArIGI7CiAgICAgIH0KICAgIH0KICAgIHRva2VuID0gYXRvYihhICsgYik7CiAgICB0b2tlbiA9IHRva2VuLnN1YnN0cigyKTsKICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7CiAgICAgIHRva2VuICs9IGxvY2F0aW9uLmhhc2g7CiAgICB9CiAgICByZXR1cm4gdG9rZW47CiAgfQp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/YWRmZVwuZXMkLywKICAgIHBhdGg6IC9eXC9cdyskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJyNmcm12aWRlbycpOwogICAgaWYgKCFmLlNURVA0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGYuc3VibWl0KCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vYWRmb2MudXMvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciByb290ID0gZG9jdW1lbnQuYm9keTsKICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgdmFyIG8gPSAkLiQoJyNzaG93U2tpcCcpOwogICAgICBpZiAobykgewogICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgICBvID0gby5xdWVyeVNlbGVjdG9yKCdhJyk7CiAgICAgICAgJC5vcGVuTGluayhvLmhyZWYpOwogICAgICB9CiAgICB9KTsKICAgIG9ic2VydmVyLm9ic2VydmUocm9vdCwgewogICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgIHN1YnRyZWU6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2FkamV0XC5iaXokLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvaHJlZj0oXFMrKS8pOwogICAgaWYgKCFtKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgJC5vcGVuTGluayhtWzFdKTsKICB9LAp9KTsKKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmFkbGlua1wuZ3VydSQvLAogICAgICAgIC9eY3lwdFwuZ2EkLywKICAgICAgICAvXihmaWxlc2J1Y2tzfHRtZWFybnxjdXQtdXJscylcLmNvbSQvLAogICAgICAgIC9eZWxpbmtcLmxpbmskLywKICAgICAgICAvXihwYXl1cmx8dXJsc3QpXC5tZSQvLAogICAgICAgIC9edXJsXC5odCQvLAogICAgICAgIC9edXJsZVwuY28kLywKICAgICAgICAvXihoYXNoZXx0cmxpbmt8YWRzaG9ydClcLmluJC8sCiAgICAgICAgL153d3dcLndvcmxkaGFja1wubmV0JC8sCiAgICAgICAgL14xMjNsaW5rXC50b3AkLywKICAgICAgICAvXnBpclwuaW0kLywKICAgICAgICAvXmJvbFwudGwkLywKICAgICAgICAvXih0bHxhZGZseSlcLnRjJC8sCiAgICAgICAgL14oYWRmdXxsaW5raGl0cylcLnVzJC8sCiAgICAgICAgL15zaG9ydFwucGFzdGV3bWFcLmNvbSQvLAogICAgICAgIC9ebGlua2ZseVwuZ2Fvc21lZGlhXC5jb20kLywKICAgICAgXSwKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnLCAnLkJKUFBvcEFkc092ZXJsYXknKTsKICAgICAgZmlyc3RTdGFnZSgpLnRoZW4oZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgICByZXR1cm4gc2Vjb25kU3RhZ2UocGFnZSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICQubnVrZSh1cmwpOwogICAgICAgICQub3BlbkxpbmsodXJsKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfLndhcm4oZSk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICBmdW5jdGlvbiBmaXJzdFN0YWdlICgpIHsKICAgIHJldHVybiBfLkQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZiA9ICQuJCgnI2xpbmstdmlldycpOwogICAgICBpZiAoIWYpIHsKICAgICAgICByZXNvbHZlKGRvY3VtZW50KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGFyZ3MgPSBleHRyYWN0QXJndW1lbnQoZik7CiAgICAgIHZhciB1cmwgPSBmLmdldEF0dHJpYnV0ZSgnYWN0aW9uJyk7CiAgICAgIHZhciBwID0gJC5wb3N0KHVybCwgYXJncykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiAkLnRvRE9NKGRhdGEpOwogICAgICB9KTsKICAgICAgcmVzb2x2ZShwKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBzZWNvbmRTdGFnZSAocGFnZSkgewogICAgdmFyIGYgPSAkKCcjZ28tbGluaycsIHBhZ2UpOwogICAgdmFyIGFyZ3MgPSBleHRyYWN0QXJndW1lbnQoZik7CiAgICB2YXIgdXJsID0gZi5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpOwogICAgcmV0dXJuICQucG9zdCh1cmwsIGFyZ3MpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7CiAgICAgIGlmIChkYXRhICYmIGRhdGEudXJsKSB7CiAgICAgICAgcmV0dXJuIGRhdGEudXJsOwogICAgICB9CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3dyb25nIGRhdGEnKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBleHRyYWN0QXJndW1lbnQgKGZvcm0pIHsKICAgIHZhciBhcmdzID0ge307CiAgICAkLiQkKCdpbnB1dCcsIGZvcm0pLmVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgYXJnc1t2Lm5hbWVdID0gdi52YWx1ZTsKICAgIH0pOwogICAgcmV0dXJuIGFyZ3M7CiAgfQp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmFkbG9ja1wub3JnJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkLiQoJyN4cmUgYS54eHIsICNkb3dubG9hZEJ1dHRvbjEnKTsKICAgIGlmIChhKSB7CiAgICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgYSA9ICQud2luZG93LmZpbGVMb2NhdGlvbjsKICAgIGlmIChhKSB7CiAgICAgICQub3BlbkxpbmsoYSk7CiAgICB9CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9hZGxvdFwudXMkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBzY3JpcHQgPSAkLnNlYXJjaFNjcmlwdHMoJ2Zvcm0nKTsKICAgIHZhciBwID0gL25hbWU9JyhbXiddKyknIHZhbHVlPScoW14nXSspJy9nOwogICAgdmFyIG9wdCA9IHsKICAgICAgaW1hZ2U6ICcgJywKICAgIH07CiAgICB2YXIgdG1wID0gbnVsbDsKICAgIHdoaWxlICh0bXAgPSBwLmV4ZWMoc2NyaXB0KSkgewogICAgICBvcHRbdG1wWzFdXSA9IHRtcFsyXTsKICAgIH0KICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgcGF0aDogb3B0LAogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYWRteVwubGluayQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJCgnZm9ybS5lZGl0X2xpbmsnKTsKICAgIGYuc3VibWl0KCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9haC1pbmZvcm1hdGlxdWVcLmNvbSQvLAogICAgcGF0aDogL15cL1ppcFVybC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjemlwMyBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIGRlY29kZVNjcmlwdCAoZW5jb2RlZCkgewogICAgdmFyIGEgPSBlbmNvZGVkLm1hdGNoKC9eXHMqO2V2YWxcKCguKylcKTtccyokLyk7CiAgICBhID0gYVsxXTsKICAgIHZhciBiID0gYS5tYXRjaCgvXiguKylcKCcoW14nXSspJywnKFteJ10rKScsJyhbXiddKyknLCcoW14nXSspJ1wpJC8pOwogICAgdmFyIGMgPSBldmFsKCcoJyArIGJbMV0gKyAnKScpOwogICAgcmV0dXJuIGMoYlsyXSwgYlszXSwgYls0XSwgYls1XSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmFoXC5wZSQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY3JpcHQgPSAkLnNlYXJjaFNjcmlwdHMoJ2V2YWwnKTsKICAgICAgc2NyaXB0ID0gZGVjb2RlU2NyaXB0KHNjcmlwdCk7CiAgICAgIHNjcmlwdCA9IGRlY29kZVNjcmlwdChzY3JpcHQpOwogICAgICBzY3JpcHQgPSBkZWNvZGVTY3JpcHQoc2NyaXB0KTsKICAgICAgdmFyIHBhdGggPSBzY3JpcHQubWF0Y2goLyhbXjs9IF0rKT0oW14rIDtdKylcKyJcLiJcKyhbXisgXSspXCsiXC4iXCsoW147IF0rKTsvKTsKICAgICAgaWYgKCFwYXRoKSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mICQud2luZG93W3BhdGhbMl1dID09PSAndW5kZWZpbmVkJykgewogICAgICAgIF8uaW5mbygncmVjYXB0Y2hhJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHBhdGggPSBfLlQoJ3swfS57MX0uezJ9JykoJC53aW5kb3dbcGF0aFsyXV0sICQud2luZG93W3BhdGhbM11dLCAkLndpbmRvd1twYXRoWzRdXSk7CiAgICAgICQub3BlbkxpbmsocGF0aCk7CiAgICB9LAogIH0pOwp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmFrYVwuZ3IkLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJCgnaWZyYW1lI3lvdXJscy1mcmFtZScpOwogICAgJC5vcGVuTGluayhsLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15hbFwubHkkLywKICAgICAgL15hbGx5XC5zaCQvLAogICAgXSwKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnYm9keSA+IHNlY3Rpb24gPiBpZnJhbWUnKTsKICAgIGlmIChpKSB7CiAgICAgIGkuc3JjID0gJ2Fib3V0OmJsYW5rJzsKICAgICAgXy53YWl0KDMwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhID0gJCgnYS5yZWRpcmVjdCcpOwogICAgICAgIGEuY2xpY2soKTsKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGkgPSAkLnNlYXJjaFNjcmlwdHMoLyJocmVmIiwiKFteIl0rKSJcKVwucmVtb3ZlLyk7CiAgICBpZiAoIWkpIHsKICAgICAgXy53YXJuKCdzaXRlIGNoYW5nZWQnKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaSA9IGlbMV07CiAgICAkLm9wZW5MaW5rKGkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eKHd3d1wuKT9hbGxrZXlzaG9wXC5jb20kLywKICAgICAgL15jc2hvcnRcLm9yZyQvLAogICAgXSwKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG1hdGNoZXMgPSAkLnNlYXJjaFNjcmlwdHMoL3dpbmRvd1wubG9jYXRpb25cLmhyZWYgPSAiKFteIl0rKSIvKTsKICAgIG1hdGNoZXMgPSBtYXRjaGVzWzFdOwogICAgJC5udWtlKG1hdGNoZXMpOwogICAgJC5vcGVuTGluayhtYXRjaGVzKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15hbm9ueW1idWNrc1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjYm90b24tY29udGludWFyJyk7CiAgICBhLmNsaWNrKCk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBhamF4UGF0dGVybiA9IC9cJC5wb3N0XCgnKFteJ10qKSdbXntdKyhce1xzKm9wdDpccyonbWFrZV9sb2cnW159XStcfVxzKlx9KSwvaTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogWwogICAgICAgIC9eYmNcLnZjJC8sCiAgICAgICAgL15saW5jXC5tbCQvLAogICAgICBdLAogICAgICBwYXRoOiAvXi4rKGh0dHBzPzpcL1wvLispJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkxpbmsobS5wYXRoWzFdICsgZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoICsgZG9jdW1lbnQubG9jYXRpb24uaGFzaCk7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIGRlY29tcHJlc3MgKHNjcmlwdCwgdW56aXApIHsKICAgIGlmICghdW56aXApIHsKICAgICAgcmV0dXJuIHNjcmlwdDsKICAgIH0KICAgIHZhciBtYXRjaGVzID0gc2NyaXB0Lm1hdGNoKC9ldmFsKC4qKS8pOwogICAgaWYgKCFtYXRjaGVzKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ25vIHNjcmlwdCBtYXRjaGVzIC9ldmFsKC4qKS8nKTsKICAgIH0KICAgIG1hdGNoZXMgPSBtYXRjaGVzWzFdOwogICAgc2NyaXB0ID0gZXZhbChtYXRjaGVzKTsKICAgIHJldHVybiBzY3JpcHQ7CiAgfQogIGZ1bmN0aW9uIHNlYXJjaFNjcmlwdCAodW56aXApIHsKICAgIHZhciBjb250ZW50ID0gJC5zZWFyY2hTY3JpcHRzKCdtYWtlX2xvZycpOwogICAgaWYgKGNvbnRlbnQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBkaXJlY3Q6IGZhbHNlLAogICAgICAgIHNjcmlwdDogZGVjb21wcmVzcyhjb250ZW50LCB1bnppcCksCiAgICAgIH07CiAgICB9CiAgICBjb250ZW50ID0gJC5zZWFyY2hTY3JpcHRzKCdjbGlja19sb2cnKTsKICAgIGlmIChjb250ZW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZGlyZWN0OiB0cnVlLAogICAgICAgIHNjcmlwdDogZGVjb21wcmVzcyhjb250ZW50LCB1bnppcCksCiAgICAgIH07CiAgICB9CiAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdzY3JpcHQgY2hhbmdlZCcpOwogIH0KICBmdW5jdGlvbiBrbm9ja1NlcnZlciAoc2NyaXB0LCBkaXJ0eUZpeCkgewogICAgdmFyIG1hdGNoZXMgPSBzY3JpcHQubWF0Y2goYWpheFBhdHRlcm4pOwogICAgaWYgKCFtYXRjaGVzKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJyhpbiBrbm9jayBzZXJ2ZXIpIG5vIHNjcmlwdCBtYXRjaGVzICQucG9zdCcpOwogICAgfQogICAgdmFyIG1ha2VfdXJsID0gbWF0Y2hlc1sxXTsKICAgIHZhciBtYWtlX29wdHMgPSBldmFsKCcoJyArIG1hdGNoZXNbMl0gKyAnKScpOwogICAgdmFyIGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICQucG9zdChtYWtlX3VybCwgbWFrZV9vcHRzKS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgaWYgKGRpcnR5Rml4KSB7CiAgICAgICAgICB0ZXh0ID0gdGV4dC5tYXRjaCgvXHsuK1x9LylbMF07CiAgICAgICAgfQogICAgICAgIHZhciBqaiA9IF8ucGFyc2VKU09OKHRleHQpOwogICAgICAgIGlmIChqai5tZXNzYWdlKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKGkpOwogICAgICAgICAgJC5vcGVuTGluayhqai5tZXNzYWdlLnVybCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIDEwMDApOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15iY1wudmMkLywKICAgICAgcGF0aDogL15cLy4rLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIHRva2VuID0gZmluZEFKQVhUb2tlbigpOwogICAgICB2YXIgdGltZSA9IGZha2VBSkFYVG9rZW4oKTsKICAgICAgdmFyIHVybCA9IF8uVCgnL2ZseS9hamF4LnBocD93ZHM9ezB9JnRpbWU9ezF9Jyk7CiAgICAgIHVybCA9IHVybCh0b2tlbi53ZHMsIHRpbWUpOwogICAgICBfLndhaXQoNTAwMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICQucG9zdCh1cmwsIHsKICAgICAgICAgIHhkZjogewogICAgICAgICAgICBhZmc6ICQud2luZG93LnRaLAogICAgICAgICAgICBiZmc6ICQud2luZG93LmNXLAogICAgICAgICAgICBjZmc6ICQud2luZG93LmNILAogICAgICAgICAgICBqa2k6IHRva2VuLmpraSwKICAgICAgICAgICAgZGZnOiAkLndpbmRvdy5zVywKICAgICAgICAgICAgZWZnOiAkLndpbmRvdy5zSCwKICAgICAgICAgIH0sCiAgICAgICAgICBvams6IHRva2VuLm9qaywKICAgICAgICB9KTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocnYpIHsKICAgICAgICBydiA9IEpTT04ucGFyc2UocnYpOwogICAgICAgIGlmIChydi5lcnJvcikgewogICAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignYXV0aCBlcnJvcicpOwogICAgICAgIH0KICAgICAgICAkLm9wZW5MaW5rKHJ2Lm1lc3NhZ2UudXJsKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfLndhcm4oJ2FqYXggZXJyb3InLCBlKTsKICAgICAgfSk7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIHJ1biAoZGlydHlGaXgpIHsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIHJlc3VsdCA9IHNlYXJjaFNjcmlwdCh0cnVlKTsKICAgIGlmICghcmVzdWx0LmRpcmVjdCkgewogICAgICBrbm9ja1NlcnZlcihyZXN1bHQuc2NyaXB0LGRpcnR5Rml4KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IHJlc3VsdC5zY3JpcHQubWF0Y2goL3RvcFwubG9jYXRpb25cLmhyZWY9JyhbXiddKyknLyk7CiAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgICAgfQogICAgICByZXN1bHQgPSByZXN1bHRbMV07CiAgICAgICQub3BlbkxpbmsocmVzdWx0KTsKICAgIH0KICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eYWRjcnVuXC5jaCQvLAogICAgICBwYXRoOiAvXlwvXHcrJC8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgJC5yZW1vdmVOb2RlcygnLnVzZXJfY29udGVudCcpOwogICAgICB2YXIgclN1cnZleUxpbmsgPSAvaHR0cFwub3BlblwoIkdFVCIsICJhcGlfYWpheFwucGhwXD9zaWQ9XGQqJmlwPVteJl0qJmxvbmd1cmw9KFteIl0rKSIgXCsgZmlyc3RfdGltZSwgKD86dHJ1ZXxmYWxzZSlcKTsvOwogICAgICB2YXIgbCA9ICQuc2VhcmNoU2NyaXB0cyhyU3VydmV5TGluayk7CiAgICAgIGlmIChsKSB7CiAgICAgICAgJC5vcGVuTGluayhsWzFdKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcnVuKHRydWUpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogWwogICAgICAgIC9eKDF0a3xoaXR8YWRibGF8dGw3fG15bGluaylcLnVzJC8sCiAgICAgICAgL15neFwuc2kkLywKICAgICAgICAvXmFkd2F0XC5jaCQvLAogICAgICAgIC9eKGZseTJ1cmx8dXJsd2l6fHhhZm94KVwuY29tJC8sCiAgICAgICAgL14oenBvenx1bHRyeSlcLm5ldCQvLAogICAgICAgIC9eKHd3eXxteWFtKVwubWUkLywKICAgICAgICAvXihzc2x8c3JrKVwuZ3MkLywKICAgICAgICAvXnNob3J0aXRcLmluJC8sCiAgICAgICAgL153d3dcLmFkamV0XC5ldSQvLAogICAgICAgIC9eY3VuXC5ieiQvLAogICAgICAgIC9ebWluaXVybFwudGskLywKICAgICAgICAvXnZpenp5XC5lcyQvLAogICAgICAgIC9ea2F6YW5cLnZjJC8sCiAgICAgICAgL15saW5rY2FzaFwubWwkLywKICAgICAgXSwKICAgICAgcGF0aDogL15cLy4rLywKICAgIH0sCiAgICByZWFkeTogcnVuLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL15hZHRyXC5pbSQvLAogICAgICAgIC9eeXNlYXJcLmNoJC8sCiAgICAgICAgL154aXBcLmlyJC8sCiAgICAgIF0sCiAgICAgIHBhdGg6IC9eXC8uKy8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGEgPSAkLiQoJ2Rpdi5mbHlfaGVhZCBhLmNsb3NlJyk7CiAgICAgIHZhciBmID0gJC4kKCdpZnJhbWUuZmx5X2ZyYW1lJyk7CiAgICAgIGlmIChhICYmIGYpIHsKICAgICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBydW4oKTsKICAgICAgfQogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15hZDVcLmV1JC8sCiAgICAgIHBhdGg6IC9eXC9bXi5dKyQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbigpIHsKICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgIHZhciBzID0gc2VhcmNoU2NyaXB0KHRydWUpOwogICAgICB2YXIgbSA9IHMuc2NyaXB0Lm1hdGNoKC8oPGZvcm0gbmFtZT0iZm9ybTEibWV0aG9kPSJwb3N0Ii4qKD8hPFxcZm9ybT4pPFwvZm9ybT4pLyk7CiAgICAgIGlmICghbSkge3JldHVybjt9CiAgICAgIG0gPSBtWzFdOwogICAgICB2YXIgdHogPSAtKG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKS82MCk7CiAgICAgIG0gPSBtLnJlcGxhY2UoIicrdGltZXpvbmUrJyIsdHopOwogICAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBkLnNldEF0dHJpYnV0ZSgnaWQnLCdBZHNCeXBhc3NlckZUVycpOwogICAgICBkLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lOycpOwogICAgICBkLmlubmVySFRNTCA9IG07CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZCk7CiAgICAgICQoJyNBZHNCeXBhc3NlckZUVyA+IGZvcm1bbmFtZT1mb3JtMV0nKS5zdWJtaXQoKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9edHI1XC5pbiQvLAogICAgICBwYXRoOiAvXlwvLisvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJ1bih0cnVlKTsKICAgIH0sCiAgfSk7CiAgZnVuY3Rpb24gZmluZEFKQVhUb2tlbiAoKSB7CiAgICB2YXIgcnYgPSAkLnNlYXJjaFNjcmlwdHMoJy9mbHkvYWpheC5waHAnKTsKICAgIGlmICghcnYpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIHZhciB3ZHMgPSBydi5tYXRjaCgvXD93ZHM9KFteJl0rKS8pOwogICAgaWYgKCF3ZHMpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIHdkcyA9IHdkc1sxXTsKICAgIHZhciBqa2kgPSBydi5tYXRjaCgvamtpOlxzKicoW14nXSspJy8pOwogICAgaWYgKCFqa2kpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIGpraSA9IGpraVsxXTsKICAgIHZhciBvamsgPSBydi5tYXRjaCgvb2prOlxzKicoW14nXSspJy8pOwogICAgaWYgKCFvamspIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIG9qayA9IG9qa1sxXTsKICAgIHJldHVybiB7CiAgICAgIHdkczogd2RzLAogICAgICBqa2k6IGpraSwKICAgICAgb2prOiBvamssCiAgICB9OwogIH0KICBmdW5jdGlvbiBmYWtlQUpBWFRva2VuICgpIHsKICAgIHZhciBza2lwQWQgPSAkKCdkaXYuZmx5X2hlYWQgc3BhbiNyZWRpcmVjdGluJykucGFyZW50RWxlbWVudDsKICAgIHZhciBtYXJnaW4gPSA2OwogICAgdmFyIGZha2VQYWdlWCA9IHNraXBBZC5vZmZzZXRMZWZ0ICsgbWFyZ2luICsgNTAgKyAoTWF0aC5yYW5kb20oKSAqIDEwKTsKICAgIHZhciBmYWtlUGFnZVkgPSBza2lwQWQub2Zmc2V0VG9wICsgbWFyZ2luICsgMTUgKyAoTWF0aC5yYW5kb20oKSAqIDEpOwogICAgdmFyIHBvID0gZmFrZVBhZ2VYICsgJywnICsgZmFrZVBhZ2VZOwogICAgdmFyIHBvc1ggPSBqUXVlcnlPZmZzZXQoc2tpcEFkKS5sZWZ0ICsgbWFyZ2luOwogICAgdmFyIHBvc1kgPSBqUXVlcnlPZmZzZXQoc2tpcEFkKS50b3AgKyBtYXJnaW47CiAgICB2YXIgcG9zID0gKGZha2VQYWdlWCAtIHBvc1gpICsgJywnICsgKGZha2VQYWdlWSAtIHBvc1kpOwogICAgdmFyIHRzdGFfID0gTWF0aC5mbG9vcigoNSArIE1hdGgucmFuZG9tKCkpICogMTAwMCk7CiAgICB2YXIgdGltZSA9IHBvICsgJzonICsgcG9zICsgJzonICsgdHN0YV87CiAgICByZXR1cm4gdGltZTsKICB9CiAgZnVuY3Rpb24galF1ZXJ5T2Zmc2V0IChlbGVtZW50KSB7CiAgICB2YXIgciA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICByZXR1cm4gewogICAgICB0b3A6IHIudG9wICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsCiAgICAgIGxlZnQ6IHIubGVmdCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwKICAgIH07CiAgfQp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/YmlnbGlzdG9md2Vic2l0ZXNcLmNvbSQvLAogICAgcGF0aDogL15cL2dvXC8oXHcrXC5cdyspJC8KICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuTGluaygnaHR0cDovLycgKyBtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5iaWxkLm1lL2JpbGQucGhwP2ZpbGU9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI0JpbGQnKTsKICAgICQub3BlbkxpbmsoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2JpbGRyLm5vL3ZpZXcvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nLmJpbGRlJyk7CiAgICAkLm9wZW5MaW5rKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pPyhbYS16QS1aMC05XStcLik/YmluYm94XC5pbyQvLAogICAgcGF0aDogL1wvb1wvKFthLXpBLVowLTldKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZGlyZWN0X2xpbmsgPSB3aW5kb3cuYXRvYihtLnBhdGhbMV0pOwogICAgJC5vcGVuTGluayhkaXJlY3RfbGluayk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9ib3hjYXNoXC5uZXQkLywKICAgIHBhdGg6IC9eXC9bXHd+XSskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvXCdcL2FqYXhfbGlua1wucGhwXCcsXHMqXHtrZXk6XHMqJyhcdyspJyxccyp1cmw6XHMqJyhcZCspJyxccyp0OlxzKicoXGQrKScsXHMqcjpccyonKFx3KiknXH0vKTsKICAgIGlmICghbSkgewogICAgICByZXR1cm47CiAgICB9CiAgICAkLnBvc3QoJy9hamF4X2xpbmsucGhwJywgewogICAgICBrZXk6IG1bMV0sCiAgICAgIHVybDogbVsyXSwKICAgICAgdDogbVszXSwKICAgICAgcjogbVs0XSwKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBsID0gcmVzcG9uc2UubWF0Y2goL3dpbmRvdyg/Oi50b3Aud2luZG93KVwubG9jYXRpb249IihbXiJdKykiLyk7CiAgICAgICQub3BlbkxpbmsobFsxXSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2JveGNhc2hcLm5ldCQvLAogICAgcGF0aDogL15cL3JlZGlyZWN0XC5odG1sJC8sCiAgICBxdWVyeTogL3VybD0oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gZGVjb2RlVVJJQ29tcG9uZW50KG0ucXVlcnlbMV0pOwogICAgJC5vcGVuTGluayhsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pPyhidXp8dnp0KXVybFwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGZyYW1lID0gJCgnZnJhbWVbc2Nyb2xsaW5nPXllc10nKTsKICAgICQub3BlbkxpbmsoZnJhbWUuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14oY2Z8ZXh8eHQpXGRcLihtZXxjbykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgYSA9ICQoJyNza2lwX2J1dHRvbicpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmNhdGN1dFwubmV0JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjcmJzJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eY2ZcLmx5JC8sCiAgICBwYXRoOiAvXlwvW15cL10rJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgJC5vcGVuTGluaygnL3NraXAnICsgbS5wYXRoWzBdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2NsaVwuZ3MkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2EuUmVkaXJlY3RMaW5rJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9jbGljdHVuZVwuY29tJC8sCiAgICBwYXRoOiAvXlwvaWQ9XGQrLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBtYXRjaGVzID0gJC5zZWFyY2hTY3JpcHRzKC88YSBocmVmPSJodHRwOlwvXC8oPzp3d3cuKT9jbGljdHVuZVwuY29tXC9yZWRpcmVjdFwucGhwXD91cmw9KFteJl0rKSYvKTsKICAgIHZhciB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hlc1sxXSk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eY2xrXC5pbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBtYXRjaGVzID0gJC5zZWFyY2hTY3JpcHRzKC9cJFwoIlwuY291bnRkb3duIlwpXC5hdHRyXCgiaHJlZiIsIihbXiJdKykiXCkvKTsKICAgICQub3BlbkxpbmsobWF0Y2hlc1sxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eY29jb2xlZWNoXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNkb3dubG9hZCcpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBob3N0TWFwcGVyIChob3N0KSB7CiAgICBzd2l0Y2ggKGhvc3QpIHsKICAgIGNhc2UgJ2Rpc2luZ2thdC5pbic6CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGEgPSAkKCdhLmJ0bi1ibG9jay5yZWRpcmVjdCcpOwogICAgICAgIHJldHVybiBhLmhyZWY7CiAgICAgIH07CiAgICBjYXNlICdsaW5rLmFuaW1hZ3oub3JnJzoKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYSA9ICQoJ2EucmVkaXJlY3QnKTsKICAgICAgICBhID0gYS5vbmNsaWNrLnRvU3RyaW5nKCk7CiAgICAgICAgYSA9IGEubWF0Y2goL3dpbmRvd1wub3BlbiBcKCcoW14nXSspJ1wpLyk7CiAgICAgICAgcmV0dXJuIGFbMV07CiAgICAgIH07CiAgICBjYXNlICdjb2VnLmluJzoKICAgIGNhc2UgJ3d3dy50ZWxvbmRhc211LmNvbSc6CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGEgPSAkKCcuZG93bmxvYWQtbGluayBhJyk7CiAgICAgICAgcmV0dXJuIGEuaHJlZjsKICAgICAgfTsKICAgIGNhc2UgJ2d1bnRpbmcuaW4nOgogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhID0gJCgnZGl2LmNvbC1zbS02Om50aC1jaGlsZCgxKSA+IGNlbnRlcjpudGgtY2hpbGQoMSkgPiBhOm50aC1jaGlsZCgxKScpOwogICAgICAgIHJldHVybiBhLmhyZWY7CiAgICAgIH07CiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmxpbmtcLmFuaW1hZ3pcLm9yZyQvLAogICAgICAgIC9eKGNvZWd8ZGlzaW5na2F0fGd1bnRpbmcpXC5pbiQvLAogICAgICAgIC9ed3d3XC50ZWxvbmRhc211XC5jb20kLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL1x3KyQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgICB2YXIgbWFwcGVyID0gaG9zdE1hcHBlcihtLmhvc3RbMF0pOwogICAgICB2YXIgYjY0ID0gbWFwcGVyKCkubWF0Y2goL1w/cj0oXHcrPXswLDJ9PykvKTsKICAgICAgJC5vcGVuTGluayhhdG9iKGI2NFsxXSkpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15zaXBrdXJcLihuZXR8dXMpJC8sCiAgICAgIHBhdGg6IFsKICAgICAgICAvXlwvXHcrJC8sCiAgICAgICAgL15cL21lbnVqdWxpbmtcLy8sCiAgICAgIF0sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGQgPSAkKCcjdGVzdGFwayA+IGRpdicpOwogICAgICBkID0gZC5vbmNsaWNrLnRvU3RyaW5nKCk7CiAgICAgIGQgPSBkLm1hdGNoKC93aW5kb3dcLm9wZW5cKCcoW14nXSspJy8pOwogICAgICAkLm9wZW5MaW5rKGRbMV0pOwogICAgfSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15jb2lubGlua1wuY28kLywKICAgIHBhdGg6IC9eXC9pXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2EjYnRuLW1haW4sIGEuYnRuLmJ0bi1ibG9jay5idG4td2FybmluZywgYS5idG4uYnRuLWJsb2NrLmJ0bi1zdWNjZXNzJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKD86KFx3KylcLik/KGNvaW51cmxcLmNvbXxjdXJcLmx2KSQvLAogICAgcGF0aDogL15cLyhbLVx3XSspJC8KICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgaG9zdCA9ICdodHRwOi8vY3VyLmx2L3JlZGlyZWN0X2N1cmx2LnBocCc7CiAgICB2YXIgcGFyYW0gPSBtLmhvc3RbMV0gPT09IHVuZGVmaW5lZCA/IHsKICAgICAgY29kZTogbS5wYXRoWzFdLAogICAgfSA6IHsKICAgICAgem9uZTogbS5ob3N0WzFdLAogICAgICBuYW1lOiBtLnBhdGhbMV0sCiAgICB9OwogICAgJC5nZXQoaG9zdCwgcGFyYW0pLnRoZW4oZnVuY3Rpb24obWFpbkZyYW1lQ29udGVudCkgewogICAgICB0cnkgewogICAgICAgIHZhciBkb2NNYWluRnJhbWUgPSAkLnRvRE9NKG1haW5GcmFtZUNvbnRlbnQpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignbWFpbiBmcmFtZSBjaGFuZ2VkJyk7CiAgICAgIH0KICAgICAgdmFyIHJFeHRyYWN0TGluayA9IC9vbmNsaWNrPSJvcGVuX3VybFwoJyhbXiddKyknLFxzKidnbydcKS87CiAgICAgIHZhciBpbm5lckZyYW1lcyA9ICQuJCQoJ2lmcmFtZScsIGRvY01haW5GcmFtZSkuZWFjaChmdW5jdGlvbiAoY3VyckZyYW1lKSB7CiAgICAgICAgdmFyIGN1cnJGcmFtZUFkZHIgPSBjdXJyRnJhbWUuZ2V0QXR0cmlidXRlKCdzcmMnKTsKICAgICAgICAkLmdldChjdXJyRnJhbWVBZGRyKS50aGVuKGZ1bmN0aW9uKGN1cnJGcmFtZUNvbnRlbnQpIHsKICAgICAgICAgIHZhciBhUmVhbExpbmsgPSByRXh0cmFjdExpbmsuZXhlYyhjdXJyRnJhbWVDb250ZW50KTsKICAgICAgICAgIGlmIChhUmVhbExpbmsgPT09IHVuZGVmaW5lZCB8fCBhUmVhbExpbmtbMV0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgcmVhbExpbmsgPSBhUmVhbExpbmtbMV07CiAgICAgICAgICAkLm9wZW5MaW5rKHJlYWxMaW5rKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15jb215b25ldFwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGlucHV0ID0gJCgnaW5wdXRbbmFtZT0iZW50ZXIiXScpOwogICAgaW5wdXQuY2xpY2soKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2N2Y1wubGEkLywKICAgIHBhdGg6IC9eXC9cdyskLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnBvc3QoZG9jdW1lbnQubG9jYXRpb24uaHJlZiwgewogICAgICBoaWRkZW46IDI0LCAKICAgICAgaW1hZ2U6ICcgJywKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgdmFyIG1hdGNoZXMgPSB0ZXh0Lm1hdGNoKC93aW5kb3dcLmxvY2F0aW9uXC5yZXBsYWNlXCgnKFteJ10rKSdcKTsvKTsKICAgICAgJC5vcGVuTGluayhtYXRjaGVzWzFdKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/ZGFwYXRcLmluJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCdpZnJhbWVbbmFtZT1wYWdldGV4dF0nKTsKICAgICQub3BlbkxpbmsoZi5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/ZGRcLm1hJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJC4kKCcjbWFpbmZyYW1lJyk7CiAgICBpZiAoaSkgewogICAgICAkLm9wZW5MaW5rKGkuc3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGEgPSAkKCcjYnRuX29wZW4gYScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/ZGVyZWZlcmVyXC53ZWJzaXRlJC8sCiAgICBxdWVyeTogL15cPyguKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKG0ucXVlcnlbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmRpa2l0XC5pbiQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIGEgPSAkKCcuZGlzY2xhaW1lciBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eZHVybFwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2FbY2xhc3M9InByb2NlZWRCdG4iXScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eZWFzeXVybFwubmV0JC8sCiAgICAgIC9eKGF0dXxjbGlja3RocnV8cmVkaXJlY3RzfHJlYWR0aGlzKVwuY2EkLywKICAgICAgL15nb3Nocmlua1wuY29tJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJCgnZnJhbWVbbmFtZT1tYWluXScpOwogICAgJC5vcGVuTGluayhmLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eZWxkZVwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWU6bm90KFtuYW1lPXVuZGVmaW5lZF0pJyk7CiAgICB2YXIgYSA9ICQoJyNtb2RhbC1hbGVydCcpOwogICAgYS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIGEuc3R5bGUudG9wID0gMDsKICAgIGEuc3R5bGUubGVmdCA9IDA7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgIAkvXmV0aGlcLmluJC8sCiAgICAJL15zdFwud2FyZGhhbmltZVwubmV0JC8sCiAgICBdLAogICAgcGF0aDogL15cL2lcL1xkKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI3dyYXBwZXIgPiBbY2xhc3NePSJ0b21ibyJdID4gYVt0YXJnZXQ9Il9ibGFuayJdJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9maWxvb3BzXC5pbmZvJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjdGV4dCA+IGNlbnRlciBhLCAjdGV4dCA+IGRpdlthbGlnbj1jZW50ZXJdIGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15maXRcLnNoJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnLmNvbnRhaW5lci1ib2R5Jyk7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvdG9rZW49IihbXiJdKykiLyk7CiAgICBpZiAoIW0pIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2l0ZSBjaGFuZ2VkJyk7CiAgICB9CiAgICBtID0gbVsxXTsKICAgIHZhciBpbnRlckxpbmsgPSAnL2dvLycgKyBtICsgJz9mYT0xNTQ2NiZhPScgKyB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgJC5vcGVuTGluayhpbnRlckxpbmspOwogICAgfSwgNjAwMCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9maXV4eVwuY28kLywKICAgIHBhdGg6IC9eXC9saW5rcz9cLyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICQub3BlbkxpbmsoJCgnYS5idG4uYScpLmhyZWYpOwogIH0KfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXih3d3dcLik/ZnVuZHVybFwuY29tJC8sCiAgICAgIHF1ZXJ5OiAvaT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuTGluayhtLnF1ZXJ5WzFdKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT9mdW5kdXJsXC5jb20kLywKICAgICAgcGF0aDogL15cLyhnby1cdyt8bG9hZFwucGhwKSQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBmID0gJCgnaWZyYW1lW25hbWU9ZnBhZ2UzXScpOwogICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgIH0sCiAgfSk7Cn0pKCk7CihmdW5jdGlvbiAoKSB7CiAgdmFyIGhvc3RzID0gL15nY2FcLnNofHJlcGxhXC5jciQvOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0cywKICAgICAgcGF0aDogL15cL2FkdlwvXHcrXC8oLiopJC8sCiAgICAgIHF1ZXJ5OiAvXiguKikkLywKICAgICAgaGFzaDogL14oLiopJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICd1c2Ugc3RyaWN0JzsKICAgICAgdmFyIGwgPSBtLnBhdGhbMV0gKyBtLnF1ZXJ5WzFdICsgbS5oYXNoWzFdOwogICAgICAkLm9wZW5MaW5rKGwpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogaG9zdHMsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgJ3VzZSBzdHJpY3QnOwogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIGpRdWVyeSA9ICQud2luZG93LiQ7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGpRdWVyeSgiI2NhcHRjaGEtZGlhbG9nIikuZGlhbG9nKCJvcGVuIik7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15na3VybFwudXMkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaWZyYW1lID0gJCgnI2drdXJsLWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnVcLmdvMlwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaWZyYW1lID0gJCgnaWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmdvdG9cLmxvbmNhdFwuaW4kLywKICAgIHF1ZXJ5OiAvb3Blbj0oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IGF0b2IoYXRvYihtLnF1ZXJ5WzFdKSk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15nc3VybFwuKG1lfGluKSQvLAogICAgICAvXmc1dVwucHckLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnI2NvbnRhaW5lcicpOwogICAgdmFyIGEgPSAkKCcjbGluaycpOwogICAgXy53YWl0KDUwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15ob3RzaG9ydHVybFwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGZyYW1lID0gJCgnZnJhbWVbc2Nyb2xsaW5nPXllc10nKTsKICAgICQub3BlbkxpbmsoZnJhbWUuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pPyhpbGl4XC5pbnxwcml2YVwudXMpJC8sCiAgICBwYXRoOiAvXC8oXHcrKS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciByZWFsSG9zdCA9ICdpbGl4LmluJzsKICAgIGlmIChtLmhvc3RbMl0gIT09IHJlYWxIb3N0KSB7CiAgICAgIHZhciByZWFsVVJMID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKG0uaG9zdFsyXSwgcmVhbEhvc3QpOwogICAgICAkLm9wZW5MaW5rKHJlYWxVUkwpOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgZiA9ICQuJCgnaWZyYW1lW25hbWU9aWZyYW1dJyk7CiAgICBpZiAoZikgewogICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCEkLiQoJ2ltZyNjYXB0Y2hhJykpIHsKICAgICAgJCgnZm9ybVtuYW1lPWZybV0nKS5zdWJtaXQoKTsKICAgIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbG92ZWJhbnRlblwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHAgPSAkKCcubm90YmxvY2tlZCcpOwogICAgJC5vcGVuTGluayhwLnRleHRDb250ZW50KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbmRleG1vdmllXC5tZSQvLAogICAgcGF0aDogL15cLyhbXlwvXSspJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJy9nZXQvJyArIG0ucGF0aFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaXR3XC5tZSQvLAogICAgcGF0aDogL15cL3JcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcuZ28tZm9ybScpOwogICAgZi5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pdHlcLmltJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkLiQoJyNtYWluJyk7CiAgICBpZiAoZikgewogICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZiA9ICQuJCQoJ2ZyYW1lJykuZmluZChmdW5jdGlvbiAoZnJhbWUpIHsKICAgICAgaWYgKGZyYW1lLnNyYy5pbmRleE9mKCdpbnRlcmhlYWRlci5waHAnKSA8IDApIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICAgIHJldHVybiBmcmFtZS5zcmM7CiAgICB9KTsKICAgIGlmIChmKSB7CiAgICAgICQub3BlbkxpbmsoZi5wYXlsb2FkKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZiA9ICQuc2VhcmNoU2NyaXB0cygva3J5cHRlZD0oW14mXSspLyk7CiAgICBpZiAoIWYpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2l0ZSBjaGFuZ2VkJyk7CiAgICB9CiAgICBmID0gZlsxXTsKICAgIHZhciBkYXRhID0gJC53aW5kb3cuZGVzKCdrc25zbG10bWswdjRQZHZpdXNhanF1JywgJC53aW5kb3cuaGV4VG9TdHJpbmcoZiksIDAsIDApOwogICAgaWYgKGRhdGEpIHsKICAgICAgJC5vcGVuTGluaygnaHR0cDovL2l0eS5pbS8xMTA0XzIxXzUwODQ2XycgKyBkYXRhKTsKICAgIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2tpbmdvZnNocmlua1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSAkKCcjdGV4dHJlc3VsdCA+IGEnKTsKICAgICQub3BlbkxpbmsobC5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15zdFwua3Vyb2dhemVcLm5ldCQvLAogICAgcXVlcnk6IC9yPSguKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgciA9IGF0b2IobS5xdWVyeVsxXSk7CiAgICAkLm9wZW5MaW5rKHIpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnN0XC5rdXJvZ2F6ZVwubmV0JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCdhLnJlZGlyZWN0Jyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9sZWVjaGJkXC50ayQvLAogICAgcGF0aDogL15cL1Nob3J0ZW5lclwvKFx3KykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5nZXQoJy9TaG9ydGVuZXIvQVBJL3JlYWQvZ2V0Jywge2lkOiBtLnBhdGhbMV0sIHR5cGU6ICdqc29uJ30pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgdmFyIHIgPSBfLnBhcnNlSlNPTih0ZXh0KTsKICAgICAgaWYgKHIuc3VjY2VzcyA9PSB0cnVlICYmIHIuZGF0YS5mdWxsKSB7CiAgICAgICAgJC5vcGVuTGluayhyLmRhdGEuZnVsbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgXy53YXJuKCdBUEkgRXJyb3IgJyArIHIuZXJyb3IuY29kZSArICcgOiAnICsgci5lcnJvci5tc2cpOwogICAgICB9CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cubGllbnNjYXNoLmNvbS9sLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNyZWRpcl9idG4nKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP1x3K1wubGluay1wcm90ZWN0b3JcLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJ2Zvcm1bc3R5bGU9ImZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTI7Zm9udC1mYW1pbHk6VmVyZGFuYTsiXScpOwogICAgJC5vcGVuTGluayhmLmFjdGlvbik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9saW5rXC5pbSQvLAogICAgcGF0aDogL15cL1x3KyQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucG9zdChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLCB7CiAgICAgIGltYWdlOiAnQ29udGludWUnLAogICAgfSkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICB2YXIgbSA9IHRleHQubWF0Y2goL3dpbmRvd1wubG9jYXRpb25cLnJlcGxhY2VcKCcoW14nXSspJ1wpLyk7CiAgICAgICQub3BlbkxpbmsobVsxXSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15saW5rXC50bCQvLAogICAgcGF0aDogL15cL2ZseVwvc2l0ZVwucGhwJC8sCiAgICBxdWVyeTogL15cP3RvPSguKykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5za2lwID4gLmJ0bicpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxpbmtcLnRsJC8sCiAgICBwYXRoOiAvW15eXShodHRwcz86XC9cLy4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKG0ucGF0aFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua1wudGwkLywKICAgIHBhdGg6IC9eXC8oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJy9mbHkvc2l0ZS5waHA/dG89JyArIG0ucGF0aFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9cLmxpbmsyZG9sbGFyXC5jb20kLywKICAgIHBhdGg6IC9eXC9cZCskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvdmFyIHJsaW5rID0gJyhbXiddKyknOy8pOwogICAgaWYgKCFtKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgbSA9IG1bMV07CiAgICAkLm9wZW5MaW5rKG0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxpbmsyeW91XC5ydSQvLAogICAgcGF0aDogL15cL1xkK1wvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gbS5wYXRoWzFdOwogICAgaWYgKCF1cmwubWF0Y2goL15odHRwcz86XC9cLy8pKSB7CiAgICAgIHVybCA9ICcvLycgKyB1cmw7CiAgICB9CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGluayg0YWR8YWpjKVwuY29tJC8sCiAgICBwYXRoOiAvXlwvKC4rKSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZCA9ICQoJ2RpdltpZF49bW9kdWxlX10nKTsKICAgIGQgPSBkLmlkLm1hdGNoKC9tb2R1bGVfKFxkKykvKTsKICAgIGQgPSBkWzFdOwogICAgJC5wb3N0KCdmb3JtLnBocD9ibG9ja19pZD0nICsgZCwgewogICAgICBjbWQ6ICdnZXRfc291cmNlJywKICAgICAgYWN0OiAnd2FpdGluZycsCiAgICAgIGlkOiBtLnBhdGhbMV0sCiAgICB9KS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgXy53YXJuKGUpOwogICAgfSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0IChvcHRzKSB7CiAgICByZXR1cm4gJC5wb3N0KCcvYWpheC9yLnBocCcsIG9wdHMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgaWYgKGRhdGEubGVuZ3RoIDw9IDEpIHsKICAgICAgICByZXR1cm4gc2VuZFJlcXVlc3Qob3B0cyk7CiAgICAgIH0KICAgICAgdmFyIGEgPSAkLnRvRE9NKGRhdGEpOwogICAgICBhID0gJCgnYScsIGEpOwogICAgICByZXR1cm4gYS5ocmVmOwogICAgfSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmxpbms1c1wuY29tJC8sCiAgICAgIHBhdGg6IC9eXC8oW15cL10rKSQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgICAkLndpbmRvdy4kID0gbnVsbDsKICAgICAgdmFyIGkgPSAkKCcjaWZyYW1lSUQnKTsKICAgICAgdmFyIG9wdHMgPSB7CiAgICAgICAgcGFnZTogbS5wYXRoWzFdLAogICAgICAgIGFkdklEOiBpLmRhdGFzZXQuY21wLAogICAgICAgIHU6IGkuZGF0YXNldC51LAogICAgICB9OwogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgc2VuZFJlcXVlc3Qob3B0cykudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICB9KTsKICAgIH0sCiAgfSk7Cn0pKCk7CihmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBDb252ZXJ0RnJvbUhleCAoc3RyKSB7CiAgICB2YXIgcmVzdWx0ID0gW107CiAgICB3aGlsZSAoc3RyLmxlbmd0aCA+PSAyKSB7CiAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoc3RyLnN1YnN0cmluZygwLCAyKSwgMTYpKSk7CiAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMiwgc3RyLmxlbmd0aCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0LmpvaW4oIiIpOwogIH0KICB2YXIgRW5jb2RlID0gZnVuY3Rpb24gKHN0cikgewogICAgdmFyIHMgPSBbXSwgaiA9IDAsIHgsIHJlcyA9ICcnLCBrID0gYXJndW1lbnRzLmNhbGxlZS50b1N0cmluZygpLnJlcGxhY2UoL1xzKy9nLCAiIik7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7CiAgICAgIHNbaV0gPSBpOwogICAgfQogICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7CiAgICAgIGogPSAoaiArIHNbaV0gKyBrLmNoYXJDb2RlQXQoaSAlIGsubGVuZ3RoKSkgJSAyNTY7CiAgICAgIHggPSBzW2ldOwogICAgICBzW2ldID0gc1tqXTsKICAgICAgc1tqXSA9IHg7CiAgICB9CiAgICBpID0gMDsKICAgIGogPSAwOwogICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdHIubGVuZ3RoOyB5KyspIHsKICAgICAgaSA9IChpICsgMSkgJSAyNTY7CiAgICAgIGogPSAoaiArIHNbaV0pICUgMjU2OwogICAgICB4ID0gc1tpXTsKICAgICAgc1tpXSA9IHNbal07CiAgICAgIHNbal0gPSB4OwogICAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzdHIuY2hhckNvZGVBdCh5KSBeIHNbKHNbaV0gKyBzW2pdKSAlIDI1Nl0pOwogICAgfQogICAgcmV0dXJuIHJlczsKICB9OwogIHZhciBob3N0UnVsZXMgPSBbCiAgICAvXigoW1x3XXs4fXx3d3cpXC4pPyhhbGxhbmFscGFzc3xjYXNoNGZpbGVzfGRyc3RpY2t5ZmluZ2Vyc3xmYXBvZmZ8ZnJlZWdheXNpdGVwYXNzfChnb25lfHR1YmUpdmlyYWx8KHBpY3x0bmEpYnVja3N8d2hhY2t5dmlkenxmdWVzdGZrYSlcLmNvbSQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT8oYVttbl15fGRlYnxkeW98c2V4cGFsYWNlKVwuZ3MkLywKICAgIC9eKChbXHddezh9fHd3dylcLik/KGZpbGVzb250aGV8cG9vbnRvd258c2VyaW91c2RlYWxzfHVsdHJhZmlsZXN8dXJsYmVhdHx6YXRuYXdxeXx6eXRwaXJ3YWl8anpycHV0dGJ1dClcLm5ldCQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT9mcmVlYW5cLnVzJC8sCiAgICAvXigoW1x3XXs4fXx3d3cpXC4pP2dhbGxlcmllc1wuYnokLywKICAgIC9eKChbXHddezh9fHd3dylcLik/aG9ybnl3b29kXC50diQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT9saW5rKGJhYmVzfGJ1Y2tzKVwuY29tJC8sCiAgICAvXigoW1x3XXs4fXx3d3cpXC4pPyhtZWdhbGluZXxtaW5pdXJsc3xxcWN8cnFxfHRpbnlsaW5rc3x5eXZ8emZmKVwuY28kLywKICAgIC9eKChbXHddezh9fHd3dylcLik/KHRoZXNlKGJsb2d8Zm9ydW0pcylcLmNvbSQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT95b3VmYXBcLm1lJC8sCiAgICAvXndhcm5pbmctdGhpcy1saW5rY29kZS13aWxsLWNlYXNlLXdvcmtpbmctc29vblwud3d3XC5saW5rYnVja3NkbnNcLmNvbSQvLAogIF07CiAgKGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGZ1bmN0aW9uIGZpbmRUb2tlbiAoY29udGV4dCkgewogICAgICB2YXIgc2NyaXB0ID0gJC5zZWFyY2hTY3JpcHRzKCcgICAgdmFyIGYgPSB3aW5kb3dbXCdpbml0XCcgKyBcJ0xiXCcgKyBcJ2pzXCcgKyBcJ1wnXScsIGNvbnRleHQpOwogICAgICBpZiAoIXNjcmlwdCkgewogICAgICAgIF8ud2FybigncGF0dGVybiBjaGFuZ2VkJyk7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIGFkdXJsID0gc2NyaXB0Lm1hdGNoKC9BZFVybFxzKjpccyonKFteJ10rKScvKTsKICAgICAgaWYgKCFhZHVybCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIGFkdXJsID0gYWR1cmxbMV07CiAgICAgIHZhciBtMSA9IHNjcmlwdC5tYXRjaCgvQWRQb3BVcmxccyo6XHMqJy4rXD9bXj1dKz0oW1x3XGRdKyknLyk7CiAgICAgIHZhciBtMiA9IHNjcmlwdC5tYXRjaCgvVG9rZW5ccyo6XHMqJyhbXHdcZF0rKScvKTsKICAgICAgdmFyIHRva2VuID0gbTFbMV0gfHwgbTJbMV07CiAgICAgIHZhciBtID0gc2NyaXB0Lm1hdGNoKC89XHMqKFxkKyk7Lyk7CiAgICAgIHZhciBhayA9IHBhcnNlSW50KG1bMV0sIDEwKTsKICAgICAgdmFyIHJlID0gL1wrXHMqKFxkKyk7L2c7CiAgICAgIHZhciB0bXAgPSBudWxsOwogICAgICB3aGlsZSgobSA9IHJlLmV4ZWMoc2NyaXB0KSkgIT09IG51bGwpIHsKICAgICAgICB0bXAgPSBtWzFdOwogICAgICB9CiAgICAgIGFrICs9IHBhcnNlSW50KHRtcCwgMTApOwogICAgICByZXR1cm4gewogICAgICAgIHQ6IHRva2VuLAogICAgICAgIGFLOiBhaywKICAgICAgICBhZHVybDogYWR1cmwsCiAgICAgIH07CiAgICB9CiAgICBmdW5jdGlvbiBzZW5kUmVxdWVzdCAodG9rZW4pIHsKICAgICAgJC5nZXQodG9rZW4uYWR1cmwpOwogICAgICBkZWxldGUgdG9rZW4uYWR1cmw7CiAgICAgIHRva2VuLmFfYiA9IGZhbHNlOwogICAgICBfLmluZm8oJ3dhaXRpbmcgdGhlIGludGVydmFsJyk7CiAgICAgIHJldHVybiBfLndhaXQoNTAwMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgXy5pbmZvKCdzZW5kaW5nIHRva2VuOiAlbycsIHRva2VuKTsKICAgICAgICByZXR1cm4gJC5nZXQoJy9pbnRlcm1pc3Npb24vbG9hZFRhcmdldFVybCcsIHRva2VuLCB7CiAgICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6IF8ubm9uZSwKICAgICAgICAgIE9yaWdpbjogXy5ub25lLAogICAgICAgIH0pOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgdmFyIGRhdGEgPSBfLnBhcnNlSlNPTih0ZXh0KTsKICAgICAgICBfLmluZm8oJ3Jlc3BvbnNlOiAlbycsIGRhdGEpOwogICAgICAgIGlmICghZGF0YS5TdWNjZXNzICYmIGRhdGEuRXJyb3JzWzBdID09PSAnSW52YWxpZCB0b2tlbicpIHsKICAgICAgICAgIF8ud2FybignZ290IGludmFsaWQgdG9rZW4nKTsKICAgICAgICAgIHJldHVybiByZXRyeSgpOwogICAgICAgIH0KICAgICAgICBpZiAoZGF0YS5BZEJsb2NrU3BvdHRlZCkgewogICAgICAgICAgXy53YXJuKCdhZGJsb2NrIHNwb3R0ZWQnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGRhdGEuU3VjY2VzcyAmJiAhZGF0YS5BZEJsb2NrU3BvdHRlZCAmJiBkYXRhLlVybCkgewogICAgICAgICAgcmV0dXJuIGRhdGEuVXJsOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiByZXRyeSAoKSB7CiAgICAgIHJldHVybiAkLmdldCh3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSwge30sIHsKICAgICAgICAnWC1Gb3J3YXJkZWQtRm9yJzogJC5nZW5lcmF0ZVJhbmRvbUlQKCksCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgZCA9ICQudG9ET00odGV4dCk7CiAgICAgICAgdmFyIHQgPSBmaW5kVG9rZW4oZCk7CiAgICAgICAgaWYgKCF0KSB7CiAgICAgICAgICByZXR1cm4gXy53YWl0KDEwMDApLnRoZW4ocmV0cnkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc2VuZFJlcXVlc3QodCk7CiAgICAgIH0pOwogICAgfQogICAgJC5yZWdpc3Rlcih7CiAgICAgIHJ1bGU6IHsKICAgICAgICBob3N0OiBob3N0UnVsZXMsCiAgICAgICAgcGF0aDogL15cL1x3K1wvdXJsXC8oLispJC8sCiAgICAgIH0sCiAgICAgIHJlYWR5OiBmdW5jdGlvbihtKSB7CiAgICAgICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgICAgICQucmVzZXRDb29raWVzKCk7CiAgICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgICAgdmFyIHVybCA9IG0ucGF0aFsxXSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7CiAgICAgICAgdmFyIG1hdGNoID0gJC5zZWFyY2hTY3JpcHRzKC9VcmxFbmNvZGVkOiAoW14sXSspLyk7CiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdID09PSAndHJ1ZScpIHsKICAgICAgICAgIHVybCA9IEVuY29kZShDb252ZXJ0RnJvbUhleCh1cmwpKTsKICAgICAgICB9CiAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICB9CiAgICB9KTsKICAgICQucmVnaXN0ZXIoewogICAgICBydWxlOiB7CiAgICAgICAgaG9zdDogaG9zdFJ1bGVzLAogICAgICB9LAogICAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAgICQud2luZG93LlhNTEh0dHBSZXF1ZXN0ID0gXy5ub3A7CiAgICAgIH0sCiAgICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgICAgICQucmVzZXRDb29raWVzKCk7CiAgICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCd2ZXJpZnknKSA+PSAwKSB7CiAgICAgICAgICB2YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKCcvdmVyaWZ5JywgJycpOwogICAgICAgICAgJC5vcGVuTGluayhwYXRoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIHRva2VuID0gZmluZFRva2VuKGRvY3VtZW50KTsKICAgICAgICBzZW5kUmVxdWVzdCh0b2tlbikudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAkLm51a2UodXJsKTsKICAgICAgICAgICQub3BlbkxpbmsodXJsKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgIH0pOwogICAgJC5yZWdpc3Rlcih7CiAgICAgIHJ1bGU6IHsKICAgICAgICBxdWVyeTogL14oLiopWz8mXV9sYkdhdGU9XGQrJC8sCiAgICAgIH0sCiAgICAgIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgICAgICQuc2V0Q29va2llKCdfbGJHYXRlUGFzc2VkJywgJ3RydWUnKTsKICAgICAgICAkLm9wZW5MaW5rKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIG0ucXVlcnlbMV0pOwogICAgICB9LAogICAgfSk7CiAgfSkoKTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXnd3d1wubGlua2RlY29kZVwuY29tJC8sCiAgICAgIC9ed3d3XC5mYXN0ZGVjb2RlXC5jb20kLywKICAgIF0sCiAgICBwYXRoOiAvXlwvJC8sCiAgICBxdWVyeTogL15cPyguKykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgbG5rID0gbS5xdWVyeVsxXTsKICAgIGlmIChtLnF1ZXJ5WzFdLm1hdGNoKC9eaHR0cHM/OlwvXC8vKSkgewogICAgCSQub3BlbkxpbmsobG5rKTsKICAgIAlyZXR1cm47CiAgICB9CiAgICB2YXIgYiA9ICQuJCgnI3BvcHVwJyk7CiAgICBpZiAoYiAmJiBiLmhyZWYpIHsKICAgICAgJC5vcGVuTGluayhiLmhyZWYpOwogICAgICByZXR1cm47CiAgICB9CiAgICBiID0gJCgnI20gPiAuVmlzaXRfTGluaycpOwogICAgYiA9IGIub25jbGljay50b1N0cmluZygpLm1hdGNoKC93aW5kb3dcLm9wZW5cKFwnKFteJ10rKVwnLyk7CiAgICBpZiAoIWIpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXIoJ3BhdHRlcm4gY2hhbmdlZCcpOwogICAgfQogICAgbG5rID0gYlsxXS5tYXRjaCgvXD8oaHR0cHM/OlwvXC8uKikkLyk7CiAgICBpZiAobG5rKSB7CiAgICAgICAgJC5vcGVuTGluayhsbmtbMV0pOwogICAgICAgIHJldHVybjsKICAgIH0KICAgICQub3BlbkxpbmsoYlsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua2RvbGFyXC54eXokLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC9eXHMqZXZhbFwoKC4rKVwpXHMqJC8pOwogICAgaWYgKCFzKSB7CiAgICAgIF8ud2Fybignc2l0ZSBjaGFuZ2VkJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHMgPSBldmFsKCcoJyArIHNbMV0gKyAnKScpOwogICAgcyA9IHMubWF0Y2goL1wkXC5wb3N0XCgnKFteJ10rKScsKFx7LitcfSksZnVuY3Rpb24vKTsKICAgIGlmICghcykgewogICAgICBfLndhcm4oJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgdmFyIHVybCA9IHNbMV07CiAgICB2YXIgYXJncyA9IGV2YWwoJygnICsgc1syXSArICcpJyk7CiAgICAkLnBvc3QodXJsLCBhcmdzKS50aGVuKGZ1bmN0aW9uICh0YXJnZXQpIHsKICAgICAgJC5vcGVuTGluayh0YXJnZXQpOwogICAgfSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL14od3d3XC4pP2xpbmtkcm9wXC5uZXQkLywKICAgICAgICAvXmRtdXNcLmluJC8sCiAgICAgICAgL151bHNoYXJlXC5uZXQkLywKICAgICAgICAvXmFkdXJsXC5pZCQvLAogICAgICAgIC9eZ29vbGlua1wubWUkLywKICAgICAgICAvXmVhcm5pbmd1cmxcLmNvbSQvLAogICAgICBdLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgICB2YXIgZiA9IGdldEZvcm0oKTsKICAgICAgaWYgKCFmKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHNlbmRSZXF1ZXN0KGYpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15zZmxua1wubWUkLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIGYgPSBnZXRGb3JtKCk7CiAgICAgIGlmICghZikgewogICAgICAgIGYgPSAkKCcjbGluay12aWV3Jyk7CiAgICAgICAgZi5zdWJtaXQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgc2VuZFJlcXVlc3QoZik7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIGdldEZvcm0gKCkgewogICAgdmFyIGpRdWVyeSA9ICQud2luZG93LiQ7CiAgICB2YXIgZiA9IGpRdWVyeSgnZm9ybVthY3Rpb249Ii9saW5rcy9nbyJdLCBmb3JtW2FjdGlvbj0iL2xpbmtzL2xpbmtkcm9wZ28iXScpOwogICAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgICByZXR1cm4gZjsKICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KICBmdW5jdGlvbiBzZW5kUmVxdWVzdCAoZikgewogICAgdmFyIGpRdWVyeSA9ICQud2luZG93LiQ7CiAgICBqUXVlcnkuYWpheCh7CiAgICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICAgIHR5cGU6ICdQT1NUJywKICAgICAgdXJsOiBmLmF0dHIoJ2FjdGlvbicpLAogICAgICBkYXRhOiBmLnNlcmlhbGl6ZSgpLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0LCBzdGF0dXMsIHhocikgewogICAgICAgIGlmIChyZXN1bHQudXJsKSB7CiAgICAgICAgICAkLm9wZW5MaW5rKHJlc3VsdC51cmwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfLndhcm4ocmVzdWx0Lm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyb3IpIHsKICAgICAgICBfLndhcm4oeGhyLCBzdGF0dXMsIGVycm9yKTsKICAgICAgfSwKICAgIH0pOwogIH0KfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15saW5rcGFpZFwubmV0JC8sCiAgICBwYXRoOiAvXlwvZ29cLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcjYnRuLW1haW4nKTsKICAgIGYuY2xpY2soKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2xpbmtwbHVnYXBwXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCcKICAgIHZhciBhID0gJCgnI21jX2VtYmVkX3NpZ251cF9zY3JvbGwgYScpCiAgICAkLm9wZW5MaW5rKGEuaHJlZikKICB9LAp9KQokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxpbmtzYXNcLnVzJC8sCiAgICBwYXRoOiAvXihcL1x3KykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgXy50cnkoMTAwMCwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVjYXB0Y2hhID0gJCgnI2ctcmVjYXB0Y2hhLXJlc3BvbnNlJyk7CiAgICAgIGlmICghcmVjYXB0Y2hhKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgaWYgKCFyZWNhcHRjaGEudmFsdWUpIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICAgIHJldHVybiByZWNhcHRjaGEudmFsdWU7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZWNhcHRjaGEpIHsKICAgICAgdmFyIHVybCA9IF8uVCgnaHR0cDovL2lwaW5mby5pby97MH0vanNvbicpKCQuZ2VuZXJhdGVSYW5kb21JUCgpKTsKICAgICAgcmV0dXJuICQuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAoaXBpbmZvKSB7CiAgICAgICAgaXBpbmZvID0gXy5wYXJzZUpTT04oaXBpbmZvKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29kZUFkczogMSwKICAgICAgICAgIGNvdW50cnk6IGlwaW5mby5jb3VudHJ5LAogICAgICAgICAgaXBBZGRyZXNzOiBpcGluZm8uaXAsCiAgICAgICAgICByZWNhcHRjaGE6IHJlY2FwdGNoYSwKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgdmFyIHRva2VuID0gJC5nZXRDb29raWUoJ1hTUkYtVE9LRU4nKTsKICAgICAgcmV0dXJuICQucG9zdCgnL2dvJyArIG0ucGF0aFsxXSwgcGF5bG9hZCwgewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ1gtWFNSRi1UT0tFTic6IHRva2VuLAogICAgICB9KTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgZGF0YSA9IF8ucGFyc2VKU09OKGRhdGEpOwogICAgICAkLm9wZW5MaW5rKGRhdGEubWVzc2FnZSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBfLndhcm4oZSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15saW5rc2FzXC51cyQvLAogICAgcGF0aDogL15cL2dvXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCcjYnRuU3VibWl0Jyk7CiAgICBpZiAoIWEpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIHVybCA9IGEuaHJlZjsKICAgIHZhciBwYXR0ZXJuID0gL2h0dHBzPzpcL1wvL2c7CiAgICB2YXIgbGFzdFVSTCA9ICcnOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoZWQgPSBwYXR0ZXJuLmV4ZWModXJsKTsKICAgICAgaWYgKCFtYXRjaGVkKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgbGFzdFVSTCA9IG1hdGNoZWQgKyB1cmwuc3Vic3RyaW5nKHBhdHRlcm4ubGFzdEluZGV4KTsKICAgIH0KICAgICQub3BlbkxpbmsobGFzdFVSTCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua3Nocmlua1wubmV0JC8sCiAgICBwYXRoOiAvXlwvW2EtekEtWjAtOV0rJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC53aW5kb3cuX2ltcHNwY2FiZSA9IDA7CiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSAkLnNlYXJjaFNjcmlwdHMoL3JldkNcKCIoW14iXSspIlwpLyk7CiAgICBsID0gYXRvYihsWzFdKTsKICAgICQub3BlbkxpbmsoJy8nICsgbCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua3Nocmlua1wubmV0JC8sCiAgICBwYXRoOiAvPSguKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuTGluayhtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2xpeC5pbi8tKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJC4kKCcjaWJkYycpOwogICAgaWYgKGkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaSA9ICQuJCgnZm9ybScpOwogICAgaWYgKGkpIHsKICAgICAgaS5zdWJtaXQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaSA9ICQoJ2lmcmFtZScpOwogICAgJC5vcGVuTGluayhpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebG5rXC5pbiQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI2RpdlJlZGlyZWN0VGV4dCBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaW5uZXJIVE1MKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14ocmQ/KWxua1wuY298cmVkdWNlbG5rXC5jb20kLywKICAgIHBhdGg6IC9eXC9bXi5dKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJC4kKCdpZnJhbWUjZGVzdCcpOwogICAgaWYgKGYpIHsKICAgICAgJC5vcGVuTGluayhmLnNyYyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIG8gPSAkLiQoJyN1cmxob2xkZXInKTsKICAgIGlmIChvKSB7CiAgICAgICQub3Blbkxpbmsoby52YWx1ZSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIG8gPSAkLiQoJyNza2lwQnRuJyk7CiAgICBpZiAobykgewogICAgICBvID0gby5xdWVyeVNlbGVjdG9yKCdhJyk7CiAgICAgICQub3Blbkxpbmsoby5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgbyA9IGRvY3VtZW50LnRpdGxlLnJlcGxhY2UoLyhMTksuY298TGlua2JlZSlccyo6XHMqLywgJycpOwogICAgJC5vcGVuTGluayhvKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXmxueFwubHUkLywKICAgICAgL151cmxcLmZtJC8sCiAgICAgIC9eelwuZ3MkLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjY2xpY2tidG4gYScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wubG9saW5lelwuY29tJC8sCiAgICBxdWVyeTogL1w/KC4rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsobS5xdWVyeVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9sb29va1wuZ2EkLywKICAgIHBhdGg6IC9eXC9cZCskLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNkb3dubG9hZF9saW5rID4gYS5idG4nKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15sb295XC5pbiQvLAogICAgcGF0aDogL15cL1Byb1wvKC4rKSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnBvc3QoJ2h0dHA6Ly9sb295LmluL0dvL0luZGV4L1Byb1NraXBBZCcsIHsKICAgICAgY29kZTogbS5wYXRoWzFdLAogICAgICBzZXJ2ZXI6ICcnLAogICAgfSkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICQub3BlbkxpbmsodXJsKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIF8ud2FybihlKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxvb3lcLmluJC8sCiAgICBwYXRoOiAvXlwvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKCcvUHJvLycgKyBtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICAnaHR0cDovL21hZGxpbmsuc2svJywKICAgICdodHRwOi8vbWFkbGluay5zay8qLmh0bWwnLAogIF0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL21hZGxpbmsuc2svKicsCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICQucG9zdCgnL2FqYXgvY2hlY2tfcmVkaXJlY3QucGhwJywgewogICAgICBsaW5rOiBtWzFdLAogICAgfSkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICAkLm9wZW5MaW5rKHRleHQpOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15tYW50W2FlXVtwYl1cLmluJC8sCiAgICAgIC9ec3RcLm9wbG92ZXJ6XC5uZXQkLywKICAgICAgL15taW5pZHJvaWRcLm5ldCQvLAogICAgICAvXnd3M1wuYXdhcmVtbXh2XC5jb20kLywKICAgICAgL15saW5rcG9pXC5pbiQvLAogICAgXSwKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2EucmVkaXJlY3QsIGFbdGFyZ2V0PV9ibGFua11bcmVsPW5vZm9sbG93XScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnN1c3V0aW5cLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC89IihbXiJdKykiLC8pOwogICAgJC5vcGVuTGluayhzWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL153d3dcLm1pamVcLm5ldCQvLAogICAgcGF0aDogL15cL1x3K1wvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gYXRvYihtLnBhdGhbMV0pOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm1pcnJvcmZpbGVob3N0XC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBfLndhaXQoMyAqIDEwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICB2YXIgZnJhbWUgPSBmcmFtZXNbMF07CiAgICAgIHZhciBmb3JtID0gZnJhbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpOwogICAgICBmb3JtLnRhcmdldCA9ICdfcGFyZW50JzsKICAgICAgZm9ybS5hY3Rpb24gPSBsb2NhdGlvbi50b1N0cmluZygpOwogICAgICB2YXIgaW5wdXQgPSBmcmFtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICBpbnB1dC52YWx1ZSA9ICdEb3dubG9hZCc7CiAgICAgIGlucHV0LnR5cGUgPSAnc3VibWl0JzsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7CiAgICAgIGZyYW1lLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7CiAgICAgIGlucHV0LmNsaWNrKCk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXm1vZVwuZ29kXC5qcCQvLAogICAgICAvXm1vZXN1YnNcLmFrdXJhcG9wb1wucHJvJC8sCiAgICAgIC9eZGxcLm5zZmtcLmluJC8sCiAgICBdCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCdkaXYgZGl2IGNlbnRlciBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebW9lc3Vic1wuY29tJC8sCiAgICBwYXRoOiAvXlwvdXJsXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnYm9keSA+IGRpdjpudGgtY2hpbGQoNCkgPiBpOm50aC1jaGlsZCgxKScpOwogICAgYSA9IGEudGV4dENvbnRlbnQ7CiAgICB2YXIgaSA9IGEubGFzdEluZGV4T2YoJ2h0dHAnKTsKICAgIGEgPSBhLnN1YnN0cihpKTsKICAgICQub3BlbkxpbmsoYSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebXQwXC5vcmckLywKICAgIHBhdGg6IC9eXC9bXlwvXStcLyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2ZyYW1lW25hbWU9Ym90dG9tXScpOwogICAgdmFyIGYgPSAkKCdmcmFtZVtuYW1lPXRvcF0nKTsKICAgIHZhciBpID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICB2YXIgYSA9ICQuJCgnZGl2IGEnLCBmLmNvbnRlbnREb2N1bWVudCk7CiAgICAgIGlmICghYSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjbGVhckludGVydmFsKGkpOwogICAgICAkLm9wZW5MaW5rKGEuaHJlZikKICAgIH0sIDEwMDApOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL215LWxpbmsucHJvLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2lmcmFtZVtzY3JvbGxpbmc9YXV0b10nKTsKICAgIGlmIChpKSB7CiAgICAgICQub3BlbkxpbmsoaS5zcmMpOwogICAgfQogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm5tYWNcLnRvJC8sCiAgICBwYXRoOiAvXlwvZG93bmxvYWRcLyguKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gYXRvYihtLnBhdGhbMV0pOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm5zZndcLmluJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjbG9uZ191cmwgYScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm51dHNoZWxsdXJsXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaWZyYW1lID0gJCgnaWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/b2hsZWVjaFwuY29tJC8sCiAgICBwYXRoOiAvXlwvZGxcLyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQud2luZG93LnN0YXJ0ZGwoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL153d3dcLm9uaVwudm4kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBkYXRhID0gJC5zZWFyY2hTY3JpcHRzKC9kYXRhOiIoW14iXSspIi8pOwogICAgaWYgKCFkYXRhKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3BhdHRlcm4gY2hhbmdlZCcpOwogICAgfQogICAgZGF0YSA9IGRhdGFbMV07CiAgICAkLmdldCgnL2NsaWNrLmh0bWwnLCBkYXRhKS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9vdW9cLihpb3xwcmVzcykkLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQoJ2Zvcm0nKS5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15veHlsXC5tZSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJC4kJCgnLmxpbmtzLWNvbnRhaW5lci5yZXN1bHQtZm9ybSA+IGEucmVzdWx0LWEnKTsKICAgIGlmIChsLnNpemUoKSA+IDEpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgJC5vcGVuTGluayhsLmF0KDApLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnBcLnB3JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5sb2NhdGlvbiA9ICIoLiopIjsvKTsKICAgIG0gPSBtWzFdOwogICAgJC5vcGVuTGluayhtKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wZGkyXC5uZXQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgcyA9ICQuc2VhcmNoU2NyaXB0cygvdG9wXC5sb2NhdGlvbiA9ICcoW14nXSspJy8pOwogICAgcyA9IHNbMV07CiAgICAkLm9wZW5MaW5rKHMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/XHcrXC5yYXBlaXRcLm5ldCQvLAogICAgcGF0aDogL15cLyhnb3xwcmVwYWlyfHJlcXVlc3R8Y29sbGVjdHxhbmFseXplKVwvW2EtZjAtOV0rJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnYSNkb3dubG9hZF9saW5rJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vcmVmZmJ1eC5jb20vcmVmZmxpbngvdmlldy8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvc2tpcF90aGlzX2FkXyhcZCspXyhcZCspLyk7CiAgICB2YXIgaWQgPSBtWzFdOwogICAgdmFyIHNoYXJlID0gbVsyXTsKICAgIHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpOwogICAgJC5wb3N0KCdodHRwOi8vcmVmZmJ1eC5jb20vcmVmZmxpbngvcmVnaXN0ZXInLCB7CiAgICAgIGlkOiBpZCwKICAgICAgc2hhcmU6IHNoYXJlLAogICAgICBmcDogMCwKICAgICAgbG9jYXRpb246IGxvY2F0aW9uLAogICAgICByZWZlcmVyOiAnJywKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgdmFyIG0gPSB0ZXh0Lm1hdGNoKC8nKFteJ10rKScvKTsKICAgICAgaWYgKCFtKSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcigncGF0dGVybiBjaGFuZ2VkJyk7CiAgICAgIH0KICAgICAgJC5vcGVuTGluayhtWzFdKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3JpY2hsaW5rLmNvbS9hcHAvd2Vic2NyP2NtZD1fY2xpY2sma2V5PSonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJ2ZyYW1lc2V0Jyk7CiAgICBmID0gZi5vbmxvYWQudG9TdHJpbmcoKTsKICAgIGYgPSBmLm1hdGNoKC91cmw9KFteJl0rKS8pOwogICAgaWYgKGYpIHsKICAgICAgZiA9IGRlY29kZVVSSUNvbXBvbmVudChmWzFdKTsKICAgIH0gZWxzZSB7CiAgICAgIGYgPSAkKCdmcmFtZVtuYW1lPXNpdGVdJyk7CiAgICAgIGYgPSBmLnNyYzsKICAgIH0KICAgICQub3BlbkxpbmsoZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vcmlqYWxpdGkuaW5mby8qLnBocCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI21haW4gdGRbYWxpZ249ImNlbnRlciJdIGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15yaXVybFwuY29tJC8sCiAgICBwYXRoOiAvXlwvLisvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC4kKCdib2R5IHNjcmlwdCcpOwogICAgaWYgKHMpIHsKICAgICAgcyA9IHMuaW5uZXJIVE1MLmluZGV4T2YoJ3dpbmRvdy5sb2NhdGlvbi5yZXBsYWNlJyk7CiAgICAgIGlmIChzID49IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgcGF0aDogewogICAgICAgIGhpZGRlbjogJzEnLAogICAgICAgIGltYWdlOiAnICcsCiAgICAgIH0sCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wcmV2aWV3XC5ybHVcLnJ1JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjY29udGVudCA+IC5sb25nX3VybCA+IGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15yb2JvXC51cyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIHVybCA9IGF0b2IoJC53aW5kb3cuZmwpOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucm9uXC52biQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzY3JpcHQgPSAkLnNlYXJjaFNjcmlwdHMoJ2xpbmtuZXh0dG9wJyk7CiAgICB2YXIgZGF0YSA9IHNjcmlwdC5tYXRjaCgvZGF0YToiKFteIl0rKSIvKTsKICAgIHZhciB1cmwgPSAkLndpbmRvdy5kb21haW4gKyAnY2xpY2suaHRtbD8nICsgZGF0YVsxXTsKICAgICQuZ2V0KHVybCwge30sIHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JywKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3NhXC5hZSQvLAogICAgcGF0aDogL15cL1x3K1wvJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoL3ZhciByZWFsX2xpbmsgPSAnKFteJ10rKSc7Lyk7CiAgICAkLm9wZW5MaW5rKG1bMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/c2FmZXVybFwuZXUkLywKICAgIHBhdGg6IC9cL1x3Ky8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGRpcmVjdFVybCA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5vcGVuXCgiKFteIl0rKSJcKTsvKTsKICAgIGlmICghZGlyZWN0VXJsKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NjcmlwdCBjb250ZW50IGNoYW5nZWQnKTsKICAgIH0KICAgIGRpcmVjdFVybCA9IGRpcmVjdFVybFsxXTsKICAgICQub3BlbkxpbmsoZGlyZWN0VXJsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXnNlZ21lbnRuZXh0XC5jb20kLywKICAgICAgL14od3d3XC4pP3ZpZGVvZ2FtZXNibG9nZ2VyLmNvbSQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9pbnRlcnN0aXRpYWxcLmh0bWwkLywKICAgIHF1ZXJ5OiAvcmV0dXJuX3VybD0oW14mXSspLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuTGluayhkZWNvZGVVUklDb21wb25lbnQobS5xdWVyeVsxXSkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/KGFwcGxvYWR6XC5ydXxzZW9tYWZpYVwubmV0KSQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgYSA9ICQoJ3RhYmxlIGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogL2h0dHA6XC9cL3NldGxpbmtzXC51c1wvKHB8dHxkKS4qLywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGsgPSAkLnNlYXJjaFNjcmlwdHMoL3dpbmRvd1wubG9jYXRpb249JyhbXiddKyknLyk7CiAgICBpZiAoaykgewogICAgICAkLm9wZW5MaW5rKGtbMV0pOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgYUxpbmtzID0gJC4kJCgnZGl2LmxpbmtzLWNvbnRhaW5lci5yZXN1bHQtZm9ybTpub3QoLnAtbGlua3MtY29udGFpbmVyKSA+IHNwYW4uZGxpbmtzID4gYScpOwogICAgaWYgKGFMaW5rcy5zaXplKCkgPT09IDEpIHsKICAgICAgJC5vcGVuTGluayhhTGlua3MuYXQoMCkuaHJlZik7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGsgPSAkKCdpbWdbYWx0PWNhcHRjaGFdJyk7CiAgICAkLmNhcHRjaGEoay5zcmMsIGZ1bmN0aW9uIChhKSB7CiAgICAgIHZhciBiID0gJCgnI2NhcHRjaGEnKTsKICAgICAgdmFyIGMgPSAkKCdpbnB1dFtuYW1lPVN1Ym1pdF0nKTsKICAgICAgYi52YWx1ZSA9IGE7CiAgICAgIGMuY2xpY2soKTsKICAgIH0pOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBhZnRlckdvdFNlc3Npb25JZCAoc2Vzc2lvbklkKSB7CiAgICB2YXIgWF9OZXdSZWxpY19JRCA9ICQuc2VhcmNoU2NyaXB0cygveHBpZDoiKFteIl0rKSIvKTsKICAgIHZhciBkYXRhID0gewogICAgICBhZFNlc3Npb25JZDogc2Vzc2lvbklkLAogICAgfTsKICAgIHZhciBoZWFkZXIgPSB7CiAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCcsCiAgICB9OwogICAgaWYgKFhfTmV3UmVsaWNfSUQpIHsKICAgICAgaGVhZGVyWydYLU5ld1JlbGljLUlEJ10gPSBYX05ld1JlbGljX0lEOwogICAgfQogICAgdmFyIGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICQuZ2V0KCcvc2hvcnRlc3QtdXJsL2VuZC1hZHNlc3Npb24nLCBkYXRhLCBoZWFkZXIpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgciA9IF8ucGFyc2VKU09OKHRleHQpOwogICAgICAgIGlmIChyLnN0YXR1cyA9PSAib2siICYmIHIuZGVzdGluYXRpb25VcmwpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaSk7CiAgICAgICAgICAkLnJlbW92ZUFsbFRpbWVyKCk7CiAgICAgICAgICB2YXIgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHIuZGVzdGluYXRpb25VcmwpOwogICAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LCAxMDAwKTsKICB9CiAgdmFyIGhvc3RSdWxlcyA9IFsKICAgIC9ec2hcLnN0JC8sCiAgICAvXihkaDEwdGhidnV8dTJrc3xqbncwfHFhYWZhfHhpdzM0fGNsbGttZXxjbGttZWlufGNvcm5lZXl8Y2Vlc3R5KVwuY29tJC8sCiAgICAvXltkZmddZXN0eXlcLmNvbSQvLAogICAgL15kaWdnXC50byQvLAogICAgL14oW3Z3XWlpZHxjbGttZSlcLm1lJC8sCiAgICAvXnNob3J0XC5lc3QkLywKICBdOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0UnVsZXMsCiAgICAgIHBhdGg6IC9eXC9mcmVlemVcLy4rLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgICAgICAgIGlmIChtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLm1hdGNoKC9hY3RpdmUvKSkgewogICAgICAgICAgICBvLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgJC5vcGVuTGluayhtdXRhdGlvbi50YXJnZXQuaHJlZik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvLm9ic2VydmUoJCgnI3NraXBfYnV0dG9uJyksIHsKICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLAogICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydjbGFzcyddLAogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IGhvc3RSdWxlcywKICAgICAgcGF0aDogL2h0dHBzPzpcL1wvLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArIHdpbmRvdy5sb2NhdGlvbi5oYXNoOwogICAgICB1cmwgPSB1cmwubWF0Y2goLyhodHRwcz86XC9cLy4qKSQvKTsKICAgICAgdXJsID0gdXJsWzFdOwogICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0UnVsZXMsCiAgICAgIHBhdGg6IC9eXC9bXGRcd10rLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAkLndpbmRvdy5faW1wc3BjYWJlID0gMDsKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvc2Vzc2lvbklkOiAiKFtcZFx3XSspIiwvKTsKICAgICAgaWYgKG0pIHsKICAgICAgICBhZnRlckdvdFNlc3Npb25JZChtWzFdKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7CiAgICAgICAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvc2Vzc2lvbklkOiAiKFtcZFx3XSspIiwvKTsKICAgICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgIG8uZGlzY29ubmVjdCgpOwogICAgICAgICAgICBhZnRlckdvdFNlc3Npb25JZChtWzFdKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIG8ub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLAogICAgICB9KTsKICAgIH0sCiAgfSk7Cn0pKCk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL14od3d3XC4pP3NoaW5rXC5pbiQvLAogICAgICAvXmZhc1wubGkkLywKICAgICAgL14od3d3XC4pP2Nyb2NvXC4obWV8c2l0ZSkkLywKICAgICAgL15jcG1saW5rXC5uZXQkLywKICAgIF0sCiAgICBwYXRoOiAvXlwvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcjc2tpcCcpOwogICAgaWYgKCEkLiQoJyNjYXB0Y2hhJykpIHsKICAgICAgZi5zdWJtaXQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIG8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgaWYgKG5vZGUubG9jYWxOYW1lID09PSAnZGl2JykgewogICAgICAgICAgICBpZiAobm9kZS5zdHlsZS56SW5kZXggPT09ICcyMTQ3NDgzNjQ3JykgewogICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICAgIG8ub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgc3VidHJlZTogdHJ1ZSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmZhc1wubGkkLywKICAgICAgICAvXmNwbWxpbmtcLm5ldCQvLAogICAgICBdLAogICAgICBwYXRoOiAvXlwvZ29cL1x3KyQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL14od3d3XC4pP2Nyb2NvXC4obWV8c2l0ZSkkLywKICAgICAgcGF0aDogL15cL29rXC9cdyskLywKICAgIH0sCiAgXSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjYnRuLW1haW4nKTsKICAgIHZhciBpID0gYS5ocmVmLmxhc3RJbmRleE9mKCdodHRwJyk7CiAgICBhID0gYS5ocmVmLnN1YnN0cihpKTsKICAgICQub3BlbkxpbmsoYSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9zaGlua1wuaW4kLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcjc2tpcCcpOwogICAgZi5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15zaG9ydFwuYW0kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBfLndhaXQoNTAwMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgICBwb3N0OiB7CiAgICAgICAgICBpbWFnZTogJ0NvbnRpbnVlJywKICAgICAgICB9LAogICAgICB9KTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eKHd3d1wuKT9zaG9ydGVudXJsXC50ayQvLAogICAgICAvXih3d3dcLik/cGVuZ2FtYW5cLmxpbmskLywKICAgICAgL151cmxnb1wuZ3MkLywKICAgICAgL15ndW50aW5nXC53ZWJcLmlkJC8sCiAgICBdLAogICAgcGF0aDogL15cL1x3KyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbCA9ICQoJ2EuYnRuLWJsb2NrLnJlZGlyZWN0Jyk7CiAgICAkLm9wZW5MaW5rKGwuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9zaG9ydGlcLmdhJC8sCiAgICBwYXRoOiBbCiAgICAgIC9eXC9cdyskLywKICAgICAgL15cL3VybF9yZWRpcmVjdG9yXC5odG1sJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJC4kJCgnZnJhbWUnKTsKICAgIHZhciBmbCA9IGYuZmluZChmdW5jdGlvbih2YWx1ZSwga2V5LCBzZWxmKSB7CiAgICAgIGlmICh2YWx1ZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICAgIHJldHVybiAnVGFyZ2V0IGZyYW1lIGZvdW5kJzsKICAgIH0pOwogICAgJC5vcGVuTGluayhmbC52YWx1ZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuc2hvcnRza2lwXC5jb20kLywKICAgIHBhdGg6IC9eXC9zaG9ydFwucGhwJC8sCiAgICBxdWVyeTogL2k9KFteJl0rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQobS5xdWVyeVsxXSk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eZ2V0XC5zaHJpbmstc2VydmljZVwuaXQkLywKICAgIHBhdGg6IC9eXC8oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IF8uVCgnLy93d3cuc2hyaW5rLXNlcnZpY2UuaXQvc2hyaW5rZWQvezB9Jyk7CiAgICAkLm9wZW5MaW5rKHVybChtLnBhdGhbMV0pKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL153d3dcLnNocmluay1zZXJ2aWNlXC5pdCQvLAogICAgcGF0aDogL15cL3Nocmlua2VkXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW5wdXRbaWRdW25hbWVdJyk7CiAgICAkLm9wZW5MaW5rKGkudmFsdWUpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuc2hyaW5rLXNlcnZpY2VcLml0JC8sCiAgICBwYXRoOiAvXlwvW3NlXVwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBpID0gJCgnYm9keSA+IGlucHV0W2lkXVtuYW1lXScpOwogICAgJC5vcGVuTGluayhpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15zaHRcLmlvJC8sCiAgICBwYXRoOiAvXlwvXGQrXC8oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB1cmwgPSBhdG9iKG0ucGF0aFsxXSk7CiAgICB1cmwgPSB1cmwubWF0Y2goL1x7c2h0LWlvXH0oLispXHtzaHQtaW9cfS4qXHtzaHQtaW9cfS8pOwogICAgJC5vcGVuTGluayh1cmxbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/c2ltaWxhcnNpdGVzXC5jb20kLywKICAgIHBhdGg6IC9eXC9nb3RvXC8oW14/XSspLwogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbCA9IG0ucGF0aFsxXTsKICAgIGlmICghL15odHRwcz86XC9cLy8udGVzdChsKSkgewogICAgICBsID0gJ2h0dHA6Ly8nICsgbDsKICAgIH0KICAgICQub3BlbkxpbmsobCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec21sbFwuaW8kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5sb2NhdGlvbj0iKFteIl0qKSI7Lyk7CiAgICAkLm9wZW5MaW5rKG1bMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuc3Bhc3RlXC5jb20kLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGlkID0gJC5zZWFyY2hTY3JpcHRzKC9ce2lkOicoXGQrKSdcfS8pOwogICAgXy53YWl0KDMwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJC5wb3N0KCcvc2l0ZS9nZXRSZWRpcmVjdExpbmsnLCB7CiAgICAgICAgaWQ6IGlkLAogICAgICB9KS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec3Jua1wuY28kLywKICAgIHBhdGg6IC9eXC9pXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCcjYnRuLXdpdGgtbGluaycpOwogICAgaWYgKCFhKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBocmVmID0gYS5ocmVmOwogICAgdmFyIG1ldGhvZCA9IGEuZGF0YXNldC5tZXRob2Q7CiAgICBpZiAobWV0aG9kKSB7CiAgICAgIHZhciBjc3JmUGFyYW0gPSAkKCdtZXRhW25hbWU9ImNzcmYtcGFyYW0iXScpLmNvbnRlbnQ7CiAgICAgIHZhciBjc3JmVG9rZW4gPSAkKCdtZXRhW25hbWU9ImNzcmYtdG9rZW4iXScpLmNvbnRlbnQ7CiAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpOwogICAgICBmb3JtLm1ldGhvZCA9ICdwb3N0JzsKICAgICAgZm9ybS5hY3Rpb24gPSBocmVmOwogICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICBpbnB1dC5uYW1lID0gJ19tZXRob2QnOwogICAgICBpbnB1dC52YWx1ZSA9IG1ldGhvZDsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7CiAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgaW5wdXQubmFtZSA9IGNzcmZQYXJhbTsKICAgICAgaW5wdXQudmFsdWUgPSBjc3JmVG9rZW47CiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pOwogICAgICBmb3JtLnN1Ym1pdCgpOwogICAgICByZXR1cm47CiAgICB9CiAgICAkLnBvc3QobG9jYXRpb24ucGF0aG5hbWUgKyAnLmpzJykudGhlbihmdW5jdGlvbiAoc2NyaXB0KSB7CiAgICAgIHZhciBtID0gc2NyaXB0Lm1hdGNoKC92YXIgbGluayA9ICIoW14iXSspIjsvKTsKICAgICAgaWYgKCFtKSB7CiAgICAgICAgXy53YXJuKCdzY3JpcHQgY2hhbmdlZCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLm9wZW5MaW5rKG1bMV0pOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec3Rhc2gtY29pbnNcLmNvbSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKTsKICAgIHZhciBpID0gdXJsLmxhc3RJbmRleE9mKCdodHRwJyk7CiAgICB1cmwgPSB1cmwuc3Vic3RyKGkpOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnN0cmVhbWluZ2ZyZW5jaFwubmV0JC8sCiAgICBwYXRoOiAvXlwvJC8sCiAgICBxdWVyeTogL15cP3hiPSguKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IGRlY29kZVVSSUNvbXBvbmVudChtLnF1ZXJ5WzFdKTsKICAgICQub3BlbkxpbmsodXJsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3N1cGVyY2hlYXRzXC5jb20kLywKICAgIHBhdGg6IC9eXC9pbnRlcnN0aXRpYWxcLmh0bWwkLywKICAgIHF1ZXJ5OiAvKD86XD98JilvbGR1cmw9KFteJl0rKSg/OiR8JikvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKG0ucXVlcnlbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXih3d3dcLik/c3lsbmtcLm5ldCQvLAogICAgICAgIC9eZGxuZWtvXC4oY29tfG5ldHxvcmcpJC8sCiAgICAgICAgL15ydW1haHNpbXBlbFwuY29tJC8sCiAgICAgIF0sCiAgICAgIHF1ZXJ5OiAvbGluaz0oW14mXSspLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT9jb21wdWxcLmluJC8sCiAgICAgIHBhdGg6IC9eXC9bbnBdXC5waHAkLywKICAgICAgcXVlcnk6IC92PShbXiZdKykvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL14od3d3XC4pP3NhZmVsaW5rYWlyXC5jb20kLywKICAgICAgcGF0aDogL15cL2NvZGUkLywKICAgICAgcXVlcnk6IC8oPzpcP3wmKWxpbms9KFthLXpBLVowLTlcLz1dKykoPzokfCYpLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmxpbmtcLmZpbG1rdVwubmV0JC8sCiAgICAgICAgL153d3dcLmhlYWx0aHlncmVzczI0XC5nYSQvLAogICAgICAgIC9ea29tYmF0Y2hcLmFtYW5rYW5cLmxpbmskLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3BcLyhnb3xoZWFsdHktbGllKVwuaHRtbCQvLAogICAgICBxdWVyeTogL15cP3VybD0oW2EtekEtWjAtOVwvPV0rKSQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogWwogICAgICAgIC9eKGdhZGdldHxhdXRvfHNwb3J0cykxNFwucHckLywKICAgICAgICAvXm1vdG9zcG9ydFwucHckLywKICAgICAgICAvXm5hci0wNFwudGskLywKICAgICAgICAvXmxpbmR1bmdcLmluJC8sCiAgICAgICAgL15tb3RvbmV3c1wuY2x1YiQvLAogICAgICAgIC9ed3dbMjNdXC5waWNuaWN0cmFuc1wuY29tJC8sCiAgICAgICAgL15nYWRnZXQxM1wuY29tJC8sCiAgICAgICAgL15hemhpZVwubmV0JC8sCiAgICAgICAgL153dzJcLmF3c3Vic1wuY28kLywKICAgICAgICAvXmF1dG9ycFwudXMkLwogICAgICBdLAogICAgICBxdWVyeTogL15cP2Q9KFthLXpBLVowLTlcLz1dKykkLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9ed3d3XC5hbmlzdWJzaWFcLnRrJC8sCiAgICAgIHBhdGg6IC9eXC9wXC9saW5rXC5odG1sJC8sCiAgICAgIHF1ZXJ5OiAvXlw/dXJsPShbYS16QS1aMC05XC89XSspJC8sCiAgICB9LAogICAgewogICAgICBob3N0OiBbCiAgICAgICAgL153d3dcLmluc3VyYW5jZTFcLnRlY2gkLywKICAgICAgICAvXnd3d1wuZnJlZWFuaW1lb25saW5lXC54eXokLywKICAgICAgXSwKICAgICAgcXVlcnk6IC9eXD9zaXRlPShbYS16QS1aMC05XC89XSspLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9eaVwuZ3RhaW5kXC5jb20kLywKICAgICAgcXVlcnk6IC9eXD8oW2EtekEtWjAtOVwvPV0rKSQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL1wuYmxvZ3Nwb3RcLmNvbT8vLAogICAgICBxdWVyeTogWwogICAgICAgIC9eXD91cmw9KFthLXpBLVowLTlcLz1dKykkLywKICAgICAgICAvXlw/aWQ9KFthLXpBLVowLTlcLz1dKykkLywKICAgICAgXSwKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9ec2VoYXRsZWdhXC5jb20kLywKICAgICAgcXVlcnk6IC9eXD9sYW5qdXQ9KFthLXpBLVowLTlcLz1dKykkLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9ec2hvcnRlblwuaWQkLywKICAgICAgcXVlcnk6IC9eXD91cmw9KFthLXpBLVowLTlcLz1dKyk9JC8sCiAgICB9LAogIF0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgcmF3TGluayA9IGF0b2IobS5xdWVyeVsxXSk7CiAgICAkLm9wZW5MaW5rKHJhd0xpbmspOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvKF58XC4pc2FmZWxpbmtjb252ZXJ0ZXIyP1wuY29tJC8sCiAgICAgICAgL15zYWZlbGluayhzP3Jldmlldyhlcik/KVwuY29tPyQvLAogICAgICAgIC9ec3VzdXRpblwuY29tJC8sCiAgICAgICAgL14oZ2V0Y29taWNzfG1pdWl0dXRvcmlhbClcLmdxJC8sCiAgICAgICAgL15hd3N1YnNcLmNmJC8sCiAgICAgICAgL15hd3N1YnNjb1wuZ2EkLywKICAgICAgXSwKICAgICAgcXVlcnk6IC9pZD0oW1x3XFxdKz0qKS8sCiAgICB9LAogICAgewogICAgICBob3N0OiBbCiAgICAgICAgL14od3d3XC4pP2RsbmVrb1wuY29tJC8sCiAgICAgICAgL14oc2F0dWFzaWF8dGF3YWt1KVwuY29tJC8sCiAgICAgICAgL153dzNcLm1hbnRlYlwuaW4kLywKICAgICAgICAvXmxpbmtcLmZpbG1rdVwubmV0JC8sCiAgICAgICAgL153d3dcLm11dWNpaFwuY29tJC8sCiAgICAgICAgL14obmFpc2hvfGZpbG1rdSlcLmxvbXBhdFwuaW4kLywKICAgICAgICAvXmVkb2dhd2FcLmxvblwucHckLywKICAgICAgICAvXnRlbG9sZXRcLmluJC8sCiAgICAgIF0sCiAgICAgIHF1ZXJ5OiAvZ289KFtcd1xcXSs9KikvLAogICAgfSwKICBdLAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSBhdG9iKG0ucXVlcnlbMV0pOwogICAgdmFyIHRhYmxlID0gewogICAgICAnISc6ICdhJywKICAgICAgJyknOiAnZScsCiAgICAgICdfJzogJ2knLAogICAgICAnKCc6ICdvJywKICAgICAgJyonOiAndScsCiAgICB9OwogICAgbCA9IGwucmVwbGFjZSgvWyEpXygqXS9nLCBmdW5jdGlvbiAobSkgewogICAgICByZXR1cm4gdGFibGVbbV07CiAgICB9KTsKICAgICQub3BlbkxpbmsobCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9zYWZlbGlua3Jldmlld1wuY29tJC8sCiAgICBwYXRoOiAvXlwvXHcrXC9jb3N0XC8oW1x3XC5dKylcLz8kLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSAnaHR0cDovLycgKyBtLnBhdGhbMV07CiAgICAkLm9wZW5MaW5rKGwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eKGRlc2lnbmluZ2hvbWV5fGFuaS1zaGFyZXxzaW5vcHNpc2ZpbG1rdSlcLmNvbSQvLAogICAgICAvXm1vdG9uZXdzXC5jbHViJC8sCiAgICAgIC9eKGF1dG9mYW5zfGxhbmRzY2FwZW5hdHVyZSlcLnB3JC8sCiAgICAgIC9eKHNpZGVzcGFjZXxlcm9nZWRvd25sb2FkKVwubmV0JC8sCiAgICBdLAogICAgcXVlcnk6IC9nZXQ9KFteJl0rKS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC92YXIgYT0nKFteJ10rKScvKTsKICAgIGlmIChzKSB7CiAgICAgICQub3Blbkxpbmsoc1sxXSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHMgPSBhdG9iKG0ucXVlcnlbMV0pOwogICAgJC5vcGVuTGluayhzKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15rb21iYXRjaFwubG9uY2F0XC5wdyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC9cLm9wZW5cKCIoW14iXSspIiwvKTsKICAgIHMgPSBzWzFdLm1hdGNoKC9nbz0oW14mXSspLyk7CiAgICBzID0gYXRvYihzWzFdKTsKICAgICQub3Blbkxpbmsocyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL153d1syM11cLnBpY25pY3RyYW5zXC5jb20kLywKICAgICAgL15zaG9ydFwuYXdzdWJzXC4oY298bWUpJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnZGl2LmtpcmkgPiBjZW50ZXIgPiBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edGVjaGZ1bmRhXC5uZXQkLywKICAgIHBhdGg6IFsKICAgICAgICAvXlwvbGlua1wvLywKICAgICAgICAvXlwvc2FmZVwvLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcuaGlkZSBhLmJ0bicpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnRoaW5maVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCdkaXYgcCBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edGlueWFycm93c1wuY29tJC8sCiAgICBwYXRoOiAvXlwvcHJldmlld1wucGhwJC8sCiAgICBxdWVyeTogL15cP3BhZ2U9KFteJl0rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoZGVjb2RlVVJJQ29tcG9uZW50KG0ucXVlcnlbMV0pKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL150b3Bsb2FkXC5wcm8kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5oaWRlIGEuYnRuJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT90b3RhbGRlYnJpZFwub3JnJC8sCiAgICBwYXRoOi9cL2xcLyhsXC5waHApPyQvLAogICAgcXVlcnk6IC9cP2Fkcz0oW2EtekEtWjAtOT1dKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSBhdG9iKG0ucXVlcnlbMV0pOwogICAgJC5vcGVuTGluayhsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3R5cFwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjc2tpcEFkQnRuJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT91bHRzaGFyZVwuY29tJC8sCiAgICBwYXRoOiAvXlwvKD86KD86XGQtKT8oXGQrKXxpbmRleFwucGhwKSQvLAogICAgcXVlcnk6IC9eKD86XD9hPVxkJmM9KFxkKykpPyQvCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsaW5rSWQgPSBtLnBhdGhbMV0/bS5wYXRoWzFdOm0ucXVlcnlbMV07CiAgICB2YXIgZGlyZWN0TGluayA9ICcvMy0nICsgbGlua0lkOwogICAgJC5vcGVuTGluayhkaXJlY3RMaW5rKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL151bmZha2VcLml0JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGZyYW1lID0gJCgnZnJhbWUnKTsKICAgIHZhciBpID0gZnJhbWUuc3JjLmxhc3RJbmRleE9mKCdodHRwOi8vJyk7CiAgICAkLm9wZW5MaW5rKGZyYW1lLnNyYy5zdWJzdHIoaSkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/KHVwYW58Z3hwKVwuc28kLywKICAgIHBhdGg6IC9eXC9cdyskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ3RhYmxlLnRkX2xpbmUgYVtvbmNsaWNrPSJkb3duX3Byb2Nlc3NfcygpOyJdJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edXJsXC5pZSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnYVt0aXRsZT0iTGluayB0byBvcmlnaW5hbCBVUkwiXScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9edXJsY2FzaFwuKGNvbXxuZXR8b3JnKSQvLAogICAgICAvXihiYXQ1fGRldG9uYXRpbmd8Y2VsZWJjbGt8ZWlnaHR0ZWVufHNtaWxpbmdsaW5rc3xwZWVrYXRteWdpcmxmcmllbmR8cG9ybnlob3N0fGNsYjF8dXJsZ2FsbGVyaWVzKVwuY29tJC8sCiAgICAgIC9ebG9vYmxlXC5uZXQkLywKICAgICAgL154eHhzXC5vcmckLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgaWYgKCQud2luZG93ICYmICQud2luZG93LmxpbmtEZXN0VXJsKSB7CiAgICAgICQub3BlbkxpbmsoJC53aW5kb3cubGlua0Rlc3RVcmwpOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgbWF0Y2hlcyA9IGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MLm1hdGNoKC9saW5rRGVzdFVybCA9ICcoLispJy8pOwogICAgaWYgKG1hdGNoZXMpIHsKICAgICAgJC5vcGVuTGluayhtYXRjaGVzWzFdKTsKICAgICAgcmV0dXJuOwogICAgfQogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnVybGlublwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkKCdNRVRBW0hUVFAtRVFVSVY9cmVmcmVzaF0nKS5nZXRBdHRyaWJ1dGUoJ0NPTlRFTlQnKS5tYXRjaCgvdXJsPScoW14nXSspJy8pOwogICAgaWYgKG0pIHsKICAgICAgJC5vcGVuTGluayhtWzFdKTsKICAgIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL151cmxtc1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGlmcmFtZSA9ICQoJyNjb250ZW50Jyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/dXJsdjJcLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ2xvY2tlZCcpID49IDApIHsKICAgICAgdmFyIHBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgnL2xvY2tlZCcsICcnKTsKICAgICAgJC5vcGVuTGluayhwYXRoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoL2pldG9uPShbXHddKykvKTsKICAgIHZhciBsID0gJ2h0dHA6Ly91cmx2Mi5jb20vYWxnby5waHA/YWN0aW9uPXBhc3NlciZweD0wJnNvPTEmamV0b249JyArIG1bMV07CiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHskLm9wZW5MaW5rKGwpfSwgNTAwMCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT91c2tpcFwubWUkLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI2J0bi1tYWluJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edmF2aVwuY28kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbCA9ICQoJyNnb0xpbmsnKTsKICAgICQub3BlbkxpbmsobC5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3ZpY3RseVwuY29tJC8sCiAgICBwYXRoOiAvXlwvXHcrJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5wb3N0KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsIHsKICAgICAgaGlkZGVuOiAnJywKICAgICAgaW1hZ2U6ICdTa2lwK0FkcycsCiAgICB9KS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgIHZhciBtID0gdGV4dC5tYXRjaCgvd2luZG93XC5sb2NhdGlvblwucmVwbGFjZVwoJyhbXiddKyknXCkvKTsKICAgICAgJC5vcGVuTGluayhtWzFdKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wudmlpZGlpXC5pbmZvJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG8gPSAkKCcjZGlyZWN0bGluaycpOwogICAgJC5vcGVuTGluayhvLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/dmlyXC5hbCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtID0gJC5zZWFyY2hTY3JpcHRzKC92YXIgdGFyZ2V0X3VybCA9ICcoW14nXSspJzsvKTsKICAgIGlmICghbSkgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdzaXRlIGNoYW5nZWQnKTsKICAgIH0KICAgICQub3BlbkxpbmsobVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT93enpxXC5tZSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHRyeSB7CiAgICAgIHZhciBsID0gJCgnI2ltZ19sb2FkaW5nX3RhYmxlMiAgZGl2Lnd6X2ltZ19oaXQgYVt0YXJnZXQ9X2JsYW5rXScpLmhyZWY7CiAgICAgICQub3BlbkxpbmsobCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICB9CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eeGxpbmtcLm1lJC8KICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNtYWluX2Zvcm0gPiBjZW50ZXIgPiBhJyk7CiAgICBpZiAoIWEpIHtyZXR1cm47fQogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3llcC5pdC9wcmV2aWV3LnBocD9wPSonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbGluayA9ICQoJ2ZvbnRbY29sb3I9ImdyZXkiXScpLmlubmVySFRNTDsKICAgICQub3BlbkxpbmsobGluayk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vd3d3Lnlvb2NsaWNrLmNvbS9sLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciB1bmlxID0gJC53aW5kb3cudW5pcSB8fCAkLndpbmRvdy51bmlxaTsKICAgIGlmICghdW5pcSkge3JldHVybjt9CiAgICB2YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKICAgIHZhciB1cmwgPSBfLlQoJ3swfT9hamF4PXRydWUmYWRibG9jaz1mYWxzZSZvbGQ9ZmFsc2UmZnJhbWVkPWZhbHNlJnVuaXE9ezF9JykocGF0aCwgdW5pcSk7CiAgICB2YXIgZ2V0VVJMID0gZnVuY3Rpb24oKSB7CiAgICAgICQuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBnb29kVVJMID0gL14oaHR0cHM/fGZ0cCk6XC9cLygoKChbYS16XXxcZHwtfFwufF98fnxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSl8KCVbXGRhLWZdezJ9KXxbIVwkJidcKFwpXCpcKyw7PV18OikqQCk/KCgoXGR8WzEtOV1cZHwxXGRcZHwyWzAtNF1cZHwyNVswLTVdKVwuKFxkfFsxLTldXGR8MVxkXGR8MlswLTRdXGR8MjVbMC01XSlcLihcZHxbMS05XVxkfDFcZFxkfDJbMC00XVxkfDI1WzAtNV0pXC4oXGR8WzEtOV1cZHwxXGRcZHwyWzAtNF1cZHwyNVswLTVdKSl8KCgoW2Etel18XGR8W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pfCgoW2Etel18XGR8W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKFthLXpdfFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKSooW2Etel18XGR8W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKSlcLikrKChbYS16XXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSl8KChbYS16XXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSkoW2Etel18XGR8LXxcLnxffH58W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKihbYS16XXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSkpKVwuPykoOlxkKik/KShcLygoKFthLXpdfFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKXwoJVtcZGEtZl17Mn0pfFshXCQmJ1woXClcKlwrLDs9XXw6fEApKyhcLygoW2Etel18XGR8LXxcLnxffH58W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pfCglW1xkYS1mXXsyfSl8WyFcJCYnXChcKVwqXCssOz1dfDp8QCkqKSopPyk/KFw/KCgoW2Etel18XGR8LXxcLnxffH58W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pfCglW1xkYS1mXXsyfSl8WyFcJCYnXChcKVwqXCssOz1dfDp8QCl8W1x1RTAwMC1cdUY4RkZdfFwvfFw/KSopPyhcIygoKFthLXpdfFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKXwoJVtcZGEtZl17Mn0pfFshXCQmJ1woXClcKlwrLDs9XXw6fEApfFwvfFw/KSopPyQvaS50ZXN0KHRleHQpOwogICAgICAgIGlmIChnb29kVVJMKSB7CiAgICAgICAgICAkLm9wZW5MaW5rKHRleHQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGdldFVSTCwgNTAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgZ2V0VVJMKCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eeXNmXC5wbCQvLAogICAgcGF0aDogL15cLzNcLyguKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IGF0b2IobS5wYXRoWzFdKTsKICAgICQub3BlbkxpbmsodXJsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL155c2ZcLnBsJC8sCiAgICBwYXRoOiAvXlwvMlwvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gbS5wYXRoWzFdLm1hdGNoKC8uezJ9L2cpLm1hcChmdW5jdGlvbiAoaCkgewogICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoLCAxNikpOwogICAgfSkuam9pbignJyk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC56aW50YXRhXC5jb20kLywKICAgIHBhdGg6IC9eXC9saW5rXC8kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNvbmUgPiBjZW50ZXI6bnRoLWNoaWxkKDMpID4gYTpudGgtY2hpbGQoMSknKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly96by5tdS9yZWRpcmVjdG9yL3Byb2Nlc3M/bGluaz0qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eenp6XC5nbCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtID0gJC5zZWFyY2hTY3JpcHRzKC92YXIgZG9tYWludXJsID0gJyhbXiddKyknOy8pOwogICAgaWYgKCFtKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgJC5vcGVuTGluayhtWzFdKTsKICB9LAp9KTsKKGZ1bmN0aW9uIChjb250ZXh0LCBmYWN0b3J5KSB7CiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbnRleHQsIEdNKSB7CiAgICAgIHZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7CiAgICAgIHZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7CiAgICAgIHZhciBkb20gPSByZXF1aXJlKCcuL2RvbS5qcycpOwogICAgICB2YXIgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcuanMnKTsKICAgICAgdmFyIGxpbmsgPSByZXF1aXJlKCcuL2xpbmsuanMnKTsKICAgICAgdmFyIG1pc2MgPSByZXF1aXJlKCcuL21pc2MuanMnKTsKICAgICAgdmFyIG1vZHVsZXMgPSBbZG9tLCBjb25maWcsIGxpbmssIG1pc2NdLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2LmNhbGwobnVsbCwgY29udGV4dCwgR00pOwogICAgICB9KTsKICAgICAgdmFyICQgPSBfLmFzc2lnbi5hcHBseShfLCBtb2R1bGVzKTsKICAgICAgcmV0dXJuIGZhY3RvcnkoY29udGV4dCwgR00sIGNvcmUsICQpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCB7CiAgICAgIGdldFJlc291cmNlVGV4dDogR01fZ2V0UmVzb3VyY2VUZXh0LAogICAgICBhZGRTdHlsZTogR01fYWRkU3R5bGUsCiAgICAgIGdldFJlc291cmNlVVJMOiBHTV9nZXRSZXNvdXJjZVVSTCwKICAgIH0sIGNvbnRleHQuXywgY29udGV4dC4kKTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKGNvbnRleHQsIEdNLCBfLCAkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICB2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7CiAgJC5vcGVuSW1hZ2UgPSBmdW5jdGlvbiAoaW1nU3JjLCBvcHRpb25zKSB7CiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgIHZhciByZXBsYWNlID0gISFvcHRpb25zLnJlcGxhY2U7CiAgICB2YXIgcmVmZXJlciA9ICEhb3B0aW9ucy5yZWZlcmVyOwogICAgaWYgKHJlcGxhY2UpIHsKICAgICAgcmVwbGFjZUJvZHkoaW1nU3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCQuY29uZmlnLnJlZGlyZWN0SW1hZ2UpIHsKICAgICAgJC5vcGVuTGluayhpbWdTcmMsIHsKICAgICAgICByZWZlcmVyOiByZWZlcmVyLAogICAgICB9KTsKICAgIH0KICB9OwogIGZ1bmN0aW9uIGVuYWJsZVNjcm9sbGluZyAoKSB7CiAgICB2YXIgbyA9IGRvY3VtZW50LmNvbXBhdE1vZGUgPT09ICdDU1MxQ29tcGF0JyA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGRvY3VtZW50LmJvZHk7CiAgICBvLnN0eWxlLm92ZXJmbG93ID0gJyc7CiAgfTsKICBmdW5jdGlvbiB0b2dnbGVTaHJpbmtpbmcgKCkgewogICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdhZHNieXBhc3Nlci1zaHJpbmtlZCcpOwogIH0KICBmdW5jdGlvbiBjaGVja1NjYWxpbmcgKCkgewogICAgdmFyIG53ID0gdGhpcy5uYXR1cmFsV2lkdGg7CiAgICB2YXIgbmggPSB0aGlzLm5hdHVyYWxIZWlnaHQ7CiAgICB2YXIgY3cgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICB2YXIgY2ggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgaWYgKChudyA+IGN3IHx8IG5oID4gY2gpICYmICF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWRzYnlwYXNzZXItcmVzaXphYmxlJykpIHsKICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhZHNieXBhc3Nlci1yZXNpemFibGUnKTsKICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhZHNieXBhc3Nlci1zaHJpbmtlZCcpOwogICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU2hyaW5raW5nKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTaHJpbmtpbmcpOwogICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2Fkc2J5cGFzc2VyLXNocmlua2VkJyk7CiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWRzYnlwYXNzZXItcmVzaXphYmxlJyk7CiAgICB9CiAgfQogIGZ1bmN0aW9uIHNjYWxlSW1hZ2UgKGkpIHsKICAgIHZhciBzdHlsZSA9IEdNLmdldFJlc291cmNlVGV4dCgnc2NhbGVJbWFnZScpOwogICAgR00uYWRkU3R5bGUoc3R5bGUpOwogICAgaWYgKGkubmF0dXJhbFdpZHRoICYmIGkubmF0dXJhbEhlaWdodCkgewogICAgICBjaGVja1NjYWxpbmcuY2FsbChpKTsKICAgIH0gZWxzZSB7CiAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNoZWNrU2NhbGluZyk7CiAgICB9CiAgICB2YXIgaDsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaCk7CiAgICAgIGggPSB3aW5kb3cuc2V0VGltZW91dChjaGVja1NjYWxpbmcuYmluZChpKSwgMTAwKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBjaGFuZ2VCYWNrZ3JvdW5kICgpIHsKICAgIHZhciBiZ0ltYWdlID0gR00uZ2V0UmVzb3VyY2VVUkwoJ2JnSW1hZ2UnKTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMyMjIyMjInOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBfLlQoJ3VybChcJ3swfVwnKScpKGJnSW1hZ2UpOwogIH0KICBmdW5jdGlvbiBhbGlnbkNlbnRlciAoKSB7CiAgICB2YXIgc3R5bGUgPSBHTS5nZXRSZXNvdXJjZVRleHQoJ2FsaWduQ2VudGVyJyk7CiAgICBHTS5hZGRTdHlsZShzdHlsZSk7CiAgfQogIGZ1bmN0aW9uIGluamVjdFN0eWxlIChkLCBpKSB7CiAgICAkLnJlbW92ZU5vZGVzKCdzdHlsZSwgbGlua1tyZWw9c3R5bGVzaGVldF0nKTsKICAgIGQuaWQgPSAnYWRzYnlwYXNzZXItd3JhcHBlcic7CiAgICBpLmlkID0gJ2Fkc2J5cGFzc2VyLWltYWdlJzsKICB9CiAgZnVuY3Rpb24gcmVwbGFjZUJvZHkgKGltZ1NyYykgewogICAgaWYgKCEkLmNvbmZpZy5yZWRpcmVjdEltYWdlKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICghaW1nU3JjKSB7CiAgICAgIF8ud2FybignZmFsc2UgdXJsJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIF8uaW5mbyhfLlQoJ3JlcGxhY2luZyBib2R5IHdpdGggYHswfWAgLi4uJykoaW1nU3JjKSk7CiAgICAkLnJlbW92ZUFsbFRpbWVyKCk7CiAgICBlbmFibGVTY3JvbGxpbmcoKTsKICAgIGRvY3VtZW50LmJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7CiAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkKTsKICAgIHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBpLnNyYyA9IGltZ1NyYzsKICAgIGQuYXBwZW5kQ2hpbGQoaSk7CiAgICBpZiAoJC5jb25maWcuYWxpZ25DZW50ZXIgfHwgJC5jb25maWcuc2NhbGVJbWFnZSkgewogICAgICBpbmplY3RTdHlsZShkLCBpKTsKICAgIH0KICAgIGlmICgkLmNvbmZpZy5hbGlnbkNlbnRlcikgewogICAgICBhbGlnbkNlbnRlcigpOwogICAgfQogICAgaWYgKCQuY29uZmlnLmNoYW5nZUJhY2tncm91bmQpIHsKICAgICAgY2hhbmdlQmFja2dyb3VuZCgpOwogICAgfQogICAgaWYgKCQuY29uZmlnLnNjYWxlSW1hZ2UpIHsKICAgICAgc2NhbGVJbWFnZShpKTsKICAgIH0KICB9OwogIHJldHVybiAkOwp9KSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IFsKICAgIHsKICAgICAgaG9zdDogL14xKGRsfGJlKVwuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cd1wucGhwJC8sCiAgICAgIHF1ZXJ5OiAvXlw/XHdcL1xkKyQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL15pbWdcLjFkbFwuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cd1wucGhwJC8sCiAgICAgIHF1ZXJ5OiAvXlw/XHdcLyhbXGRcL10rKSQvLAogICAgfSwKICBdLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5tYWluIGEsIC5tYWluLWwgYScpOwogICAgJC5vcGVuSW1hZ2UoYS5ocmVmLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14xcGljc1wucnUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgnaW1nW2FsdCQ9IjFQaWNzLlJ1Il0nKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuKDJpXC4oc2t8Y3opfDJpbWdzXC5jb20pJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyN3cmFwMyBpbWcnKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBydW4gKCkgewogICAgdmFyIGkgPSAkKCcjaW1hZ2UnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT9pbWFnZShwZWFybHxjcmVzdClcLmNvbSQvLAogICAgICBwYXRoOiAvXlwvdmVyaWZ5XC8oLispJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkxpbmsoJy92aWV3LycgKyBtLnBhdGhbMV0pOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IFsKICAgICAgJ2h0dHA6Ly8qLmFibG9hZC5kZS9pbWFnZS5waHA/aW1nPSonLAogICAgICAnaHR0cDovL3d3dy5pbWFnZXVwLnJ1LyovKi8qLmh0bWwnLAogICAgICAnaHR0cDovL2l0bWFnZXMucnUvaW1hZ2Uvdmlldy8qLyonLAogICAgICB7CiAgICAgICAgaG9zdDogL14od3d3XC4pP2ltYWdlKHBlYXJsfGNyZXN0KVwuY29tJC8sCiAgICAgICAgcGF0aDogL15cL3ZpZXdcLy8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IHJ1biwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15hdmVudWV4eHhcLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2NvbnRlbnQgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL14oYjRoZXxmdWxsaW1nKVwuY29tLywKICAgICAgL15mYXN0cGljc1wubmV0LywKICAgICAgL15pZmFwXC5jby8sCiAgICBdLAogICAgcXVlcnk6IC9eXD92PShbXiZdKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5JbWFnZSgnL2ltYWdlcy8nICsgbS5xdWVyeVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1hZ2VwMnBcLmNvbSQvLAogICAgcXVlcnk6IC9eXD92PShbXiZdKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5JbWFnZSgnL2ltYWdlcy8nICsgbS5xdWVyeVsxXSArICcuanBlZycpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmJheWltZ1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjbWFpbkltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYmVlaW1nXC5jb20kLywKICAgIHBhdGg6IC9cL3ZpZXdcLy4qLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgnaW1nLmltZy1yZXNwb25zaXZlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cuYmlsZGVyLXNwYWNlLmRlLyouaHRtJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgaW1nID0gJCgnaW1nLnBpY3R1cmUnKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5iaWxkZXItdXBsb2FkLmV1L3Nob3cucGhwP2ZpbGU9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW5wdXRbdHlwZT1pbWFnZV0nKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9ibGFja2NhdHBpeC5jb20vdi5waHA/KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCd0ZCBjZW50ZXIgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cuY2FzaW1hZ2VzLmNvbS9pbWcucGhwPyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgndGQgYSBpbWcnKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9ed3d3XC54NDV4XC5pbmZvJC8sCiAgICAgIC9eKGltYWR1bHxteXBpeHh4XC5sb25lc3Rhcm5hdWdodHlnaXJscylcLmNvbSQvLAogICAgICAvXmdoYW5haW1hZ2VzXC5jbyQvLAogICAgICAvXmltZ3VyYmFuXC5pbmZvJC8sCiAgICAgIC9eZDY5XC5pbiQvLAogICAgXSwKICAgIHF1ZXJ5OiAvXD9wW210XT0oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuSW1hZ2UoJy8/ZGk9JyArIG0ucXVlcnlbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2phdmVsaXRlLnRrL3ZpZXdlci5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgndGFibGUgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15pbWdjaGlsaVwuKGNvbXxuZXQpJC8sCiAgICAgIC9eKHd3d1wuKT9waXhob3N0XC5vcmckLywKICAgIF0sCiAgICBwYXRoOiAvXlwvc2hvd1wvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUsICNhZCcpOwogICAgdHJ5IHsKICAgICAgJCgnI2FsbCcpLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIH0gY2F0Y2ggKGUpIHsKICAgIH0KICAgIHZhciBvID0gJCgnI3Nob3dfaW1hZ2UsICNpbWFnZScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmNyZFwuaHQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJy5jb250aW51ZSA+IGZvcm0gPiBpbnB1dFtuYW1lPWxpbmtdJyk7CiAgICAkLm9wZW5JbWFnZShpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9jdWJldXBsb2FkLmNvbS9pbS8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJ2ltZy5nYWxsZXJ5QmlnSW1nJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXmRhaWx5c3NcLm5ldCQvLAogICAgICAvZGFpbHktaW1nXC5jb20kLywKICAgICAgL2ltZy0zNjVcLmNvbSQvLAogICAgICAvXjM2NS1pbWdcLmNvbSQvLAogICAgICAvXmlcLmhlbnRhaS1kZGxcLm9yZyQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9pbWFnZVwvLiskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWFnZS12aWV3ZXItY29udGFpbmVyIGltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnh4eFwucG9ybjBkYXlcLmNvbSQvLAogICAgcGF0aDogL15cL2ltYWdlXC8uKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnbGlua1tyZWxePWltYWdlX3NyY10nKTsKICAgICQub3BlbkltYWdlKGkuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15kZXBpY1wubWUkLywKICAgICAgL14od3d3XC4pP3BpY2FtYXRpY1wuY29tJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3BpYycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltZyhkaW5vfHRpZ2VyfHphcClcLmNvbSQvLAogICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICBxdWVyeTogL15cP2ZpbGU9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbyA9ICQoJyNjdXJzb3JfbHVwYScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovLyouZGlyZWN0dXBsb2FkLm5ldC9maWxlLyouaHRtJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjSW1nRnJhbWUnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15laGR3YWxscGFwZXJzXC5vcmckLywKICAgIHBhdGg6IC9eXC9pbWFnZXNcLy4qJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcuZW50cnktY29udGVudC5jbGVhcmZpeCBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogWwogICAgewogICAgICBob3N0OiBbCiAgICAgICAgL14oZW1wdHlwaXh8aW1nZG9taW5vKVwuY29tJC8sCiAgICAgICAgL15vdmVyZHJlYW1cLmN6JC8sCiAgICAgICAgL153d3dcLnNleHNlZWltYWdlXC5jb20kLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL2ltYWdlXC8vLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL14xMFwuaW1hZ2VsZW9uXC5jb20kLywKICAgICAgcGF0aDogL15cL2ltZy0oLispXC5odG1sJC8sCiAgICB9LAogIF0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCcjZnVsbF9pbWFnZScpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec2V4eXhwaXhlbHNcLmNvbSQvLAogICAgcXVlcnk6IC9eXD92PS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyNmdWxsX2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15mYXN0cGljXC5ydSQvLAogICAgcGF0aDogL15cL3ZpZXdcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyNwaWNDb250YWluZXIgI2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cuZm90b2xpbmsuc3Uvdi5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2NvbnRlbnQgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vd3d3LmZvdG9zaWsucGwvcG9rYXpfb2JyYXplay9wZWxueS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2Eubm9ib3JkZXIgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15mcmVha2ltYWdlXC5jb20kLywKICAgICAgL153d3dcLmhvc3RwaWNcLm9yZyQvLAogICAgXSwKICAgIHBhdGg6IC9eXC92aWV3XC5waHAkLywKICAgIHF1ZXJ5OiAvXlw/ZmlsZW5hbWU9KFteJl0rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkltYWdlKCcvaW1hZ2VzLycgKyBtLnF1ZXJ5WzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2ZyZWVpbWd1cFwuY29tJC8sCiAgICBwYXRoOiAvXlwveHh4XC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCcjbWFpbmltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogWwogICAgJ2h0dHA6Ly9mdW5reWltZy5jb20vdmlld2VyLnBocD9pbWc9KicsCiAgICAnaHR0cDovL2Z1bmt5aW1nLmNvbS92aWV3LyonLAogIF0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3ZpZXdlciBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2dhbGxlcnkobm92YXxzZW5zZSlcLnNlJC8sCiAgICBwYXRoOiAvXlwvc2l0ZVwvdlwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNteVVuaXF1ZUltZycpLnBhcmVudE5vZGU7CiAgICAkLm9wZW5JbWFnZShpLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/Z2FsbGVyeW5vdmFcLnNlJC8sCiAgICBwYXRoOiAvXlwvc2l0ZVwvdmlld0ltYWdlXC8oXHcrKS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBjb25maXJtID0gJC5zZWFyY2hTY3JpcHRzKC9cJFwoIiNjb25maXJtSW1hZ2UiXCkudmFsXCgiKFteIl0rKSJcKS8pWzFdOwogICAgJC5wb3N0KCcvc2l0ZS92aWV3Q29uZmlybUNvZGUvJyArIG0ucGF0aFsxXSwgewogICAgICBjb25maXJtOiBjb25maXJtCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyYXdKc29uKSB7CiAgICAgIHZhciBqc29uID0gXy5wYXJzZUpTT04ocmF3SnNvbik7CiAgICAgIHZhciBkZWNvZGVkSFRNTCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGpzb24uY29udGVudCkuZGF0YTsKICAgICAgdmFyIGltZ1VSTCA9IGRlY29kZWRIVE1MLm1hdGNoKC88YSBocmVmPSIoW14iXSspIiB0YXJnZXQ9Il9ibGFuayI+LylbMV07CiAgICAgICQub3BlbkltYWdlKGltZ1VSTCk7CiAgICB9KTsKICB9LAp9KTsKKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CiAgdmFyIGhvc3RSdWxlID0gL15nb2ltYWdlaG9zdFwuY29tJC87CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IGhvc3RSdWxlLAogICAgICBwYXRoOiAvXlwveHh4XC9pbWFnZXNcLy8sCiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0UnVsZSwKICAgICAgcGF0aDogL15cL3h4eFwvKC4rKS8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkltYWdlKCcveHh4L2ltYWdlcy8nICsgbS5wYXRoWzFdKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IGhvc3RSdWxlLAogICAgICBxdWVyeTogL15cP3Y9KC4rKS8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkltYWdlKCcveHh4L2ltYWdlcy8nICsgbS5xdWVyeVsxXSk7CiAgICB9LAogIH0pOwp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuKGgtYW5pbWVzfGFkdWx0bW92ZSlcLmluZm8vLAogICAgcGF0aDogL15cLy4rXC8uK1wvLitcLmh0bWwkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5kbGJ1dHRvbjIgPiBhJyk7CiAgICAkLm9wZW5JbWFnZShhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2hlbnRhaW1nLmNvbS9tZy9sbmRleC0xLnBocD9pbWc9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJ2luZGV4LTEucGhwJyArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2hlbnRhaW1nLmNvbS9tZy9pbmRleC0xLnBocD9pbWc9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2NvbnRlbnQgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vd3d3Lmhvc3RpbmdwaWNzLm5ldC92aWV3ZXIucGhwP2lkPSonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWdfdmlld2VyJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vaWZvdG9zLnBsL3pvYmFjei8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkKCdtZXRhW3Byb3BlcnR5PSJvZzppbWFnZSJdJyk7CiAgICAkLm9wZW5JbWFnZShtLmNvbnRlbnQpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltYVwuc28kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNpbWFnZV9ibG9jayBhJyk7CiAgICAkLm9wZW5JbWFnZShhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICAnaHR0cDovL2ltYWdlMTgub3JnL3Nob3cvKicsCiAgICAnaHR0cDovL3NjcmVlbmxpc3QucnUvZGV0YWlscy5waHA/aW1hZ2VfaWQ9KicsCiAgICAnaHR0cDovL3d3dy5pbWFnZW5ldHouZGUvKi8qLmh0bWwnLAogIF0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCcjcGljdHVyZScpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1hZ2UyeW91XC5ydSQvLAogICAgcGF0aDogL15cL1xkK1wvXGQrLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnZGl2LnRfdGlwczIgZGl2ID4gaW1nJyk7CiAgICBpZiAoIWkpIHsKICAgICAgJC5vcGVuTGluaygnJywgewogICAgICAgIHBvc3Q6IHsKICAgICAgICAgIF9jb25maXJtOiAnJywKICAgICAgICB9LAogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2ltYWdlYXJuLmNvbS9pbWFnZS5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2ltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5pbWFnZWJhbS5jb20vaW1hZ2UvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBvID0gJCgnLmltYWdlLWNvbnRhaW5lciBpbWdbaWRdJyk7CiAgICAkLm9wZW5JbWFnZShvLnNyYywgewogICAgICByZXBsYWNlOiB0cnVlLAogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15pbWFnZWhlbGlcLmNvbSQvLAogICAgICAvXmltZ3R1YmVcLm5ldCQvLAogICAgICAvXnBpeGxpdlwuY29tJC8sCiAgICBdLAogICAgcGF0aDogL15cL2ltZy0oW2EtekEtWjAtOVwtXSspXC4uKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCdhW3JlbD0ibGlnaHRib3giXScpOwogICAgaWYgKCFhKSB7CiAgICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgICBwb3N0OiB7CiAgICAgICAgICBicm93c2VyX2ZpbmdlcnByaW50OiAnJywKICAgICAgICAgIGFkczogJzAnLAogICAgICAgIH0sCiAgICAgIH0pOwogICAgICByZXR1cm47CiAgICB9CiAgICAkLm9wZW5JbWFnZShhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5pbWFnZWhvdXNpbmcuY29tL2ltYWdlLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ3RkLnRleHRfaXRlbSBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pbWFnZW5vLmNvbS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWFnZV9kaXYgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vaW1hZ2VwaXgub3JnL2ltYWdlLyouaHRtbCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nW2JvcmRlcj0iMCJdJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIHJ1biAoKSB7CiAgICB2YXIgbyA9ICQoJyNkb3dubG9hZF9ib3ggaW1nW2lkXScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL153d3dcLmltYWdlcG9ydGVyXC5jb20kLywKICAgICAgcGF0aDogL15cL1x3ezEyfVwvLipcLmh0bWwkLywKICAgIH0sCiAgICByZWFkeTogcnVuLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXih3d3dcLik/KGltYWdlKGNhcnJ5fGR1bmt8cG9ydGVyfHN3aXRjaCl8cGljKGxlZXR8dHVyZWRpcHx0dXJldHVybil8aW1nc3BpY2UpXC5jb218KHBpY2xhbWJvfHlhbmtvaW1hZ2VzKVwubmV0JC8sCiAgICB9LAogICAgcmVhZHk6IHJ1biwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogWwogICAgewogICAgICBob3N0OiAvXmltYWdlc2NyZWFtXC5jb20kLywKICAgICAgcGF0aDogL15cL2ltZ1wvKHNvZnRcLyk/LywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT8ocGljdHVyZXNjcmVhbXxwaWN0dXJldmlwKVwuY29tJC8sCiAgICAgIHBhdGg6IC9eXC94XC8vLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogWwogICAgICAgIC9ecGljdHVyZXNjcmVhbVwuYXNpYSQvLAogICAgICAgIC9edXBsb2FkaW1hZ2VcLmV1JC8sCiAgICAgIF0sCiAgICB9LAogICAgewogICAgICBob3N0OiAvXnBvc3RzY3JlZW5zXC5pbmZvLywKICAgICAgcGF0aDogL15cLy4qLywKICAgIH0sCiAgXSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjc2hvcnRVUkwtY29udGVudCBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXihpbWFnZXNjcmVhbXxhbm9ucGljKVwuY29tJC8sCiAgICAgIC9eYWxsLXBvc3RlclwucnUkLywKICAgIF0sCiAgICBxdWVyeTogL15cP3Y9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWFnZW4gaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYnVubnlmb3J1bVwub3JnJC8sCiAgICBxdWVyeTogL15cP3Y9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2ltZ1t0aXRsZV49Q2xpY2tdJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBob3N0ID0gL15pbWFnZXNoYWNrXC51cyQvOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0LAogICAgICBwYXRoOiAvXlwvcGhvdG9cLy4rXC8oLispXC8oW15cL10rKS8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkltYWdlKF8uVCgnL2YvezB9L3sxfS8nKShtLnBhdGhbMV0sIG0ucGF0aFsyXSkpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogaG9zdCwKICAgICAgcGF0aDogL15cL2ZcLy4rXC9bXlwvXSsvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gJCgnI2Z1bGxpbWcnKTsKICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgfSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pbWFnZXNob3N0LnJ1L3Bob3RvLyovaWQqLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNicGhvdG8gYScpOwogICAgJC5vcGVuSW1hZ2UoYS5ocmVmKTsKICB9LAp9KTsKKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CiAgZnVuY3Rpb24gcnVuICgpIHsKICAgIHZhciBpID0gJCgnI2ltZ19vYmonKTsKICAgICQub3BlbkltYWdlKGkuc3JjLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcnVuMiAoKSB7CiAgICB2YXIgaSA9ICQoJyNpbWdfb2JqJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYywgewogICAgICByZXBsYWNlOiB0cnVlLAogICAgfSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogWwogICAgICB7CiAgICAgICAgaG9zdDogWwogICAgICAgICAgL153d3dcLihmcmVlYnVua2VyfGltZ2NhcnJ5fGltZ3Nob3RzKVwuY29tJC8sCiAgICAgICAgICAvXnd3d1wuaW1hZ2VzbmFrZVwuKGNvbXxvcmcpJC8sCiAgICAgICAgXSwKICAgICAgICBwYXRoOiAvXlwvc2hvd1wucGhwJC8sCiAgICAgICAgcXVlcnk6IC9eXD8vLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogL153d3dcLihmcmVlYnVua2VyfGltZ3Nob3RzKVwuY29tJC8sCiAgICAgICAgcGF0aDogL15cL3Nob3dcLy8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiBbCiAgICAgICAgICAvXnd3d1wuaW1hZ2VzbmFrZVwuKGNvbXxvcmcpJC8sCiAgICAgICAgICAvXnd3d1wuaW1hZ2VmcnVpdFwuY29tJC8sCiAgICAgICAgXSwKICAgICAgICBwYXRoOiAvXlwvKGltZ3xzaG93KVwvLisvLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogL15pbWFnZWJhblwuKHJ1fG5ldCkkLywKICAgICAgICBwYXRoOiAvXlwvc2hvd1wvXGR7NH1cL1xkezJ9XC9cZHsyfVwvLisvLAogICAgICB9LAogICAgICAnaHR0cDovL2ZvdG9vLnBsL3Nob3cucGhwP2ltZz0qLmh0bWwnLAogICAgICB7CiAgICAgICAgaG9zdDogL153d3dcLihmb3Rvc3pva1wucGx8aW1hZ2VzdGltZSlcLmNvbSQvLAogICAgICAgIHBhdGg6IC9eXC9zaG93XC5waHBcLy4qXC5odG1sJC8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IHJ1biwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL153d3dcLmltZ2NhcnJ5XC5jb20kLywKICAgICAgcGF0aDogL15cL3Nob3dcLy8sCiAgICB9LAogICAgcmVhZHk6IHJ1bjIsCiAgfSk7Cn0pKCk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIHJ1biAocnApIHsKICAgIGlmICgkLndpbmRvdy5qUXVlcnkpIHsKICAgICAgJC53aW5kb3cualF1ZXJ5LnByb3RvdHlwZS5hcHBlbmQgPSB1bmRlZmluZWQ7CiAgICB9CiAgICB2YXIgaSA9ICQoJ2ltZy5waWMnKTsKICAgICQub3BlbkltYWdlKGkuc3JjLCB7CiAgICAgIHJlcGxhY2U6IHJwLAogICAgfSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltYWdlbnBpY1wuY29tJC8sCiAgICAgIHBhdGg6IC9eXC8uKlwvLitcLmh0bWw/JC8sCiAgICB9LAogICAgcmVhZHk6IF8uUChydW4sIHRydWUpLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltYWdlY2hlcnJ5XC5jb20kLywKICAgIH0sCiAgICByZWFkeTogXy5QKHJ1biwgdHJ1ZSksCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1hZ2V0d2lzdFwuY29tJC8sCiAgICB9LAogICAgcmVhZHk6IF8uUChydW4sIGZhbHNlKSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pbWFnZXVwcGVyLmNvbS9pLz8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IFsKICAgICdodHRwOi8vKi5pbWFnZXZlbnVlLmNvbS9pbWcucGhwPyonLAogICAgJ2h0dHA6Ly9ob3RjaHl4LmNvbS9kL2FkdWx0LWltYWdlLWhvc3Rpbmctdmlldy0wOC5waHA/aWQ9KicsCiAgICAnaHR0cDovL3d3dy5ob3N0aW5nZmFpbG92LmNvbS9waG90by8qJywKICBdLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyN0aGVwaWMnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWFnZXppbGxhXC5uZXQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNwaG90bycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMsIHsKICAgICAgcmVmZXJlcjogdHJ1ZSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltYWdpa1wuZnIkLywKICAgIHBhdGg6IC9eXC92aWV3KC1ybCk/XC8oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuSW1hZ2UoJy91cGxvYWRzLycgKyBtLnBhdGhbMl0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2ltZy4zZXp5Lm5ldC8qLmh0bScsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJCgnbGlua1tyZWw9ImltYWdlX3NyYyJdJyk7CiAgICAkLm9wZW5JbWFnZShsLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2ltZzEuaW1hZ2lsaXZlLmNvbS8qLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQuJCgnI3BhZ2UgYS5idXR0b24nKTsKICAgIGlmIChhKSB7CiAgICAgICQucmVkaXJlY3QoYS5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGkgPSAkKCcjcGFnZSA+IGltZzpub3QoW2lkXSknKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWcyNFwub3JnJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkLiQoJ2ltZy5pbWctcG9sYXJvaWQgKyBmb3JtJyk7CiAgICBpZiAoZikgewogICAgICBmLnN1Ym1pdCgpOwogICAgICByZXR1cm47CiAgICB9CiAgICBmID0gJCgnaW1nLmltZy1wb2xhcm9pZCcpOwogICAgJC5vcGVuSW1hZ2UoZi5zcmMsIHsKICAgICAgcmVmZXJlcjogdHJ1ZSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltZzN4XC5uZXQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQuJCgnZm9ybScpOwogICAgaWYgKGYpIHsKICAgICAgZi5zdWJtaXQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZiA9ICQoJyNzaG93X2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShmLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5pbWcoYmFiZXN8ZmxhcmUpXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnaW5wdXRbb25jbGlja10nKTsKICAgIGlmIChpKSB7CiAgICAgICQud2luZG93LkRlY29kZSgpOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgaSA9ICQoJyN0aGlzX2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1nYmFyXC5uZXQkLywKICAgIHBhdGg6IC9eXC9pbWdfc2hvd1wucGhwJC8sCiAgICBxdWVyeTogL15cP3ZpZXdfaWQ9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2NlbnRlciBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdiYXJcLm5ldCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnZGl2LnBhbmVsLnRvcCBmb3JtIGlucHV0W25hbWU9c2lkXScpOwogICAgJC5vcGVuTGluaygnL2ltZ19zaG93LnBocD92aWV3X2lkPScgKyBpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdiaW5cLm1lJC8sCiAgICBwYXRoOiAvXlwvdmlld1wvKFtBLVpdKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHRwbCA9IF8uVCgnL2ltYWdlL3swfS5qcGcnKTsKICAgICQub3BlbkltYWdlKHRwbChtLnBhdGhbMV0pKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdib3hcLmNvbSQvLAogICAgcGF0aDogL15cL1tcZFx3XSskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBpID0gJCgnI2ltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBoZWxwZXIgKGRvUmVwbGFjZSkgewogICAgaWYgKCQud2luZG93LmNvbmZpcm1BZ2UpIHsKICAgICAgJC53aW5kb3cuY29uZmlybUFnZSgxKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGkgPSAkKCcjY29udGFpbmVyLWhvbWUgaW1nW29uY2xpY2tdJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYywgewogICAgICByZXBsYWNlOiBkb1JlcGxhY2UsCiAgICB9KTsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmltZyhmYW50YXN5fGxlZWNofFwucG9ybmxlZWNofHNtaWxlfG5lbW98c2Vuc2V8Y3VybClcLmNvbSQvLAogICAgICAgIC9eKGltYWdlZG9taW5vfGxvdmVjaGl4fGltYWdlYmljKVwuY29tJC8sCiAgICAgICAgL14waW1nXC5uZXQkLywKICAgICAgICAvXmRhaWx5LWltZ1wuY29tJC8sCiAgICAgICAgL15waWNhbmdlbFwuaW4kLywKICAgICAgICAvXmJ1bm55Zm9ydW1cLm9yZyQvLAogICAgICBdLAogICAgICBxdWVyeTogL15cP1twdl09LywKICAgIH0sCiAgICByZWFkeTogXy5QKGhlbHBlciwgZmFsc2UpLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltZ3NheVwuY29tJC8sCiAgICAgIHF1ZXJ5OiAvXlw/W3B2XT0vLAogICAgfSwKICAgIHJlYWR5OiBfLlAoaGVscGVyLCB0cnVlKSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdsb2NrZXJcLmNvbSQvLAogICAgcGF0aDogWwogICAgICAvXihcL1x3KylcLyguKylcLmh0bWwkLywKICAgICAgL14oXC9cdyspXC8oLispJC8sCiAgICBdLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gXy5UKCcvL2ltZy5pbWdsb2NrZXIuY29tezB9X3sxfScpOwogICAgJC5vcGVuSW1hZ2UodXJsKG0ucGF0aFsxXSwgbS5wYXRoWzJdKSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15pbWdub3ZhXC54eXokLywKICAgICAgL153d3dcLmhlbnRhaS1ob3RcLnh5eiQvLAogICAgICAvXnd3d1wuaGVudGFpLWtpbmdcLm9ubGluZSQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9pXC8uK1wucGhwJC8sCiAgICBxdWVyeTogL2Y9KC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5JbWFnZSgnZi8nICsgbS5xdWVyeVsxXSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBQQVRIX1JVTEUgPSAvXlwvKFswLTlhLXpBLVpdKykoXC58XC98JCkvOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL15pbWcodW5pdmVyc2FsfHBheWluZ3xtZWdhfHpldXN8bW9ua2V5fHRyZXh8dmV8ZGV3fGRpYW1vbmQpXC5jb20kLywKICAgICAgICAvXih3d3dcLik/aW1nc2VlXC5tZSQvLAogICAgICAgIC9eaW1nKGNsaWNrfG1haWQpXC5uZXQkLywKICAgICAgICAvXih1cGxvYWRycnxpbWFnZWVlcnxpbXpkcm9wfHd3d1wudWltZ3NoYXJlfHBpYy1tYW5pYWN8aHVsa2ltZ2UpXC5jb20kLywKICAgICAgICAvXmltZ2RyaXZlXC5jbyQvLAogICAgICAgIC9eY3V0ZWltZ1wuY2MkLywKICAgICAgICAvXmltZyh0aWdlcnxnb2xkKVwub3JnJC8sCiAgICAgICAgL15teWltZ1wuY2x1YiQvLAogICAgICAgIC9eZm94eWltZ1wubGluayQvLAogICAgICAgIC9eKGNvcmV8aXJvbilpbWdcLm5ldCQvLAogICAgICBdLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIGhlbHBlcihtLnBhdGhbMV0sIGdldE5leHQxKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmltZ3ZpZXdcLm5ldCQvLAogICAgICAgIC9eaW1nKG1hemV8b3V0bGV0KVwuY29tJC8sCiAgICAgIF0sCiAgICAgIHBhdGg6IFBBVEhfUlVMRSwKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgaSA9ICQuJCgnaW1nLnBpYycpOwogICAgICBpZiAoaSkgewogICAgICAgICQub3BlbkltYWdlKGkuc3JjKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGQgPSAkKCdkaXZbaWRePSJpbWFnZXZpZXdpIl0nKTsKICAgICAgd2FpdERPTShkLCBmdW5jdGlvbiAobm9kZSkgewogICAgICAgIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnRk9STScgJiYgJC4kKCdpbnB1dFtuYW1lPSJpZCJdJywgbm9kZSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICBub2RlLnN1Ym1pdCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF8ud2FybihlKTsKICAgICAgfSk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltZyhyb2NrfHRvd24pXC5uZXQkLywKICAgICAgcGF0aDogUEFUSF9SVUxFLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gJC4kKCdpbWcucGljJyk7CiAgICAgIGlmIChpKSB7CiAgICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBnZXRBbWJpZ3VvdXNGb3JtKCd0ZDpudGgtY2hpbGQoMikgPiBjZW50ZXIgPiBkaXZbaWRdJykudGhlbihmdW5jdGlvbiAobm9kZSkgewogICAgICAgIG5vZGUuc3VibWl0KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgXy53YXJuKGUpOwogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1nb3V0bGV0XC5jbyQvLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSAkLiQoJ2ltZy5waWMnKTsKICAgICAgaWYgKGkpIHsKICAgICAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGdldEFtYmlndW91c0Zvcm0oJy5pbm5lciA+IGNlbnRlciA+IGRpdltpZF0nKS50aGVuKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgbm9kZS5zdWJtaXQoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfLndhcm4oZSk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15jaHJvbm9zXC50byQvLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIGhlbHBlcihtLnBhdGhbMV0sIGdldE5leHQyKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1nZmlsZXNcLm9yZyQvLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIHZhciBpID0gJC4kKCdpbWcucGljJyk7CiAgICAgIGlmIChpKSB7CiAgICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgZiA9ICQoJ2Zvcm0nKTsKICAgICAgZi5zdWJtaXQoKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiAnaHR0cDovL2ltZ3ZpZXcubmV0L3RwaW5kLnBocCcsCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgaSA9ICQuJCgnaW1nLnBpYycpOwogICAgICBpZiAoaSkgewogICAgICAgICQub3BlbkltYWdlKGkuc3JjLCB7cmVwbGFjZTogdHJ1ZX0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBfLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZCA9ICQoJ2RpdltpZF49ImltYWdldmlld2kiXSBpbnB1dFt0eXBlPSJzdWJtaXQiXVtzdHlsZT0iIl0nKTsKICAgICAgICBkID0gZC5wYXJlbnROb2RlOwogICAgICAgIGQuc3VibWl0KCk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IC9eaHR0cDpcL1wvaW1nZHJhZ29uXC5jb21cLyhnZXRmaWxcLnBocHxkbCkkLywKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gJC4kKCdpbWcucGljJyk7CiAgICAgIGlmIChpKSB7CiAgICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBfLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZiA9ICQoJyNDb250aW51ZUZSTScpOwogICAgICAgIGYuc3VibWl0KCk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICBmdW5jdGlvbiB3YWl0RE9NIChlbGVtZW50LCBmbikgewogICAgcmV0dXJuIF8uRChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlICE9PSAnY2hpbGRMaXN0JykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgcmVzdWx0ID0gXy5DKG11dGF0aW9uLmFkZGVkTm9kZXMpLmZpbmQoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICAgIHJldHVybiBmbihjaGlsZCkgPyBjaGlsZCA6IF8ubm9uZTsKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKCFyZXN1bHQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgICAgICAgcmVzb2x2ZShyZXN1bHQucGF5bG9hZCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHsKICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgIH0pOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGdldEFtYmlndW91c0Zvcm0gKHNlbGVjdG9yKSB7CiAgICB2YXIgZCA9ICQoc2VsZWN0b3IpOwogICAgdmFyIHZpc2libGVDbGFzc2VzID0gbnVsbDsKICAgIHJldHVybiB3YWl0RE9NKGQsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIGlmIChub2RlLm5vZGVOYW1lID09PSAnU1RZTEUnKSB7CiAgICAgICAgdmlzaWJsZUNsYXNzZXMgPSBwYXJzZVN0eWxlKG5vZGUpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ0ZPUk0nICYmIG5vZGUub2Zmc2V0UGFyZW50ICE9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHZpc2libGVDbGFzc2VzLnNvbWUoZnVuY3Rpb24gKGNsYXNzXykgewogICAgICAgICAgdmFyIGlzVmlzaWJsZSA9IG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzXyk7CiAgICAgICAgICBpZiAoIWlzVmlzaWJsZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYnV0dG9uID0gJC4kKCdpbnB1dFt0eXBlPSJzdWJtaXQiXScsIG5vZGUpOwogICAgICAgICAgaWYgKCFidXR0b24pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSc7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHBhcnNlU3R5bGUgKHN0eWxlKSB7CiAgICBzdHlsZSA9IHN0eWxlLnRleHRDb250ZW50OwogICAgdmFyIHBhdHRlcm4gPSAvXC4oXHcrKVx7dmlzaWJpbGl0eTppbml0aWFsO1x9L2c7CiAgICB2YXIgcnYgPSBudWxsOwogICAgdmFyIGNsYXNzZXMgPSBbXTsKICAgIHdoaWxlICgocnYgPSBwYXR0ZXJuLmV4ZWMoc3R5bGUpKSAhPT0gbnVsbCkgewogICAgICBjbGFzc2VzLnB1c2gocnZbMV0pOwogICAgfQogICAgcmV0dXJuIGNsYXNzZXM7CiAgfQogIGZ1bmN0aW9uIGdvIChpZCwgcHJlLCBuZXh0KSB7CiAgICAkLm9wZW5MaW5rKCcnLCB7CiAgICAgIHBvc3Q6IHsKICAgICAgICBvcDogJ3ZpZXcnLAogICAgICAgIGlkOiBpZCwKICAgICAgICBwcmU6IHByZSwKICAgICAgICBuZXh0OiBuZXh0LAogICAgICAgIGFkYjogJzAnLAogICAgICB9LAogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGdldE5leHQxIChpKSB7CiAgICByZXR1cm4gaS52YWx1ZTsKICB9CiAgZnVuY3Rpb24gZ2V0TmV4dDIgKGkpIHsKICAgIHZhciBuZXh0ID0gaS5vbmNsaWNrICYmIGkub25jbGljay50b1N0cmluZygpLm1hdGNoKC92YWx1ZT0nKFteJ10rKScvKTsKICAgIGlmIChuZXh0KSB7CiAgICAgIG5leHQgPSBuZXh0WzFdOwogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBpLnZhbHVlOwogICAgfQogIH0KICBmdW5jdGlvbiBoZWxwZXIgKGlkLCBnZXROZXh0KSB7CiAgICB2YXIgcmVjYXB0Y2hhID0gJC4kKCcjcmVjYXB0Y2hhX3dpZGdldCwgI2NhcHRjaGEnKTsKICAgIGlmIChyZWNhcHRjaGEpIHsKICAgICAgXy5pbmZvKCdzdG9wIGJlY2F1c2UgcmVjYXB0Y2hhJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBpID0gJC4kKCdpbnB1dFtuYW1lPSJuZXh0Il0nKTsKICAgIGlmIChpKSB7CiAgICAgIHZhciBuZXh0ID0gZ2V0TmV4dChpKTsKICAgICAgZ28oaWQsICQoJ2lucHV0W25hbWU9InByZSJdJykudmFsdWUsIG5leHQpOwogICAgICByZXR1cm47CiAgICB9CiAgICBpID0gJC4kKCdpbWcucGljJyk7CiAgICBpZiAoaSkgewogICAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIF8uaW5mbygnZG8gbm90aGluZycpOwogIH0KfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14oaW1nc3VyZXxwaWNleHBvc2VkKVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdpbWcucGljJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vaW1ndGhlaWYuY29tL2ltYWdlLyouaHRtbCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnZGl2LmNvbnRlbnQtY29udGFpbmVyIGEnKTsKICAgICQub3BlbkltYWdlKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1ndG9ycm50XC5pbiQvLAogICAgcGF0aDogL15cL3ZpZXdcLnBocCQvLAogICAgcXVlcnk6IC9eXD9pZD0uKi8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJ2NlbnRlciBkaXYgdGFibGUudGcgdGJvZHkgdHIgdGQgY2VudGVyIGltZycpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1ndmF1bHRcLnB3JC8sCiAgICBwYXRoOiAvXlwvdmlldy1pbWFnZVwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2FydGljbGUgZGl2LnNwYW43IGFbdGFyZ2V0PSJfYmxhbmsiXScpOwogICAgJC5vcGVuSW1hZ2UoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pcGljLnN1Lz9wYWdlPWltZyZwaWM9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2Z6Jyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eamF2Y2l0eVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcuZW50cnktY29udGVudCA+IGgxOm50aC1jaGlsZCgxKSA+IGE6bnRoLWNoaWxkKDEpJyk7CiAgICB2YXIgdXJsID0gYS5vbmNsaWNrLnRvU3RyaW5nKCk7CiAgICB1cmwgPSB1cmwubWF0Y2goL3dpbmRvd1wub3BlblwoJyhbXiddKyknXCkvKTsKICAgIGlmICghdXJsKSB7CiAgICAgIF8uaW5mbygncGF0dGVybiBjaGFuZ2VkJykKICAgICAgcmV0dXJuOwogICAgfQogICAgJC5vcGVuSW1hZ2UodXJsWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15rZXB0YXJvbG9cLmh1JC8sCiAgICBwYXRoOiAvXihcL1teXC9dK1wvW15cL10rXC5qcGcpJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkltYWdlKCdodHRwOi8vd3d3LmtlcHRhcm9sby5odS9rZXAnICsgbS5wYXRoWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15sb3N0cGljXC5uZXQkLywKICAgIHF1ZXJ5OiAvXlw/cGhvdG89XGQrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdpbWcubm90aW5saW5lLmNpcmNsZScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBoZWxwZXIgKG0pIHsKICAgICQub3BlbkltYWdlKCcvaW1hZ2VzLycgKyBtLnF1ZXJ5WzFdKTsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXihoZW50YWktaG9zdGluZ3xtaXJhZ2VwaWNzfGZ1bmV4dHJhXC5ob3N0eml8aW1ncmV4fGNkblwuamF2dG90YWx8aW1nM3gpXC5jb20kLywKICAgICAgICAvXmJpbGRlclwubml4aGVscFwuZGUkLywKICAgICAgICAvXmltYWdlY3VybFwuKGNvbXxvcmcpJC8sCiAgICAgICAgL15pbWFnZXZhdVwuZXUkLywKICAgICAgICAvXmltZ1wuZGVsaVwuc2gkLywKICAgICAgICAvXmltZyhkcmVhbXxzb298bm18c2lsbylcLm5ldCQvLAogICAgICAgIC9eaW1nc2ljaWx5XC5pdCQvLAogICAgICAgIC9ed3d3XC5pbWdoZXJlXC5uZXQkLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogaGVscGVyLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL14oZHdpbWd8aW1nc2luKVwuY29tJC8sCiAgICAgICAgL153d3dcLnBpY3R1cmVzaG9zdGVyXC5jb20kLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuSW1hZ2UoJy9maWxlcy8nICsgbS5xdWVyeVsxXSk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL15pbWcobmlwfGNlbnRyYWx8Y3JlYW0pXC5jb20kLywKICAgICAgICAvXmltYWdldmlld1wubWUkLywKICAgICAgICAvXjI0NHBpeFwuY29tJC8sCiAgICAgICAgL15wb3N0aW1nXC5uZXQkLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3ZpZXdlcnIuKlwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogaGVscGVyLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogWwogICAgICAnaHR0cDovL3d3dy5vdmVycGljLm5ldC92aWV3ZXIucGhwP2ZpbGU9KicsCiAgICBdLAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSAkKCcjbWFpbl9pbWcnKTsKICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15kdW1wcGl4XC5jb20kLywKICAgICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuSW1hZ2UoJy9pbWFnZXMvJyArIG0ucXVlcnlbMV0sIHsKICAgICAgICByZWZlcmVyOiB0cnVlLAogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eeHh4aG9zdFwubWUkLywKICAgICAgcGF0aDogL15cL3ZpZXdlclxkK1wucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuSW1hZ2UoJ2ZpbGVzLycgKyBtLnF1ZXJ5WzFdKTsKICAgIH0sCiAgfSk7Cn0pKCk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5tcmpoXC5vcmckLywKICAgIHBhdGg6IC9eXC9nYWxsZXJ5XC5waHAkLywKICAgIHF1ZXJ5OiAvXlw/ZW50cnk9KC4rKSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gbS5xdWVyeVsxXTsKICAgICQub3BlbkltYWdlKCcvJyArIHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5ub2Vsc2hhY2tcLmNvbSQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgdmFyIGkgPSAkKCcjZWx0X3RvX2FmZicpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3BpYy1tb25leS5ydS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9IGRvY3VtZW50LmZvcm1zWzBdOwogICAgdmFyIHNpZyA9ICQoJ2lucHV0W25hbWU9InNpZyJdJywgZikudmFsdWU7CiAgICB2YXIgcGljX2lkID0gJCgnaW5wdXRbbmFtZT0icGljX2lkIl0nLCBmKS52YWx1ZTsKICAgIHZhciByZWZlcmVyID0gJCgnaW5wdXRbbmFtZT0icmVmZXJlciJdJywgZikudmFsdWU7CiAgICB2YXIgdXJsID0gXy5UKCcvcGljLmpwZWc/cGljX2lkPXtwaWNfaWR9JnNpZz17c2lnfSZyZWZlcmVyPXtyZWZlcmVyfScpOwogICAgJC5vcGVuSW1hZ2UodXJsKHsKICAgICAgc2lnOiBzaWcsCiAgICAgIHBpY19pZDogcGljX2lkLAogICAgICByZWZlcmVyOiByZWZlcmVyLAogICAgfSkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5waWMtdXBsb2FkLmRlL3ZpZXctKi5odG1sJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnLmFkdmVydCcpOwogICAgdmFyIGkgPSAkKCdpbWcucHJldmlld19waWN0dXJlXzJiLCBpbWcub3JpZ2luYWxfcGljdHVyZV8yYicpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnBpYygycHJvZml0fHAyKVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdmb3JtID4gI2QxIH4gaW5wdXRbbmFtZT1iaWdpbWddJyk7CiAgICAkLm9wZW5JbWFnZShpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15waWMoNHw1KXlvdVwucnUkLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICBpZiAoJC4kKCcjZDEgPiBpbWcnKSAhPSBudWxsKSB7CiAgICB2YXIgVVJMcGFyYW1zID0gbG9jYXRpb24uaHJlZi5zcGxpdCgiLyIsIDUpOwogICAgdmFyIG5leHQgPSBVUkxwYXJhbXNbMF0gKyAnLycgKyBVUkxwYXJhbXNbMV0gKyAnLycgKyBVUkxwYXJhbXNbMl0gKyAnLycgKyBVUkxwYXJhbXNbM10gKyAnLycgKyBVUkxwYXJhbXNbNF0gKyAnLzEvJzsKICAgICQuc2V0Q29va2llKCdwNHljbGljaycsJzEnKTsKICAgICQub3BlbkxpbmsobmV4dCk7CiAgfSBlbHNlIHsKICAgIHZhciBpID0gJCgnI2QxIGltZycpLnNyYzsKICAgICQub3BlbkltYWdlKGkpOwogIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3BpY2Nhc2hcLm5ldCQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogIHZhciBpID0gJCgnLmNvbnRhaW5lciA+IGltZycpOwogIHZhciBtID1pLm9uY2xpY2sudG9TdHJpbmcoKS5tYXRjaCgvbXNob3dcKCcoW14nXSspJ1wpOy8pOwogICQub3BlbkltYWdlKG1bMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICAnaHR0cDovL2FtYXRldXJmcmVhay5vcmcvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vYW1hdGV1cmZyZWFrLm9yZy9zaGFyZS5waHA/aWQ9KicsCiAgICAnaHR0cDovL2ltYWdlcy5tYXhpZ2FtZS5ieS9zaGFyZS0qLmh0bWwnLAogICAgJ2h0dHA6Ly9waWNmb3gub3JnLyonLAogICAgJ2h0dHA6Ly93d3cuZXVyby1waWMuZXUvc2hhcmUucGhwP2lkPSonLAogICAgJ2h0dHA6Ly93d3cuZ3JhdGlzaW1hZ2UuZGsvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8veHh4LmZyZWVpbWFnZS51cy9zaGFyZS5waHA/aWQ9KicsCiAgICAnaHR0cDovL25waWN0dXJlLm5ldC9zaGFyZS0qLmh0bWwnLAogICAgJ2h0dHA6Ly93d3cub25saW5lcGljLm5ldC9zaGFyZS5waHA/aWQ9KicsCiAgICAnaHR0cDovL3d3dy5waXhzb3IuY29tL3NoYXJlLnBocD9pZD0qJywKICAgICdodHRwOi8vd3d3LnBpeHNvci5jb20vc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vcGl4c29yLmNvbS9YWFgvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vaG9sZHRoZW1vYW4ubmV0L3gvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vaW1ndXJ4Lm5ldC94L3NoYXJlLSouaHRtbCcsCiAgICAnaHR0cDovL3d3dy5pbWd6LnB3L3NoYXJlLSouaHRtbCcsCiAgXSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG8gPSAkKCcjaWltZycpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3BpY21vZS5uZXQvZC5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IFsKICAgICdodHRwOi8vcGljcy1tb25leS5ydS9hbGxwaWNmcmVlLyonLAogICAgJ2h0dHA6Ly93d3cucGljcy1tb25leS5ydS9hbGxpbWFnZS8qJywKICBdLAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15waWNzLW1vbmV5XC5ydSQvLAogICAgcGF0aDogL15cL3ZcLnBocCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIGkgPSAkKCdjZW50ZXIgaW1nOm5vdChbaWRdKScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucGljcy1tb25leVwucnUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBpID0gJCgnI2QxIGltZycpOwogICAgaSA9IGkub25jbGljay50b1N0cmluZygpOwogICAgaSA9IGkubWF0Y2goL21zaG93XCgnKC4rKSdcKS8pOwogICAgaSA9IGlbMV07CiAgICAkLm9wZW5JbWFnZShpKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9waWNzaGFyZS5nZWVuemEuY29tL3BpY3MvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3BpY1NoYXJlX2ltYWdlX2NvbnRhaW5lcicpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnBpY3N0cmVhbVwudHYkLywKICAgIHBhdGg6IC9eXC8uKlwvLipcLmh0bWwkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgnI3ZpZXcxID4gZGl2Om50aC1jaGlsZCgxKSA+IGltZzpudGgtY2hpbGQoMSknKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/cGltcGFuZGhvc3RcLmNvbSQvLAogICAgcGF0aDogL15cL2ltYWdlXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI2ltYWdlX29yaWdpbmFsJyk7CiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGVsLmlubmVySFRNTCA9IGEudmFsdWU7CiAgICB2YXIgaW1nID0gJCgnaW1nJywgZWwpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ecGl4aHViXC5ldSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZSwgLmFkdWx0cGFnZSwgI0ZGTl9CYW5uZXJfSG9sZGVyJyk7CiAgICB2YXIgaSA9ICQoJy5pbWFnZS1zaG93IGltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/cGl4cm91dGVcLmNvbSQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG8gPSAkKCcuZnI0bWUgPiBkaXY6bnRoLWNoaWxkKDIwKSA+IGE6bnRoLWNoaWxkKDEpID4gaW1nOm50aC1jaGlsZCgxKScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucGl4c2Vuc2VcLm5ldCQvLAogICAgcGF0aDogL15cL3NpdGVcL3ZcL1xkKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI215VW5pcXVlSW1nJykucGFyZW50Tm9kZTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15waXh4eGVsc1wub3JnJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQuJCgnI21haW4taW1hZ2UnKTsKICAgICQub3BlbkltYWdlKGltZy5kYXRhc2V0LmZ1bGwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucG9ybmltYWdleFwuY29tJC8sCiAgICBwYXRoOiAvXlwvaW1hZ2VcLy4qJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyNmaXhlZCBpbWcuYm9yZGVyMnB4Jyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wcm50c2NyXC5jb20kLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3NjcmVlbnNob3QtaW1hZ2UnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wcm9ucGljXC5vcmckLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsQmFzZUltZyA9ICQoJ3RhYmxlLm5ld190YWJsZTI6bnRoLWNoaWxkKDEpIGltZy5saW5rJyk7CiAgICB2YXIgYmFzZVVybCA9IHVybEJhc2VJbWcuc3JjLnNwbGl0KCd0aF8nKVswXTsKICAgIHZhciBpbWcgPSAkKCd0YWJsZS5uZXdfdGFibGUyOm50aC1jaGlsZCgyKSBpbWcubGluaycpOwogICAgdmFyIHVybCA9IGJhc2VVcmwgKyBpbWcuc3JjLnNwbGl0KCd0aF8nKVsxXTsKICAgICQub3BlbkltYWdlKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHFycnJvfGdyZWVucGljY3MpXC5jb20kLywKICAgIHBhdGg6IC9eKFwvaW1hZ2VzXC8uKylcLmh0bWwkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuSW1hZ2UobS5wYXRoWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15yYWRpa2FsXC5ydSQvLAogICAgcGF0aDogL15cL2JpZ1wvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnLmJhc2UtcGFnZV9jZW50ZXIgPiBkaXY6bnRoLWNoaWxkKDIpID4gaW1nOm50aC1jaGlsZCgxKScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBhY3Rpb24gKGZpcnN0U2VsZWN0b3IsIHNlY29uZFNlbGVjdG9yKSB7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUsICNhZGJsb2NrX2RldGVjdCwgLnBvcHVwT3ZlcmxheScpOwogICAgdmFyIG5vZGUgPSAkLiQoZmlyc3RTZWxlY3Rvcik7CiAgICBpZiAobm9kZSkgewogICAgICBfLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsKICAgICAgICByZXR1cm4gXy53YWl0KDUwMCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIG5vZGUuZm9jdXMoKTsKICAgICAgICBub2RlLmNsaWNrKCk7CiAgICAgICAgbm9kZS5jbGljaygpOwogICAgICAgIG5vZGUuY2xpY2soKTsKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBpID0gJChzZWNvbmRTZWxlY3Rvcik7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfQogIHZhciBkZWZhdWx0QWN0aW9uID0gXy5QKGFjdGlvbiwgJyNjb250aW51ZXRvaW1hZ2UgPiBmb3JtIGlucHV0JywgJ2ltZ1tjbGFzc149Y2VudHJlZF0nKTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IFsKICAgICAgewogICAgICAgIGhvc3Q6IFsKICAgICAgICAgIC9eaW1hZ2Uob250aW1lfGNvcm58cGljc2F8aG9yc2V8ZGVjb2RlKVwuY29tJC8sCiAgICAgICAgICAvXih6b25lemVlZHx6ZWxqZXxjcm9mdHxteWhvdHxib2t8aG9zdHVyfGdyZWFzeXxkYW0paW1hZ2VcLmNvbSQvLAogICAgICAgICAgL15pbWcoaWN5fG5leHR8c2F2dnl8XC5zcGljeXppbGxhfHR3eXRpfHh5enxkZXZpbHx0emFyfGJhbnxwdXxiZWVyfHdldHx0b3JuYWRvfGtpY2tzfG5pbXp8YmluYm91fDJzaGFyZXwyMnxjb3ZlcnxoaXR8bWFpbnx0cmlhbHxibGFua3xyZXB1dGF8ZmFwcGVyfHJlYWxpdHkpXC5jb20kLywKICAgICAgICAgIC9eKGlcLik/aW1nc2VlZHM/XC5jb20kLywKICAgICAgICAgIC9eaW1nLSh6b25lfHBsYW5ldHxwYXl8dXBsb2FkcylcLmNvbSQvLAogICAgICAgICAgL153d3dcLmltZyhibG93fGxlbW9ufDRzaGFyaW5nKVwuY29tJC8sCiAgICAgICAgICAvXnd3d1wuaW1hZ2Vmb2xrc1wuY29tJC8sCiAgICAgICAgICAvXnd3d1wuZnJlZXBob3RvaG9zdGluXC5jb20kLywKICAgICAgICAgIC9eKHd3d1wuKT9pbWd1bHRcLmNvbSQvLAogICAgICAgICAgL154eHgoaW1hZ2Vub3d8c2NyZWVucylcLmNvbSQvLAogICAgICAgICAgL154eHhzcGFycm93P1wuY29tJC8sCiAgICAgICAgICAvXihwbGF5aW1nfHBpY3N0d2lzdHxlcmljc29ueXx3cGM4fHVwbGltZ3xsZXhpaXR8dGh1bWJuYWlsdXN8bmV3aW1hZ2Vwb3N0fGZhcGluZ3BpY3N8ZGltdHVzfHRpbml6bylcLmNvbSQvLAogICAgICAgICAgL14oKGl8aGVudGFpKVwuKT9pbWdzbGlwXC5jb20kLywKICAgICAgICAgIC9eKGl8eHh4KVwuaGVudGFpeW91dHViZVwuY29tJC8sCiAgICAgICAgICAvXihnb3xlcilpbWdlXC5jb20kLywKICAgICAgICAgIC9eKGxpa2VcLik/MDhsa2tcLmNvbSQvLAogICAgICAgICAgL15uaW0ocGx1c3x6c2hhcmUpXC5jb20kLywKICAgICAgICAgIC9ebnVkZXhpbWdcLmNvbSQvLAogICAgICAgICAgL15pbWcoc2VydmV8Y29pbnxmYXB8Y2FuZHl8bWFzdGVyfC12aWV3fHJ1bnxib29tfHByb2plY3R8cHl0aG9ufHBpY3N8cGl4KVwubmV0JC8sCiAgICAgICAgICAvXihpbWFnZXNvdWxzfG5hdWdodHlnYXRlfGdhbGxlcnljbG91ZHxpbWFnZWxhc2VyfHBpY3R1cmUtYmFuZ3xwcm9qZWN0LXBob3RvfHBpeC1saW5rfGZ1bmltZ3xnb2xmcGl0fHh4aW1nKVwubmV0JC8sCiAgICAgICAgICAvXihzaG90fGFkdWx0KWltZ1wub3JnJC8sCiAgICAgICAgICAvXmltYWdlKFwuYWRsb2NrfG9ufHRlYW0pXC5vcmckLywKICAgICAgICAgIC9eKHZveWV1cnxkcmFnfHRlZW58bWVnYSlpbWFnZVwub3JnJC8sCiAgICAgICAgICAvXnRlZW5zaG90XC5vcmckLywKICAgICAgICAgIC9eaW1nKHN0dWRpb3xzcG90KVwub3JnJC8sCiAgICAgICAgICAvXnd3d1wuaG90aW1hZ2VcLnVrJC8sCiAgICAgICAgICAvXihob3RpbWFnZXN8NTU4ODgpXC5ldSQvLAogICAgICAgICAgL15pbWcoY2xvdWR8bWFnKVwuY28kLywKICAgICAgICAgIC9ecGl4dXBcLnVzJC8sCiAgICAgICAgICAvXihidWxraW1nfHBob3RvLXVwfG15aW1nfHBvcC1pbWd8aW1nLXBvcHxhZHMtaW1nKVwuaW5mbyQvLAogICAgICAgICAgL152YXZhXC5pbiQvLAogICAgICAgICAgL14ocGl4eHh8cGljc3Bvcm5mcmVlfGltZ2xvYWR8ZmFwYXQpXC5tZSQvLAogICAgICAgICAgL14oZG9tYWlua3xwaWMycGljfHBvcm5vLXBpcmF0fDI0YXZhcmlpfGxvZnRsbXwxOHByb258aW1ncGx1cylcLnJ1JC8sCiAgICAgICAgICAvXmltZ2Vhc2VcLnJlJC8sCiAgICAgICAgICAvXmdvaW1nXC54eXokLywKICAgICAgICAgIC9eKHBpYzJwaWN8cGljeilcLnNpdGUkLywKICAgICAgICAgIC9eZGFycGl4XC5nYSQvLAogICAgICAgICAgL15zeHBpY3NcLm5sJC8sCiAgICAgICAgICAvXmRhcnBpeFwuZGVzaSQvLAogICAgICAgICAgL15waWM0eW91XC50b3AkLywKICAgICAgICAgIC9eaW1nc2VuXC5zZSQvLAogICAgICAgICAgL15pcGljdHVyZVwuc3UkLywKICAgICAgICAgIC9eYWNpZGltZ1wuY2MkLywKICAgICAgICBdLAogICAgICAgIHBhdGg6IC9eXC9pbWctLipcLmh0bWwvLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogWwogICAgICAgICAgL15pbWcocnVufHR3eXRpKVwubmV0JC8sCiAgICAgICAgICAvXmltZ3R3eXRpXC5jb20kLywKICAgICAgICAgIC9eaGVudGFpLShwb3B8YmFrYSlcLmNvbSQvLAogICAgICAgICAgL15zdGFyLWhlbnRhaVwuY29tJC8sCiAgICAgICAgICAvXihqYXZ8aW1nKS1oZW50YWlcLmhvc3QkLywKICAgICAgICAgIC9eaGVudGFpLWtpbmdcLmhvc3QkLywKICAgICAgICAgIC9eaW1nLWtpbmdcLnh5eiQvLAogICAgICAgIF0sCiAgICAgICAgcGF0aDogL15cL1t0aV1cL2ltZy0uKlwuaHRtbC8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltZ2tpbmdcLmNvJC8sCiAgICAgICAgcGF0aDogL15cL2ltZzQ/LS4qXC5odG1sLywKICAgICAgfSwKICAgICAgewogICAgICAgIGhvc3Q6IC9eaW1nYmJcLm5ldCQvLAogICAgICAgIHBhdGg6IC9eXC8uLS4rJC8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiAvXmNkblwuamF2dG90YWxcLmNvbSQvLAogICAgICAgIHBhdGg6IC9eXC9pbWdcLy4rJC8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltZ3RvclwucHckLywKICAgICAgICBwYXRoOiAvXlwvaW1nMlwvLiskLywKICAgICAgfSwKICAgICAgewogICAgICAgIGhvc3Q6IC9eaW1hXC5neSQvLAogICAgICAgIHBhdGg6IC9eXC9pXC8uKyQvLAogICAgICB9LAogICAgXSwKICAgIHJlYWR5OiBkZWZhdWx0QWN0aW9uLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICAgIGhvc3Q6IC9eaW1ndG9yXC5wdyQvLAogICAgICAgIHBhdGg6IC9eXC9pbWdcLy4qJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgIHZhciBpbWFnZVVybCA9ICdodHRwOi8vJyArIG0uaG9zdFswXSArIG0ucGF0aFswXS5yZXBsYWNlKCJpbWciLCJpbWcyIik7CiAgICAgICQub3BlbkxpbmsoaW1hZ2VVcmwpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15pbWdyYXRcLmNvbSQvLAogICAgICBwYXRoOiAvXlwvaW1nLS4qXC5odG1sLywKICAgIH0sCiAgICByZWFkeTogXy5QKGFjdGlvbiwgJyNjbG9zZScsICcjbWFpbl9pbWFnZSBpbWcuY2VudGVyLWJsb2NrLmltZy1yZXNwb25zaXZlJyksCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmltYWdlcG9yblwuZXUkLywKICAgICAgICAvXmltZ3ppemlcLnh5eiQvLAogICAgICBdLAogICAgICBwYXRoOiAvXlwvaW1nLS4qXC5odG1sLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAkLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ID0gbnVsbDsKICAgIH0sCiAgICByZWFkeTogZGVmYXVsdEFjdGlvbiwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogWwogICAgICAgIC9eKHd3d1wuKT9pbWcoYWR1bHR8d2FsbGV0fHRheGkpXC5jb20kLywKICAgICAgICAvXih3d3dcLik/aW1nZHJpdmVcLm5ldCQvLAogICAgICBdLAogICAgICBwYXRoOiAvXlwvaW1nLS4qXC5odG1sJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGMgPSAkLmdldENvb2tpZSgnaWJwdWMnKTsKICAgICAgaWYgKGMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgJC5wb3N0KHdpbmRvdy5sb2NhdGlvbi5ocmVmLnRvU3RyaW5nKCksIHsKICAgICAgICBjdGk6IDEsCiAgICAgICAgcmVmOiAnJywKICAgICAgICByYzogMSwKICAgICAgICBycDogMSwKICAgICAgICBidDogMCwKICAgICAgICBidzogJ2VkZ2UnLAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIG5vZGUgPSAkLiQoJyNjb250aW51ZXRvaW1hZ2UgPiBmb3JtIGlucHV0Jyk7CiAgICAgIGlmIChub2RlKSB7CiAgICAgICAgbm9kZS5jbGljaygpOwogICAgICAgIG5vZGUuY2xpY2soKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgJC5yZXNldENvb2tpZXMoKTsKICAgICAgdmFyIGkgPSAkKCdpbWdbY2xhc3NePWNlbnRyZWRdJyk7CiAgICAgICQub3BlbkltYWdlKGkuc3JjKTsKICAgIH0sCiAgfSk7CiAgZnVuY3Rpb24gaGVscGVyICgpIHsKICAgICQud2luZG93LnNldFRpbWVvdXQgPSBfLm5vcDsKICAgIHJldHVybiAkLmdldCh3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gJC50b0RPTShkYXRhKTsKICAgIH0pOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL14wOGxra1wuY29tJC8sCiAgICAgIHBhdGg6IC9eXC9QaG90b1wvaW1nLS4rXC5odG1sJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaGVscGVyKCkudGhlbihmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHZhciBpID0gJCgnaW1nW2NsYXNzXj1jZW50cmVkXScsIHBhZ2UpOwogICAgICAgICQub3BlbkltYWdlKGkuc3JjKTsKICAgICAgfSk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXjA4bGtrXC5jb20kLywKICAgICAgcGF0aDogL15cL1xkK1wvaW1nLS4qXC5odG1sJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaGVscGVyKCkudGhlbihmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHZhciBiYmNvZGUgPSAkLiQoJyNpbWFnZWNvZGVzIGlucHV0JywgcGFnZSk7CiAgICAgICAgYmJjb2RlID0gYmJjb2RlLnZhbHVlLm1hdGNoKC8uK1xbSU1HXF0oW15cW10rKVxbXC9JTUdcXS4rLyk7CiAgICAgICAgYmJjb2RlID0gYmJjb2RlWzFdOwogICAgICAgIGJiY29kZSA9IGJiY29kZS5yZXBsYWNlKCdzbWFsbCcsICdiaWcnKTsKICAgICAgICAkLm9wZW5JbWFnZShiYmNvZGUpOwogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiBbCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltZ2tpbmdcLmNvJC8sCiAgICAgICAgcGF0aDogL15cL2ltZ3MtLipcLmh0bWwvLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogWwogICAgICAgICAgL15pbWcoa2luZ3N8cHJpbWUpXC5jb20kLywKICAgICAgICAgIC9eaW1hZ2VyYXJcLmNvbSQvLAogICAgICAgIF0sCiAgICAgICAgcGF0aDogL15cL2ltZy0uKlwuaHRtbC8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHVybCA9ICQud2luZG93LmxpbmtpZDsKICAgICAgJC5vcGVuSW1hZ2UodXJsKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1na2luZ3NcLmNvbSQvLAogICAgICBwYXRoOiAvXlwvaW1nMi0uKlwuaHRtbC8sCiAgICB9LAogICAgcmVhZHk6IGRlZmF1bHRBY3Rpb24sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiBbCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltYWdlcmFyXC5jb20kLywKICAgICAgICBwYXRoOiAvXlwvaW1nMi0vLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogL15pbWdraW5nXC5jbyQvLAogICAgICAgIHBhdGg6IC9eXC9pbWdbdjNdLS4qXC5odG1sLywKICAgICAgfSwKICAgICAgewogICAgICAgIGhvc3Q6IC9eaW1ncHJpbWVcLmNvbSQvLAogICAgICAgIHBhdGg6IC9eXC9pbWczLS4qXC5odG1sJC8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSAkKCdpbWdbYWx0XScpOwogICAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltZ1wueXQkLywKICAgICAgcGF0aDogL15cL2ltZy0uKlwuaHRtbC8sCiAgICB9LAogICAgcmVhZHk6IF8uUChhY3Rpb24sICcjY29udGludWVidXR0b24sICNjb250aW51ZXRvaW1hZ2UgaW5wdXRbdHlwZT0ic3VibWl0Il0nLCAnaW1nW2NsYXNzXj1jZW50cmVkXScpLAogIH0pOwp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5zdWJpcmltYWdlbmVzLmNvbS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNJbWFnZW5WaXN1YWxpemFkYScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3RpbnlwaWMuY29tL3ZpZXcucGhwP3BpYz0qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjaW1nRWxlbWVudCcpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wudHVyYm9pbWFnZWhvc3RcLmNvbSQvLAogICAgcGF0aDogL15cL3BcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjaW1hZ2VpZCcpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3Z2Y2FwLm5ldC9kYi8qLmh0cCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYywgewogICAgICByZXBsYWNlOiB0cnVlLAogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eeFwucGl4ZmFybVwubmV0JC8sCiAgICBwYXRoOiAvXlwvc2V4eVwvXGQrXC9cZCtcLy4rXC5odG1sJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15ha29hbVwuY29tJC8sCiAgICBwYXRoOiAvXlwvZG93bmxvYWRcLy8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGxvY2F0aW9uX2xpbmsgPSBsb2NhdGlvbi5oYXNoOwogICAgJC5wb3N0KGxvY2F0aW9uX2xpbmspLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7CiAgICAgIGlmICghZGF0YS5oYXNoX2RhdGEpIHsKICAgICAgICBfLndhcm4oJ3J1bGUgY2hhbmdlZCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLm9wZW5MaW5rKGRhdGEuZGlyZWN0X2xpbmspOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5hbmFmaWxlXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYiA9ICQuJCgnI2J0bl9kb3dubG9hZCcpOwogICAgaWYgKGIpIHsKICAgICAgYi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAkLnJlbW92ZU5vZGVzKCdkaXZbYWxpZ249Y2VudGVyXScpOwogICAgICByZXR1cm47CiAgICB9CiAgICBiID0gJCgnI3BsYW5zX2ZyZWUgZm9ybSBbdHlwZT1zdWJtaXRdJyk7CiAgICBiLmNsaWNrKCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9hcmFiXC5zaCQvLAogICAgcGF0aDogL15cL1x3KyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJCgnZm9ybVtuYW1lPUYxXScpOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBmLnN1Ym1pdCgpOwogICAgfSwgMjAwMDApOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/Y29vbHJvbVwuY29tJC8sCiAgICBwYXRoOiAvXlwvZGxwb3BcLnBocCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtYXRjaGVzID0gJC5zZWFyY2hTY3JpcHRzKC88Zm9ybSBtZXRob2Q9IlBPU1QiIGFjdGlvbj0iKFteIl0rKSI+Lyk7CiAgICAkLm9wZW5MaW5rKG1hdGNoZXNbMV0pOwogIH0sCn0pOwooZnVuY3Rpb24oKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXih3d3dcLik/ZGwtcHJvdGVjdFwuY29tJC8sCiAgICAgIHBhdGg6IC9cL1tBLVowLTldKy8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCQuJCgnI2NhcHRjaGEnKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgZiA9ICQuJCgnZm9ybVtuYW1lPWNjZXJ1cmVdJyk7CiAgICAgIGlmIChmKSB7CiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgICAgdmFyIGlJbiA9ICQoJ2lucHV0W2lkPWluXScpOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKG11dGF0aW9uc1tpXS50YXJnZXQudmFsdWUgJiYgbXV0YXRpb25zW2ldLmF0dHJpYnV0ZU5hbWUgPT09ICd2YWx1ZScpIHsKICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgaUluLnZhbHVlID0gIlRyYWNraW5nIHRvbyBtdWNoIGh1cnRzIHVzZXJzJyBwcml2YWN5IjsKICAgICAgICAgICAgICBpZiAoIWNhbkZhc3RSZWRpcmVjdCgpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBmLnN1Ym1pdCgpOwogICAgICAgICAgICAgIH0sIDYwMCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2YXIgaUluID0gJCgnaW5wdXRbaWQ9aW5dJyk7CiAgICAgICAgaWYgKGlJbi52YWx1ZSkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgZi5zdWJtaXQoKTsKICAgICAgICAgIH0sIDYwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoaUluLCB7CiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBsID0gJC4kJCgnI3NsaW5rcyA+IGEnKTsKICAgICAgaWYgKGwuc2l6ZSgpID09PSAxKSB7CiAgICAgICAgJC5vcGVuTGluayhsLmF0KDApLmhyZWYpOwogICAgICB9CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIGNhbkZhc3RSZWRpcmVjdCAoKSB7CiAgICByZXR1cm4gISQuJCgnZm9ybVtuYW1lPWNjZXJ1cmVdJykub25zdWJtaXQgJiYgISQuJCgnZm9ybVtuYW1lPWNjZXJ1cmVdIGlucHV0W25hbWU9cHdkXScpOwogIH0KfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2VtYmVkdXBsb2FkXC5jb20kLywKICAgIHBhdGg6IC9eXC8kLywKICAgIHF1ZXJ5OiAvXlw/XHd7Mn09XHcrJC8KICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZG93bmxvYWRQYWdlID0gJCgnLmNhdGVnb3JpZXMgYVt0YXJnZXQ9X2JsYW5rXScpOwogICAgJC5vcGVuTGluayhkb3dubG9hZFBhZ2UpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuZmlsZXByb2plY3RcLmNvbVwuYnIkLywKICAgIHBhdGg6IC9eXC9maWxlc1wvKy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoLzxhIGlkPSJkb3duIiBocmVmPSIoW14iXSspIj4vKTsKICAgICQub3BlbkxpbmsobVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT8oZmlyZWRyaXZlfHB1dGxvY2tlcilcLmNvbSQvLAogICAgcGF0aDogL15cL2ZpbGVcL1swLTlBLUZdKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBjID0gJCgnI2NvbmZpcm1fZm9ybScpOwogICAgYy5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pb3JpXC51cyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI3dyYXBwZXIgLnRvbWJvbCBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9qaGViZXJnXC5uZXQkLywKICAgIHBhdGg6IC9eXC9jYXB0Y2hhXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQoJy5kbC1idXR0b24nKS5jbGljaygpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/amhlYmVyZ1wubmV0JC8sCiAgICBwYXRoOiAvXlwvcmVkaXJlY3RcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgdmFyIG1hdGNoZXMgPSAkLnNlYXJjaFNjcmlwdHMoLydzbHVnJzpccyonKFteJ10rKScsXHMqJ2hvc3Rlcic6XHMqJyhbXiddKyknLyk7CiAgICB2YXIgc2x1ZyA9IG1hdGNoZXNbMV07CiAgICB2YXIgaG9zdGVyID0gbWF0Y2hlc1syXTsKICAgICQucG9zdCgnL2dldC9saW5rLycsIHsKICAgICAgJ3NsdWcnOiBzbHVnLAogICAgICAnaG9zdGVyJzogaG9zdGVyCiAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgIHZhciByZXNwSlNPTiA9IF8ucGFyc2VKU09OKHJlc3BvbnNlKTsKICAgICAgJC5vcGVuTGluayhyZXNwSlNPTi51cmwpOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9sYXJhc2hhcmVcLmNvbSQvLAogICAgcGF0aDogL15cL2RvXC5waHAkLywKICAgIHF1ZXJ5OiAvaWQ9XGQrLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgnaWQ9JywnZG93bj0nKSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9tYXhtaXJyb3JcLmNvbSQvLAogICAgcGF0aDogL15cL3JlZGlyZWN0XC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJCgnI2Rvd25sb2FkX3VybCA+IGEnKTsKICAgICQub3BlbkxpbmsobC5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP21pcnJvcmNyZWF0b3JcLmNvbSQvLAogICAgcGF0aDogL15cL3Nob3d1cmxcLnBocCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCcjcmVkaXJlY3RsaW5rIGEnKTsKICAgIGlmIChhKSB7CiAgICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgYSA9ICQoJyNyZWRpcmVjdGxpbmsgPiBkaXYucmVkaXJlY3R1cmwnKTsKICAgIGEgPSBhLmlubmVySFRNTDsKICAgIGlmICghYS5tYXRjaCgvXmh0dHAvKSkgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdub3QgYSB2YWxpZCBVUkwnKTsKICAgIH0KICAgICQub3BlbkxpbmsoYSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5tdWx0aXVwZmlsZVwuY29tJC8sCiAgICBwYXRoOiAvXlwvZlwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJyN5dzAnKTsKICAgIGYuc3VibWl0KCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebXlsaW5rZ2VuXC5jb20kLywKICAgIHBhdGg6IC9eXC9wXC8oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJy9nLycgKyBtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm15bGlua2dlblwuY29tJC8sCiAgICBwYXRoOiAvXlwvZ1wvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNtYWluLWNvbnRlbnQgYS5idG4uYnRuLWRlZmF1bHQnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXm9wZW5sb2FkXC5jbyQvLAogICAgICAvXm9sb2FkXC50diQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9mXC8uKi8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICQud2luZG93LmFkYmxvY2sgPSBmYWxzZTsKICAgICQud2luZG93LmFkYmxvY2syID0gZmFsc2U7CiAgICAkLndpbmRvdy5wb3BBZHNMb2FkZWQgPSB0cnVlOwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgdGltZXIgPSAkKCcjZG93bmxvYWRUaW1lcicpOwogICAgICB0aW1lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB2YXIgZGxDdG4gPSAkKCcjcmVhbGRsJyk7CiAgICAgIGRsQ3RuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsKICAgICAgdmFyIGRsQnRuID0gJCgnYScsIGRsQ3RuKTsKICAgICAgdmFyIGVQYXRoID0gJCgnI3N0cmVhbXVybCcpOwogICAgICBkbEJ0bi5ocmVmID0gIi9zdHJlYW0vIiArIGVQYXRoLnRleHRDb250ZW50OwogICAgICB2YXIgdmlkZW9DdG4gPSAkLiQoJy52aWRlb2NvbnRhaW5lcicpOwogICAgICBpZiAodmlkZW9DdG4pIHsKICAgICAgICB2YXIgb3ZlcmxheSA9ICQoJyN2aWRlb292ZXJsYXknLCB2aWRlb0N0bik7CiAgICAgICAgb3ZlcmxheS5jbGljaygpOwogICAgICAgIGRsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7CiAgICAgICAgICBpZnJhbWUuc3JjID0gZGxCdG4uaHJlZjsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTsKICAgICAgICB9KTsKICAgICAgICBfLmluZm8oXy5UKCd7MH0gLT4gezF9Jykod2luZG93LmxvY2F0aW9uLCBkbEJ0bi5ocmVmKSk7CiAgICAgICAgZGxCdG4uY2xpY2soKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAkLm9wZW5MaW5rKGRsQnRuLmhyZWYpOwogICAgICB9CiAgICB9LCA1MDApOwogIH0KfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT91cG1pcnJvclwuaW5mbyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQuc2V0Q29va2llKCd1c2VyJywgJ3BwcCcpOwogICAgaWYgKCQuJCgnI2NvdW50RG93blRleHQnKSkgewogICAgICAgICQub3BlbkxpbmsoZG9jdW1lbnQubG9jYXRpb24udG9TdHJpbmcoKSk7CiAgICB9CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT92aWR0b1wubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJyNidG5fZG93bmxvYWQnKS5mb3JtOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBmLnN1Ym1pdCgpOwogICAgfSwgNjAwMCk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBzVXJsID0gJyhcXGIoaHR0cHM/fGZ0cHxmaWxlKTpcL1wvWy1BLVowLTkrJkAjXC8lPz1+X3whOiwuO10qWy1BLVowLTkrJkAjXC8lPX5ffF0pJzsKICBmdW5jdGlvbiBpc0xpbmsgKHRleHQpIHsKICAgIHZhciByVXJsID0gbmV3IFJlZ0V4cChfLlQoJ157MH0kJykoc1VybCksICdpJyk7CiAgICByZXR1cm4gclVybC50ZXN0KHRleHQpOwogIH0KICBmdW5jdGlvbiBsaW5raWZ5ICh0ZXh0KSB7CiAgICB2YXIgclVybCA9IG5ldyBSZWdFeHAoc1VybCwgJ2lnJyk7CiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKHJVcmwsIGZ1bmN0aW9uKG1hdGNoKSB7CiAgICAgIHJldHVybiBfLlQoIjxhIGhyZWY9J3swfSc+ezB9PC9hPiIpKG1hdGNoKTsKICAgIH0pOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL14od3d3XC4pPyhbYS16QS1aMC05XStcLik/YmluYm94XC5pbyQvLAogICAgICBwYXRoOiAvXC8oW2EtekEtWjAtOV0rKS8sCiAgICAgIGhhc2g6IC8oPzojKFthLXpBLVowLTldKykpPy8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIHZhciBzamNsID0gJC53aW5kb3cuc2pjbDsKICAgICAgdmFyIHBhc3RlX2lkID0gbS5wYXRoWzFdOwogICAgICB2YXIgcGFzdGVfc2FsdCA9IG0uaGFzaFsxXTsKICAgICAgdmFyIEFQSV9VUkwgPSBfLlQoJ2h0dHBzOi8vYmluYm94LmlvL3swfS5qc29uJykocGFzdGVfaWQpOwogICAgICAkLmdldChBUElfVVJMLCBmYWxzZSwgewogICAgICAgIE9yaWdpbjogXy5ub25lLAogICAgICAgIFJlZmVyZXI6IF8ubm9uZSwKICAgICAgICBDb29raWU6ICdyZWZlcnJlcj0xJywKICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6IF8ubm9uZSwKICAgICAgfSkudGhlbihmdW5jdGlvbiAocGFzdGVJbmZvKSB7CiAgICAgICAgcGFzdGVJbmZvID0gXy5wYXJzZUpTT04ocGFzdGVJbmZvKTsKICAgICAgICBpZiAoIXBhc3RlSW5mby5vaykgewogICAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcigiZXJyb3Igd2hlbiBnZXR0aW5nIHBhc3RlIGluZm9ybWF0aW9uIik7CiAgICAgICAgfQogICAgICAgIGlmIChwYXN0ZUluZm8ucGFzdGUudXJsKSB7CiAgICAgICAgICAkLm9wZW5MaW5rKHBhc3RlSW5mby5wYXN0ZS51cmwpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2YXIgcmF3X3Bhc3RlID0gc2pjbC5kZWNyeXB0KHBhc3RlX3NhbHQsIHBhc3RlSW5mby5wYXN0ZS50ZXh0KTsKICAgICAgICBpZiAoaXNMaW5rKHJhd19wYXN0ZSkpIHsKICAgICAgICAgICQub3BlbkxpbmsocmF3X3Bhc3RlKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpOwogICAgICAgIGVsbS5pZCA9ICdwYXN0ZS10ZXh0JzsKICAgICAgICBlbG0uaW5uZXJIVE1MID0gbGlua2lmeShyYXdfcGFzdGUpOwogICAgICAgIHZhciBmcmFtZSA9ICQoJyNwYXN0ZS1mcmFtZSwgI2NhcHRjaGEtcGFnZScpOwogICAgICAgIGZyYW1lLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsbSwgZnJhbWUpOwogICAgICB9KTsKICAgIH0sCiAgfSk7Cn0pKCk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9wYXN0ZWRcLmNvJC8sCiAgICBwYXRoOiAvXlwvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnI2NhcHRjaGFfb3ZlcmxheScpOwogIH0sCn0pOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCwgR00pIHsKICAgICAgdmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTsKICAgICAgdmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUuanMnKTsKICAgICAgdmFyIG1pc2MgPSByZXF1aXJlKCcuL21pc2MuanMnKTsKICAgICAgdmFyIGRpc3BhdGNoZXIgPSByZXF1aXJlKCcuL2Rpc3BhdGNoZXIuanMnKTsKICAgICAgdmFyIG1vZHVsZXMgPSBbbWlzYywgZGlzcGF0Y2hlcl0ubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYuY2FsbChudWxsLCBjb250ZXh0LCBHTSk7CiAgICAgIH0pOwogICAgICB2YXIgJCA9IF8uYXNzaWduLmFwcGx5KF8sIG1vZHVsZXMpOwogICAgICByZXR1cm4gZmFjdG9yeShjb250ZXh0LCBHTSwgY29yZSwgJCk7CiAgICB9OwogIH0gZWxzZSB7CiAgICBmYWN0b3J5KGNvbnRleHQsIHsKICAgICAgb3BlbkluVGFiOiBHTV9vcGVuSW5UYWIsCiAgICAgIHJlZ2lzdGVyTWVudUNvbW1hbmQ6IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQsCiAgICB9LCBjb250ZXh0Ll8sIGNvbnRleHQuJCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBHTSwgXywgJCkgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciBpc1NhZmFyaSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cuSFRNTEVsZW1lbnQpLmluZGV4T2YoJ0NvbnN0cnVjdG9yJykgPiAwOwogIGZ1bmN0aW9uIGRpc2FibGVXaW5kb3dPcGVuICgpIHsKICAgICQud2luZG93Lm9wZW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY2xvc2VkOiBmYWxzZSwKICAgICAgfTsKICAgIH07CiAgICAkLndpbmRvdy5hbGVydCA9IF8ubm9wOwogICAgJC53aW5kb3cuY29uZmlybSA9IF8ubm9wOwogIH0KICBmdW5jdGlvbiBkaXNhYmxlTGVhdmVQcm9tcHQgKGVsZW1lbnQpIHsKICAgIGlmICghZWxlbWVudCkgewogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgc2VhbCA9IHsKICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgXy5pbmZvKCdibG9ja2VkIG9uYmVmb3JldW5sb2FkJyk7CiAgICAgIH0sCiAgICB9OwogICAgZWxlbWVudC5vbmJlZm9yZXVubG9hZCA9IHVuZGVmaW5lZDsKICAgIGlmIChpc1NhZmFyaSkgewogICAgICBlbGVtZW50Ll9fZGVmaW5lU2V0dGVyX18oJ29uYmVmb3JldW5sb2FkJywgc2VhbC5zZXQpOwogICAgfSBlbHNlIHsKICAgICAgJC53aW5kb3cuT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdvbmJlZm9yZXVubG9hZCcsIHsKICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgZ2V0OiB1bmRlZmluZWQsCiAgICAgICAgc2V0OiBzZWFsLnNldCwKICAgICAgfSk7CiAgICB9CiAgICB2YXIgb2FlbCA9IGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcjsKICAgIHZhciBuYWVsID0gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT09ICdiZWZvcmV1bmxvYWQnKSB7CiAgICAgICAgXy5pbmZvKCdibG9ja2VkIGFkZEV2ZW50TGlzdGVuZXIgb25iZWZvcmV1bmxvYWQnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcmV0dXJuIG9hZWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIgPSBuYWVsOwogIH0KICBmdW5jdGlvbiBjaGFuZ2VUaXRsZSAoKSB7CiAgICBkb2N1bWVudC50aXRsZSArPSAnIC0gQWRzQnlwYXNzZXInOwogIH0KICBmdW5jdGlvbiBiZWZvcmVET01SZWFkeSAoaGFuZGxlcikgewogICAgXy5pbmZvKCd3b3JraW5nIG9uXG4lcyBcbndpdGhcbiVzJywgd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCksIEpTT04uc3RyaW5naWZ5KCQuY29uZmlnKSk7CiAgICBkaXNhYmxlTGVhdmVQcm9tcHQoJC53aW5kb3cpOwogICAgZGlzYWJsZVdpbmRvd09wZW4oKTsKICAgIGhhbmRsZXIuc3RhcnQoKTsKICB9CiAgZnVuY3Rpb24gYWZ0ZXJET01SZWFkeSAoaGFuZGxlcikgewogICAgZGlzYWJsZUxlYXZlUHJvbXB0KCQud2luZG93LmRvY3VtZW50LmJvZHkpOwogICAgY2hhbmdlVGl0bGUoKTsKICAgIGhhbmRsZXIucmVhZHkoKTsKICB9CiAgZnVuY3Rpb24gd2FpdERPTSAoKSB7CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykgewogICAgICAgIHJlc29sdmUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfSk7CiAgfQogICQuX21haW4gPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZmluZEhhbmRsZXIgPSAkLl9maW5kSGFuZGxlcjsKICAgIGRlbGV0ZSAkLl9tYWluOwogICAgZGVsZXRlICQuX2ZpbmRIYW5kbGVyOwogICAgaWYgKHVuc2FmZVdpbmRvdy50b3AgIT09IHVuc2FmZVdpbmRvdy5zZWxmKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIEdNLnJlZ2lzdGVyTWVudUNvbW1hbmQoJ0Fkc0J5cGFzc2VyIC0gQ29uZmlndXJlJywgZnVuY3Rpb24gKCkgewogICAgICBHTS5vcGVuSW5UYWIoJ2h0dHBzOi8vYWRzYnlwYXNzZXIuZ2l0aHViLmlvL2NvbmZpZ3VyZS5odG1sJyk7CiAgICB9KTsKICAgIHZhciBoYW5kbGVyID0gZmluZEhhbmRsZXIoKTsKICAgIGlmIChoYW5kbGVyKSB7CiAgICAgIGlmICgkLmNvbmZpZy5sb2dMZXZlbCA8PSAwKSB7CiAgICAgICAgXy5fcXVpZXQgPSB0cnVlOwogICAgICB9CiAgICAgIGJlZm9yZURPTVJlYWR5KGhhbmRsZXIpOwogICAgICB3YWl0RE9NKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgYWZ0ZXJET01SZWFkeShoYW5kbGVyKTsKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICB9OwogIHJldHVybiAkOwp9KSk7CiQuX21haW4oKTsK","resources":[{"meta":{"name":"align_center.css","url":"https://raw.githubusercontent.com/adsbypasser/adsbypasser/v5.73.0/css/align_center.css","ts":1670972870450,"mimetype":"text/css"},"source":"aHRtbCB7CiAgaGVpZ2h0OiAxMDAlOwp9Cgpib2R5IHsKICBoZWlnaHQ6IDEwMCU7CiAgbWFyZ2luOiAwOwp9CgojYWRzYnlwYXNzZXItd3JhcHBlciB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCiNhZHNieXBhc3Nlci1pbWFnZSB7CiAgbWFyZ2luOiBhdXRvOwogIHRvcDogMDsKICBib3R0b206IDA7CiAgbGVmdDogMDsKICByaWdodDogMDsKfQoKLyogdmltOiBzZXQgdHM9MiBzdHM9MiBzdz0yIGV0IDogKi8KLyogc3VibGltZTogdGFiX3NpemUgMjsgdHJhbnNsYXRlX3RhYnNfdG9fc3BhY2VzIHRydWU7IGRldGVjdF9pbmRlbnRhdGlvbiBmYWxzZTsgdXNlX3RhYl9zdG9wcyB0cnVlOyAqLwovKiBrYXRlOiBzcGFjZS1pbmRlbnQgb247IGluZGVudC13aWR0aCAyOyAqLwo="},{"meta":{"name":"scale_image.css","url":"https://raw.githubusercontent.com/adsbypasser/adsbypasser/v5.73.0/css/scale_image.css","ts":1670972870449,"mimetype":"text/css"},"source":"I2Fkc2J5cGFzc2VyLWltYWdlLmFkc2J5cGFzc2VyLXJlc2l6YWJsZSB7CiAgY3Vyc29yOiAtd2Via2l0LXpvb20tb3V0OwogIGN1cnNvcjogLW1vei16b29tLW91dDsKICBjdXJzb3I6IHpvb20tb3V0Owp9CgojYWRzYnlwYXNzZXItaW1hZ2UuYWRzYnlwYXNzZXItcmVzaXphYmxlLmFkc2J5cGFzc2VyLXNocmlua2VkIHsKICBtYXgtd2lkdGg6IDEwMCU7CiAgbWF4LWhlaWdodDogMTAwJTsKICBjdXJzb3I6IC13ZWJraXQtem9vbS1pbjsKICBjdXJzb3I6IC1tb3otem9vbS1pbjsKICBjdXJzb3I6IHpvb20taW47Cn0KCi8qIHZpbTogc2V0IHRzPTIgc3RzPTIgc3c9MiBldCA6ICovCi8qIHN1YmxpbWU6IHRhYl9zaXplIDI7IHRyYW5zbGF0ZV90YWJzX3RvX3NwYWNlcyB0cnVlOyBkZXRlY3RfaW5kZW50YXRpb24gZmFsc2U7IHVzZV90YWJfc3RvcHMgdHJ1ZTsgKi8KLyoga2F0ZTogc3BhY2UtaW5kZW50IG9uOyBpbmRlbnQtd2lkdGggMjsgKi8K"},{"meta":{"name":"imagedoc-darknoise.png","url":"https://raw.githubusercontent.com/adsbypasser/adsbypasser/v5.73.0/img/imagedoc-darknoise.png","ts":1670972870450,"mimetype":"image/png"},"source":"wolQTkcNChoKAAAADUlIRFIAAABYAAAAWAQDAAAAwoPCuy0HAAAAG1BMVEXDvsO+w74BAQHDv8O/w78KCgoDAwN/f3/DtcO1w7XCgMKAwoDDvMO8w7zDoQ8Ew7YAAAAJdFJOUwUFBQUFBQUFBcKHDsOTw70AAAvDgklEQVR4Xg3DijljwrJaEADDkBnDtnIue3lxL0HCjUkJwpp8wrEEw6NWwoJLTAkaE0swbj/Du8K9w64UB37DhS1uKsOzwqLDsMOCWHzDqMKfw4BICSlZwqjDvirCtsObw59Rw7MfQsKjc2tIwpfCtMKADcKlwpvCpcKQTxPCl13Cs8Kow4k3I13CjAzCilrCp2vCoMKIwrFZFAhjwqE/wpDDpjvChMKHIi/Dtl/CrAPCt1zDv8O0w6gLwpQnecKSd8O8w73DpMOgfcK8wobCpcOQM8OlacKVwoc/wrREw6gyF8KOYsKqKkvChsKvw6xNZylOwp49RkpVCsK+fFkME8KIw403w4x7R8OJwoDCnsOcw7xiCDnDlS4rFjIEVQ7DjsO2OgAuQF8fEcO6wo5Ow6EtI8OTCsKBND3DhMKswoYmw71xw4VtCMOtH1MXD8KXVG7CnX04V2PCkDlywrPDocOSw4LCsGAdG8OLw7cFTcO+wpjCvFYjwojDgcOLw78PUcKRW8KlLg7DskstADnClCI1w64lHcKwwqYpOsOmHzAEw4bCnsKZw79mw43DlsOqCi/Dp1HCvsO9Wz0DL8O/w4HDrmTCh8OLwrDCvEPDrsKbwqo5HkDDjA3CvcOZWsOpw7DCtsKvwpTDjENUw7DDmmENw5bDrzbDksKMw55Jw7HDpgjCulDDhMKQwpfDp8KGwrPDrcK7wprCtsKDwrcXwpZ0f8KTw6tlLMO8bMKlEsOaw7sKw58jwpXCt8KXKsOwH8OmwonDscOwPcKuVsOdScO8ZsOlV8Olw5DDiMKlCMKcw6UGw6PCh8Oqwo3DizMrbsK6w4h1woABwoHCvXpIb8OLwol4McKmwrjDojYVw4ldwpEUS8KSw6fCh8K2HcOLMMK2Y13CqR/DvlfCg8O0O8OXwrheelbCgxVSQkNXwqXCgwLDhMKeFXpdJcKaLnrCjnYIIMKQEDJ3RcO7NMOEwosrwqPDt2rDt8KKMlPDlMOtGsKUw7QnLWJvJMK0e18ew5fCg8OXw6bDtQPCqhbDryjDm8OZwrdBCsKFw4HCk3huSMK/RsKKazbDkwoqw5EET8OYwozCsMKcworCpkjCoMK4CivCn2zCs8KSw70wG3M1EEVDJMO+VTfCucKuLjYCwoJcw50ZDsObwqHCgcKgRmorw44UQ8Krw43DoMKCWDLClC/CoQTCsTLDi8KmUFjDnALCmmrCrcOow7vDhMOECsKGEA9Vw5lyE8Ojw7fDksO4wo3CnMOHWcO5wrXDnznCkMOgwqMdw7PDlk4Ow7YUwp/DvsK8wqPCssKCC37CrytFbEDDiVjCv8KmPwpgw4PCocOtFMKyB8Kawq4ow5ptZ2fDmxorCMKKEMOkw5Vmw5XCpcKewqHDjgzDu8K9w6PDlV8oP8Kzw47Cl8Oywp3Dn8OZZU5IWcKdHcKCesKRHC4uOBpBwrE/DcOtwobDhScwA8KJbcKewqPDtMO9w6/Dk8KKFxY8w45Pw74dH8ONNEkzwoEgbMKYDcO5ScKswrPDlm/Drm8YJmEDwqZ9w7zCkcKHw5gdw4fCjcKmUVXDucOXaipaR8OxAzzCrkgsccOVw4zCsMOHeMOIXsOlw4kQRsOswrMpwqjDkxMyw60rJCVvQsOkwoPDmMKuwoPDsELDqcOtw63DvkUQw7PDlyTCtcKRbGHDnC/ChDfCsx3DkywDelvCrsO2wq/DsjkIwqkLw6s0wrDDgk0AI8OPwqIEJMKvw5XCjsOQQMO+UUrCgsOEw5tuw67Di8OLw6fDm2Y6dhLDgcKASxHCh18cTGjDiMK/fMK+w6tCwqbCt3YAZQXDvMKpw73DmyQ1HMO/wppdwo7DmMK+KwAZw7Rsw7NDN3bDncOdSQQJw5LCvWkWB8OGH8KwwoHCpcKywpHDosK0w5jCjD3Cg8OFfR/CjnnDhG4/LGB+woPDvcO8eRHDncOEdsOswoohwonCoMOXCk/Dt1TDk8O6wpTCjE/DtTBnwrDDh8KAAUZlwqLCrsKPw7DCpREsGw0Ww6jCgMOcwrsNw73Dn2rCpCfCiijCgGBLOw3Dpk/Cq3Ydw67Ch0VbwrzDi8KOIsKJwokPV8OBOiDCqiLDi8OkwpUuWzkITGnCqEkLw6Rcw7vCqXPDuUvDscKawq05Py/Ci8KgYhDClMKywq/ClcOGwofCsFHCvVIuwrofw7rCnR8+wrvCsMO0RsKGwo/Cq8K4L3ZCA3kkQyYuw4ZREEjCicK7wr8FJcK8wrNPw4FsdMKvdF7CgRx7OcO2R8KYwotTNmFzMmZ/XMKNY3gJNMKVEMK9wrpTw450w4BudXknw4jCi8Oiwq3CjlrDqEkSd1ZVPMKEwq/DgzlUZMOWwrbDs8KmUsKNQ8Kyc8KswqlxOWcywoTDsMKuP8Oxw4l8w7nDjVcCwrp1RULCs8O6IsKPw7fCqMO2FcOFJgPDq8O0HnErw5IlHUrCtErDpcObwoDCj1FQamvDqcKJwqXDkcOYwpddD8KoPMKfwoTCshcfw5/CjT4LwpAvwqDChMKXJMKPV8K1w4DDv8KDwqx6w6kiIxo8fkXDlsK3GkbDvBlZw7Enw6nDvH7DvC7Dj3VwARjCs0rCjsK9VEnCnlfDiHjDrGnDtcOMEsKFw63CgsOgH8KPKQzCisKDDBzChMKXVAc9w4kGOcKjwpQgw7DDgzTCnhXCggNhw6jCiEgBc1EHw7sGwqsuPEfDnMK5w7rDsMOPw5zCiFrCiMOVwrHCtMKYE8KxwojDmsOeOsOkwqERw7/DvcKkwozDocKbUGHDmcOGw5hXGcO2IcKEO3pYw5jCpcKmw7/DpEdPF2PDksKZw4zCvsOraMO6e2HDgTzDlsOew7vDglUyw6RQBsK1wp0vw5vCgcKHwobDmG0GwpAnTsOFw4nDtykKw6vDksK7FTJiM8O6asO7w7DDtgTDnAI9Lk1aIUsDwocMNsKHTsOPJ8OJwqchMBcWwqFQw5bCp3/DpVoKwp4IwrMneAUhSsOoQ8OZEmnCucOyw45KLsOewpsTwpXChcKLDhrCicKVw5jCkMKEKjXCrsOuS8Kqw4LDp8KyFEnCg8KBWFHDkl4oHn8Ww7PCtRnCuxbDvMKJw554SxHDlsKJKcOPKnMyAhzDncKGLcKwN8OwKB9zwpjDgMK2wqPCuybDgcOyH8OQeMKSYl9YCMK3w6dfwoo/wqDCr0DCiUV0NmNOEMOqwq8xHzfDlsKbw5FIwoHDiGJbT8KXw7PCq0jCosOSBsONEcK1woBDWirCiRDCkMK5w74VdnbDh3LClHLCnsOdw7zDlSzCmMOpwoUIb8Oiw5N2AcOywpjCtHojUsOgwrUIfA06AMKrw59CY8O/VAXDksOUA8O2wpMyfsO0wrAaTcKnw68XI8K7bz8Uw7TDoMKpwpXDncKqw5XDocOGwrbDj8KZFsK7dMOgCcKIwpbDpsOOPMO+w5drJ8Oiw77CvS3CiX3CmmjDtMO9Dz4+TVPDgcKheyMcPMOWfsK5wprDgMOrGX5gU8O+TcK+c8KrM8O+G8ODw6cIw6vCjT7Dl8KBGWcTM8OuZcOqw6bCi1jDqn1Kw4TDnsKuw5V0V8OJwrvCmhPDtAd+VUh1fMKMCBYQcsOxOcKMwroSHl9lw6nCmsKIJsK9LULDncKbwrDCiyR8w63ClMKrwo9Cb8OUOkQBwokbcMK9w5HCpjZXwpnCmk9XwonClx/DjMO8Nh8CS8Okfj7ClxPCnkhywq/ClQlpKMKzw5MIw4rDm2EwwpfDrMOSw7rClMOuwoNDw5DDkCTCpyUOS33DlHvDrsO1WcK5w7gjwpEPw7J1w74Vw6c6RGjDmsK+JcKZwqtAwq7ClnXCkFpyYwcvw5RmLnPDlMKzT8OMYwYFw47CjMKrXcKEDExxwoBQwpPCn8K6ZHnCr8K/TGTDrcK8DMKBF0FUw7nDgGw9w7U2NU9Bwo4IL8OBw41rw7xEQAPDgMKAwp3DkMK4w5Q0wqnDhMOow6RVa0lOwp7CqGg7S8O3w55cFnMBdMOKdMOgTsKRccOLw60OKcOaYTQ1wonClH8ubMKqBsOpYlfCtMKsQMOBwrsiwpbCkEkHw6HCgcOCKcKvTsOAwqvCv1R7LSXDvRMZAMODwo4ZEcOMVMOcwr50OHnDigMiwpk1w61fwoofwqFWwqItRGDCg3/CuyHCusO5wp7DulTDlsK1w6XDucKhwovCnMOnw4NrCcKqwqNgworDiFdDw4XDiQfCocOZwpzDmRLCo1LDq0LDrsKGc8O5w4MHwozCkkbClMO3ekMDw7RWPMOXwobCpMOwwoHCgiUeDsO1dC9TX3UTw78efmLDrsK1CsOuR8OtwpTChcKeIUIYbsOcw7MWX2fClMKHwpo1w7oXw7sfw6rDiWzDiAASw5NkNsOewqvDuENmwpxgw5oJIcO4woDCn0lPDlLCknzDiWY1w67DpDkQZsK+GGXChcKaesOBd8Obw5fDnMKjwq15wokJaMOKT8OAwp4Two8ww6NuGQ4wwqnCligpc1TCncKgw7NWBhZfw5zDkxPDiCp3ICRnVCrDtmhRQm7DkgYaIAh6E0xNeQ15wqrCklfDjMOSE8KBw74Ww7sPw6hRwqLCjjPCngQxSMK1wo/CnMKvOCsEe8OCWMKnBUbCj8Kdw6U2I8OMY8OUZcK2B3jCicOKfMOZw7vDjcOrw5zDpEgVCMOjScOJSRTDnh8+w6HDlMKFw7jDmCrDtMKSVcKjw4YzwrTDpMOEwpfDlMKGwpN4OcKTRGEeKsOwL8K1wqbCgWjCtCfCjcO7Ric/wrhyMXLDi8Kvw6IKMsOGF2/DoFvDqMOQwoRFMWxAT8OJDMOXwovDoFvDokc9w4DCriMjA0tZwrwQAMOrWCkSw5rCisKQw4fDuX4TPMOzwobDsDDCjWPCggLDtyBkw5bCpyJuOFTCgRnDg3HDvcO5wqZfXcOmwotbwr0Iw44heUTCu8KXVcK2bktFwqLCuSlnA8O8w7XDui3CocKdw5vCkMKuNHHCv8K+B8KIB1kcwqQpwp7DuMKfInZXI3wQCwDClMKgwoM5w6wYccKOAMKYHRnDm8KMwp3CmD5sBsKeGATChlfDlsOhw719wrA+w4VTwpgSw7HCmTTDkMKwEcKFwpBDwqRkwpTDrBgJwr4ewrtMDcK1wrDCvTXDjsK6w5XDtcK7wrBxIsKvV8KJwr7Cg8KQUxtSK012wrYsUMK5GsKGw4AhBEh9FjdzL8OQTQEcU0rCvsOTw57DrWsTw6IWUmDCiMKnBMOZHcKQwq7Dpl9THCvCgnDDqFnCqcO3wqTCuQxjQ8KxKMOIZQkDAMKvw77CrUk6w6JeCcOPw7fClknDm8OvwqzDgMKqw6PCvwwEISvDvsK2cMO/F8Oaw43DviASw4jChsOyw7xEeinCoHpIAsKycsKxwoTDk8KYw4MewrnCs8OXwofDhcK7w6tALzFRw7rDrjrCoMKDTsK+w753wrkxwp7Ct8OXPsKyRMOoZcKiHcOdPQjCq2bCgSnCr8ONMMKCw5/DnBHCuFsBBMOmRMK7RsKHw4lxCwDDgQXCvk54wp4aEsKtwrlcE0xPasOzWcOnVsObMjPCj8OgwoIMwqlnwpciQcONPzXCqBXCqcOrw5h7wr5Ww7dOYRXDuDNmw5rCusKjw5Ykw7sFC8KwVVsuPkwqw5XDrk/DssOYDcKNVsOIwpTDjMOwXcOjNcOWRmrCjx3DiihTwonDjcONw4IDIVXChi8fw4VWeRbDuF0Aw45mM8KpEsOow6gKwrtewowWCWrDn8O2w79BUjB3DsOHUCzCnltOCT4wwrl0w6/ChgvDk8KfwqnDsHhVf8Kww4LDqMKfwrfDq2HCs2TCrMOeLsKnwpDDoT4kXMKDw7sCwoUvw6XCjF/CqcOww4A7w5rDkS1/O8ODJcKeJ1rDq8OTw6HDt8Knw64Ww7DCqETDi8OXwpwnw6wsw7PDpgvDuEDDpRnDjDROHwzCrSlUw6Q4BHLDmhLCvMOvw78Aw73DtABmwozDlmTDkAAAAABJRU5Ewq5CYMKC"}]},{"name":"YouTube - Ad Skip","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.youtube.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1670972874324,"data":{}},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/40178-youtube-ad-skip/code/YouTube%20-%20Ad%20Skip.user.js","uuid":"b1ae57f5-d161-4ac6-a5e2-00e662b35098","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBZb3VUdWJlIC0gQWQgU2tpcAovLyBAdmVyc2lvbiAgICAgIDEuMAovLyBAZGVzY3JpcHRpb24gIFNraXBzIGFuZCByZW1vdmVzIGFkcyBvbiBZb3VUdWJlIGF1dG9tYXRpY2FsbHkKLy8gQGF1dGhvciAgICAgICBCb2JvY2F0bwovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tLyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vIEBuYW1lc3BhY2UgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy91c2Vycy8xNjcwODkKLy8gPT0vVXNlclNjcmlwdD09Cgpjb25zdCBlcXVhbFRleHQxID0gIlNraXAgQWRzIjsKY29uc3QgZXF1YWxUZXh0MiA9ICJTa2lwIEFkIjsKCmZ1bmN0aW9uIGFkZE5ld1N0eWxlKG5ld1N0eWxlKSB7CiAgICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0eWxlc19qcycpOwogICAgaWYgKCFzdHlsZUVsZW1lbnQpIHsKICAgICAgICBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgIHN0eWxlRWxlbWVudC50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgICBzdHlsZUVsZW1lbnQuaWQgPSAnc3R5bGVzX2pzJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7CiAgICB9CiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3U3R5bGUpKTsKfQoKZnVuY3Rpb24gc2tpcEFkKCl7CiAgICBjb25zb2xlLmxvZygiVHJpZWQgdG8gc2tpcCBhIGFkIik7CiAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ5dHAtYWQtc2tpcC1idXR0b24iKS5sZW5ndGggPiAwKXsKICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ5dHAtYWQtc2tpcC1idXR0b24iKVswXS5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50ID09PSBlcXVhbFRleHQxIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInl0cC1hZC1za2lwLWJ1dHRvbiIpWzBdLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQgPT09IGVxdWFsVGV4dDIpewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ5dHAtYWQtc2tpcC1idXR0b24iKVswXS5jbGljaygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoc2tpcEFkKCksIDEwMDApOwogICAgICAgIH0KICAgIH0KfQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgYWRkTmV3U3R5bGUoJy55dHAtYWQtb3ZlcmxheS1zbG90IHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9Jyk7CiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKXsKICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaHJlZi5zdWJzdHJpbmcoMCwzMCkgPT0gImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoPyIpewogICAgICAgICAgICBza2lwQWQoKTsKICAgICAgICB9CiAgICB9LCAyNTAwKTsKfSkoKTs="},{"name":"Bypass All Shortlinks","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["/^https:\\/\\/claimclicks\\.com\\/(btc|ltc|doge|trx|faucetlist|ptclist)/","/^https:\\/\\/claimercorner\\.xyz\\/(claimer\\/dashboard|claimer\\/advertise|claimer\\/ptc|claimer\\/deposit|claimer\\/transfer|claimer\\/tasks|claimer\\/offerwall|claimer\\/profile|claimer\\/auto|claimer\\/mining|claimer\\/wheel|claimer\\/login)/","/^https:\\/\\/cryptosats\\.net\\/(cryptosats\\/dashboard|cryptosats\\/advertise|cryptosats\\/ptc|cryptosats\\/deposit|cryptosats\\/transfer|cryptosats\\/tasks|cryptosats\\/offerwall|cryptosats\\/profile|cryptosats\\/auto|cryptosats\\/mining|cryptosats\\/wheel|cryptosats\\/login)/","/^https:\\/\\/99faucet|faucet.cempakajaya\\.com\\/(dashboard|advertise|ptc|deposit|transfer|tasks|offerwall|profile|auto|mining|dice|lottery|faucet|login)/","/^https:\\/\\/free.tribuncrypto\\.com\\/(dashboard|advertise|ptc|deposit|transfer|tasks|offerwall|profile|auto|mining|dice|lottery|faucet|login)/","*://*.vosan.co/"],"orig_includes":["/^(https?:\\/\\/)(tmearn|additionalgamer|makemoneywithurl|shrinkearn|techcyan|aghtas|soltoshindo|link4m|kingsleynyc|healthy4pepole|kiktu|1bitspace|skip-url|pennbookcenter|publicananker|mikl4forex|michaelemad|miklpro|zirof|forex-golds|nawahi1|mosqam|semawur|forex-trnd|hoshilink|taiwancnan|bit-url|megurus|cuts-url|popimed|rayusmedya|enburl|pickhopes|toryxlink|aduzz|lycoslink|cdrab|ibrabucks|zenshort|ethiomi|shortenbuddy|kiemlua|smoner|djbhojpurisongs|urlty|sakastau|modsbase|ac.totsugeki|bcvc2|earnwithshortlink|bitzite|link1s|diadiemcheckin|tudiendanhngon|chooyomi|staaker|lucidcam|forexlap|forexmab|linkjust|admediaflex|hoclamdaubep|rekonise|forex-articles|ponselharian|liinkat|thegoneapp|mobi2c|studyuo|hookeaudio|thehostingmentor|intlinki|linkshortify|shopsixseven|mohtawaa|msarzone|foodhear|fc-lc|expertvn|downphanmem|healdad|ez4mods|try2link|tmker|soft3arbi|techyadjectives|ex-foary|examtadka|bablyfeed|crypto4tun|blogmado|itsguider|btcwalk|99faucet|coin-free|1xfaucet|cafenau|techacode|ls2earn|sevenjournals|7misr4day|trflink|bclikeqt|youssefsayed|get4links|crickblaze|nostralink|clkmein|101desire|memangbau|sama-pro|s.ume24|shtfly|bestmobilenew|onlineincoms|modsfire|adneow|short.clickscoin|adclickersbot|mobitaak|modebaca|paylinnk|olhonagrana|chedrive|adrinolinks|samaa-pro|techrfour|ez4short|topnewsnew|gawishpro|dz4link|skincarie|gaminplay|infinitycoupon|videoslyrics|shortlite|bitefaucet|techrayzer|shorteet|donnaleehunt|puggygaming|tranquangchuan|blogginglass|1shorten|lensabicara|tieutietkiem|yummy-reciepes|doctor-groups|link.bigboxnet|bioinflu|chamcuuhoc|litexblog|7nything|ezeviral|gamalk-sehetk|adsafelink|cbshort|abcshort|checkscoin|llinkon|links.apksvip|nguyenvanbao|cloudgetlink|techloadz|atglinks|nulledsafe|dreamcheeky|cutpaid|fidlarmusic|rodjulian|anhdep24|money.alyoumeg|sl.claimfreebits|sl-1.btcbunch|sl-2.btcbunch|earncryptowrs|short-zero|insurancevela|poketoonworld|arahtekno|mopahealth|nghiencar|educur|sl-3.btcbunch|apk.miuiku|bitlya|ecwizon|oncehelp|sportsmediaz|big2short|techymozo|loptelink|2shrt|charexempire|coindoog|shotzon|novelsapps|webhostingpost|tremamnon|tirailangit|intercelestial|tribuntekno|bestcash2020|hoxiin|fooot-map|priefy|dz-linkk|fauxlink|chinhnhacoban|autodime|cortaly|link.3dmili|1adlink|indianshortner|donia-tech|donia2tech|donia2link|short1s|cr3zyblog|btafile|pdiskshortener|urlsopen|1shortlink|linkerload|filenext|shrinkmoney|doodshort|paid4link|kienthucrangmieng|wiki-topia|aljoodm98|newworldnew|sahityt|mkomsel|niinga|fx4vip|shortzon|mesho-link|up4cash|newsharsh|examkhata|linksht|note1s|teknosimple|discordserv|wikitraveltips|link-yz|apkadmin|ayelads|gawbne|mshortener|cutdomain|usersdrive|uptobox|1fichier|uploadrar|bayfiles|krakenfiles|post.copydev|icutlink|zegtrends|anonfiles|sharemods|ddownload|uppit|userscloud|newsnowbd|link.nulldown|asideway|url.namaidani|url.magmint|mp4upload|myshrinker|apkshrt|link.turkdown|drive.google|safe.intipanime|uploadhaven|manga2day|shortyearn|workupload|filedm|themorningtribune|beingtek|sub2get|ex-load|campki|social-unlock|teerclub|short-jambo|link.bitmagge|nerdiess|lyricsbaazaar|best-cpm|clicksfly|megaupto|maqal360|foodboth|ufacw|techcartz|softechbharat|okrzone|informaxonline|shopdorod|short.skalbayrak|adshnk|sub2unlock|smarcrm|cryptomeloud|blog-everything|ikrey|tipsli|urlpayout|urlpoints|hocbeauty|95news|link.get4llink|twitonet|shrinklo|xemsport|cutwin|pubgquotes|examsteacher|adpaylink|yxoshort|mdiskurl|shrt10|imgbsr|linknih|lessurl|pureshort|techkeshri|uploadsoon|shrinkgold|itechmafiia|link4earn|team.pastehosting|3rabsnews|hosting4lifetime|oyunfilmindir|tecnicalboy|mr-forex|leadcricket|freebrightsoft|bantenexis|tackaway|dr-forex|indiajobagency)(\\.com)(\\/.*)/","/^(https?:\\/\\/)(.+)?(zolomix|cararegistrasi|5golink|birdurls|snkra|artiskini|sh2rt|byboe|medcpu|nousdecor|restorbio|bdnewsx|upshrink|gifans|jardima|jobswd|gkqnaexam|imperialstudy|ovlinks|imagenesderopaparaperros|yofaurls|digiromotion|wingifta|rancah|coinadfly|delishwell|zippyshare|solidfiles|ourtecads|zubatecno|covemarkets|disheye|eda-ah|blog-forall|techymedies|gamelopte|allcryptotips|claimclicks|snowurl|riadcrypto|askpaccosi|linktrims|gets4link|visflakes|apk4do|dineroshare|elwatanelyoum|ledifha|claimfey|panylink|wrbloggers|tokenoto|saly-cash|upload-4ever|shortenn|admediaflex|btcpany|assettoworld|vikashmewada|linkyearn|appsbull|gam3ah|tinybc|diudemy|hereofamily|file-upload|shorterall|tribuncrypto|cempakajaya|safelinkduit|nadersoft7|adshorturl|linkbnao|phsensei|4shared|ta2deem7arbya|lrshortner|tinycmd|cloudshrinker|proviralhost|technicalatg|v2links|ytsubme|rainurl|arahlink|m4cut|teachsansar|web9academy|shortxlinks|flyrar|pythondunyasi|meykmen|on-scroll|shrtfly|dash-free|sekilastekno|cutln|i-polls|sonicbtc|menjelajahi|almontsf|crypturls|zombiebtc|techwhom|cash4share|linkwards|nyawang)(\\.com)(\\/.*)/","/^(https?:\\/\\/)(ahyblogs|ourcoincash|1manga|watchdoge|arenaboard|ccsl|shrinkpay|adsgo|shon|crypto-faucet|bingeflix|studystar|lokagames|3vw|bflinks|short-cash2|wizzly|mgnet|crypteen|dogeen|fauceteen|cutdl|sportawy|fexkomin|technemo|zoomcrypto|techboyz|cblinks|99links|kartunik|post.nites-tv|shortplus|stores.filmyzilla-in|expresscoins|claimcoinsfree|short1|swzz|acortame|alghtas|wizly|horanews|a1link|short2fly|bcvc|healthbloog|post.movies-near-me|st.kleaco|playlink|q8c|uscity|cars-1year|nabits|welovecrypto|worldappsstore|0uq|sh.tripledownloader|short2url|zeroshort|bitsyield|egstar|playdisk|monsterurlshortner|gibit|studyis|kukslincs|magictoshi)(\\.xyz)(\\/.*)/","/^(https?:\\/\\/)(.+)?(senuansatechno|insurglobal|claimercorner|shortly|dexlink|doctorcoin|speedynews|1apple|ffworld|textpage|fidovy|egfly|insurance-space|crypto-blog|sapica|earnfacut|urlbharat|dropz|chainfo|megano-coin|techleets|earnl|ajifly)(\\.xyz)(\\/.*)/","/^(https?:\\/\\/)(neonlink|techydino|world-trips|yoshare|lets.5get|crypto-fi|wpcheap|coinmasterx|catcut|aztravels|dulichkhanhhoa|sub2unlock|forex-gold|techtrickonline|7apple|ccurl|link1s|url.namaidani|cryptowidgets|dogeclick|adskip|hurirk|usfinf|xervoo|sport4you|hexupload|eloism|cutt|forexshare|blog.cryptowidgets|neexulro|dailyuploads|douploads|simfileshare|fir3|magybu|racaty|linegee|blogesque|thuocdangian|altblogger|letsboost|conghuongtu|vinaurl|tecmundo|try2link|cut-y|megadb|cpmlink)(\\.net)(\\/.*)/","/^(https?:\\/\\/)(.+)?(digitalnaz|owllink|mozlink|cryptosats|rocklinks|celinks|jiotech|bitcomarket|illink|jemari|paid4link|link3s|boscoin|linkrex|fire-link|urlw|pilinks|linkshortify|youshort)(\\.net)(\\/.*)/","/^(https?:\\/\\/)(tnlink|jrlinks|qualitystudymaterial|cuturl|missionhight|wpking|zagl|ls2earn|streamshort|shareus|referus|megafly|megaurl|cutp|earnmoj|riadshot|urlmoney|cplink|cryptomonitor|technoflip|linkshortify|htlinks|techlearningtube|urlfly|linkocean|financeflix|uttan|jazbaat|djxmaza|bildirim|techy4you|battlechamp|sahilsumra|kerdlinfo|urlcut|insurancevlog|itechlogic|videolyrics|tekcrypt|missionhight|gplinks|moddingzone|adybrands|gpflix|gz2|dulink|aclinks|hidelinks|shortearn|siteblog|u.apgy|du-link|ouoi|by6|adrinolinks|rklinks|mymobilehub|techdaze|link4earn|rupamobile|examsolution|earn4link|kalvidudes|techwithsanikant|thebookaholics)(\\.in)(\\/.*)/","/^(https?:\\/\\/)(.+)?(cashurl|linkad|bitcoinly|crazyblog|zolomix|technologylover|expertlinks|largestpanel|linkres|rsrlink|linkstream|xmod|short2url|99links|rplinks|enit|adloot|url2go|tnvalue|pvidly|apurl|earnspace|urlinked|mdlink|gamerfang|writedroid|teckypress|fixno|paisakamalo|inkik|shrinkforearn|easysky|ajlinks|mdiskplayer|akcartoons|open2get)(\\.in)(\\/.*)?/","/^(https?:\\/\\/)(aylink|linkszia|mynewsmedia|gtlink|linksly|droplink|123link|linksfy|adshorti|hxfile|dosya|veganal|takem|ezimg|eng.ezimg|dausel|modlink|9-animie|veganho|nulledmod|veganac|dealprice|arabplus2|cut-y|adshort)(\\.co)(\\/.*)/","/^(https?:\\/\\/)(.+)?(takez|linksfire|vosan|tinygo|veganab|adfloz|fexkomin)(\\.co)(\\/.*)/","/^(https?:\\/\\/)(ctbl|girls-like|gobits|zoss|shrinke|tlin|terafly|petafly|gigafly|adnews|papanews|panyflay|mozzfly|shortus|short.croclix|best-news|mega-news|wildblog|specx|dddrive|linkpoi|m.newhit|mboost|linkshorts|exafly|nonofly|lozzfly|uptomega|stfly|adbull|youshort|health-and|cutx|adsk|linkfly|shorter.earn-hub|pkin|cashando)(\\.me)(\\/.*)/","/^(https?:\\/\\/)(.+)?(theconomy|richlink)(\\.me)(\\/.*)/","/^(https?:\\/\\/)(sitr|downfile|savelink|linkshortify|shareus|promo-visits|mobileprice|mynurse)(\\.site)(\\/.*)/","/^(https?:\\/\\/)(.+)?(cekip|link4rev|coin-city|urlcash)(\\.site)(\\/.*)/","/^(https?:\\/\\/)(earnme|sanoybonito|automotur|kooza|1link|zentum|mytop5|forexwaw|megatube)(\\.club)(\\/.*)/","/^(https?:\\/\\/)(.+)?(usanewstoday|kadal|webhostingtips)(\\.club)(\\/.*)/","/^(https?:\\/\\/)(adrev|paid4|yousm|coinpayz|tr|yocto|clk.dti|besturl|boostme|takefile|appo|pureshort|linkshortifyx)(\\.link)(\\/.*)/","/^(https?:\\/\\/)(.+)?(vshort|stex|cash4|zuba)(\\.link)(\\/.*)/","/^(https?:\\/\\/)(shurt|shortit|adsy|bitlinks|clik|playstore|megalink)(\\.pw)(\\/.*)/","/^(https?:\\/\\/)(.+)?(prz|pong)(\\.pw)(\\/.*)/","/^(https?:\\/\\/)(bloogerspoot|vsbl)(\\.ga)(\\/.*)/","/^(https?:\\/\\/)(bloogerspoot|linkshor|cortlink)(\\.tk)(\\/.*)/","/^(https?:\\/\\/)(.+)?(madfaucet|mineshor|futureshor)(\\.tk)(\\/.*)/","/^(https?:\\/\\/)(bloogerspoot|urlchanger|arearn|360shortlink)(\\.ml)(\\/.*)/","/^(https?:\\/\\/)(onimports|link.encurtaon|economiarelevante)(\\.com\\.br)(\\/.*)/","/^(https?:\\/\\/)(exee|onlineteori|punyablog|activity|massive|caview|nesiaku)(\\.my\\.id)(\\/.*)/","/^(https?:\\/\\/)(.+)?(mycut|apasih)(\\.my\\.id)(\\/.*)/","/^(https?:\\/\\/)(.+)?(suratresmi|carapedi|salink)(\\.id)(\\/.*)/","/^(https?:\\/\\/)(link.skm4u|linkwards)(\\.co\\.in)(\\/.*)/","/^(https?:\\/\\/)(.+)?(droplink)(\\.co\\.in)(\\/.*)/","/^(https?:\\/\\/)(kiiw|passgen|wordcounter|shrink|revcot|clickzu|shortzu)(\\.icu)(\\/.*)/","/^(https?:\\/\\/)(newforex|wplink|nbyts|wealthystyle|clicksfly|happy-living|webcoin.coinrain|teacherana|earnow|earn-cash|yourtechnology|apks|network-earn|battleroyal)(\\.online)(\\/.*)/","/^(https?:\\/\\/)(.+)?(adslinkfly|readi|linkmumet)(\\.online)(\\/.*)/","/^(https?:\\/\\/)(exey|ezlinks|techmody|ouo|ex-e|saly|cuty|evoload|oke|letsupload|eio|oii|exe)(\\.io)(\\/.*)/","/^(https?:\\/\\/)(.+)?(linkfly|usalink)(\\.io)(\\/.*)/","/^(https?:\\/\\/)(tny|tinyurl)(\\.so)(\\/.*)/","/^(https?:\\/\\/)(zshort|claimcrypto|cashearn|1ink|linkpay|moneylink|intnews|openload|linkspy|letsupload|myasietv)(\\.cc)(\\/.*)/","/^(https?:\\/\\/)(cryptoad|wikile|uploadev|mega4upr|cshort|payskip|homeairquality|shortearn|sl.btc25|earnsfly)(\\.org)(\\/.*)/","/^(https?:\\/\\/)(.+)?(medipost|shrinkurl|keeplinks|rajdlsg)(\\.org)(\\/.*)/","/^(https?:\\/\\/)(jameeltips|mitly|adfoc|link4fun)(\\.us)(\\/.*)/","/^(https?:\\/\\/)(.+)?(yalla-shoot-now|forexeen|jaelink)(\\.us)(\\/.*)/","/^(https?:\\/\\/)(noweconomy|deportealdia|adshort|ay|pngit|pndx)(\\.live)(\\/.*)/","/^(https?:\\/\\/)(earnads|genpassword|shrlink|mshort|punyamerk|shortnow|short.freeltc)(\\.top)(\\/.*)/","/^(https?:\\/\\/)(scratch247|siyn|portablesusb|children-learningreading|azmath|mobilereview|inform3tion|mobilism|shortlinkto|uptobhai|bitcrypto|machicon-akihabara|cooklike|videoclip|brbushare|fanclup)(\\.info)(\\/.*)/","/^(https?:\\/\\/)(faucetcrypto|bildirim)(\\.eu)(\\/.*)/","/^(https?:\\/\\/)(nex-url|olamovies|atrologyrex)(\\.cyou)(\\/.*)/","/^(https?:\\/\\/)(antonimos|blog.hostratgeber)(\\.de)(\\/.*)/","/^(https?:\\/\\/)(freelitecoin|uplinkto|1Link)(\\.vip)(\\/.*)/","/^(https?:\\/\\/)(.+)?(flyad|lootcash)(\\.vip)(\\/.*)/","/^(https?:\\/\\/)(romania|met|warp)(\\.bz)(\\/.*)/","/^(https?:\\/\\/)(2ad|viya|17o)(\\.ir)(\\/.*)/","/^(https?:\\/\\/)(adshrink|cutin)(\\.it)(\\/.*)/","/^(https?:\\/\\/)(pingit|files|upo)(\\.im)(\\/.*)/","/^(https?:\\/\\/)(clk|9xupload)(\\.asia)(\\/.*)/","/^(https?:\\/\\/)(iir|tei|ier|ckk)(\\.ai)(\\/.*)/","/^(https?:\\/\\/)(aii|clk|oko)(\\.sh)(\\/.*)/","/^(https?:\\/\\/)(.+)?(i8l|clk|pi-l|bcvc|modli)(\\.ink)(\\/.*)/","/^(https?:\\/\\/)(.+)?(upload|prx)(\\.ee)(\\/.*)/","/^(https?:\\/\\/)(.+)?(mirrored|clicknupload)(\\.to)(\\/.*)/","/^(https?:\\/\\/)(.+)?(ouo|forextrader|daga88)(\\.today)(\\/.*)/","/^(https?:\\/\\/)(.+)?(techgeek|adsgo)(\\.digital)(\\/.*)/","/^(https?:\\/\\/)(mhma12|surflink|techtrim)(\\.tech)(\\/.*)/","/^(https?:\\/\\/)(kiw|redir.123file)(\\.li)(\\/.*)/","/^(https?:\\/\\/)(fc|fcc)(\\.lc)(\\/.*)/","/^(https?:\\/\\/)(zonearn|theprice|nhacremix|doanvanhai|hynews)(\\.biz)(\\/.*)/","/^(https?:\\/\\/)(.+)?(123link)(\\.biz)(\\/.*)/","/^(https?:\\/\\/)(.+)?(exe|exee|exep|exeo|upfiles|cutty|linkfly)(\\.app)(\\/.*)/","/^(https?:\\/\\/)(adshort|1bit|2the|careerhunter|galaxy-link)(\\.space)(\\/.*)/","/^(https?:\\/\\/)(makeeasybtc|softindex|techus)(\\.website)(\\/.*)/","/^(https?:\\/\\/)(linka|xtrabits|skipads)(\\.click)(\\/.*)/","/^(https?:\\/\\/)(.+)?(shortlinks|easysl|adlink|adzilla|urlcash)(\\.click)(\\/.*)/","/^(https?:\\/\\/)(.+)?(hamody|nathanaeldan|freddyoctavio|davisonbarker|clks|cryptosh|bestfonts|gitlink|openurl)(\\.pro)(\\/.*)/","/^(https?:\\/\\/)(up-load|zcash|mdisk)(\\.one)(\\/.*)/","/^(https?:\\/\\/)(1dogecoin|faucet)(\\.work)(\\/.*)/","/^(https?:\\/\\/)(claim|chuksblog|pricenews|url.getbits)(\\.fun)(\\/.*)/","/^(https?:\\/\\/)(go|blog|go2|tech|test|blg)(\\.madshiba\\.fun)(\\/.*)/","/^(https?:\\/\\/)(linkati|zenshort|curto)(\\.win)(\\/.*)/","/^(https?:\\/\\/)(cool-time|movies|anime|tech)(\\.dutchycorp\\.space)(\\/.*)/","/^https:\\/\\/linkvertise\\.com\\/(1|2|3|4|5|6|7|8|9)/","/^https:\\/\\/cryptofans\\.club\\/(short|next|other|step)/","/^(https?:\\/\\/)(.+)?(mediafire)(\\.com)\\/(download|file)/","/^(https?:\\/\\/)(.+)?(cryptocurrencytracker|freefaucet)(\\.biz)\\/(link)/","/^(https?:\\/\\/)(.+)?(freebitcoin)(\\.fun)\\/(topsites|view)/","/^(https?:\\/\\/)(.+)?(clickscoin|freefeyorra|reddcoineveryday|cryptotyphoon|softairbay)(\\.com)\\/(short)/"],"orig_matches":["*://dutchycorp.space/s*/*","*://dutchycorp.ovh/s*/*","*://shorts.lu/*","*://adx.wiki/*","*://adx.cx/*","*://al.ly/*","*://za.gl/*","*://goo.st/*","*://c2g.at/*","*://adz.moe/*","*://coin.mg/*","*://send.cm/*","*://kimo.ma/*","*://goads.ly/*","*://mdn.rest/*","*://*.mdn.lol/*","*://*.rota.cc/*","*://ouo.press/*","*://7cc.96.lt/*","*://gktech.uk/*","*://*.flyzu.icu/*","*://tinyurl.is/*","*://*.mdn.world/*","*://nail.edu.pl/*","*://lolabits.se/*","*://gosixs.com/s/*","*://3shorturl.gq/*","*://litecoin.host/*","*://*.goto.com.np/*","*://z-cash.xyz/ad/*","*://drop.download/*","*://cryptofuns.ru/*","*://linkshrink.ca/*","*://short.express/*","*://arbweb.info/sl/*","*://*.cizgifilm.tv/*","*://karyawan.co.id/*","*://faucethub.ly/hs/*","*://faucetpay.io/ptc*","*://*.trangchu.news/*","*://webmobile.store/*","*://*.adz7short.space/*","*://docs.google.com/uc*","*://starfaucet.net/sl/*","*://solarchaine.com/sl/*","*://shrt.cryptofuns.ru/*","*://iqfaucet.com/link3/*","*://horrorbitcoin.com/?*","*://satoshi-win.xyz/url/*","*://cryptonetos.ru/page/*","*://*.writedroid.eu.org/*","*://post.blogzone1.shop/*","*://faucet.gold/BTC/?step*","*://faucet.gold/ETH/?step*","*://adbtc.top/surf/browse/*","*://anonym.ninja/download/*","*://claimsolana.xyz/short/*","*://faucetcrypto.net/short/*","*://stationbit.xyz/autolink/*","*://cryptoaffiliates.store/sh*","*://konstantinova.net/verify/*","*://playnano.online/watch-and*","*://adbtc.top/surfiat/browse/*","*://rotator.nurul-huda.sch.id/*","*://*api-secure.solvemedia.com/*","*://faucetcrypto.com/claim/step/*","*://linkvertise.download/download/*","*://*.racedepartment.com/downloads/*","*://cryptonetos.ru/page/redirect*","*://galerybits.com/protectlink/*","*://earnultimate.space/short/*","*://bas.nurul-huda.or.id/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1670972904046,"data":{}},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/431691-bypass-all-shortlinks/code/Bypass%20All%20Shortlinks.user.js","uuid":"0eb477bd-a4b4-49bf-9afe-0b3afccbd603","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgQnlwYXNzIEFsbCBTaG9ydGxpbmtzCi8vIEBuYW1lOmlkICAgIEJ5cGFzcyBTZW11YSBTaG9ydGxpbmsKLy8gQG5hbWU6dWcgICAgQnlwYXNzINio2KfYsdmE2YnZgiDZgtmJ2LPZgtinINim24fZhNmJ2YbZidi02YTYp9ixCi8vIEBuYW1lOmFyICAgINiq2KzYp9mI2LIg2KfZhNis2YXZiti5INin2YTYsdmI2KfYqNi3INin2YTZhdiu2KrYtdix2KkKLy8gQG5hbWU6aGUgICAg15zWt9ei1rLXp9eV1rnXoyDXkNeqINeb15wg16fXmdep15XXqNeZ150g16fXpteo15nXnQovLyBAbmFtZTpoaSAgICDgpLjgpK3gpYAg4KS24KWJ4KSw4KWN4KSf4KSy4KS/4KSC4KSVIOCkleCliyDgpKzgpL7gpK/gpKrgpL7gpLgg4KSV4KSw4KWH4KSCCi8vIEBuYW1lOmphICAgIOODkOOCpOODkeOCuSDlhajjgaYg44K344On44O844OI44Oq44Oz44KvCi8vIEBuYW1lOmZyICAgIEJ5cGFzcyBUb3V0IExpZW4gY291cnRzCi8vIEBuYW1lOmtvICAgIOuqqOuToCDsp6fsnYAg66eB7YGsIOyasO2ajAovLyBAbmFtZTp0aCAgICDguJrguLLguKLguJ7guLLguKog4LiX4Lix4LmJ4LiH4Lir4Lih4LiUIOC4peC4tOC4h+C4hOC5jOC4quC4seC5ieC4mQovLyBAbmFtZTpiZyAgICDQl9Cw0L7QsdC40LrQsNC70Y/QvdC1INC90LAg0LLRgdC40YfQutC4INC60YDQsNGC0LrQuCDQstGA0YrQt9C60LgKLy8gQG5hbWU6cm8gICAgQnlwYXNzIFRvYXRlIExpbmt1cmkgc2N1cnRlCi8vIEBuYW1lOmZpICAgIE9oaXR0YWEgS2Fpa2tpIEx5aHlldCBsaW5raXQKLy8gQG5hbWU6aXQgICAgQnlwYXNzYXJlIFR1dHRvIENvbGxlZ2FtZW50aSBicmV2aQovLyBAbmFtZTplbCAgICDOoM6xz4HOrM66zrHOvM+Izrcgzp/Ou86xIM6jz43Ovc+Ezr/OvM6/zrkgz4PPjc69zrTOtc+DzrzOv865Ci8vIEBuYW1lOmVvICAgIFByZXRlcnZvam8gxIhpdWogTWFsbG9uZ2FqIGxpZ2lsb2oKLy8gQG5hbWU6ZXMgICAgU2FsdGFyc2UgVG9kb3MgbG9zIEVubGFjZXMgQWNvcnRhZG9zCi8vIEBuYW1lOmh1ICAgIEJ5cGFzcyDDlnNzemVzIFLDtnZpZCBsaW5rZWsKLy8gQG5hbWU6bmIgICAgT21nw6UgQWxsZSBLb3J0bGVua2VyCi8vIEBuYW1lOnNrICAgIE9iw61zxaUgVsWhZXRreSBLcsOhdGtlIG9ka2F6eQovLyBAbmFtZTpzdiAgICBGw7ZyYmlnw6UgYWxsYSBrb3J0bMOkbmthcgovLyBAbmFtZTpzciAgICBaYW9iacSHaSBTdmUgS3JhdGtlIHZlemUKLy8gQG5hbWU6cGwgICAgQnlwYXNzIFdzenlzdGtpZSBLcsOzdGtpZSBsaW5raQovLyBAbmFtZTpubCAgICBCeXBhc3MgQWxsZSBLb3J0ZSBsaW5rcwovLyBAbmFtZTpkZSAgICBCeXBhc3MgQWxsZSBLdXJ6bGlua3MKLy8gQG5hbWU6ZGEgICAgQnlwYXNzIEFsbGUgU2hvcnRsaW5rcwovLyBAbmFtZTpjcyAgICBCeXBhc3MgVsWhZWNobm8gS3LDoXRrw6kgb2RrYXp5Ci8vIEBuYW1lOnVrICAgINCe0LHRhdGW0LQg0LLRgdGWINCa0L7RgNC+0YLQutGWINC/0L7RgdC40LvQsNC90L3RjwovLyBAbmFtZTpydSAgICDQntCx0YXQvtC0INCS0YHQtSDQmtC+0YDQvtGC0LrQuNC1INGB0YHRi9C70LrQuAovLyBAbmFtZTp0ciAgICBCeXBhc3MgVMO8bSBLxLFzYSBMaW5rbGVyCi8vIEBuYW1lOnZpICAgIELhu48gcXVhIFThuqV0IGPhuqMgQ8OhYyBsacOqbiBr4bq/dCBuZ+G6r24KLy8gQG5hbWU6emgtQ04g5peB6LevIOWFqOmDqCDnn63pk77mjqUKLy8gQG5hbWU6emgtVFcg5peB6LevIOWFqOmDqCDnn63pj4jmjqUKLy8gQG5hbWU6cHQtQlIgQnlwYXNzIFRvZG9zIExpbmtzIGN1cnRvcwovLyBAbmFtZTpmci1DQSBCeXBhc3MgVG91dCBMaWVuIGNvdXJ0cwovLyBAbmFtZXNwYWNlICBWaW9sZW50bW9ua2V5IFNjcmlwdHMKLy8gQHZlcnNpb24gICAgNzAuNgovLyBAZ3JhbnQgICAgICBub25lCi8vIEBhdXRob3IgICAgIEJsb2dnZXJwZW11bGEKLy8gQHJ1bi1hdCAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGFudGlmZWF0dXJlICAgIHRyYWNraW5nCi8vIEBkZXNjcmlwdGlvbiAgICBCeXBhc3MgQWxsIFNob3J0bGlua3MgU2l0ZXMgQXV0b21hdGljYWxseSBTa2lwcyBBbm5veWluZyBMaW5rIFNob3J0ZW5lcnMgLCBTa2lwIEFkRmx5ICwgTGlua3ZlcnRpc2UgYW5kIE5vIEFubm95aW5nIEFkcywgRGlyZWN0bHkgdG8gWW91ciBEZXN0aW5hdGlvbiwgYW5kIG5vdyBTdXBwb3J0IEF1dG8gRG93bmxvYWRpbmcgWW91ciBGaWxlcwovLyBAZGVzY3JpcHRpb246aWQgQnlwYXNzIFNlbXVhIFNpdHVzIFNob3J0bGluayBTZWNhcmEgT3RvbWF0aXMgTGFuZ3N1bmcga2UgVHVqdWFuIFRhbnBhIElrbGFuIHlhbmcgTWVuZ2dhbmdndSAsIFN1cHBvcnQgQXV0byBEb3dubG9hZCBGaWxlCi8vIEBkZXNjcmlwdGlvbjp1ZyDYqNin2LHZhNmJ2YIg2YLZidiz2YLYpyDYptuH2YTZidmG2YnYtCDYqtmI2LEg2KjbkNmD25XYqtmE2YnYsdmJ2YbZiSDYptin2YrZhNmJ2YbZidm+INim24bYqtuI2b4g2Iwg2YPZidi02YnZhtmJINio2YnYstin2LEg2YLZidmE2YnYr9mJ2LrYp9mGINim24fZhNmJ2YbZidi0INmC2YnYs9mC2KfYsdiq2YLbh9qG2YbZiSDYptin2b7YqtmI2YXYp9iq2YnZgyDavtin2YTYr9inINmF25XZhtiy2YnZhNmJ2q3Zidiy2q/blSDYptin2KrZhNin2q0uCi8vIEBkZXNjcmlwdGlvbjphciDYqtis2KfZiNiyINis2YXZiti5INmF2YjYp9mC2Lkg2KfZhNix2YjYp9io2Lcg2KfZhNmF2K7Yqti12LHYqSDZitiq2K7Yt9mJINiq2YTZgtin2KbZitmL2Kcg2KPYr9mI2KfYqiDYqtmC2LXZitixINin2YTYsdmI2KfYqNi3INin2YTZhdiy2LnYrNipINiMINmF2KjYp9i02LHYqSDYpdmE2Ykg2YjYrNmH2KrZgwovLyBAZGVzY3JpcHRpb246aGUg16LXlden16Mg15DXqiDXm9ecINeQ16rXqNeZINeU16fXmdep15XXqNeZ150g15TXp9em16jXmdedINee15PXnNeSINeQ15XXmNeV157XmNeZ16og16LXnCDXnten16bXqNeZINen15nXqdeV16jXmdedINee16LXpteR16DXmdedLCDXmdep15nXqNeV16og15zXmdei15Mg16nXnNeaCi8vIEBkZXNjcmlwdGlvbjpoaSDgpLjgpK3gpYAg4KS24KWJ4KSw4KWN4KSf4KSy4KS/4KSC4KSVIOCkuOCkvuCkh+Ckn+Cli+CkgiDgpJXgpYsg4KSs4KS+4KSv4KSq4KS+4KS4IOCkleCksOClh+Ckgiwg4KS44KWA4KSn4KWHIOCkhuCkquCkleClhyDgpJfgpILgpKTgpLXgpY3gpK8g4KSq4KSwIOCkleCkt+CljeCkn+CkquCljeCksOCkpiDgpLLgpL/gpILgpJUg4KS24KWJ4KSw4KWN4KSf4KSo4KSwIOCkleCliyDgpJvgpYvgpKHgpLwg4KSm4KWH4KSCCi8vIEBkZXNjcmlwdGlvbjpqYSDjgZnjgbnjgabjga7jgrfjg6fjg7zjg4jjg6rjg7Pjgq/jgrXjgqTjg4jjgpLjg5DjgqTjg5HjgrnjgZnjgovjgajjgIHov7fmg5Hjgarjg6rjg7Pjgq/jgrfjg6fjg7zjg4jjg4rjg7zjgYzoh6rli5XnmoTjgavjgrnjgq3jg4Pjg5fjgZXjgozjgIHlrpvlhYjjgavnm7TmjqXpgIHkv6HjgZXjgozjgb7jgZkKLy8gQGRlc2NyaXB0aW9uOmZyIENvbnRvdXJuZXIgdG91cyBsZXMgc2l0ZXMgZGUgbGllbnMgY291cnRzIHNhdXRlIGF1dG9tYXRpcXVlbWVudCBsZXMgcmFjY291cmNpc3NldXJzIGRlIGxpZW5zIGfDqm5hbnRzLCBkaXJlY3RlbWVudCB2ZXJzIHZvdHJlIGRlc3RpbmF0aW9uCi8vIEBkZXNjcmlwdGlvbjprbyDrqqjrk6Ag7Ken7J2AIOunge2BrCDsgqzsnbTtirgg7Jqw7ZqM64qUIOyEseqwgOyLoCDrp4Htgawg64uo7LaV6riw66W8IOyekOuPmeycvOuhnCDqsbTrhIjrm7Dqs6Ag66qp7KCB7KeA66GcIOyngeygkSDsnbTrj5ntlanri4jri6QuCi8vIEBkZXNjcmlwdGlvbjp0aCDguILguYnguLLguKHguYTguIvguJXguYzguKXguLTguIfguITguYzguKrguLHguYnguJnguJfguLHguYnguIfguKvguKHguJTguILguYnguLLguKHguKXguLTguIfguITguYzguKLguYjguK3guJfguLXguYjguJnguYjguLLguKPguLPguITguLLguI3guYLguJTguKLguK3guLHguJXguYLguJnguKHguLHguJXguLTguYTguJvguKLguLHguIfguJvguKXguLLguKLguJfguLLguIfguILguK3guIfguITguLjguJMKLy8gQGRlc2NyaXB0aW9uOmJnINCX0LDQvtCx0LjQutCw0LvRj9C90LUg0L3QsCDQstGB0LjRh9C60Lgg0YHQsNC50YLQvtCy0LUg0YEg0LrRgNCw0YLQutC4INCy0YDRitC30LrQuCDQkNCy0YLQvtC80LDRgtC40YfQvdC+INC/0YDQvtC/0YPRgdC60LAg0LTQvtGB0LDQtNC90LjRgtC1INGB0YDQtdC00YHRgtCy0LAg0LfQsCDRgdGK0LrRgNCw0YnQsNCy0LDQvdC1INC90LAg0LLRgNGK0LfQutC4LCDQtNC40YDQtdC60YLQvdC+INC00L4g0LLQsNGI0LDRgtCwINC00LXRgdGC0LjQvdCw0YbQuNGPCi8vIEBkZXNjcmlwdGlvbjpybyBPbWl0ZSB0b2F0ZSBzaXRlLXVyaWxlIGN1IGxpbmt1cmkgc2N1cnRlIE9taXRlIGF1dG9tYXQgZWxlbWVudGVsZSBkZSBzY3VydGFyZSBhIGxpbmt1cmlsb3IgZW5lcnZhbnRlLCBkaXJlY3QgY8SDdHJlIGRlc3RpbmHIm2lhIHRhCi8vIEBkZXNjcmlwdGlvbjpmaSBPaGl0YSBrYWlra2kgbHloeXRsaW5ra2lzaXZ1c3RvdCBvaGl0dGFhIGF1dG9tYWF0dGlzZXN0aSDDpHJzeXR0w6R2w6R0IGxpbmtpbmx5aGVubnlrc2V0IHN1b3JhYW4gbcOkw6Ryw6RucMOkw6Row6RzaQovLyBAZGVzY3JpcHRpb246aXQgSWdub3JhIHR1dHRpIGkgc2l0aSBkaSBjb2xsZWdhbWVudGkgYnJldmkgU2FsdGEgYXV0b21hdGljYW1lbnRlIGkgZmFzdGlkaW9zaSBhY2NvcmNpYXRvcmkgZGkgY29sbGVnYW1lbnRpLCBkaXJldHRhbWVudGUgYWxsYSB0dWEgZGVzdGluYXppb25lCi8vIEBkZXNjcmlwdGlvbjplbCDOoM6xz4HOrM66zrHOvM+Izrcgz4zOu8+Jzr0gz4TPic69IM+Ezr/PgM6/zrjOtc+DzrnPjs69IM+Dz43Ovc+Ezr/OvM+Jzr0gz4PPhc69zrTOrc+DzrzPic69IM6gzrHPgc6xzrrOrM68z4DPhM61zrkgzrHPhc+Ez4zOvM6xz4TOsSDPhM6xIM61zr3Ov8+HzrvOt8+EzrnOus6sIM+Az4HOv86zz4HOrM68zrzOsc+EzrEgz4PPhc69z4TPjM68zrXPhc+DzrfPgiDPg8+Fzr3OtM6tz4POvM+Jzr0sIM6xz4DOtc+FzrjOtc6vzrHPgiDPg8+Ezr/OvSDPgM+Bzr/Ov8+BzrnPg868z4wgz4POsc+CCi8vIEBkZXNjcmlwdGlvbjplbyBQcmV0ZXJwYXNpIMSIaXVqIE1hbGxvbmdhaiBMaWdpbG9qLUVqb2ogQcWtdG9tYXRlIFNhbHRhcyDEnWVuYWpuIExpZ2lsb2puLCBSZWt0ZSBhbCBWaWEgQ2VsbwovLyBAZGVzY3JpcHRpb246ZXMgU2FsdGFyc2UgQXV0b23DoXRpY2FtZW50ZSB0b2RvcyBsb3MgZW5sYWNlcyBhY29ydGFkb3MsIEFkRmx5LCBMaW5rdmVydGlzZSwgeSBvbWl0aXIgYW51bmNpb3MsIGlyIGRpcmVjdGFtZW50ZSBhbCBkZXN0aW5vLCBhaG9yYSBzZSBhZ3JlZ8OzIGRlc2NhcmdhIGF1dG9tw6F0aWNhIGRlIGFyY2hpdm9zCi8vIEBkZXNjcmlwdGlvbjpodSBBeiDDtnNzemVzIHLDtnZpZCBoaXZhdGtvesOhc2kgd2ViaGVseSBtZWdrZXLDvGzDqXNlIGF1dG9tYXRpa3VzYW4gw6F0dWdvcmphIGEgYm9zc3phbnTDsyBsaW5rcsO2dmlkw610xZFrZXQsIGvDtnp2ZXRsZW7DvGwgYXogw7p0aWPDqWxyYQovLyBAZGVzY3JpcHRpb246bmIgT21nw6UgYWxsZSBrb3J0ZSBsZW5rZXIgTmV0dHN0ZWRlciBob3BwZXIgYXV0b21hdGlzayBvdmVyIGlycml0ZXJlbmRlIGxlbmtlZm9ya29ydGVyZSwgZGlyZWt0ZSB0aWwgZGVzdGluYXNqb25lbiBkaW4KLy8gQGRlc2NyaXB0aW9uOnNrIE9iw63Ej3RlIHbFoWV0a3kgc3Ryw6Fua3kgcyBrcsOhdGt5bWkgb2RrYXptaSwga3RvcsOpIGF1dG9tYXRpY2t5IHByZXNrb8SNaWEgb3RyYXZuw6kgc2tyYWNvdmHEjWUgb2RrYXpvdiBwcmlhbW8gZG8gdsOhxaFobyBjaWXEvmEKLy8gQGRlc2NyaXB0aW9uOnN2IEbDtnJiaSBhbGxhIGtvcnRhIGzDpG5rYXIgd2ViYnBsYXRzZXIgaG9wcGFyIGF1dG9tYXRpc2t0IMO2dmVyIGlycml0ZXJhbmRlIGzDpG5rZsO2cmtvcnRhcmUsIGRpcmVrdCB0aWxsIGRpbiBkZXN0aW5hdGlvbgovLyBAZGVzY3JpcHRpb246c3IgWmFvYmnEh2kgc3ZlIHN0cmFuaWNlIHMga3JhdGtpbSB2ZXphbWEgYXV0b21hdHNraSBwcmVza2HEjWUgZG9zYWRuZSBza3JhxIdpdmHEjWUgdmV6YSwgaXpyYXZubyBuYSB2YcWhZSBvZHJlZGnFoXRlCi8vIEBkZXNjcmlwdGlvbjpwbCBQb21pamFqIHdzenlzdGtpZSBzdHJvbnkgeiBrcsOzdGtpbWkgbGlua2FtaSBhdXRvbWF0eWN6bmllIHBvbWlqYSBpcnl0dWrEhWNlIHNrcmFjYWN6ZSBsaW5rw7N3LCBiZXpwb8WbcmVkbmlvIGRvIG1pZWpzY2EgZG9jZWxvd2VnbwovLyBAZGVzY3JpcHRpb246bmwgT216ZWlsIGFsbGUgc2l0ZXMgbWV0IGtvcnRlIGxpbmtzIGVuIHNsYWF0IGF1dG9tYXRpc2NoIHZlcnZlbGVuZGUgbGlua3ZlcmtvcnRlcnMgb3ZlciwgcmVjaHRzdHJlZWtzIG5hYXIgdXcgYmVzdGVtbWluZwovLyBAZGVzY3JpcHRpb246ZGUgQWxsZSBTaG9ydC1MaW5rcy1TaXRlcyB1bWdlaGVuIMOcYmVyc3ByaW5ndCBhdXRvbWF0aXNjaCBsw6RzdGlnZSBMaW5rLVNob3J0ZW5lciBkaXJla3QgenUgSWhyZW0gWmllbAovLyBAZGVzY3JpcHRpb246ZGEgT21nw6UgYWxsZSBrb3J0ZSBsaW5rcy13ZWJzdGVkZXIgc3ByaW5nZXIgYXV0b21hdGlzayBpcnJpdGVyZW5kZSBsaW5rZm9ya29ydGVyZSBvdmVyLCBkaXJla3RlIHRpbCBkaW4gZGVzdGluYXRpb24KLy8gQGRlc2NyaXB0aW9uOmNzIE9iZWrDrXQgdsWhZWNobnkgc3Ryw6Fua3kgcyBrcsOhdGvDvW1pIG9ka2F6eSBBdXRvbWF0aWNreSBwxZllc2tha3VqZSBvdHJhdm7DqSB6a3JhY292YcSNZSBvZGthesWvIHDFmcOtbW8gZG8gdmHFoWVobyBjw61sZQovLyBAZGVzY3JpcHRpb246dWsg0J7QsdGW0LnRgtC4INCy0YHRliDRgdCw0LnRgtC4INC3INC60L7RgNC+0YLQutC40LzQuCDQv9C+0YHQuNC70LDQvdC90Y/QvNC4LiDQkNCy0YLQvtC80LDRgtC40YfQvdC+INC/0YDQvtC/0YPRgdC60LDRlCDQtNGA0LDRgtGW0LLQu9C40LLRliDRgdC60L7RgNC+0YfQtdC90L3RjyDQv9C+0YHQuNC70LDQvdGMINCx0LXQt9C/0L7RgdC10YDQtdC00L3RjNC+INC00L4g0LLQsNGI0L7Qs9C+INC/0YPQvdC60YLRgyDQv9GA0LjQt9C90LDRh9C10L3QvdGPCi8vIEBkZXNjcmlwdGlvbjpydSDQntCx0YXQvtC0INCy0YHQtdGFINGB0LDQudGC0L7QsiDRgSDQutC+0YDQvtGC0LrQuNC80Lgg0YHRgdGL0LvQutCw0LzQuCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuCDQv9GA0L7Qv9GD0YHQutCw0LXRgiDQvdCw0LTQvtC10LTQu9C40LLRi9C1INGB0L7QutGA0LDRidCw0YLQtdC70Lgg0YHRgdGL0LvQvtC6LCDQv9GA0Y/QvNC+INC6INC80LXRgdGC0YMg0L3QsNC30L3QsNGH0LXQvdC40Y8KLy8gQGRlc2NyaXB0aW9uOnRyIFTDvG0gS8Sxc2EgTGlua2xlcmkgQXRsYSBTaXRlbGVyIENhbiBzxLFrxLFjxLEgTGluayBLxLFzYWx0xLFjxLFsYXLEsSBPdG9tYXRpayBPbGFyYWsgQXRsYXIsIERvxJ9ydWRhbiBIZWRlZmluaXplCi8vIEBkZXNjcmlwdGlvbjp2aSBC4buPIHF1YSB04bqldCBj4bqjIGPDoWMgdHJhbmcgd2ViIGxpw6puIGvhur90IG5n4bqvbiB04buxIMSR4buZbmcgYuG7jyBxdWEgY8OhYyB0cmFuZyB3ZWIgbGnDqm4ga+G6v3QgZ8OieSBwaGnhu4FuIG5oaeG7hXUsIHRy4buxYyB0aeG6v3AgxJHhur9uIMSRw61jaCBj4bunYSBi4bqhbgovLyBAZGVzY3JpcHRpb246emgtY24g57uV6L+H5omA5pyJ55+t6ZO+5o6l572R56uZ6Ieq5Yqo6Lez6L+H54Om5Lq655qE6ZO+5o6l57yp55+t5Zmo77yM55u05o6l5Yiw5oKo55qE55uu55qE5ZywCi8vIEBkZXNjcmlwdGlvbjp6aC10dyDnuZ7pgY7miYDmnInnn63pj4jmjqXntrLnq5noh6rli5Xot7PpgY7nhankurrnmoTpj4jmjqXnuK7nn63lmajvvIznm7TmjqXliLDmgqjnmoTnm67nmoTlnLAKLy8gQGRlc2NyaXB0aW9uOnB0LWJyIElnbm9yYXIgdG9kb3Mgb3Mgc2l0ZXMgZGUgbGlua3MgY3VydG9zIGlnbm9yYSBhdXRvbWF0aWNhbWVudGUgZW5jdXJ0YWRvcmVzIGRlIGxpbmtzIGlycml0YW50ZXMsIGRpcmV0YW1lbnRlIHBhcmEgbyBzZXUgZGVzdGlubwovLyBAZGVzY3JpcHRpb246ZnItY2EgQ29udG91cm5lciB0b3VzIGxlcyBzaXRlcyBkZSBsaWVucyBjb3VydHMgc2F1dGUgYXV0b21hdGlxdWVtZW50IGxlcyByYWNjb3VyY2lzc2V1cnMgZGUgbGllbnMgZ8OqbmFudHMsIGRpcmVjdGVtZW50IHZlcnMgdm90cmUgZGVzdGluYXRpb24KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHRtZWFybnxhZGRpdGlvbmFsZ2FtZXJ8bWFrZW1vbmV5d2l0aHVybHxzaHJpbmtlYXJufHRlY2hjeWFufGFnaHRhc3xzb2x0b3NoaW5kb3xsaW5rNG18a2luZ3NsZXlueWN8aGVhbHRoeTRwZXBvbGV8a2lrdHV8MWJpdHNwYWNlfHNraXAtdXJsfHBlbm5ib29rY2VudGVyfHB1YmxpY2FuYW5rZXJ8bWlrbDRmb3JleHxtaWNoYWVsZW1hZHxtaWtscHJvfHppcm9mfGZvcmV4LWdvbGRzfG5hd2FoaTF8bW9zcWFtfHNlbWF3dXJ8Zm9yZXgtdHJuZHxob3NoaWxpbmt8dGFpd2FuY25hbnxiaXQtdXJsfG1lZ3VydXN8Y3V0cy11cmx8cG9waW1lZHxyYXl1c21lZHlhfGVuYnVybHxwaWNraG9wZXN8dG9yeXhsaW5rfGFkdXp6fGx5Y29zbGlua3xjZHJhYnxpYnJhYnVja3N8emVuc2hvcnR8ZXRoaW9taXxzaG9ydGVuYnVkZHl8a2llbWx1YXxzbW9uZXJ8ZGpiaG9qcHVyaXNvbmdzfHVybHR5fHNha2FzdGF1fG1vZHNiYXNlfGFjLnRvdHN1Z2VraXxiY3ZjMnxlYXJud2l0aHNob3J0bGlua3xiaXR6aXRlfGxpbmsxc3xkaWFkaWVtY2hlY2tpbnx0dWRpZW5kYW5obmdvbnxjaG9veW9taXxzdGFha2VyfGx1Y2lkY2FtfGZvcmV4bGFwfGZvcmV4bWFifGxpbmtqdXN0fGFkbWVkaWFmbGV4fGhvY2xhbWRhdWJlcHxyZWtvbmlzZXxmb3JleC1hcnRpY2xlc3xwb25zZWxoYXJpYW58bGlpbmthdHx0aGVnb25lYXBwfG1vYmkyY3xzdHVkeXVvfGhvb2tlYXVkaW98dGhlaG9zdGluZ21lbnRvcnxpbnRsaW5raXxsaW5rc2hvcnRpZnl8c2hvcHNpeHNldmVufG1vaHRhd2FhfG1zYXJ6b25lfGZvb2RoZWFyfGZjLWxjfGV4cGVydHZufGRvd25waGFubWVtfGhlYWxkYWR8ZXo0bW9kc3x0cnkybGlua3x0bWtlcnxzb2Z0M2FyYml8dGVjaHlhZGplY3RpdmVzfGV4LWZvYXJ5fGV4YW10YWRrYXxiYWJseWZlZWR8Y3J5cHRvNHR1bnxibG9nbWFkb3xpdHNndWlkZXJ8YnRjd2Fsa3w5OWZhdWNldHxjb2luLWZyZWV8MXhmYXVjZXR8Y2FmZW5hdXx0ZWNoYWNvZGV8bHMyZWFybnxzZXZlbmpvdXJuYWxzfDdtaXNyNGRheXx0cmZsaW5rfGJjbGlrZXF0fHlvdXNzZWZzYXllZHxnZXQ0bGlua3N8Y3JpY2tibGF6ZXxub3N0cmFsaW5rfGNsa21laW58MTAxZGVzaXJlfG1lbWFuZ2JhdXxzYW1hLXByb3xzLnVtZTI0fHNodGZseXxiZXN0bW9iaWxlbmV3fG9ubGluZWluY29tc3xtb2RzZmlyZXxhZG5lb3d8c2hvcnQuY2xpY2tzY29pbnxhZGNsaWNrZXJzYm90fG1vYml0YWFrfG1vZGViYWNhfHBheWxpbm5rfG9saG9uYWdyYW5hfGNoZWRyaXZlfGFkcmlub2xpbmtzfHNhbWFhLXByb3x0ZWNocmZvdXJ8ZXo0c2hvcnR8dG9wbmV3c25ld3xnYXdpc2hwcm98ZHo0bGlua3xza2luY2FyaWV8Z2FtaW5wbGF5fGluZmluaXR5Y291cG9ufHZpZGVvc2x5cmljc3xzaG9ydGxpdGV8Yml0ZWZhdWNldHx0ZWNocmF5emVyfHNob3J0ZWV0fGRvbm5hbGVlaHVudHxwdWdneWdhbWluZ3x0cmFucXVhbmdjaHVhbnxibG9nZ2luZ2xhc3N8MXNob3J0ZW58bGVuc2FiaWNhcmF8dGlldXRpZXRraWVtfHl1bW15LXJlY2llcGVzfGRvY3Rvci1ncm91cHN8bGluay5iaWdib3huZXR8YmlvaW5mbHV8Y2hhbWN1dWhvY3xsaXRleGJsb2d8N255dGhpbmd8ZXpldmlyYWx8Z2FtYWxrLXNlaGV0a3xhZHNhZmVsaW5rfGNic2hvcnR8YWJjc2hvcnR8Y2hlY2tzY29pbnxsbGlua29ufGxpbmtzLmFwa3N2aXB8bmd1eWVudmFuYmFvfGNsb3VkZ2V0bGlua3x0ZWNobG9hZHp8YXRnbGlua3N8bnVsbGVkc2FmZXxkcmVhbWNoZWVreXxjdXRwYWlkfGZpZGxhcm11c2ljfHJvZGp1bGlhbnxhbmhkZXAyNHxtb25leS5hbHlvdW1lZ3xzbC5jbGFpbWZyZWViaXRzfHNsLTEuYnRjYnVuY2h8c2wtMi5idGNidW5jaHxlYXJuY3J5cHRvd3JzfHNob3J0LXplcm98aW5zdXJhbmNldmVsYXxwb2tldG9vbndvcmxkfGFyYWh0ZWtub3xtb3BhaGVhbHRofG5naGllbmNhcnxlZHVjdXJ8c2wtMy5idGNidW5jaHxhcGsubWl1aWt1fGJpdGx5YXxlY3dpem9ufG9uY2VoZWxwfHNwb3J0c21lZGlhenxiaWcyc2hvcnR8dGVjaHltb3pvfGxvcHRlbGlua3wyc2hydHxjaGFyZXhlbXBpcmV8Y29pbmRvb2d8c2hvdHpvbnxub3ZlbHNhcHBzfHdlYmhvc3Rpbmdwb3N0fHRyZW1hbW5vbnx0aXJhaWxhbmdpdHxpbnRlcmNlbGVzdGlhbHx0cmlidW50ZWtub3xiZXN0Y2FzaDIwMjB8aG94aWlufGZvb290LW1hcHxwcmllZnl8ZHotbGlua2t8ZmF1eGxpbmt8Y2hpbmhuaGFjb2JhbnxhdXRvZGltZXxjb3J0YWx5fGxpbmsuM2RtaWxpfDFhZGxpbmt8aW5kaWFuc2hvcnRuZXJ8ZG9uaWEtdGVjaHxkb25pYTJ0ZWNofGRvbmlhMmxpbmt8c2hvcnQxc3xjcjN6eWJsb2d8YnRhZmlsZXxwZGlza3Nob3J0ZW5lcnx1cmxzb3Blbnwxc2hvcnRsaW5rfGxpbmtlcmxvYWR8ZmlsZW5leHR8c2hyaW5rbW9uZXl8ZG9vZHNob3J0fHBhaWQ0bGlua3xraWVudGh1Y3JhbmdtaWVuZ3x3aWtpLXRvcGlhfGFsam9vZG05OHxuZXd3b3JsZG5ld3xzYWhpdHl0fG1rb21zZWx8bmlpbmdhfGZ4NHZpcHxzaG9ydHpvbnxtZXNoby1saW5rfHVwNGNhc2h8bmV3c2hhcnNofGV4YW1raGF0YXxsaW5rc2h0fG5vdGUxc3x0ZWtub3NpbXBsZXxkaXNjb3Jkc2Vydnx3aWtpdHJhdmVsdGlwc3xsaW5rLXl6fGFwa2FkbWlufGF5ZWxhZHN8Z2F3Ym5lfG1zaG9ydGVuZXJ8Y3V0ZG9tYWlufHVzZXJzZHJpdmV8dXB0b2JveHwxZmljaGllcnx1cGxvYWRyYXJ8YmF5ZmlsZXN8a3Jha2VuZmlsZXN8cG9zdC5jb3B5ZGV2fGljdXRsaW5rfHplZ3RyZW5kc3xhbm9uZmlsZXN8c2hhcmVtb2RzfGRkb3dubG9hZHx1cHBpdHx1c2Vyc2Nsb3VkfG5ld3Nub3diZHxsaW5rLm51bGxkb3dufGFzaWRld2F5fHVybC5uYW1haWRhbml8dXJsLm1hZ21pbnR8bXA0dXBsb2FkfG15c2hyaW5rZXJ8YXBrc2hydHxsaW5rLnR1cmtkb3dufGRyaXZlLmdvb2dsZXxzYWZlLmludGlwYW5pbWV8dXBsb2FkaGF2ZW58bWFuZ2EyZGF5fHNob3J0eWVhcm58d29ya3VwbG9hZHxmaWxlZG18dGhlbW9ybmluZ3RyaWJ1bmV8YmVpbmd0ZWt8c3ViMmdldHxleC1sb2FkfGNhbXBraXxzb2NpYWwtdW5sb2NrfHRlZXJjbHVifHNob3J0LWphbWJvfGxpbmsuYml0bWFnZ2V8bmVyZGllc3N8bHlyaWNzYmFhemFhcnxiZXN0LWNwbXxjbGlja3NmbHl8bWVnYXVwdG98bWFxYWwzNjB8Zm9vZGJvdGh8dWZhY3d8dGVjaGNhcnR6fHNvZnRlY2hiaGFyYXR8b2tyem9uZXxpbmZvcm1heG9ubGluZXxzaG9wZG9yb2R8c2hvcnQuc2thbGJheXJha3xhZHNobmt8c3ViMnVubG9ja3xzbWFyY3JtfGNyeXB0b21lbG91ZHxibG9nLWV2ZXJ5dGhpbmd8aWtyZXl8dGlwc2xpfHVybHBheW91dHx1cmxwb2ludHN8aG9jYmVhdXR5fDk1bmV3c3xsaW5rLmdldDRsbGlua3x0d2l0b25ldHxzaHJpbmtsb3x4ZW1zcG9ydHxjdXR3aW58cHViZ3F1b3Rlc3xleGFtc3RlYWNoZXJ8YWRwYXlsaW5rfHl4b3Nob3J0fG1kaXNrdXJsfHNocnQxMHxpbWdic3J8bGlua25paHxsZXNzdXJsfHB1cmVzaG9ydHx0ZWNoa2VzaHJpfHVwbG9hZHNvb258c2hyaW5rZ29sZHxpdGVjaG1hZmlpYXxsaW5rNGVhcm58dGVhbS5wYXN0ZWhvc3Rpbmd8M3JhYnNuZXdzfGhvc3Rpbmc0bGlmZXRpbWV8b3l1bmZpbG1pbmRpcnx0ZWNuaWNhbGJveXxtci1mb3JleHxsZWFkY3JpY2tldHxmcmVlYnJpZ2h0c29mdHxiYW50ZW5leGlzfHRhY2thd2F5fGRyLWZvcmV4fGluZGlham9iYWdlbmN5KShcLmNvbSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHpvbG9taXh8Y2FyYXJlZ2lzdHJhc2l8NWdvbGlua3xiaXJkdXJsc3xzbmtyYXxhcnRpc2tpbml8c2gycnR8Ynlib2V8bWVkY3B1fG5vdXNkZWNvcnxyZXN0b3JiaW98YmRuZXdzeHx1cHNocmlua3xnaWZhbnN8amFyZGltYXxqb2Jzd2R8Z2txbmFleGFtfGltcGVyaWFsc3R1ZHl8b3ZsaW5rc3xpbWFnZW5lc2Rlcm9wYXBhcmFwZXJyb3N8eW9mYXVybHN8ZGlnaXJvbW90aW9ufHdpbmdpZnRhfHJhbmNhaHxjb2luYWRmbHl8ZGVsaXNod2VsbHx6aXBweXNoYXJlfHNvbGlkZmlsZXN8b3VydGVjYWRzfHp1YmF0ZWNub3xjb3ZlbWFya2V0c3xkaXNoZXllfGVkYS1haHxibG9nLWZvcmFsbHx0ZWNoeW1lZGllc3xnYW1lbG9wdGV8YWxsY3J5cHRvdGlwc3xjbGFpbWNsaWNrc3xzbm93dXJsfHJpYWRjcnlwdG98YXNrcGFjY29zaXxsaW5rdHJpbXN8Z2V0czRsaW5rfHZpc2ZsYWtlc3xhcGs0ZG98ZGluZXJvc2hhcmV8ZWx3YXRhbmVseW91bXxsZWRpZmhhfGNsYWltZmV5fHBhbnlsaW5rfHdyYmxvZ2dlcnN8dG9rZW5vdG98c2FseS1jYXNofHVwbG9hZC00ZXZlcnxzaG9ydGVubnxhZG1lZGlhZmxleHxidGNwYW55fGFzc2V0dG93b3JsZHx2aWthc2htZXdhZGF8bGlua3llYXJufGFwcHNidWxsfGdhbTNhaHx0aW55YmN8ZGl1ZGVteXxoZXJlb2ZhbWlseXxmaWxlLXVwbG9hZHxzaG9ydGVyYWxsfHRyaWJ1bmNyeXB0b3xjZW1wYWthamF5YXxzYWZlbGlua2R1aXR8bmFkZXJzb2Z0N3xhZHNob3J0dXJsfGxpbmtibmFvfHBoc2Vuc2VpfDRzaGFyZWR8dGEyZGVlbTdhcmJ5YXxscnNob3J0bmVyfHRpbnljbWR8Y2xvdWRzaHJpbmtlcnxwcm92aXJhbGhvc3R8dGVjaG5pY2FsYXRnfHYybGlua3N8eXRzdWJtZXxyYWludXJsfGFyYWhsaW5rfG00Y3V0fHRlYWNoc2Fuc2FyfHdlYjlhY2FkZW15fHNob3J0eGxpbmtzfGZseXJhcnxweXRob25kdW55YXNpfG1leWttZW58b24tc2Nyb2xsfHNocnRmbHl8ZGFzaC1mcmVlfHNla2lsYXN0ZWtub3xjdXRsbnxpLXBvbGxzfHNvbmljYnRjfG1lbmplbGFqYWhpfGFsbW9udHNmfGNyeXB0dXJsc3x6b21iaWVidGN8dGVjaHdob218Y2FzaDRzaGFyZXxsaW5rd2FyZHN8bnlhd2FuZykoXC5jb20pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYWh5YmxvZ3N8b3VyY29pbmNhc2h8MW1hbmdhfHdhdGNoZG9nZXxhcmVuYWJvYXJkfGNjc2x8c2hyaW5rcGF5fGFkc2dvfHNob258Y3J5cHRvLWZhdWNldHxiaW5nZWZsaXh8c3R1ZHlzdGFyfGxva2FnYW1lc3wzdnd8YmZsaW5rc3xzaG9ydC1jYXNoMnx3aXp6bHl8bWduZXR8Y3J5cHRlZW58ZG9nZWVufGZhdWNldGVlbnxjdXRkbHxzcG9ydGF3eXxmZXhrb21pbnx0ZWNobmVtb3x6b29tY3J5cHRvfHRlY2hib3l6fGNibGlua3N8OTlsaW5rc3xrYXJ0dW5pa3xwb3N0Lm5pdGVzLXR2fHNob3J0cGx1c3xzdG9yZXMuZmlsbXl6aWxsYS1pbnxleHByZXNzY29pbnN8Y2xhaW1jb2luc2ZyZWV8c2hvcnQxfHN3enp8YWNvcnRhbWV8YWxnaHRhc3x3aXpseXxob3JhbmV3c3xhMWxpbmt8c2hvcnQyZmx5fGJjdmN8aGVhbHRoYmxvb2d8cG9zdC5tb3ZpZXMtbmVhci1tZXxzdC5rbGVhY298cGxheWxpbmt8cThjfHVzY2l0eXxjYXJzLTF5ZWFyfG5hYml0c3x3ZWxvdmVjcnlwdG98d29ybGRhcHBzc3RvcmV8MHVxfHNoLnRyaXBsZWRvd25sb2FkZXJ8c2hvcnQydXJsfHplcm9zaG9ydHxiaXRzeWllbGR8ZWdzdGFyfHBsYXlkaXNrfG1vbnN0ZXJ1cmxzaG9ydG5lcnxnaWJpdHxzdHVkeWlzfGt1a3NsaW5jc3xtYWdpY3Rvc2hpKShcLnh5eikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHNlbnVhbnNhdGVjaG5vfGluc3VyZ2xvYmFsfGNsYWltZXJjb3JuZXJ8c2hvcnRseXxkZXhsaW5rfGRvY3RvcmNvaW58c3BlZWR5bmV3c3wxYXBwbGV8ZmZ3b3JsZHx0ZXh0cGFnZXxmaWRvdnl8ZWdmbHl8aW5zdXJhbmNlLXNwYWNlfGNyeXB0by1ibG9nfHNhcGljYXxlYXJuZmFjdXR8dXJsYmhhcmF0fGRyb3B6fGNoYWluZm98bWVnYW5vLWNvaW58dGVjaGxlZXRzfGVhcm5sfGFqaWZseSkoXC54eXopKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykobmVvbmxpbmt8dGVjaHlkaW5vfHdvcmxkLXRyaXBzfHlvc2hhcmV8bGV0cy41Z2V0fGNyeXB0by1maXx3cGNoZWFwfGNvaW5tYXN0ZXJ4fGNhdGN1dHxhenRyYXZlbHN8ZHVsaWNoa2hhbmhob2F8c3ViMnVubG9ja3xmb3JleC1nb2xkfHRlY2h0cmlja29ubGluZXw3YXBwbGV8Y2N1cmx8bGluazFzfHVybC5uYW1haWRhbml8Y3J5cHRvd2lkZ2V0c3xkb2dlY2xpY2t8YWRza2lwfGh1cmlya3x1c2ZpbmZ8eGVydm9vfHNwb3J0NHlvdXxoZXh1cGxvYWR8ZWxvaXNtfGN1dHR8Zm9yZXhzaGFyZXxibG9nLmNyeXB0b3dpZGdldHN8bmVleHVscm98ZGFpbHl1cGxvYWRzfGRvdXBsb2Fkc3xzaW1maWxlc2hhcmV8ZmlyM3xtYWd5YnV8cmFjYXR5fGxpbmVnZWV8YmxvZ2VzcXVlfHRodW9jZGFuZ2lhbnxhbHRibG9nZ2VyfGxldHNib29zdHxjb25naHVvbmd0dXx2aW5hdXJsfHRlY211bmRvfHRyeTJsaW5rfGN1dC15fG1lZ2FkYnxjcG1saW5rKShcLm5ldCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGRpZ2l0YWxuYXp8b3dsbGlua3xtb3psaW5rfGNyeXB0b3NhdHN8cm9ja2xpbmtzfGNlbGlua3N8amlvdGVjaHxiaXRjb21hcmtldHxpbGxpbmt8amVtYXJpfHBhaWQ0bGlua3xsaW5rM3N8Ym9zY29pbnxsaW5rcmV4fGZpcmUtbGlua3x1cmx3fHBpbGlua3N8bGlua3Nob3J0aWZ5fHlvdXNob3J0KShcLm5ldCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSh0bmxpbmt8anJsaW5rc3xxdWFsaXR5c3R1ZHltYXRlcmlhbHxjdXR1cmx8bWlzc2lvbmhpZ2h0fHdwa2luZ3x6YWdsfGxzMmVhcm58c3RyZWFtc2hvcnR8c2hhcmV1c3xyZWZlcnVzfG1lZ2FmbHl8bWVnYXVybHxjdXRwfGVhcm5tb2p8cmlhZHNob3R8dXJsbW9uZXl8Y3BsaW5rfGNyeXB0b21vbml0b3J8dGVjaG5vZmxpcHxsaW5rc2hvcnRpZnl8aHRsaW5rc3x0ZWNobGVhcm5pbmd0dWJlfHVybGZseXxsaW5rb2NlYW58ZmluYW5jZWZsaXh8dXR0YW58amF6YmFhdHxkanhtYXphfGJpbGRpcmltfHRlY2h5NHlvdXxiYXR0bGVjaGFtcHxzYWhpbHN1bXJhfGtlcmRsaW5mb3x1cmxjdXR8aW5zdXJhbmNldmxvZ3xpdGVjaGxvZ2ljfHZpZGVvbHlyaWNzfHRla2NyeXB0fG1pc3Npb25oaWdodHxncGxpbmtzfG1vZGRpbmd6b25lfGFkeWJyYW5kc3xncGZsaXh8Z3oyfGR1bGlua3xhY2xpbmtzfGhpZGVsaW5rc3xzaG9ydGVhcm58c2l0ZWJsb2d8dS5hcGd5fGR1LWxpbmt8b3VvaXxieTZ8YWRyaW5vbGlua3N8cmtsaW5rc3xteW1vYmlsZWh1Ynx0ZWNoZGF6ZXxsaW5rNGVhcm58cnVwYW1vYmlsZXxleGFtc29sdXRpb258ZWFybjRsaW5rfGthbHZpZHVkZXN8dGVjaHdpdGhzYW5pa2FudHx0aGVib29rYWhvbGljcykoXC5pbikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGNhc2h1cmx8bGlua2FkfGJpdGNvaW5seXxjcmF6eWJsb2d8em9sb21peHx0ZWNobm9sb2d5bG92ZXJ8ZXhwZXJ0bGlua3N8bGFyZ2VzdHBhbmVsfGxpbmtyZXN8cnNybGlua3xsaW5rc3RyZWFtfHhtb2R8c2hvcnQydXJsfDk5bGlua3N8cnBsaW5rc3xlbml0fGFkbG9vdHx1cmwyZ298dG52YWx1ZXxwdmlkbHl8YXB1cmx8ZWFybnNwYWNlfHVybGlua2VkfG1kbGlua3xnYW1lcmZhbmd8d3JpdGVkcm9pZHx0ZWNreXByZXNzfGZpeG5vfHBhaXNha2FtYWxvfGlua2lrfHNocmlua2ZvcmVhcm58ZWFzeXNreXxhamxpbmtzfG1kaXNrcGxheWVyfGFrY2FydG9vbnN8b3BlbjJnZXQpKFwuaW4pKFwvLiopPy8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGF5bGlua3xsaW5rc3ppYXxteW5ld3NtZWRpYXxndGxpbmt8bGlua3NseXxkcm9wbGlua3wxMjNsaW5rfGxpbmtzZnl8YWRzaG9ydGl8aHhmaWxlfGRvc3lhfHZlZ2FuYWx8dGFrZW18ZXppbWd8ZW5nLmV6aW1nfGRhdXNlbHxtb2RsaW5rfDktYW5pbWllfHZlZ2FuaG98bnVsbGVkbW9kfHZlZ2FuYWN8ZGVhbHByaWNlfGFyYWJwbHVzMnxjdXQteXxhZHNob3J0KShcLmNvKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8odGFrZXp8bGlua3NmaXJlfHZvc2FufHRpbnlnb3x2ZWdhbmFifGFkZmxvenxmZXhrb21pbikoXC5jbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShjdGJsfGdpcmxzLWxpa2V8Z29iaXRzfHpvc3N8c2hyaW5rZXx0bGlufHRlcmFmbHl8cGV0YWZseXxnaWdhZmx5fGFkbmV3c3xwYXBhbmV3c3xwYW55ZmxheXxtb3p6Zmx5fHNob3J0dXN8c2hvcnQuY3JvY2xpeHxiZXN0LW5ld3N8bWVnYS1uZXdzfHdpbGRibG9nfHNwZWN4fGRkZHJpdmV8bGlua3BvaXxtLm5ld2hpdHxtYm9vc3R8bGlua3Nob3J0c3xleGFmbHl8bm9ub2ZseXxsb3p6Zmx5fHVwdG9tZWdhfHN0Zmx5fGFkYnVsbHx5b3VzaG9ydHxoZWFsdGgtYW5kfGN1dHh8YWRza3xsaW5rZmx5fHNob3J0ZXIuZWFybi1odWJ8cGtpbnxjYXNoYW5kbykoXC5tZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHRoZWNvbm9teXxyaWNobGluaykoXC5tZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShzaXRyfGRvd25maWxlfHNhdmVsaW5rfGxpbmtzaG9ydGlmeXxzaGFyZXVzfHByb21vLXZpc2l0c3xtb2JpbGVwcmljZXxteW51cnNlKShcLnNpdGUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhjZWtpcHxsaW5rNHJldnxjb2luLWNpdHl8dXJsY2FzaCkoXC5zaXRlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGVhcm5tZXxzYW5veWJvbml0b3xhdXRvbW90dXJ8a29vemF8MWxpbmt8emVudHVtfG15dG9wNXxmb3JleHdhd3xtZWdhdHViZSkoXC5jbHViKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8odXNhbmV3c3RvZGF5fGthZGFsfHdlYmhvc3Rpbmd0aXBzKShcLmNsdWIpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYWRyZXZ8cGFpZDR8eW91c218Y29pbnBheXp8dHJ8eW9jdG98Y2xrLmR0aXxiZXN0dXJsfGJvb3N0bWV8dGFrZWZpbGV8YXBwb3xwdXJlc2hvcnR8bGlua3Nob3J0aWZ5eCkoXC5saW5rKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8odnNob3J0fHN0ZXh8Y2FzaDR8enViYSkoXC5saW5rKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHNodXJ0fHNob3J0aXR8YWRzeXxiaXRsaW5rc3xjbGlrfHBsYXlzdG9yZXxtZWdhbGluaykoXC5wdykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHByenxwb25nKShcLnB3KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGJsb29nZXJzcG9vdHx2c2JsKShcLmdhKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGJsb29nZXJzcG9vdHxsaW5rc2hvcnxjb3J0bGluaykoXC50aykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KG1hZGZhdWNldHxtaW5lc2hvcnxmdXR1cmVzaG9yKShcLnRrKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGJsb29nZXJzcG9vdHx1cmxjaGFuZ2VyfGFyZWFybnwzNjBzaG9ydGxpbmspKFwubWwpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykob25pbXBvcnRzfGxpbmsuZW5jdXJ0YW9ufGVjb25vbWlhcmVsZXZhbnRlKShcLmNvbVwuYnIpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoZXhlZXxvbmxpbmV0ZW9yaXxwdW55YWJsb2d8YWN0aXZpdHl8bWFzc2l2ZXxjYXZpZXd8bmVzaWFrdSkoXC5teVwuaWQpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhteWN1dHxhcGFzaWgpKFwubXlcLmlkKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oc3VyYXRyZXNtaXxjYXJhcGVkaXxzYWxpbmspKFwuaWQpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykobGluay5za200dXxsaW5rd2FyZHMpKFwuY29cLmluKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oZHJvcGxpbmspKFwuY29cLmluKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGtpaXd8cGFzc2dlbnx3b3JkY291bnRlcnxzaHJpbmt8cmV2Y290fGNsaWNrenV8c2hvcnR6dSkoXC5pY3UpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykobmV3Zm9yZXh8d3BsaW5rfG5ieXRzfHdlYWx0aHlzdHlsZXxjbGlja3NmbHl8aGFwcHktbGl2aW5nfHdlYmNvaW4uY29pbnJhaW58dGVhY2hlcmFuYXxlYXJub3d8ZWFybi1jYXNofHlvdXJ0ZWNobm9sb2d5fGFwa3N8bmV0d29yay1lYXJufGJhdHRsZXJveWFsKShcLm9ubGluZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGFkc2xpbmtmbHl8cmVhZGl8bGlua211bWV0KShcLm9ubGluZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShleGV5fGV6bGlua3N8dGVjaG1vZHl8b3VvfGV4LWV8c2FseXxjdXR5fGV2b2xvYWR8b2tlfGxldHN1cGxvYWR8ZWlvfG9paXxleGUpKFwuaW8pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhsaW5rZmx5fHVzYWxpbmspKFwuaW8pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykodG55fHRpbnl1cmwpKFwuc28pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoenNob3J0fGNsYWltY3J5cHRvfGNhc2hlYXJufDFpbmt8bGlua3BheXxtb25leWxpbmt8aW50bmV3c3xvcGVubG9hZHxsaW5rc3B5fGxldHN1cGxvYWR8bXlhc2lldHYpKFwuY2MpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoY3J5cHRvYWR8d2lraWxlfHVwbG9hZGV2fG1lZ2E0dXByfGNzaG9ydHxwYXlza2lwfGhvbWVhaXJxdWFsaXR5fHNob3J0ZWFybnxzbC5idGMyNXxlYXJuc2ZseSkoXC5vcmcpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhtZWRpcG9zdHxzaHJpbmt1cmx8a2VlcGxpbmtzfHJhamRsc2cpKFwub3JnKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGphbWVlbHRpcHN8bWl0bHl8YWRmb2N8bGluazRmdW4pKFwudXMpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyh5YWxsYS1zaG9vdC1ub3d8Zm9yZXhlZW58amFlbGluaykoXC51cykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShub3dlY29ub215fGRlcG9ydGVhbGRpYXxhZHNob3J0fGF5fHBuZ2l0fHBuZHgpKFwubGl2ZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShlYXJuYWRzfGdlbnBhc3N3b3JkfHNocmxpbmt8bXNob3J0fHB1bnlhbWVya3xzaG9ydG5vd3xzaG9ydC5mcmVlbHRjKShcLnRvcCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShzY3JhdGNoMjQ3fHNpeW58cG9ydGFibGVzdXNifGNoaWxkcmVuLWxlYXJuaW5ncmVhZGluZ3xhem1hdGh8bW9iaWxlcmV2aWV3fGluZm9ybTN0aW9ufG1vYmlsaXNtfHNob3J0bGlua3RvfHVwdG9iaGFpfGJpdGNyeXB0b3xtYWNoaWNvbi1ha2loYWJhcmF8Y29va2xpa2V8dmlkZW9jbGlwfGJyYnVzaGFyZXxmYW5jbHVwKShcLmluZm8pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoZmF1Y2V0Y3J5cHRvfGJpbGRpcmltKShcLmV1KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKG5leC11cmx8b2xhbW92aWVzfGF0cm9sb2d5cmV4KShcLmN5b3UpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYW50b25pbW9zfGJsb2cuaG9zdHJhdGdlYmVyKShcLmRlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGZyZWVsaXRlY29pbnx1cGxpbmt0b3wxTGluaykoXC52aXApKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhmbHlhZHxsb290Y2FzaCkoXC52aXApKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykocm9tYW5pYXxtZXR8d2FycCkoXC5ieikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSgyYWR8dml5YXwxN28pKFwuaXIpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYWRzaHJpbmt8Y3V0aW4pKFwuaXQpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykocGluZ2l0fGZpbGVzfHVwbykoXC5pbSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShjbGt8OXh1cGxvYWQpKFwuYXNpYSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShpaXJ8dGVpfGllcnxja2spKFwuYWkpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYWlpfGNsa3xva28pKFwuc2gpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhpOGx8Y2xrfHBpLWx8YmN2Y3xtb2RsaSkoXC5pbmspKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyh1cGxvYWR8cHJ4KShcLmVlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8obWlycm9yZWR8Y2xpY2tudXBsb2FkKShcLnRvKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8ob3VvfGZvcmV4dHJhZGVyfGRhZ2E4OCkoXC50b2RheSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHRlY2hnZWVrfGFkc2dvKShcLmRpZ2l0YWwpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykobWhtYTEyfHN1cmZsaW5rfHRlY2h0cmltKShcLnRlY2gpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoa2l3fHJlZGlyLjEyM2ZpbGUpKFwubGkpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoZmN8ZmNjKShcLmxjKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHpvbmVhcm58dGhlcHJpY2V8bmhhY3JlbWl4fGRvYW52YW5oYWl8aHluZXdzKShcLmJpeikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KDEyM2xpbmspKFwuYml6KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oZXhlfGV4ZWV8ZXhlcHxleGVvfHVwZmlsZXN8Y3V0dHl8bGlua2ZseSkoXC5hcHApKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYWRzaG9ydHwxYml0fDJ0aGV8Y2FyZWVyaHVudGVyfGdhbGF4eS1saW5rKShcLnNwYWNlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKG1ha2VlYXN5YnRjfHNvZnRpbmRleHx0ZWNodXMpKFwud2Vic2l0ZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShsaW5rYXx4dHJhYml0c3xza2lwYWRzKShcLmNsaWNrKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oc2hvcnRsaW5rc3xlYXN5c2x8YWRsaW5rfGFkemlsbGF8dXJsY2FzaCkoXC5jbGljaykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGhhbW9keXxuYXRoYW5hZWxkYW58ZnJlZGR5b2N0YXZpb3xkYXZpc29uYmFya2VyfGNsa3N8Y3J5cHRvc2h8YmVzdGZvbnRzfGdpdGxpbmt8b3BlbnVybCkoXC5wcm8pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykodXAtbG9hZHx6Y2FzaHxtZGlzaykoXC5vbmUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoMWRvZ2Vjb2lufGZhdWNldCkoXC53b3JrKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGNsYWltfGNodWtzYmxvZ3xwcmljZW5ld3N8dXJsLmdldGJpdHMpKFwuZnVuKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGdvfGJsb2d8Z28yfHRlY2h8dGVzdHxibGcpKFwubWFkc2hpYmFcLmZ1bikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShsaW5rYXRpfHplbnNob3J0fGN1cnRvKShcLndpbikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShjb29sLXRpbWV8bW92aWVzfGFuaW1lfHRlY2gpKFwuZHV0Y2h5Y29ycFwuc3BhY2UpKFwvLiopLwovLyBAaW5jbHVkZSAvXmh0dHBzOlwvXC9saW5rdmVydGlzZVwuY29tXC8oMXwyfDN8NHw1fDZ8N3w4fDkpLwovLyBAaW5jbHVkZSAvXmh0dHBzOlwvXC9jcnlwdG9mYW5zXC5jbHViXC8oc2hvcnR8bmV4dHxvdGhlcnxzdGVwKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8obWVkaWFmaXJlKShcLmNvbSlcLyhkb3dubG9hZHxmaWxlKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oY3J5cHRvY3VycmVuY3l0cmFja2VyfGZyZWVmYXVjZXQpKFwuYml6KVwvKGxpbmspLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhmcmVlYml0Y29pbikoXC5mdW4pXC8odG9wc2l0ZXN8dmlldykvCi8vIEBleGNsdWRlIC9eaHR0cHM6XC9cL2NsYWltY2xpY2tzXC5jb21cLyhidGN8bHRjfGRvZ2V8dHJ4fGZhdWNldGxpc3R8cHRjbGlzdCkvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGNsaWNrc2NvaW58ZnJlZWZleW9ycmF8cmVkZGNvaW5ldmVyeWRheXxjcnlwdG90eXBob29ufHNvZnRhaXJiYXkpKFwuY29tKVwvKHNob3J0KS8KLy8gQGV4Y2x1ZGUgL15odHRwczpcL1wvY2xhaW1lcmNvcm5lclwueHl6XC8oY2xhaW1lclwvZGFzaGJvYXJkfGNsYWltZXJcL2FkdmVydGlzZXxjbGFpbWVyXC9wdGN8Y2xhaW1lclwvZGVwb3NpdHxjbGFpbWVyXC90cmFuc2ZlcnxjbGFpbWVyXC90YXNrc3xjbGFpbWVyXC9vZmZlcndhbGx8Y2xhaW1lclwvcHJvZmlsZXxjbGFpbWVyXC9hdXRvfGNsYWltZXJcL21pbmluZ3xjbGFpbWVyXC93aGVlbHxjbGFpbWVyXC9sb2dpbikvCi8vIEBleGNsdWRlIC9eaHR0cHM6XC9cL2NyeXB0b3NhdHNcLm5ldFwvKGNyeXB0b3NhdHNcL2Rhc2hib2FyZHxjcnlwdG9zYXRzXC9hZHZlcnRpc2V8Y3J5cHRvc2F0c1wvcHRjfGNyeXB0b3NhdHNcL2RlcG9zaXR8Y3J5cHRvc2F0c1wvdHJhbnNmZXJ8Y3J5cHRvc2F0c1wvdGFza3N8Y3J5cHRvc2F0c1wvb2ZmZXJ3YWxsfGNyeXB0b3NhdHNcL3Byb2ZpbGV8Y3J5cHRvc2F0c1wvYXV0b3xjcnlwdG9zYXRzXC9taW5pbmd8Y3J5cHRvc2F0c1wvd2hlZWx8Y3J5cHRvc2F0c1wvbG9naW4pLwovLyBAZXhjbHVkZSAvXmh0dHBzOlwvXC85OWZhdWNldHxmYXVjZXQuY2VtcGFrYWpheWFcLmNvbVwvKGRhc2hib2FyZHxhZHZlcnRpc2V8cHRjfGRlcG9zaXR8dHJhbnNmZXJ8dGFza3N8b2ZmZXJ3YWxsfHByb2ZpbGV8YXV0b3xtaW5pbmd8ZGljZXxsb3R0ZXJ5fGZhdWNldHxsb2dpbikvCi8vIEBleGNsdWRlIC9eaHR0cHM6XC9cL2ZyZWUudHJpYnVuY3J5cHRvXC5jb21cLyhkYXNoYm9hcmR8YWR2ZXJ0aXNlfHB0Y3xkZXBvc2l0fHRyYW5zZmVyfHRhc2tzfG9mZmVyd2FsbHxwcm9maWxlfGF1dG98bWluaW5nfGRpY2V8bG90dGVyeXxmYXVjZXR8bG9naW4pLwovLyBAZXhjbHVkZSAqOi8vKi52b3Nhbi5jby8KLy8gQG1hdGNoICAgKjovL2R1dGNoeWNvcnAuc3BhY2UvcyovKgovLyBAbWF0Y2ggICAqOi8vZHV0Y2h5Y29ycC5vdmgvcyovKgovLyBAbWF0Y2ggICAqOi8vc2hvcnRzLmx1LyoKLy8gQG1hdGNoICAgKjovL2FkeC53aWtpLyoKLy8gQG1hdGNoICAgKjovL2FkeC5jeC8qCi8vIEBtYXRjaCAgICo6Ly9hbC5seS8qCi8vIEBtYXRjaCAgICo6Ly96YS5nbC8qCi8vIEBtYXRjaCAgICo6Ly9nb28uc3QvKgovLyBAbWF0Y2ggICAqOi8vYzJnLmF0LyoKLy8gQG1hdGNoICAgKjovL2Fkei5tb2UvKgovLyBAbWF0Y2ggICAqOi8vY29pbi5tZy8qCi8vIEBtYXRjaCAgICo6Ly9zZW5kLmNtLyoKLy8gQG1hdGNoICAgKjovL2tpbW8ubWEvKgovLyBAbWF0Y2ggICAqOi8vZ29hZHMubHkvKgovLyBAbWF0Y2ggICAqOi8vbWRuLnJlc3QvKgovLyBAbWF0Y2ggICAqOi8vKi5tZG4ubG9sLyoKLy8gQG1hdGNoICAgKjovLyoucm90YS5jYy8qCi8vIEBtYXRjaCAgICo6Ly9vdW8ucHJlc3MvKgovLyBAbWF0Y2ggICAqOi8vN2NjLjk2Lmx0LyoKLy8gQG1hdGNoICAgKjovL2drdGVjaC51ay8qCi8vIEBtYXRjaCAgICo6Ly8qLmZseXp1LmljdS8qCi8vIEBtYXRjaCAgICo6Ly90aW55dXJsLmlzLyoKLy8gQG1hdGNoICAgKjovLyoubWRuLndvcmxkLyoKLy8gQG1hdGNoICAgKjovL25haWwuZWR1LnBsLyoKLy8gQG1hdGNoICAgKjovL2xvbGFiaXRzLnNlLyoKLy8gQG1hdGNoICAgKjovL2dvc2l4cy5jb20vcy8qCi8vIEBtYXRjaCAgICo6Ly8zc2hvcnR1cmwuZ3EvKgovLyBAbWF0Y2ggICAqOi8vbGl0ZWNvaW4uaG9zdC8qCi8vIEBtYXRjaCAgICo6Ly8qLmdvdG8uY29tLm5wLyoKLy8gQG1hdGNoICAgKjovL3otY2FzaC54eXovYWQvKgovLyBAbWF0Y2ggICAqOi8vZHJvcC5kb3dubG9hZC8qCi8vIEBtYXRjaCAgICo6Ly9jcnlwdG9mdW5zLnJ1LyoKLy8gQG1hdGNoICAgKjovL2xpbmtzaHJpbmsuY2EvKgovLyBAbWF0Y2ggICAqOi8vc2hvcnQuZXhwcmVzcy8qCi8vIEBtYXRjaCAgICo6Ly9hcmJ3ZWIuaW5mby9zbC8qCi8vIEBtYXRjaCAgICo6Ly8qLmNpemdpZmlsbS50di8qCi8vIEBtYXRjaCAgICo6Ly9rYXJ5YXdhbi5jby5pZC8qCi8vIEBtYXRjaCAgICo6Ly9mYXVjZXRodWIubHkvaHMvKgovLyBAbWF0Y2ggICAqOi8vZmF1Y2V0cGF5LmlvL3B0YyoKLy8gQG1hdGNoICAgKjovLyoudHJhbmdjaHUubmV3cy8qCi8vIEBtYXRjaCAgICo6Ly93ZWJtb2JpbGUuc3RvcmUvKgovLyBAbWF0Y2ggICAqOi8vKi5hZHo3c2hvcnQuc3BhY2UvKgovLyBAbWF0Y2ggICAqOi8vZG9jcy5nb29nbGUuY29tL3VjKgovLyBAbWF0Y2ggICAqOi8vc3RhcmZhdWNldC5uZXQvc2wvKgovLyBAbWF0Y2ggICAqOi8vc29sYXJjaGFpbmUuY29tL3NsLyoKLy8gQG1hdGNoICAgKjovL3NocnQuY3J5cHRvZnVucy5ydS8qCi8vIEBtYXRjaCAgICo6Ly9pcWZhdWNldC5jb20vbGluazMvKgovLyBAbWF0Y2ggICAqOi8vaG9ycm9yYml0Y29pbi5jb20vPyoKLy8gQG1hdGNoICAgKjovL3NhdG9zaGktd2luLnh5ei91cmwvKgovLyBAbWF0Y2ggICAqOi8vY3J5cHRvbmV0b3MucnUvcGFnZS8qCi8vIEBtYXRjaCAgICo6Ly8qLndyaXRlZHJvaWQuZXUub3JnLyoKLy8gQG1hdGNoICAgKjovL3Bvc3QuYmxvZ3pvbmUxLnNob3AvKgovLyBAbWF0Y2ggICAqOi8vZmF1Y2V0LmdvbGQvQlRDLz9zdGVwKgovLyBAbWF0Y2ggICAqOi8vZmF1Y2V0LmdvbGQvRVRILz9zdGVwKgovLyBAbWF0Y2ggICAqOi8vYWRidGMudG9wL3N1cmYvYnJvd3NlLyoKLy8gQG1hdGNoICAgKjovL2Fub255bS5uaW5qYS9kb3dubG9hZC8qCi8vIEBtYXRjaCAgICo6Ly9jbGFpbXNvbGFuYS54eXovc2hvcnQvKgovLyBAbWF0Y2ggICAqOi8vZmF1Y2V0Y3J5cHRvLm5ldC9zaG9ydC8qCi8vIEBtYXRjaCAgICo6Ly9zdGF0aW9uYml0Lnh5ei9hdXRvbGluay8qCi8vIEBtYXRjaCAgICo6Ly9jcnlwdG9hZmZpbGlhdGVzLnN0b3JlL3NoKgovLyBAbWF0Y2ggICAqOi8va29uc3RhbnRpbm92YS5uZXQvdmVyaWZ5LyoKLy8gQG1hdGNoICAgKjovL3BsYXluYW5vLm9ubGluZS93YXRjaC1hbmQqCi8vIEBtYXRjaCAgICo6Ly9hZGJ0Yy50b3Avc3VyZmlhdC9icm93c2UvKgovLyBAbWF0Y2ggICAqOi8vcm90YXRvci5udXJ1bC1odWRhLnNjaC5pZC8qCi8vIEBtYXRjaCAgICo6Ly8qYXBpLXNlY3VyZS5zb2x2ZW1lZGlhLmNvbS8qCi8vIEBtYXRjaCAgICo6Ly9mYXVjZXRjcnlwdG8uY29tL2NsYWltL3N0ZXAvKgovLyBAbWF0Y2ggICAqOi8vbGlua3ZlcnRpc2UuZG93bmxvYWQvZG93bmxvYWQvKgovLyBAbWF0Y2ggICAqOi8vKi5yYWNlZGVwYXJ0bWVudC5jb20vZG93bmxvYWRzLyoKLy8gQG1hdGNoICAgKjovL2NyeXB0b25ldG9zLnJ1L3BhZ2UvcmVkaXJlY3QqCi8vIEBtYXRjaCAgICo6Ly9nYWxlcnliaXRzLmNvbS9wcm90ZWN0bGluay8qCi8vIEBtYXRjaCAgICo6Ly9lYXJudWx0aW1hdGUuc3BhY2Uvc2hvcnQvKgovLyBAbWF0Y2ggICAqOi8vYmFzLm51cnVsLWh1ZGEub3IuaWQvKgovLyA9PS9Vc2VyU2NyaXB0PT0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMRUFTRSBSRUFEIFNDUklQVCBJTkZPIEJFRk9SRSBVU0UKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMRUFTRSBSRVNQRUNUIElGIE1ZIFNDUklQVFMgVVNFRlVMIEZPUiBZT1UKLy8gICAgICAgICAgICAgICAgICAgICAgRE9OJ1QgVFJZIFRPIENPUFkgUEFTVEUgTVkgU0NSSVBUUyBUSEVOIFNIQVJFIFRPIE9USEVSUyBMSUtFIFlPVSBBUkUgVEhFIENSRUFUT1IKLy8gICAgICAgICAgICAgICAgIFBMRUFTRSBET04nVCBSRU1PVkUgT1IgQ0hBTkdFIE1ZIEJMT0csIERJU0FCTEUgWU9VUiBBREJMT0NLIElOIE1ZIEJMT0cgLCBUSEFOS1MgRk9SIFlPVVIgU1VQUE9SVAovLyAgICAgICAgICAgICAgTXkgQmxvZyBpcyBWZXJ5IEltcG9ydGFudCB0byBnaXZlIHNvbWUgRGVsYXkgZm9yIHNhZmUgYXdheSAsVHJhY2sgTmV3IFNob3J0bGlua3MgLCBCcm9rZW4gQnlwYXNzIGV0Yy4uLgovLyBUaGFua3Mgc28gbXVjaCB0byBASnVzdE9sYWYgLCBAS29uZiAsIEBoYWNrZXIwOSAsIEBqdWFuc2kgQW5kIEBOb3RZb3UgZm9yIEhlbHBpbmcgbWUgLCBtYWtlIG15IHNjcmlwdCBldmVuIGJldHRlciAsIGFuZCBmb3IgQWxsIHdobyBoYXMgY29udHJpYnV0ZWQgdmlhIEZlZWRiYWNrLgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBSZXhCcCA9IG5ldyBSZWdFeHAoL15cPyhbXiZdKykvKTsKICAgIGNvbnN0IGJwID0gcXVlcnkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihxdWVyeSk7CiAgICBjb25zdCBlbGVtZW50RXhpc3RzID0gcXVlcnkgPT4gYnAocXVlcnkpICE9PSBudWxsOwogICAgY29uc3QgZG9tYWluQ2hlY2sgPSBkb21haW5zID0+IG5ldyBSZWdFeHAoZG9tYWlucykudGVzdChsb2NhdGlvbi5ob3N0KTsKICAgIGZ1bmN0aW9uIGNsaWNrKHF1ZXJ5KSB7YnAocXVlcnkpLmNsaWNrKCk7fQogICAgZnVuY3Rpb24gc3VibWl0KHF1ZXJ5KSB7YnAocXVlcnkpLnN1Ym1pdCgpO30KICAgIGZ1bmN0aW9uIGNsaWNrSWZFbGVtZW50RXhpc3RzKHF1ZXJ5LCB0aW1lSW5TZWMgPSAxLCBmdW5jTmFtZSA9ICdzZXRUaW1lb3V0Jykge2lmIChlbGVtZW50RXhpc3RzKHF1ZXJ5KSkge3dpbmRvd1tmdW5jTmFtZV0oZnVuY3Rpb24oKSB7Y2xpY2socXVlcnkpO30sIHRpbWVJblNlYyAqIDEwMDApO319CiAgICBmdW5jdGlvbiBDYXB0Y2hhc3ViKHF1ZXJ5LCBhY3QgPSAnc3VibWl0JywgdGltZUluU2VjID0gMC41KSB7aWYgKGVsZW1lbnRFeGlzdHMocXVlcnkpKSB7dmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7aWYgKHdpbmRvdy5ncmVjYXB0Y2hhICYmICEhd2luZG93LmdyZWNhcHRjaGEuZ2V0UmVzcG9uc2U/LigpKSB7YnAocXVlcnkpW2FjdF0oKTsgY2xlYXJJbnRlcnZhbCh0aW1lcik7fX0sIHRpbWVJblNlYyAqIDEwMDApO319CiAgICBmdW5jdGlvbiBDYXB0Y2hha2xpayhxdWVyeSwgYWN0ID0gJ2NsaWNrJywgdGltZUluU2VjID0gMSkge2lmIChlbGVtZW50RXhpc3RzKHF1ZXJ5KSkge3ZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge2lmICh3aW5kb3cuZ3JlY2FwdGNoYSAmJiAhIXdpbmRvdy5ncmVjYXB0Y2hhLmdldFJlc3BvbnNlPy4oKSkge2JwKHF1ZXJ5KVthY3RdKCk7IGNsZWFySW50ZXJ2YWwodGltZXIpO319LCB0aW1lSW5TZWMgKiAxMDAwKTt9fQogICAgZnVuY3Rpb24gcmVkaXJlY3QodXJsLCBibG9nID0gdHJ1ZSkge2xvY2F0aW9uID0gYmxvZyA/ICdodHRwczovL3JvdGF0b3IubnVydWwtaHVkYS5zY2guaWQvP3VybD0nICsgdXJsIDogdXJsO30KICAgIGZ1bmN0aW9uIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKHJlX2RvbWFpbiwgZGF0YSwgYmxvZykgeyBpZiAoIXJlX2RvbWFpbi50ZXN0KGxvY2F0aW9uLmhvc3QpKSByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSByZXR1cm4gZGF0YSgpOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSBkYXRhID0geycvJzogZGF0YX07CiAgICAgICAgaWYgKCEobG9jYXRpb24ucGF0aG5hbWUgaW4gZGF0YSkpIHJldHVybjsKICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBkYXRhW2xvY2F0aW9uLnBhdGhuYW1lXTsKICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcgJiYga2V5LnRlc3QobG9jYXRpb24uc2VhcmNoKSkgcmV0dXJuIHJlZGlyZWN0KHZhbHVlICsgUmVnRXhwLiQxLCBibG9nKTsKICAgICAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICAgICAgaWYgKHNlYXJjaFBhcmFtcy5oYXMoa2V5KSkgcmVkaXJlY3QodmFsdWUgKyBzZWFyY2hQYXJhbXMuZ2V0KGtleSksIGJsb2cpO30KICAgIGZ1bmN0aW9uIEJsb2dnZXJQZW11bGEoZG9tYWlucywgZGF0YSwgdXJsLCBibG9nLCB1c2UgPSBudWxsKSB7Y29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpOwogICAgICAgIGlmICghZG9tYWluQ2hlY2soZG9tYWlucykpIHJldHVybjsKICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuc3BsaXQoJywnKS5ldmVyeShwID0+IHNlYXJjaFBhcmFtcy5oYXMocCkpKSB7dXNlID8/PSBkYXRhLnNwbGl0KCcsJylbMF07CiAgICAgICAgICAgIHJlZGlyZWN0KHVybCArIHNlYXJjaFBhcmFtcy5nZXQodXNlKSwgYmxvZyk7fSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtjb25zdCBvID0gZGF0YVtsb2NhdGlvbi5wYXRobmFtZV07CiAgICAgICAgaWYgKCFvKSByZXR1cm47IEJsb2dnZXJQZW11bGEoZG9tYWlucywgLi4ubyk7fX0KICAgIGZ1bmN0aW9uIG1ldGEoaHJlZikge2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoT2JqZWN0LmFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyksIHsgbmFtZTogJ3JlZmVycmVyJywgY29udGVudDogJ29yaWdpbid9KSk7CiAgICAgICAgT2JqZWN0LmFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyksIHtocmVmfSkuY2xpY2soKTt9CiAgICBmdW5jdGlvbiB3YWl0Rm9yRWxtKHF1ZXJ5LCBjYWxsYmFjaykge3NldFRpbWVvdXQoZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMocXVlcnkpKSB7Y2FsbGJhY2soYnAocXVlcnkpKTt9IGVsc2Uge3dhaXRGb3JFbG0ocXVlcnksIGNhbGxiYWNrKTt9fSwgMTAwMCk7fQogICAgZnVuY3Rpb24gbm90aWZ5KHR4dCwgd2lkdGggPSA3ODApIHsgY29uc3QgbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgbS5zdHlsZS5wYWRkaW5nID0gJzVweCc7IG0uc3R5bGUuekluZGV4ID0gOTk5OTk5OTk7IG0uc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnOyBtLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94JzsKICAgICAgICAgICAgIG0uc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7IG0uc3R5bGUudG9wID0gJzEwMHB4JzsgbS5zdHlsZS5sZWZ0ID0gYCR7aW5uZXJXaWR0aCAvIDIgLSB3aWR0aCAvIDJ9cHhgOyBtLnN0eWxlLmZvbnQgPSAnbm9ybWFsIGJvbGQgMjBweCBzYW5zLXNlcmlmJzsKICAgICAgICAgICAgIG0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3doaXRlJzsgbS5pbm5lclRleHQgPSB0eHQ7IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobSk7fQogICAgLy8gVGhlcmUgd2lsbCBiZSBhIFNwZWNpYWwgVHJpY2tzIGFuZCBCeXBhc3MgQ29kZXMgb25seSBmb3IgR29vZCBVc2VycyAoQW55b25lIHdobyBoYXZlIGdvb2QgYXR0aXR1ZGUgLCBHb29kIEZlZWRiYWNrLCB3aWxsIGJlIGludml0ZWQgdG8gbXkgZ3JvdXApCiAgICBCbG9nZ2VyUGVtdWxhKCdraWVudGh1Y3JhbmdtaWVuZy5jb218Y29pbmRvb2cuY29tfHRpZXV0aWV0a2llbS5jb218YXNrcGFjY29zaS5jb218c2hvcHNpeHNldmVuLmNvbXxob2NsYW1kYXViZXAuY29tfHRodW9jZGFuZ2lhbi5uZXR8Y2hpbmhuaGFjb2Jhbi5jb218Y29pbi1mcmVlLmNvbXxmYW5jbHVwLmluZm98Y2hhbWN1dWhvYy5jb218bmhhY3JlbWl4LmJpenxkb2FudmFuaGFpLmJpenxjb25naHVvbmd0dS5uZXR8OTVuZXdzLmNvbXx0cmVtYW1ub24uY29tfGh5bmV3cy5iaXonLCAnd3BzYWZlbGluaycsICcnLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdzcG9ydDR5b3UubmV0fG5hZGVyc29mdDcuY29tfG1hbmdhMmRheS5jb218cGlja2hvcGVzLmNvbXxnYW0zYWguY29tfGNhcnMtMXllYXIueHl6fG00Y3V0LmNvbXxzb2Z0M2FyYmkuY29tJywgJ2xpbmsnLCAnJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgndGVjaGxvYWR6LmNvbXxzcG9ydHNtZWRpYXouY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rLmNsb3Vkc2hyaW5rZXIuY29tLy8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdxdWFsaXR5c3R1ZHltYXRlcmlhbC5pbicsICdsaW5rJywgJ2h0dHBzOi8vdGhlaG9zdGluZ21lbnRvci5jb20vbXlsaW5rLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2NyYXp5YmxvZy5pbnxuZXdzaGFyc2guY29tJywgJ3Bvc3RpZCcsICdodHRwczovL2hyLnZpa2FzaG1ld2FkYS5jb20vLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2xpbmtzZmlyZS5jbycsICd1cmwsYXBpJywgJycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJzdhcHBsZS5uZXQnLCAnZ28nLCAnaHR0cHM6Ly9pbGxpbmsubmV0LycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ25paW5nYS5jb20nLCAnZ2V0JywgJ2h0dHBzOi8vbGlpbmthdC5jb20vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgncnVwYW1vYmlsZS5pbicsICdnbycsICdodHRwczovL21kaXNrLm9uZS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdtLm5ld2hpdC5tZScsICdsaW5rJywgJ2h0dHBzOi8vbGluazNzLm5ldC8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCd3cGtpbmcuaW4nLCAnbGluaycsICdodHRwczovL28ub3ZsaW5rcy5jb20vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnZ2t0ZWNoLnVrJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5reWVhcm4uY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2phemJhYXQuaW4nLCAnbGluaycsICdodHRwczovL2dvLnJwbGlua3MuaW4vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgncnNybGluay5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28ucnNybGluay5pbi8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdpdGVjaGxvZ2ljLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5hcHVybC5pbi8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdibG9nLmhvc3RyYXRnZWJlci5kZScsICdnbycsICdodHRwczovL2MyZy5hdC8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdhdXRvZGltZS5jb20nLCAnZ28nLCAnaHR0cHM6Ly9nby5saW5rcmV4Lm5ldC8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdpdGVjaG1hZmlpYS5jb20nLCAnbGluaycsICdodHRwczovL3YuZWFybmwueHl6LycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3ZlZ2FuYWIuY28nLCAnbGluaycsICdodHRwczovL3RlY2h5LnZlZ2FuYWIuY28vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgndGVjaGNhcnR6LmNvbScsICdsaW5rJywgJ2h0dHBzOi8vYWRzLm1kbGluay5pbi8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCcxYXBwbGUueHl6JywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rLnR1cmtkb3duLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdzaXRlYmxvZy5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28uZHJvcGxpbmsuY28uaW4vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgndHIubGlua3xmYXVjZXRlZW4ueHl6fGFkcGF5bGluay5jb20nLCAndXJsLGFwaScsICcnLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdrZXJkbGluZm8uaW4nLCAnbGluaycsICdodHRwczovL2dvLmxyc2hvcnRuZXIuY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2FwYXNpaC5teS5pZCcsICdsaW5rJywgJ2h0dHBzOi8vbGluay5nZXQ0bGxpbmsuY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2RlYWxwcmljZS5jbycsICdhZGxpbmtmbHknLCAnaHR0cHM6Ly9wcmljZW5ld3MuZnVuLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3d3MS5saW5rdHJpbXMuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rdHJpbXMuY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3RlY25pY2FsYm95LmNvbScsICdsaW5rJywgJ2h0dHBzOi8vbXkubGlua2JuYW8uY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2JhbnRlbmV4aXMuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rLnlvdXNob3J0Lm5ldC8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdha2NhcnRvb25zLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9iYWNrLmV4cGVydGxpbmtzLmluLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ21pc3Npb25oaWdodC5pbicsICdsaW5rJywgJ2h0dHBzOi8vcGxheWRpc2sudXJsMmdvLmluLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3RlY2gudGVjaHdob20uY29tJywgJ2pldG9uJywgJ2h0dHBzOi8vd2UudGVjaHdob20uY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2NyaWNrYmxhemUuY29tJywgJ2dldGxpbmsnLCAnaHR0cHM6Ly9nby5jb2luYWRmbHkuY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3ZpZGVvc2x5cmljcy5jb20nLCAncG9zdGlkJywgJ2h0dHBzOi8vc2VyMy5jcmF6eWJsb2cuaW4vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnbGlua3Nob3J0aWZ5eC5saW5rJywgJ2xpbmsnLCAnaHR0cHM6Ly95by5saW5rc2hvcnRpZnkubmV0LycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2NsYWltZmV5LmNvbXx6dWJhdGVjbm8uY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby56dWJhLmxpbmsvJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnY3J5cHRvbWVsb3VkLmNvbScsICdhZGxpbmtmbHknLCAnaHR0cHM6Ly9saW5rcy5jcnlwdHVybHMuY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3RlYW0ucGFzdGVob3N0aW5nLmNvbScsICdhZGxpbmtmbHknLCAnaHR0cHM6Ly9zaG9ydHhsaW5rcy5jb20vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnZmZ3b3JsZC54eXp8dGhlYm9va2Fob2xpY3MuaW4nLCAnbGluaycsICdodHRwczovL2dvLmxpbmtibmFvLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCd0ZWNuaWNhbGJveS5jb20nLCAnbGluaycsICdodHRwczovL3RoZWJvb2thaG9saWNzLmluL3NhZmUucGhwP2xpbms9JywgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzdhcHBsZS5uZXQvLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL2lsbGluay5uZXQvJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlY2hkYXplLmluLywgeycvJzogW1JleEJwLCAnaHR0cHM6Ly93ZWIubWRpc2twbGF5ZXIuaW4vJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JrbGlua3MuaW4vLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cHM6Ly9ibG9nLmlua2lrLmluLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9qZW1hcmkubmV0LywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9za2lwLmplbWFyaS5uZXQvJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL215bW9iaWxlaHViLmluLywgeycvc2FmZS5waHAnOiBbJ2xpbmsnLCAnaHR0cHM6Ly9tb2RsaW5rLmNvLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9nby50aGVjb25vbXkubWUvLCB7Jy8nOiBbUmV4QnAsICdodHRwczovL2xpbmtzLm1lZGlwb3N0Lm9yZy8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWVkaXBvc3Qub3JnLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9nby50aGVjb25vbXkubWUvPyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rcy50aGVjb25vbXkubWUvLCB7Jy8nOiBbUmV4QnAsICdodHRwczovL2dvLnRoZWNvbm9teS5tZS8/LyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90aGVjb25vbXkubWUvLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL2xpbmtzLm1lZGlwb3N0Lm9yZy8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hvcHNpeHNldmVuLmNvbS8sIHsnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwOi8vc2FmZWxpbmtkdWl0LmNvbS8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGlua3dhcmRzLmNvLmluLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9hZHMubGlua3dhcmRzLmNvbS8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXBsb2Fkc29vbi5jb20vLCB7Jy9zYWZlLnBocCc6IFsnbGluaycsICdodHRwczovL3Nocmlua2ZvcmVhcm4uaW4vJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3ZpZGVvc2x5cmljcy5jb20vLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL3NlcjMuY3JhenlibG9nLmluLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rLmxpbmtzZmlyZS5jby8sIGZ1bmN0aW9uKCkge2xvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCdsaW5rJywgJ2Jsb2cnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zcGVlZHluZXdzLnh5ei8sIHsnL2Jsb2cvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vbGlua3Muc3BlZWR5bmV3cy54eXovJ10sfSwgZmFsc2UpOwogICAgLy9CeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmxvZ3MuZWdmbHkueHl6LywgZnVuY3Rpb24oKSB7bG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ2Jsb2dzLicsICdsaW5rLicpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N0dWR5dW8uY29tLywgeycvcHJvMi92ZXJpZnkvJzogW1JleEJwLCAnaHR0cHM6Ly9zcGVlZHluZXdzLnh5ei9ibG9nL3ZlcmlmeS8/J10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Nob3J0LnJhaW51cmwuY29tfHNob3J0LnNub3d1cmwuY29tfHNob3J0LmRhc2gtZnJlZS5jb20vLCBmdW5jdGlvbigpIHtsb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgnc2hvcnQuJywgJycpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlYWNoc2Fuc2FyLmNvbXx0ZWNobmljYWxhdGcuY29tLywgKCkgPT4gd2FpdEZvckVsbSgiI3dwc2FmZWdlbmVyYXRlID4gI3dwc2FmZS1saW5rID4gYVtocmVmXSIsIHNhZmUgPT4gcmVkaXJlY3Qoc2FmZS5ocmVmKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2dvLmJpcmR1cmxzLmNvbXxnby5vd2xsaW5rLm5ldHxnby5pbGxpbmsubmV0fGdvLnBvbmcucHd8Z28uZWFybmZhY3V0Lnh5enxnby5saW5rNHJldi5zaXRlfGdvLnVybGNhc2guc2l0ZS8sIGZ1bmN0aW9uKCkge2xvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCdnby4nLCAnJyk7fSk7CiAgICBjb25zdCBzbCA9IChoID0+IHtzd2l0Y2ggKGguaG9zdCkgewogICAgY2FzZSAnYWRsaW5rLmJpdGNvbWFya2V0Lm5ldCc6IGlmIChoLnNlYXJjaFBhcmFtcy5oYXMoJ2dvJykpIHsgcmV0dXJuICdodHRwczovL2Fkc2hvcnRpLmNvLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2dvJykuc3Vic3RyaW5nKDEpO30gYnJlYWs7CiAgICBjYXNlICdteS5kcm9wei54eXonOiBpZiAoIGguaHJlZi5pbmNsdWRlcygnL2NoZWNrcG9pbnQnKSAmJiBsb2NhdGlvbi5zZWFyY2ggPT09ICcnKSB7IHJldHVybiAnaHR0cHM6Ly9teS5kcm9wei54eXovY2hlY2twb2ludD9yZWRpcj0vc2l0ZS1mcmllbmRzJzsgfSBicmVhazsKICAgIGNhc2UgJ3RoZWNvbm9teS5tZSc6IGNhc2UgJ2Jsb2cubWVkaXBvc3Qub3JnJzogaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiAvXlw/KFteJl0rKS8udGVzdChoLnNlYXJjaCkpIHsgbWV0YSgnaHR0cHM6Ly9saW5rcy5tZWRpcG9zdC5vcmcvJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgIGNhc2UgJ3BhdGFrLmRyb3B6Lnh5eic6IGlmICggaC5ocmVmLmluY2x1ZGVzKCcvY2hlY2twb2ludCcpICYmIGxvY2F0aW9uLnNlYXJjaCA9PT0gJycpIHsgcmV0dXJuICdodHRwczovL3BhdGFrLmRyb3B6Lnh5ei9jaGVja3BvaW50P3JlZGlyPS9zaXRlLWZyaWVuZHMnOyB9IGJyZWFrOwogICAgY2FzZSAndGVyYWZseS5tZSc6IGlmIChoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguaHJlZi5pbmNsdWRlcygnYWRuZXdzLm1lJykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cL2FkbmV3cy5tZS8udGVzdCh1KSlbMF07fSBicmVhazsKICAgIGNhc2UgJ2NsaWNrc2ZseS5jb20nOiBjYXNlICdzaHJpbmtlYXJuLmNvbSc6IGNhc2UgJ2Nsay5zaCc6IGNhc2UgJ2N1dHkuaW8nOiB2YXIgY2YgPSBoLnNlYXJjaFBhcmFtcy5oYXMoJ2FwaScpICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJyk7IGlmICggaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ2Jsb29nZXJzcG9vdC4nKSApIHt3aW5kb3cubG9jYXRpb24uYXNzaWduKCdodHRwczovL3NvZnRpbmRleC53ZWJzaXRlJysgaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKS5zdWJzdHJpbmcoMjIpKTt9IGVsc2UgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnYXBpJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ2Z1dHVyZXNob3IuJykpIHtyZXR1cm4gJ2h0dHBzOi8vJyArIGguc2VhcmNoUGFyYW1zLmdldCgndXJsJyk7fSBlbHNlIGlmIChjZiAmJiBoLmhyZWYuaW5jbHVkZXMoJzNzaG9ydHVybC5ncScpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC8zc2hvcnR1cmwuZ3EvLnRlc3QodSkpWzBdO30gZWxzZSBpZiAoY2YgJiYgaC5ocmVmLmluY2x1ZGVzKCczNjBzaG9ydGxpbmsuY2YnKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvMzYwc2hvcnRsaW5rLmNmLy50ZXN0KHUpKVswXTt9IGVsc2UgaWYgKGNmICYmIGguaHJlZi5pbmNsdWRlcygnZWFybmZhY3V0Lnh5eicpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC9lYXJuZmFjdXQueHl6Ly50ZXN0KHUpKVswXTt9IGVsc2UgaWYgKGNmICYmIGguaHJlZi5pbmNsdWRlcygnc2hvcnQuc2thbGJheXJhay5jb20nKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvc2hvcnQuc2thbGJheXJhay5jb20vLnRlc3QodSkpWzBdO31lbHNle3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpO30gYnJlYWs7CiAgICBkZWZhdWx0OiBicmVhazt9IH0pKG5ldyBVUkwobG9jYXRpb24uaHJlZikpOyBpZiAoc2wpIHtsb2NhdGlvbi5ocmVmID0gc2w7IH0KICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hZGJ0Yy50b3AvLCBmdW5jdGlvbigpIHtsZXQgY291bnQgPTA7IHNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoYnAoImRpdi5jb2wuczQ+IGEiKSAmJiAhYnAoImRpdi5jb2wuczQ+IGEiKS5jbGFzc05hbWUuaW5jbHVkZXMoImhpZGUiKSl7Y291bnQgPSAwO2JwKCJkaXYuY29sLnM0PiBhIikuY2xpY2soKTt9ZWxzZXtjb3VudCA9IGNvdW50ICsgMTt9fSw1MDAwKTsKICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKCkge2lmICh1bnNhZmVXaW5kb3cubXlXaW5kb3cpIHt1bnNhZmVXaW5kb3cubXlXaW5kb3cuY2xvc2UoKTt9aWYgKHVuc2FmZVdpbmRvdy5jb2lud2luKSB7bGV0IHBvcGMgPSB1bnNhZmVXaW5kb3cuY29pbndpbjt1bnNhZmVXaW5kb3cuY29pbndpbiA9IHt9O3BvcGMuY2xvc2UoKTt9fTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kcm9wei54eXovLCBmdW5jdGlvbigpIHtpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9jYXB0Y2hhJykmJiAhd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9yb2xsJykpIHt9ZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9zaXRlLWZyaWVuZHMnKSkge2xldCB3aW5kb3dOYW1lID0gIiI7bGV0IGN1cnJlbnR3aW5kb3dPcGVuRnVuY3Rpb24gPSB1bnNhZmVXaW5kb3cub3BlbjtmdW5jdGlvbiBuZXd3aW5kb3dPcGVuRnVuY3Rpb24ocGFyYW1zMSwgcGFyYW1zMikge2lmICghcGFyYW1zMiB8fCBwYXJhbXMyID09ICJfYmxhbmsiKSB7d2luZG93TmFtZSA9ICJwb3BVcFdpbmRvd015RHJvcHoiO30gZWxzZSB7d2luZG93TmFtZSA9IHBhcmFtczI7fSByZXR1cm4gY3VycmVudHdpbmRvd09wZW5GdW5jdGlvbihwYXJhbXMxLCB3aW5kb3dOYW1lKTt9O3Vuc2FmZVdpbmRvdy5vcGVuID0gbmV3d2luZG93T3BlbkZ1bmN0aW9uO3Vuc2FmZVdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKCkge2N1cnJlbnR3aW5kb3dPcGVuRnVuY3Rpb24oJycsIHdpbmRvd05hbWUpLmNsb3NlKCk7fTsKICAgIGZ1bmN0aW9uIGVuZHNXaXRoTnVtYmVyKHN0cil7cmV0dXJuIGlzTmFOKHN0ci5zbGljZSgtMSkpID8gZmFsc2UgOiB0cnVlO31sZXQgY2xpY2tlZCA9IGZhbHNlO3NldEludGVydmFsKGZ1bmN0aW9uKCl7Zm9yKGxldCBpPTA7IGk8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5idG4uYnRuLWluZm8iKS5sZW5ndGg7IGkrKyl7aWYoIWNsaWNrZWQgJiYgIWVuZHNXaXRoTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5idG4uYnRuLWluZm8iKVtpXS5nZXRBdHRyaWJ1dGUoJ2lkJykpICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYnRuLmJ0bi1pbmZvIilbaV0uaW5uZXJUZXh0LmluY2x1ZGVzKCJTdWJtaXRzIikpe2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5idG4uYnRuLWluZm8iKVtpXS5jbGljaygpO2JyZWFrO319fSwxMDAwMCk7fSBlbHNlIHt9fSk7CiAgICAvLyBJbmplY3RpbmcgZnJvbSBzdGFydCBkb2N1bWVudCBjb2RlZCBieSBASnVzdE9sYWYKICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAndGVjaGN5YW4uY29tJyl7ZGVsZXRlIHdpbmRvdy5kb2N1bWVudC5yZWZlcnJlcjsgd2luZG93LmRvY3VtZW50Ll9fZGVmaW5lR2V0dGVyX18oJ3JlZmVycmVyJywgZnVuY3Rpb24gKCkge3JldHVybiAiaHR0cHM6Ly9nb29nbGUuY29tLyI7fSk7fQogICAgLy8gSW5qZWN0aW5nIGZyb20gc3RhcnQgZG9jdW1lbnQgY29kZSBieSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9sZW5pdmVuZQogICAgaWYgKFsnbWFneWJ1Lm5ldCcsICd4ZXJ2b28ubmV0JywgJ2h1cmlyay5uZXQnLCAndXNmaW5mLm5ldCcsICdlbG9pc20ubmV0JywgJ25lZXh1bHJvLm5ldCddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywieXNtbSIse3NldDpmdW5jdGlvbihiKXt2YXIgYT1iLGM9IiIsZD0iIjtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKTA9PWIlMj9jKz1hLmNoYXJBdChiKTpkPWEuY2hhckF0KGIpK2Q7YT0oYytkKS5zcGxpdCgiIik7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKylpZighaXNOYU4oYVtiXSkpZm9yKGM9YisxO2M8YS5sZW5ndGg7YysrKWlzTmFOKGFbY10pfHwoZD1hW2JdXmFbY10sMTA+ZCYmKGFbYl09ZCksYj1jLGM9YS5sZW5ndGgpO2E9YS5qb2luKCIiKTthPXdpbmRvdy5hdG9iKGEpO2E9YS5zdWJzdHJpbmcoYS5sZW5ndGgtKGEubGVuZ3RoLTE2KSk7IShiPWE9YS5zdWJzdHJpbmcoMCxhLmxlbmd0aC0xNikpfHwwIT09Yi5pbmRleE9mKCJodHRwOi8vIikmJjAhPT1iLmluZGV4T2YoImh0dHBzOi8vIil8fChkb2N1bWVudC53cml0ZSgiXHgzYyEtLSIpLHdpbmRvdy5zdG9wKCksd2luZG93Lm9uYmVmb3JldW5sb2FkPW51bGwsd2luZG93LmxvY2F0aW9uPWIpO319KTt9CiAgICAvLyBJbmplY3RpbmcgY29kZSBmcm9tIHN0YXJ0IGFuZCB0aGUgZW5kIG9mIGRvY3VtZW50IGNvZGVkIGJ5IEBLb25mCiAgICBpZiAoWydpbnRlcmFjdGl2ZScsICdjb21wbGV0ZSddLmluY2x1ZGVzKGRvY3VtZW50LnJlYWR5U3RhdGUpKSB7b25IdG1sTG9hZGVkKCk7fSBlbHNlIHtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgb25IdG1sTG9hZGVkKTt9IGZ1bmN0aW9uIG9uSHRtbExvYWRlZCgpIHtpZiAoWydiYXMubnVydWwtaHVkYS5vci5pZCcsICdyb3RhdG9yLm51cnVsLWh1ZGEuc2NoLmlkJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKXsgfSBlbHNlIHsgY29uc3QgbGlzdGhpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZnJhbWUsLmFkYiwjaWZyYW1lLCNwYXJ0aWNsZXMtanMsI2NhbnZhcywuZmxvYXdpbmctYmFubmVyLCNvcnF1aWRlYS1zbGlkZXVwLC5mbG9hdGluZy1iYW5uZXIsI3djZmxvYXREaXY0LCNwcmVsb2FkZXIsLnZhbnRhLWNhbnZhcywucGFydGljbGVzLWpzLWNhbnZhcy1lbCwjczY1Yywjb2ZjOSwjb3ZlcmxheSwjZm9vdGVyYWRzLCNkN2IyLCNfbV9hXywjbWFzdGhlYWRfLC5vdWxjc3ksLnN0aWNreS1ib3R0b20sLnN0aWNreS1ib3R0b20xLC5zdGlja3ktYm90dG9tMiwuc3RpY2t5LWJvdHRvbTMsLmJFbE5iRUZSTDNKdmJHODksLnNlcGFyYXRvcixodG1sIGJvZHkgaWZyYW1lLGh0bWwgaWZyYW1lLCNjb29raWUtcG9wLC52bXlvciwudG5qbXZuZWxkcCwuZnVsbF9wb3N0X2FyZWEucmgtY29udGFpbmVyLC5zYy1jb250ZW50LWFzaWRlLCNvZmM5LC5mbG9hd2luZy1iYW5uZXIsZGl2LmRlbWFuZC1zdXBwbHksLnRoZV9jb250ZW50LC5hbHRlcm5hdGl2ZS1hZCwjbGVmdGFkcycpOyBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgbGlzdGhpZGUpIHtlbGVtZW50LnJlbW92ZSgpO319CiAgICBpZiAoWyd1cDRjYXNoLmNvbScsICdhcHAubWVuamVsYWphaGkuY29tJywgJ2Jsb2cubWVuamVsYWphaGkuY29tJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKXsgfSBlbHNlIHsgY29uc3QgbGlzdHJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJhbm5lci1pbm5lcicpOyBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgbGlzdHJlKSB7ZWxlbWVudC5yZW1vdmUoKTt9fQogICAgaWYgKFsndGFpd2FuY25hbi5jb20nLCAnYmxvZy5kaXNoZXllLmNvbSddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSl7IH0gZWxzZSB7IGNvbnN0IGxpc3RyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJsb2ctaXRlbScpOyBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgbGlzdHIpIHtlbGVtZW50LnJlbW92ZSgpO319CiAgICBpZiAoWydwYXRhay5kcm9wei54eXonLCAnbXkuZHJvcHoueHl6J10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKXsgfSBlbHNlIHsgY29uc3QgbGlzdGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGV4dC1sZWZ0Jyk7IGZvciAoY29uc3QgZWxlbWVudCBvZiBsaXN0ZCkge2VsZW1lbnQucmVtb3ZlKCk7fX0KICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnamFyZGltYS5jb20nKXsgfSBlbHNlIHsgY29uc3QgbGlzdGogPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGQtc3MtbWFpbi1jb250ZW50Jyk7IGZvciAoY29uc3QgZWxlbWVudCBvZiBsaXN0aikge2VsZW1lbnQucmVtb3ZlKCk7fX0KICAgIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZignZGl1ZGVteS5jb20nKSAhPSAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2RqeG1hemEuaW4nKSAhPSAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJ29uLXNjcm9sbC5jb20nKSAhPSAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2Jsb2ctZXZlcnl0aGluZy5jb20nKSAhPSAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJ3Byb3ZpcmFsaG9zdC5jb20nKSAhPSAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2Jsb2dtYWRvLmNvbScpICE9IC0xIHx8IGxvY2F0aW9uLmhyZWYuaW5kZXhPZignYnRjcGFueS5jb20nKSAhPSAtMSkgewogICAgKGZ1bmN0aW9uKCkge2xldCBGYXN0SW50ID0gJ3t7MX19JztpZiAoIEZhc3RJbnQgPT09ICd7ezF9fScgKSB7IEZhc3RJbnQgPSAnJzsgfWxldCBkZWxheUFyZyA9ICd7ezJ9fSc7aWYgKCBkZWxheUFyZyA9PT0gJ3t7Mn19JyApIHsgZGVsYXlBcmcgPSAnJzsgfWxldCBib29zdEFyZyA9ICd7ezN9fSc7aWYgKCBib29zdEFyZyA9PT0gJ3t7M319JyApIHsgYm9vc3RBcmcgPSAnJzsgfQogICAgaWYgKCBGYXN0SW50ID09PSAnJyApIHtGYXN0SW50ID0gJy4/Jzt9IGVsc2UgaWYgKCBGYXN0SW50LmNoYXJBdCgwKSA9PT0gJy8nICYmIEZhc3RJbnQuc2xpY2UoLTEpID09PSAnLycgKSB7RmFzdEludCA9IEZhc3RJbnQuc2xpY2UoMSwgLTEpO30gZWxzZSB7RmFzdEludCA9IEZhc3RJbnQucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7fWNvbnN0IEZhc3RJbnRlciA9IG5ldyBSZWdFeHAoRmFzdEludCk7CiAgICBsZXQgZGVsYXkgPSBkZWxheUFyZyAhPT0gJyonID8gcGFyc2VJbnQoZGVsYXlBcmcsIDEwKSA6IC0xO2lmICggaXNOYU4oZGVsYXkpIHx8IGlzRmluaXRlKGRlbGF5KSA9PT0gZmFsc2UgKSB7IGRlbGF5ID0gMTAwMDsgfQogICAgbGV0IGJvb3N0ID0gcGFyc2VGbG9hdChib29zdEFyZyk7Ym9vc3QgPSBpc05hTihib29zdCkgPT09IGZhbHNlICYmIGlzRmluaXRlKGJvb3N0KSA/IE1hdGgubWluKE1hdGgubWF4KGJvb3N0LCAwLjAyKSwgNTApIDogMC4wNTsgc2VsZi5zZXRJbnRlcnZhbCA9IG5ldyBQcm94eShzZWxmLnNldEludGVydmFsLCB7YXBwbHk6IGZ1bmN0aW9uKHRhcmdldCwgdGhpc0FyZywgYXJncykge2NvbnN0IFsgYSwgYiBdID0gYXJnczsKICAgIGlmICgoZGVsYXkgPT09IC0xIHx8IGIgPT09IGRlbGF5KSAmJiBGYXN0SW50ZXIudGVzdChhLnRvU3RyaW5nKCkpKSB7YXJnc1sxXSA9IGIgKiBib29zdDt9cmV0dXJuIHRhcmdldC5hcHBseSh0aGlzQXJnLCBhcmdzKTt9fSk7fSkoKTt9CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gQ2FwdGNoYSBNb2RlCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgbGV0IGNhcHRjaGFNb2RlID0gWycjX21mb3JtJywgJyN1c2VyRm9ybScsICcjbGluay12aWV3JywgJyNmcm1wcm90ZWN0JywgJyNTaG9ydExpbmtJZCcsICcjY2FwdGNoYScsICcjc3VibWl0LWZvcm0nLCAnI2x2aWV3ID4gZm9ybScsICcjZmlsZS1jYXB0Y2hhJywgJyNidGdldCA+IGZvcm0nLCAnZGl2I2xvZ2luIGZvcm0nLCAnRjEnLCAnI3Nob3J0LWNhcHRjaGEtZm9ybScsICcjd3BzYWZlbGluay1sYW5kaW5nJywgJy5jb2wtMTIgPiBmb3JtOm50aC1jaGlsZCgxKScsICcuY29sLW1kLTQgPiBmb3JtOm50aC1jaGlsZCgxKScsICcuY29sLW1kLTYgPiBmb3JtOm50aC1jaGlsZCg0KScsICcuY29udGVuaWRvID4gZm9ybTpudGgtY2hpbGQoMiknLCAnI21haW4gPiBkaXY6bnRoLWNoaWxkKDQpID4gZm9ybTpudGgtY2hpbGQoMSknLCAnZGl2LmNvbC1tZC0xMjpudGgtY2hpbGQoMykgPiBmb3JtOm50aC1jaGlsZCgxKScsICcuY29udGVudCA+IGRpdjpudGgtY2hpbGQoNCkgPiBmb3JtOm50aC1jaGlsZCgxKScsICcjc2hvd01lID4gY2VudGVyOm50aC1jaGlsZCg0KSA+IGZvcm06bnRoLWNoaWxkKDEpJywgJy5zZWN0ID4gZGl2Om50aC1jaGlsZCgxKSA+IGNlbnRlcjpudGgtY2hpbGQoNykgPiBmb3JtOm50aC1jaGlsZCgxKScsICcjc2hvd01lID4gY2VudGVyOm50aC1jaGlsZCgxKSA+IGNlbnRlcjpudGgtY2hpbGQoNCkgPiBmb3JtOm50aC1jaGlsZCgxKScsICcjYWRiLW5vdC1lbmFibGVkID4gZGl2Om50aC1jaGlsZCgxKSA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXY6bnRoLWNoaWxkKDEpID4gZGl2Om50aC1jaGlsZCgxKSA+IGRpdjpudGgtY2hpbGQoNSkgPiBmb3JtOm50aC1jaGlsZCgxKScsICdidXR0b24jY29udGludWUuYnRuLmJ0bi1wcmltYXJ5LmJ0bi1jYXB0Y2hhJywgJy5tLTIuYnRuLWNhcHRjaGEuYnRuLW91dGxpbmUtcHJpbWFyeS5idG4nLCAnI3l1aWRlYS1idG4tYmVmb3JlLnl1LWJ0bi55dS1ibHVlJywgJyN5dWlkZWEtYnRuLWFmdGVyLnl1LWJsdWUueXUtYnRuJywgJyNmYXVmb3JtJ107CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcHRjaGFNb2RlLmxlbmd0aDsgaSsrKSB7Q2FwdGNoYXN1YihjYXB0Y2hhTW9kZVtpXSk7fQogICAgbGV0IGtsaWtNb2RlID0gWydidXR0b24jY29udGludWUuYnRuLmJ0bi1wcmltYXJ5LmJ0bi1jYXB0Y2hhJywgJy5tLTIuYnRuLWNhcHRjaGEuYnRuLW91dGxpbmUtcHJpbWFyeS5idG4nLCAnI3l1aWRlYS1idG4tYmVmb3JlLnl1LWJ0bi55dS1ibHVlJywgJyN5dWlkZWEtYnRuLWFmdGVyLnl1LWJsdWUueXUtYnRuJywgJyNzdWJtaXRCdG4nXTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2xpa01vZGUubGVuZ3RoOyBpKyspIHtDYXB0Y2hha2xpayhrbGlrTW9kZVtpXSk7fQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIFNldFRpbWVvdXQgTW9kZQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGxldCB0aW1lb3V0TW9kZSA9IHsKICAgICAgICAnMic6IFsnLmdvYnV0J10sCiAgICAgICAgJzMnOiBbJ3AuZ2V0bGluaycsICdidXR0b24uamVqZScsICcueXUtYmx1ZS55dS1idG4nLCAnYnV0dG9uI2J0bi1nZXQtbGluaycsICcjbGlua3MgPiBhOm50aC1jaGlsZCgyKScsICdidXR0b24uYnRuLW1haW4uZ2V0LWxpbmsnLCAnYnV0dG9uI2J0bjYueXUtYnRuLnl1LWdvJywgJy5tYi0zID4gLmJ0bi1wcmltYXJ5LmJ0bicsICdpbnB1dFtuYW1lPSJtZXRob2RfZnJlZSJdJywgJ2RpdiN3cHNhZmUtZ2VuZXJhdGUgYSBpbWcnLCAnYnV0dG9uI21kdC5jdXN0b20tYnRuLmJ0bi03JywgJ2J1dHRvbiNidG4tbWFpbi5idG4uYnRuLW1haW4nLCAnYnV0dG9uI2J0LmJ0bi5idG4taW5mby5idG4tbGcnLCAnYnV0dG9uI2FydGljbGUuYnRuLmJ0bi1zdWNjZXNzJywgJ2lucHV0I2J0bi1tYWluLmJ0bi5idG4tcHJpbWFyeScsICdidXR0b24jZ2V0bGluay5nZXRsaW5rLmRpc2FibGVkJywgJyNsaW5rMXMtc25wID4gYnV0dG9uOm50aC1jaGlsZCgxKScsICcjbGluazFzLXNucCA+IGJ1dHRvbjpudGgtY2hpbGQoMSknLCAnYnV0dG9uI3Nob3dUaW1lclRleHQuYnRuLmJ0bi1hY2NlbnQnLCAnI3dwc2FmZWxpbmtodW1hbiA+IGltZzpudGgtY2hpbGQoMSknLCAnYnV0dG9uI3N1Ym1pdC1idXR0b24uYnRuLmJ0bi1wcmltYXJ5JywgJy5uZXh0LWJ1dHRvbi50ZXh0LXdoaXRlLmJ0bi1pbmZvLmJ0bicsICdidXR0b24jYnRuNi5nLXJlY2FwdGNoYS5idG4uYnRuLXByaW1hcnknLCAnI2NsMSA+IGE6bnRoLWNoaWxkKDIpID4gZm9udDpudGgtY2hpbGQoMSknLCAnI2NsMSA+IGNlbnRlcjpudGgtY2hpbGQoMSkgPiBhOm50aC1jaGlsZCgxKScsICcubmV4dC1idXR0b24uYnRuLWxnLnRleHQtd2hpdGUuYnRuLWluZm8uYnRuJywgJ2J1dHRvbiNidG42LmJ0bi5idG4tb3V0bGluZS1wcmltYXJ5LmJ0bi1jYXB0Y2hhLm0tMicsICcuY29sLW1kLTggPiBmb3JtOm50aC1jaGlsZCgxNykgPiBidXR0b246bnRoLWNoaWxkKDMpJywgJ2Rpdi5ib3gtbWFpbjpudGgtY2hpbGQoMikgPiBkaXY6bnRoLWNoaWxkKDQpID4gYTpudGgtY2hpbGQoMSknLCAnZGl2LmNvbHVtbjpudGgtY2hpbGQoMikgPiBmb250Om50aC1jaGlsZCgyKSA+IGE6bnRoLWNoaWxkKDgpJ10sCiAgICAgICAgJzQnOiBbJy5leGNsdWRlLXBvcGFkLm9wZW4tY29udGludWUtYnRuLW9yZy5idG4tcHJpbWFyeS5idG4nXSwKICAgICAgICAnNSc6IFsnI3l1aWRlYS1idG1idG4nLCAnZGl2LmNvbXBsZXRlIGEuYnRuJywgJ2J1dHRvbiNnLXJlY2FwdGNoYS5nb2J0JywgJyNtb2xpZW4gPiBhOm50aC1jaGlsZCgxKScsICdhI3N1cmwxLmJ0bi1tYWluLmdldC1saW5rJywgJyN3cHNhZmUtc25wID4gYTpudGgtY2hpbGQoMSknLCAnLmNsb3NlLWFkLW1vZGFsLWdvLWFoZWFkLmNsb3NlJywgJ2J1dHRvbiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rLmJ0bi1tYWluLmdldC1saW5rJywgJ2J1dHRvbiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rLmJ0bi55YnRuLnlidG4tYWNjZW50LWNvbG9yLmJ0bi1jYXB0Y2hhJywgJ2J1dHRvbiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rLmJ0bi5idG4tb3V0bGluZS1wcmltYXJ5LmJ0bi1sZy5idG4tYmxvY2suYnRuLWNhcHRjaGEnXSwKICAgICAgICAnNyc6IFsnYnV0dG9uI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsuYnRuLmJ0bi1wcmltYXJ5LmJ0bi1nb28uYnRuLWNhcHRjaGEnXSwKICAgICAgICAnOSc6IFsnZGl2Lmxkcy1lbGxpcHNpcyddfTsKICAgIGxldCBfdGltZW91dE1vZGUgPSBPYmplY3Qua2V5cyh0aW1lb3V0TW9kZSk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF90aW1lb3V0TW9kZS5sZW5ndGg7IGkrKykge2ZvciAobGV0IGogPSAwOyBqIDwgdGltZW91dE1vZGVbX3RpbWVvdXRNb2RlW2ldXS5sZW5ndGg7IGorKykge2NsaWNrSWZFbGVtZW50RXhpc3RzKHRpbWVvdXRNb2RlW190aW1lb3V0TW9kZVtpXV1bal0sICtfdGltZW91dE1vZGVbaV0pO319CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gc2V0SW50ZXJ2YWwgTW9kZQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGxldCBpbnRlcnZhbE1vZGUgPSB7CiAgICAgICAgJzMnOiBbJyNzbHUtbGluaycsICcjbWFraW5nZGlmZmVyZW50dGltZXInLCAnYSNmaW5hbHgyMi5idG4uYnRuc3RlcDEnLCAnI3dnLWZvcm0gPiAuYnRuc3RlcDEuYnRuJywgJyNteUJ1dHRvbm4gPiBzcGFuOm50aC1jaGlsZCgxKScsICdpbnB1dC5nLXJlY2FwdGNoYS5idG4uYnRuLXByaW1hcnknLCAnI21kdC5idG4uYnRuLXByaW1hcnkudGV4dC13aGl0ZS5uZXh0LWJ1dHRvbicsICdkaXYuY29sdW1uOm50aC1jaGlsZCgyKSA+IGZvbnQ6bnRoLWNoaWxkKDIpID4gYTpudGgtY2hpbGQoOCknLCAnYnV0dG9uI21haW4tYnV0dG9uLmNsYWltLWJ1dHRvbi5idG4uYnRuLWxnLmJ0bi1hY2NlbnQnLCAnYS5nZXQtbGluay5iZy1yZWQtNjAwLnB4LTgucHktMi5yb3VuZGVkLW1kLmlubGluZS1ibG9jayddLAogICAgICAgICc1JzogWydhLmJ0bi1tYWluLmdldC1saW5rJywgJ2EuYnRuLm0tMi5idG4tc3VjY2VzcycsICcuYnRuLWRhbmdlci5idG4tcmFpc2VkJywgJyNsaW5rMXMuYnRuLXByaW1hcnkuYnRuJywgJy5jbG9zZS1tZSA+IGE6bnRoLWNoaWxkKDEpJywgJ2J1dHRvbiNsaW5rLmJ0bi5idG4tcHJpbWFyeScsICcjYnRuNi5idG4tY2FwdGNoYS5idG4tcHJpbWFyeS5idG4nLCAnYS5idG4uYnRuLXByaW1hcnkuZ2V0LWxpbmsudGV4dC13aGl0ZScsICcjbWFraW5nZGlmZmVyZW50dGltZXI5ID4gLmJ0bi1zdWNjZXNzLmJ0biddLAogICAgICAgICc3JzogWycjbmV4dEJ1dHRvbicsICdidXR0b24jZ2V0X2xpbmsuYnRuLmJ0bi1wcmltYXJ5LmJ0bi1zbSddfTsKICAgIGxldCBfaW50ZXJ2YWxNb2RlID0gT2JqZWN0LmtleXMoaW50ZXJ2YWxNb2RlKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX2ludGVydmFsTW9kZS5sZW5ndGg7IGkrKykge2ZvciAobGV0IGogPSAwOyBqIDwgaW50ZXJ2YWxNb2RlW19pbnRlcnZhbE1vZGVbaV1dLmxlbmd0aDsgaisrKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoaW50ZXJ2YWxNb2RlW19pbnRlcnZhbE1vZGVbaV1dW2pdLCArX2ludGVydmFsTW9kZVtpXSwgJ3NldEludGVydmFsJyk7fX0KICAgIHdhaXRGb3JFbG0oJ2Eucy1idG4tZicsIHNtcCA9PiByZWRpcmVjdChzbXAuaHJlZiwgZmFsc2UpKTsKICAgIHdhaXRGb3JFbG0oJyN5dWlkZWEtYnRtYnRuJywgb3llID0+IHJlZGlyZWN0KG95ZS5ocmVmLCBmYWxzZSkpOwogICAgd2FpdEZvckVsbSgnZGl2I3dwc2FmZS1saW5rID4gYScsIGZ1bmN0aW9uKGVsZW1lbnQpIHtjb25zdCByZWdleCA9IC9yZWRpcmVjdD0oLiopJywvOwogICAgY29uc3QgbSA9IHJlZ2V4LmV4ZWMoZWxlbWVudC5vbmNsaWNrLnRvU3RyaW5nKCkpWzFdOyBsb2NhdGlvbi5ocmVmID0gSlNPTi5wYXJzZShhdG9iKG0pKS5zYWZlbGluazt9KTsKICAgIGlmICh0eXBlb2YgaGNhcHRjaGE9PSJvYmplY3QiICYmIHR5cGVvZiBhcGlDb3VudGVyPT0ib2JqZWN0IikgeyB3aW5kb3cuYXBwX2NvdW50cnlfdmlzaXRvcj0iIjsKICAgICAgICB3aW5kb3cuaGNhcHRjaGEuZ2V0UmVzcG9uc2U9KCk9Pnt9OwogICAgICAgIHdpbmRvdy5hcGlDb3VudGVyLmdlbmVyYXRlVVJMKCk7CiAgICAgICAgd2luZG93LmFwaUNvdW50ZXIucmVkaXJlY3RUbyhicCgiYnV0dG9uLmJ1dHRvbi1lbGVtZW50LXZlcmlmaWNhdGlvbiIpKTt9CiAgICBpZiAodHlwZW9mIHRva2VuVVJMPT0ic3RyaW5nIikgeyByZWRpcmVjdChhdG9iKHdpbmRvdy50b2tlblVSTCkpO30KICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnZmF1Y2V0cGF5LmlvJykge30gZWxzZSB7Q2FwdGNoYXN1YignZm9ybS50ZXh0LWNlbnRlcicpO30KICAgIGlmIChbJ3d3dy40c2hhcmVkLmNvbScsICdzdGZseS5tZSddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSkge30gZWxzZSB7Q2FwdGNoYXN1YigiZm9ybVthY3Rpb249JyddIik7fQogICAgaWYgKGxvY2F0aW9uLmhvc3QgPT09ICd3d3cudXBsb2FkLTRldmVyLmNvbScpIHt9IGVsc2Uge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLW91dGxpbmUtd2hpdGUuYnRuJywgMyk7fQogICAgaWYgKGJwKCcjbGluay12aWV3ID4gZGl2W3N0eWxlPSJkaXNwbGF5OiBub25lOyJdJykpIHticCgnI2xpbmstdmlldyA+IGRpdltzdHlsZT0iZGlzcGxheTogbm9uZTsiXScpLnN0eWxlLmRpc3BsYXkgPSAnJzt9CiAgICBpZiAobG9jYXRpb24uaG9zdCA9PT0gJ3VwbG9hZGhhdmVuLmNvbScpIHt9IGVsc2Uge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdidXR0b24uYnRuLWJsb2NrLmJ0bi1zdWNjZXNzJywgNSwgJ3NldEludGVydmFsJyk7fQogICAgaWYgKFsnY3RibC5tZScsICd6c2hvcnQuY2MnXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEgJiYgbG9jYXRpb24uc2VhcmNoID09PSAnJykge2xvY2F0aW9uID0gJ2h0dHBzOi8vbWRuLnJlc3QvP3VybDhqPScgKyBsb2NhdGlvbi5ocmVmO30KICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnZmMtbGMuY29tJykge3dpbmRvdy50b3AgIT0gd2luZG93LnNlbGY7fSBlbHNlIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYnV0dG9uI3N1Ym1pdGJ0bi5nLXJlY2FwdGNoYS5idG4uYnRuLXByaW1hcnknLCAzKTt9CiAgICBpZiAoWyd1cGxvYWRoYXZlbi5jb20nLCAncGF0YWsuZHJvcHoueHl6JywgJ215LmRyb3B6Lnh5eiddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSkge30gZWxzZSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2J1dHRvbi5idG4uYnRuLXN1Y2Nlc3MnLCA3KTt9CiAgICBpZiAoWydwYWlkNC5saW5rJywgJ3BvbnNlbGhhcmlhbi5jb20nXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHt3aW5kb3cudG9wICE9IHdpbmRvdy5zZWxmO30gZWxzZSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tY2FwdGNoYS5idG4tc20uYnRuLXByaW1hcnkuYnRuJywgNSk7fQogICAgaWYgKFsnd3d3LnNvbGlkZmlsZXMuY29tJywgJ3VzZXJzZHJpdmUuY29tJywgJ3dvcmt1cGxvYWQuY29tJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7fSBlbHNlIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1zbS5idG4tZGVmYXVsdC5idG4nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9CiAgICBpZiAoWydjb2luLm1nJywgJ3JhbmNhaC5jb20nXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHt3aW5kb3cudG9wICE9IHdpbmRvdy5zZWxmO30gZWxzZSB7aWYgKGVsZW1lbnRFeGlzdHMoJyNsaW5rcycpKSB7IHNldEludGVydmFsKGZ1bmN0aW9uKCkgeyBicCgnI2xpbmtzID4gZm9ybTpudGgtY2hpbGQoMiknKS5zdWJtaXQoKTt9LCAzMDAwKTt9fQogICAgaWYgKFsna29uc3RhbnRpbm92YS5uZXQnLCAnbW9iaWxlcmV2aWV3LmluZm8nXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHt9IGVsc2Uge2lmIChlbGVtZW50RXhpc3RzKCcjbWFraW5nZGlmZmVyZW50dGltZXInKSkgeyBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsgYnAoJyN1cmxfcXUgPiBhOm50aC1jaGlsZCgxKScpLmNsaWNrKCk7fSwgMzAwMCk7fX0KICAgIGlmIChbJ3JhbmNhaC5jb20nLCd0cmFuZ2NodS5uZXdzJywgJ3RlY2hhY29kZS5jb20nLCdkb3duZmlsZS5zaXRlJywndXBsb2FkLTRldmVyLmNvbSddLmluY2x1ZGVzKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSkgPiAtMSkge3dpbmRvdy50b3AgIT0gd2luZG93LnNlbGY7fSBlbHNlIHtjbGlja0lmRWxlbWVudEV4aXN0cygnaW5wdXQuYnRuLmJ0bi1wcmltYXJ5JywgNSk7fQogICAgaWYgKGxvY2F0aW9uLmhvc3QgPT09ICdmYXVjZXRwYXkuaW8nICYmIGJwKCcuaC1jYXB0Y2hhJykgIT09IG51bGwpIHt2YXIgZnAgPSBmdW5jdGlvbigpIHtpZiAod2luZG93LmdyZWNhcHRjaGEuZ2V0UmVzcG9uc2U/LigpLmxlbmd0aCA+IDApIHticCgnLmJ0bi1kYW5nZXIuYnRuLWxnLmJ0bicpLmNsaWNrKCk7IGNsZWFySW50ZXJ2YWwoZmNwKTt9fTt2YXIgZmNwID0gc2V0SW50ZXJ2YWwoZnAsIDUwMCk7fQogICAgaWYgKGxvY2F0aW9uLmhvc3QgPT09ICd0ZWtub3NpbXBsZS5jb20nICYmIGJwKCcuc2x1LWNhcHRjaGEnKSAhPT0gbnVsbCkge3ZhciB0cyA9IGZ1bmN0aW9uKCkge2lmICh3aW5kb3cuZ3JlY2FwdGNoYS5nZXRSZXNwb25zZT8uKCkubGVuZ3RoID4gMCkge2JwKCcjc2x1LWNvbnRpbnVlLnNsdS1idXR0b24nKS5jbGljaygpOyBjbGVhckludGVydmFsKGtzKTt9fTt2YXIga3MgPSBzZXRJbnRlcnZhbCh0cywgNTAwKTt9CiAgICBpZiAoWyd0cmFuZ2NodS5uZXdzJywgJ2Rvd25maWxlLnNpdGUnLCAndGVjaGFjb2RlLmNvbSddLmluY2x1ZGVzKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSkgPiAtMSAmJiBicCgnLmNhcHRjaGEnKSAhPT0gbnVsbCkge3ZhciBvID0gZnVuY3Rpb24oKSB7aWYgKHdpbmRvdy5ncmVjYXB0Y2hhLmdldFJlc3BvbnNlPy4oKS5sZW5ndGggPiAwKSB7YnAoJyNwcm9jZWVkJykuY2xpY2soKTsgY2xlYXJJbnRlcnZhbChrKTt9fTt2YXIgayA9IHNldEludGVydmFsKG8sIDUwMCk7fQogICAgaWYgKFsnYmxvZ21hZG8uY29tJywnZmMtbGMuY29tJywgJ2Nob295b21pLmNvbScsJ3BhaWQ0LmxpbmsnLCd1c2Vyc2RyaXZlLmNvbScsICd6ZW50dW0uY2x1YicsICdwYXRhay5kcm9wei54eXonLCAnbXkuZHJvcHoueHl6JywgJ3dvcmt1cGxvYWQuY29tJywgJ3RhaXdhbmNuYW4uY29tJywnc29sYXJjaGFpbmUuY29tJywnc2hvcnRpdC5wdycsJ2RqeG1hemEuaW4nLCdzdGFyZmF1Y2V0Lm5ldCddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSkge3dpbmRvdy50b3AgIT0gd2luZG93LnNlbGY7fSBlbHNlIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYnV0dG9uLmJ0bjpudGgtY2hpbGQoNCknLCAyLCAnc2V0SW50ZXJ2YWwnKTt9CiAgICBpZiAoWydiaXRsaW5rcy5wdycsJ2F5ZWxhZHMuY29tJywgJ2Fwa2FkbWluLmNvbScsJ2Nhc2hlYXJuLmNjJywncmFuY2FoLmNvbScsJ2RpZ2l0YWxuYXoubmV0JywndXBsb2FkLTRldmVyLmNvbScsJ2hleHVwbG9hZC5uZXQnLCd1cGZpbGVzLmFwcCcsJ2N1dC15LmNvJywna2VlcGxpbmtzLm9yZycsJ2ZpbGVzaGFyZS5hZHNob3J0dXJsLmNvbScsJ2Jvd2ZpbGUuY29tJywnbGV0c3VwbG9hZC5pbycsJ3dvcmt1cGxvYWQuY29tJ10uaW5jbHVkZXMod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSA+IC0xKSB7fSBlbHNlIHtpZiAoZWxlbWVudEV4aXN0cygnZGl2LmNvbC1tZC00Om50aC1jaGlsZCgyKScpKSB7IHNldEludGVydmFsKGZ1bmN0aW9uKCkgeyBicCgnZGl2LmNvbC1tZC00Om50aC1jaGlsZCgyKSA+IHNwYW46bnRoLWNoaWxkKDEpID4gaW1nOm50aC1jaGlsZCgxKScpLmNsaWNrKCk7fSwgNTAwMCk7fX0KICAgIGxldCBOdW1jb2RlID0gYnAoJ2lucHV0LmNhcHRjaGFfY29kZScpOyBsZXQgRGlnaXROdW07CiAgICBmdW5jdGlvbiBnZXRMZWZ0IChkKSB7cmV0dXJuIHBhcnNlSW50KGQuc3R5bGUucGFkZGluZ0xlZnQpO30KICAgIGlmIChOdW1jb2RlKSB7RGlnaXROdW0gPSBOdW1jb2RlLnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5jaGlsZHJlblswXS5jaGlsZHJlbjsKICAgIE51bWNvZGUudmFsdWUgPSBbXS5zbGljZS5jYWxsKERpZ2l0TnVtKS5zb3J0KGZ1bmN0aW9uIChkMSwgZDIpIHtyZXR1cm4gZ2V0TGVmdChkMSkgLSBnZXRMZWZ0KGQyKTt9KS5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIGQudGV4dENvbnRlbnQ7fSkuam9pbignJyk7fQogICAgbGV0ICQgPSB3aW5kb3cualF1ZXJ5OyBsZXQgcmVzcGVjdCA9ICdodHRwczovL2Jhcy5udXJ1bC1odWRhLm9yLmlkLz91cmw9JzsgLy8gRG9uJ3QgdXNlIE15IFNjcmlwdHMgaWYgWW91IENoYW5nZS9SZW1vdmUgTXkgQmxvZ3MsIEV4Y2VwdCBZb3UgTWFrZSBEb25hdGlvbnMhISEuCiAgICBpZiAobG9jYXRpb24uaG9zdCA9PT0gJ3d3dy40c2hhcmVkLmNvbScpIHtpZiAoZWxlbWVudEV4aXN0cygnLmQzdG9wVGl0bGUnKSkgeyQoJy5wcmVtaXVtJykudGV4dCgnSU1QT1JUQU5UIFRSSUNLUyBCeSBCbG9nZ2VyUGVtdWxhIDogV2FpdCA1IFNlY29uZCBvciBtb3JlICwgRG9udCBDbG9zZSB0aGlzIFBhZ2UgLFJpZ2h0IENsaWNrIEhlcmUgTGluayBBYm92ZSwgT3BlbiBMaW5rIGluIE5ldyBUYWIsIENsb3NlIHRoZSBUYWJzIGlmIFlvdXIgRmlsZSBub3QgRG93bmxvYWRlZCwgVHJ5IGFnYWluIHRoZSBSaWdodCBDbGljayBNZXRob2RzLCBhdCBUaGlzIFRpbWUgaSBEb250IGhhdmUgSWRlYSB0byBNYWtlIGl0IEF1dG8gLCBEbyB0aGUgU2FtZSBUcmljayBmb3IgQWxsIEZpbGUgVHlwZSBpbiA0c2hhcmVkIFNpdGUgLiBSZWdhcmRzLi4uJyk7fX0KICAgIGlmIChbJ3Nob3J0LmNyb2NsaXgubWUnLCd3d3cuYWR6N3Nob3J0LnNwYWNlJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7ZnVuY3Rpb24gZmlyZU1vdXNlRXZlbnRzKHF1ZXJ5KSB7IGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF1ZXJ5KTsKICAgIGlmICghZWxlbWVudCkgcmV0dXJuOyBbJ21vdXNlb3ZlcicsICdtb3VzZWRvd24nLCAnbW91c2V1cCcsICdjbGljayddLmZvckVhY2goZXZlbnROYW1lID0+IHtpZiAoZWxlbWVudC5maXJlRXZlbnQpIHsgZWxlbWVudC5maXJlRXZlbnQoJ29uJyArIGV2ZW50TmFtZSk7fSBlbHNlIHsgY29uc3QgZXZlbnRPYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTsKICAgICBldmVudE9iamVjdC5pbml0RXZlbnQoZXZlbnROYW1lLCB0cnVlLCBmYWxzZSk7IGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudE9iamVjdCk7fX0pO30KICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsgaWYgKCQoIiNsaW5rIikubGVuZ3RoID4gMCkgeyBmaXJlTW91c2VFdmVudHMoIiNsaW5rIik7fX0sIDUwMCk7CiAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7IGlmICgkKCJpbnB1dCNjb250aW51ZSIpLmxlbmd0aCA+IDApIHtmaXJlTW91c2VFdmVudHMoImlucHV0I2NvbnRpbnVlIik7fQogICAgaWYgKCQoImEjY29udGludWUuYnV0dG9uIikubGVuZ3RoID4gMCkge2ZpcmVNb3VzZUV2ZW50cygiYSNjb250aW51ZS5idXR0b24iKTt9fSwgOTAwMCk7IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7aWYgKCQoIiNidG4tbWFpbiIpLmxlbmd0aCA8IDApIHJldHVybjsgZmlyZU1vdXNlRXZlbnRzKCIjYnRuLW1haW4iKTt9LCA1MDAwKTt9CiAgICBpZiAoWyd1cGZpbGVzLmFwcCcsICdjdXQteS5jbyddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuZ2V0LWxpbmsuYnRuLWRvd25sb2FkLmJ0bi1wcmltYXJ5LmJ0bicsIDcpO30gZWxzZSBpZiAobG9jYXRpb24uaG9zdCA9PT0gJ3JvZGp1bGlhbi5jb20nKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2EuYnRuLmJ0bi1wcmltYXJ5LmJ0bi1sZy5nZXQtbGluaycsIDUsICdzZXRJbnRlcnZhbCcpO30gZWxzZSBpZiAobG9jYXRpb24uaHJlZi5pbmRleE9mKCJheS5saXZlIikgIT0gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCJheWxpbmsuY28iKSAhPSAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoImdpdGxpbmsucHJvIikgIT0gLTEpIHsgdmFyIGZvcm0gPSAkKCcjZ28tbGluaycpOwogICAgJC5hamF4KHt0eXBlOiAnUE9TVCcsIGFzeW5jOiB0cnVlLCB1cmw6IGZvcm0uYXR0cignYWN0aW9uJyksIGRhdGE6IGZvcm0uc2VyaWFsaXplKCksIGRhdGFUeXBlOiAnanNvbicsIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtyZWRpcmVjdChkYXRhLnVybCk7fX0pO30gZWxzZSBpZiAoZWxlbWVudEV4aXN0cygnI2dvLWxpbmsnKSkgeyQoIiNnby1saW5rIikudW5iaW5kKCkuc3VibWl0KGZ1bmN0aW9uKGUpIHtlLnByZXZlbnREZWZhdWx0KCk7IHZhciBmb3JtID0gJCh0aGlzKTsgdmFyIHVybCA9IGZvcm0uYXR0cignYWN0aW9uJyk7IGNvbnN0IHBlc2FuID0gZm9ybS5maW5kKCdidXR0b24nKTsgY29uc3Qgbm90Zm9yc2FsZSA9ICQoIi5uYXZiYXItY29sbGFwc2UuY29sbGFwc2UiKTsgY29uc3QgYmxvZ2dlciA9ICQoIi5tYWluLWhlYWRlciIpOyBjb25zdCBwZW11bGEgPSAkKCIuY29sLXNtLTYuaGlkZGVuLXhzIik7CiAgICAkLmFqYXgoe3R5cGU6ICJQT1NUIiwgdXJsOiB1cmwsIGRhdGE6IGZvcm0uc2VyaWFsaXplKCksIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikgeyBwZXNhbi5hdHRyKCJkaXNhYmxlZCIsICJkaXNhYmxlZCIpOyAkKCdhLmdldC1saW5rJykudGV4dCgnQnlwYXNzZWQgYnkgQmxvZ2dlcnBlbXVsYScpOwogICAgbm90Zm9yc2FsZS5yZXBsYWNlV2l0aCgnPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0ICwgY29sLW1kLTEyIHRleHQtY2VudGVyIiBvbmNsaWNrPSJqYXZhc2NyaXB0OiByZXR1cm4gZmFsc2U7Ij48Yj5UaGFua3MgZm9yIHVzaW5nIEJ5cGFzcyBBbGwgU2hvcnRsaW5rcyBTY3JpcHRzIGFuZCBmb3IgRG9uYXRpb25zICwgUmVnYXJkcyA6IEJsb2dnZXJwZW11bGE8L2I+PC9idXR0b24+Jyk7CiAgICBibG9nZ2VyLnJlcGxhY2VXaXRoKCc8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgLCBjb2wtbWQtMTIgdGV4dC1jZW50ZXIiIG9uY2xpY2s9ImphdmFzY3JpcHQ6IHJldHVybiBmYWxzZTsiPjxiPlRoYW5rcyBmb3IgdXNpbmcgQnlwYXNzIEFsbCBTaG9ydGxpbmtzIFNjcmlwdHMgYW5kIGZvciBEb25hdGlvbnMgLCBSZWdhcmRzIDogQmxvZ2dlcnBlbXVsYTwvYj48L2J1dHRvbj4nKTsKICAgIHBlbXVsYS5yZXBsYWNlV2l0aCgnPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0ICwgY29sLW1kLTEyIHRleHQtY2VudGVyIiBvbmNsaWNrPSJqYXZhc2NyaXB0OiByZXR1cm4gZmFsc2U7Ij48Yj5UaGFua3MgZm9yIHVzaW5nIEJ5cGFzcyBBbGwgU2hvcnRsaW5rcyBTY3JpcHRzIGFuZCBmb3IgRG9uYXRpb25zICwgUmVnYXJkcyA6IEJsb2dnZXJwZW11bGE8L2I+PC9idXR0b24+Jyk7fSwgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0LCB4aHIpIHtsb2NhdGlvbi5ocmVmPXJlc3BlY3QrcmVzdWx0LnVybDt9fSk7fSk7fQogICAgY29uc3QgYmFzID0gKGggPT4geyBjb25zdCByZXN1bHQgPSB7IGlzTm90aWZ5TmVlZGVkOiBmYWxzZSwgcmVkaXJlY3REZWxheTogMCwgbGluazogdW5kZWZpbmVkIH07CiAgICBzd2l0Y2ggKGguaG9zdCkge2Nhc2UgJ2Jhcy5udXJ1bC1odWRhLm9yLmlkJzogY2FzZSAncm90YXRvci5udXJ1bC1odWRhLnNjaC5pZCc6IGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3NuJykpIHsKICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJnNuPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NuJykucmVwbGFjZSgnJm09MScsICcnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3N1Yl9pZCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnc2l0ZV9pZCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnaXBfYWRkcmVzcycpKSB7CiAgICAgICAgcmVzdWx0LmxpbmsgPSBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpICsgJyZzdWJfaWQ9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnc3ViX2lkJykgKyAnJnNpdGVfaWQ9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnc2l0ZV9pZCcpICsgJyZpcF9hZGRyZXNzPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2lwX2FkZHJlc3MnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ1gtQW16LUFsZ29yaXRobScpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnWC1BbXotQ3JlZGVudGlhbCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnWC1BbXotRGF0ZScpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnWC1BbXotU2lnbmVkSGVhZGVycycpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnWC1BbXotRXhwaXJlcycpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnWC1BbXotU2lnbmF0dXJlJykpIHsKICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJlgtQW16LUFsZ29yaXRobT0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdYLUFtei1BbGdvcml0aG0nKSArICcmWC1BbXotQ3JlZGVudGlhbD0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdYLUFtei1DcmVkZW50aWFsJykgKyAnJlgtQW16LURhdGU9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnWC1BbXotRGF0ZScpICsgJyZYLUFtei1TaWduZWRIZWFkZXJzPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ1gtQW16LVNpZ25lZEhlYWRlcnMnKSArICcmWC1BbXotRXhwaXJlcz0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdYLUFtei1FeHBpcmVzJykgKyAnJlgtQW16LVNpZ25hdHVyZT0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdYLUFtei1TaWduYXR1cmUnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3NzYScpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnaWQnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmc3NhPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NzYScpICsgJyZpZD0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdpZCcpLnJlcGxhY2UoJyZtPTEnLCAnJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdpZCcpKSB7CiAgICAgICAgcmVzdWx0LmxpbmsgPSBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpICsgJyZpZD0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdpZCcpLnJlcGxhY2UoJyZtPTEnLCAnJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdhcnRpY2xlJykpIHsKICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJmFydGljbGU9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnYXJ0aWNsZScpLnJlcGxhY2UoJyZtPTEnLCAnJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdhbnRpYm90JykpIHsKICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJmFudGlib3Q9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnYW50aWJvdCcpLnJlcGxhY2UoJyZtPTEnLCAnJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdjb2RlJykpIHsKICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJmNvZGU9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnY29kZScpLnJlcGxhY2UoJyZtPTEnLCAnJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd2aWV3ZWQnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmdmlld2VkPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3ZpZXdlZCcpLnJlcGxhY2UoJyZtPTEnLCAnJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5wYXRobmFtZSA9PT0gJy9zaG9ydGxpbmsucGhwJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3NsJykpIHsKICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnc2wnICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdzbCcpLnJlcGxhY2UoJyZtPTEnLCAnJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCcjJykpIHsKICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAkKGxvY2F0aW9uKS5hdHRyKCdoYXNoJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCdibG9vZ2Vyc3Bvb3QuJykpIHt3aW5kb3cubG9jYXRpb24uYXNzaWduKCdodHRwczovL3NvZnRpbmRleC53ZWJzaXRlJysgKGxvY2F0aW9uLnNlYXJjaCkuc3Vic3RyaW5nKDI4KSk7CiAgICB9IGVsc2UgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguaHJlZi5pbmNsdWRlcygnZ29zMi51cmxjYXNoJykpIHt3aW5kb3cubG9jYXRpb24uYXNzaWduKCdodHRwczovL3VybGNhc2guY2xpY2snKyAobG9jYXRpb24uc2VhcmNoKS5zdWJzdHJpbmcoMzEpKTsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCd0b3BmYXVjZXQuY2xpY2snKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cL3RvcGZhdWNldC5jbGljay8udGVzdCh1KSlbMF07IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykpIHsKICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykucmVwbGFjZSgnJm09MScsICcnKS5yZXBsYWNlKCc8YnIgLz4nLCAnJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsgfSBicmVhazsKICAgICAgICBkZWZhdWx0OiBicmVhazt9fSkobmV3IFVSTChsb2NhdGlvbi5ocmVmKSk7CiAgICBpZiAoYmFzKSB7IGNvbnN0IHsgaXNOb3RpZnlOZWVkZWQsIHJlZGlyZWN0RGVsYXksIGxpbmsgfSA9IGJhczsKICAgIGlmIChpc05vdGlmeU5lZWRlZCkgeyBub3RpZnkoYFBsZWFzZSBXYWl0IGEgbW9tZW50IC4uLi4uWW91IHdpbGwgYmUgUmVkaXJlY3RlZCB0byBZb3VyIERlc3RpbmF0aW9uIGluICR7cmVkaXJlY3REZWxheX0gc2Vjb25kc2ApO30KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtsb2NhdGlvbi5ocmVmID0gbGluazt9LCByZWRpcmVjdERlbGF5ICogMTAwMCk7fQogICAgY29uc3QgbCA9IChoID0+IHtjb25zdCBiID0gaC5wYXRobmFtZSA9PT0gJy92ZXJpZnkvJyAmJiAvXlw/KFteJl0rKS8udGVzdChoLnNlYXJjaCk7IGNvbnN0IHAgPSBoLnBhdGhuYW1lID09PSAnL2Jsb2czL3ZlcmlmeS8nICYmIC9eXD8oW14mXSspLy50ZXN0KGguc2VhcmNoKTsKICAgIHN3aXRjaCAoaC5ob3N0KSB7Y2FzZSAnb2tyem9uZS5jb20nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL2d0bGluay5jby8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnZXppbWcuY28nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL2VuZy5lemltZy5jby8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAna2ltby5tYSc6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8vYmxvZy5hZGZsb3ouY28vJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgIGNhc2UgJ2VkdWN1ci5jb20nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL2Jsb2cuZmx5cmFyLmNvbS8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAndGVjbXVuZG8ubmV0JzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9nby5qYWVsaW5rLnVzLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdleGFta2hhdGEuY29tJzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9wbGF5bGluay54eXovJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgIGNhc2UgJ2V4YW1zb2x1dGlvbi5pbic6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8va3Vrc2xpbmNzLnh5ei8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnbXl0b3A1LmNsdWInOiBpZiAoYikgeyBtZXRhKCdodHRwczovL3RlY2huZW1vLnh5ei9ibG9nLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdsZWRpZmhhLmNvbSc6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8vcHJvY2Vzcy5sZWRpZmhhLmNvbS8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnYWR5YnJhbmRzLmluJzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9teXRvcDUuY2x1Yi92ZXJpZnkvPycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdmb3JleHNoYXJlLm5ldCc6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8vc2hvcnR1cmwuc2gycnQuY29tLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd3d3cubG9vdGNhc2gudmlwJzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9hZHMubG9vdGNhc2gudmlwLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd3d3cuYWxsY3J5cHRvdGlwcy5jb20nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL3plbnNob3J0LmNvbS8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnZ2FtZXJmYW5nLmluJzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9mYXV4LmdhbWVyZmFuZy5pbi90ZWNoLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdlY29ub21pYXJlbGV2YW50ZS5jb20uYnInOiBpZiAoYikgeyBtZXRhKCdodHRwczovL3Nocmlua2dvbGQuY29tLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd0ZWNocmF5emVyLmNvbSc6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8vdGVjaHJheXplci5jb20vaW5zdXJhbmNlLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd0ZWVyY2x1Yi5jb20nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL3d3dy5hbGxjcnlwdG90aXBzLmNvbS92ZXJpZnkvPycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd0ZWNoYm95ei54eXonOiBjYXNlICdzdHVkeXN0YXIueHl6JzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9zaG9ydDJmbHkueHl6LycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd6dWJhLmxpbmsnOiBpZiAoL15cLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7IHJldHVybiAnaHR0cHM6Ly9nby56dWJhLmxpbmsvJyArIFJlZ0V4cC4kMTsgfSBicmVhazsKICAgIGNhc2UgJ2ZhdWNldGh1Yi5seSc6IGlmICgvXlwvaHNcL1wvKFteXC9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHtyZXR1cm4gJ2h0dHBzOi8vZ29hZHMubHkvJyArIFJlZ0V4cC4kMTt9YnJlYWs7CiAgICBjYXNlICdjZWtpcC5zaXRlJzogY2FzZSAnd3d3LmNla2lwLnNpdGUnOiBpZiAoL15cL2dvXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgeyBtZXRhKGF0b2IoUmVnRXhwLiQxKSk7fSBicmVhazsKICAgIGNhc2UgJ3NsLmVhc3lzbC5jbGljayc6IGlmICgvXlwvc3RlcDFcLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7cmV0dXJuICdodHRwczovL2Vhc3lzbC5jbGljay8nICsgUmVnRXhwLiQxO31icmVhazsKICAgIGNhc2UgJ3d3dy5naWZhbnMuY29tJzogaWYgKC9eXC9saW5rXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9zaG9ydGxpbmsucHJ6LnB3LycgKyBSZWdFeHAuJDE7fWJyZWFrOwogICAgY2FzZSAnem9uZWFybi5iaXonOiBpZiAoL15cLyguKykvLnRlc3QoaC5wYXRobmFtZSkgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd0b2snKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXQoJ3RvaycpO31icmVhazsKICAgIGNhc2UgJ251bGxlZHNhZmUuY29tJzogaWYgKC9eXC9saW5rXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9nb2xpbmsubnVsbGVkc2FmZS5jb20vJyArIFJlZ0V4cC4kMTt9YnJlYWs7CiAgICBjYXNlICdzdGVwMC5zaG9ydGxpbmtzLmNsaWNrJzogaWYgKC9eXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgeyByZXR1cm4gJ2h0dHBzOi8vc2hvcnRsaW5rcy5jbGljay8nICsgUmVnRXhwLiQxOyB9IGJyZWFrOwogICAgY2FzZSAnY3J5cHRvLWZhdWNldC54eXonOiBpZiAoL15cL2JpdGNvXC9saW5rXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9kb2N0b3ItZ3JvdXBzLmNvbS9saW5rLycgKyBSZWdFeHAuJDE7fWJyZWFrOwogICAgY2FzZSAnd3d3Lm1leWttZW4uY29tJzogaWYgKGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykpIHtyZXR1cm4gJ2h0dHBzOi8vYXJhYnBsdXMyLmNvLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpLnN1YnN0cmluZygyMik7fSBicmVhazsKICAgIGNhc2UgJ2hvcnJvcmJpdGNvaW4uY29tJzogaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnZGV4JykpIHsgbWV0YSgnaHR0cHM6Ly9wYW55bGluay5jb20vLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2RleCcpLnN1YnN0cmluZygxKSk7fSBicmVhazsKICAgIGNhc2UgJ2Zyb2dneXJldmlld3MuY29tJzogaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnbWZsaW5rJykpIHsgbWV0YSgnaHR0cHM6Ly9mcm9nZ3lyZXZpZXdzLmNvbS9nby8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdtZmxpbmsnKSk7fSBicmVhazsKICAgIGNhc2UgJ3RlY2htb2R5LmlvJzogaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2NoZWNrJykpIHsgbWV0YShkZWNvZGVVUklDb21wb25lbnQoaC5zZWFyY2hQYXJhbXMuZ2V0KCdjaGVjaycpKSk7fSBicmVhazsKICAgIC8vY2FzZSAnc3R1ZHl1by5jb20nOiBpZiAoaC5wYXRobmFtZSA9PT0gJy9wcm8yL3ZlcmlmeS8nICYmIC9eXD8oW14mXSspLy50ZXN0KGguc2VhcmNoKSkgeyBtZXRhKCdodHRwczovL2NzZC54bW9kLmluLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd4bW9kLmluJzogaWYgKGgucGF0aG5hbWUgPT09ICcvYmxvZy92ZXJpZnkvJyAmJiAvXlw/KFteJl0rKS8udGVzdChoLnNlYXJjaCkpIHsgbWV0YSgnaHR0cHM6Ly9teXRvcDUuY2x1Yi92ZXJpZnkvPycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdiaW5nZWZsaXgueHl6JzogaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2xpbmsnKSkge21ldGEgKCdodHRwczovL2xpbmt5ZWFybi5jb20vJyArIGguc2VhcmNoUGFyYW1zLmdldCgnbGluaycpKTt9YnJlYWs7CiAgICBjYXNlICdob3N0aW5nNGxpZmV0aW1lLmNvbSc6IGlmIChoLnBhdGhuYW1lID09PSAnL2Jsb2cvdmVyaWZ5LycgJiYgL15cPyhbXiZdKykvLnRlc3QoaC5zZWFyY2gpKSB7IG1ldGEoJ2h0dHBzOi8vYWJjc2hvcnQuY29tLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdhY29ydGFtZS54eXonOiBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtsb2NhdGlvbi5ocmVmID0iaHR0cHM6Ly9yb3RhdG9yLm51cnVsLWh1ZGEuc2NoLmlkLz91cmw9IisoYXRvYih3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSkpKTt9IGJyZWFrOwogICAgY2FzZSAnYmxvZy50ZXh0cGFnZS54eXonOiBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCdhamh2Z2FkaGRoZ2tkc3ZrZCcpKSB7IG1ldGEoJ2h0dHBzOi8vc2hvcnQudXJsMmdvLmluLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2FqaHZnYWRoZGhna2RzdmtkJykpO30gYnJlYWs7CiAgICBjYXNlICdnYWRnZXRzLnRlY2h5bWVkaWVzLmNvbSc6IGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd0b2tlbicpKSB7IG1ldGEoJ2h0dHBzOi8vYmxvZy5kaXNoZXllLmNvbS8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd0b2tlbicpKTt9IGJyZWFrOwogICAgY2FzZSAnc2hvcnQuY2xpY2tzY29pbi5jb20nOiBjYXNlICd3YXRjaGRvZ2UueHl6JzogY2FzZSAnZG9nZWNsaWNrLm5ldCc6IGlmICgvXlwvY2NzbFwvKFteL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9jY3NsLnh5ei8nICsgUmVnRXhwLiQxO31icmVhazsKICAgIGNhc2UgJ2pybGlua3MuaW4nOiBpZiAoaC5wYXRobmFtZSA9PT0gJy9zYWZlMi5waHAnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnbGluaycpKSB7IG1ldGEoJ2h0dHBzOi8vaW50ZXJuZXQud2ViaG9zdGluZ3RpcHMuY2x1Yi8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdsaW5rJykpO30gYnJlYWs7CiAgICBjYXNlICdjcmF6eWJsb2cuaW4nOiBjYXNlICd3d3cuY3JhenlibG9nLmluJzogaWYgKGgucGF0aG5hbWUgPT09ICcveGhvZC92ZXJpZnkvJyAmJiAvXlw/KFteJl0rKS8udGVzdChoLnNlYXJjaCkpIHsgbWV0YSgnaHR0cHM6Ly9yZWRkLmNyYXp5YmxvZy5pbi8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnYmxvZy51cmxiaGFyYXQueHl6JzogaWYgKGgucGF0aG5hbWUgPT09ICcvc2FmZS5waHAnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnbGluaycpKSB7IHJldHVybiAnaHR0cHM6Ly9nZXQudXJsYmhhcmF0Lnh5ei9zYWZlLnBocD9saW5rPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2xpbmsnKTt9IGJyZWFrOwogICAgY2FzZSAnc2hvcnQyZmx5Lnh5eic6IGNhc2UgJ2Nic2hvcnQuY29tJzogaWYgKCBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguaHJlZi5pbmNsdWRlcygnYmxvb2dlcnNwb290LicpICkge3dpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ2h0dHBzOi8vc29mdGluZGV4LndlYnNpdGUnKyAobG9jYXRpb24uc2VhcmNoKS5zdWJzdHJpbmcoMTQ3KSk7fSBicmVhazsKICAgIGNhc2UgJ2RvZ2VjbGljay5uZXQnOiBpZiAoL15cL3Nob3J0XC8oW14vXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7cmV0dXJuICdodHRwczovL3Nob3J0LmNsaWNrc2NvaW4uY29tLycgKyBSZWdFeHAuJDE7fSBlbHNlIGlmICgvXlwvY2NzbFwvKFteL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9jY3NsLnh5ei8nICsgUmVnRXhwLiQxO31icmVhazsKICAgIGNhc2UgJ2NsaWNrc2NvaW4uY29tJzogaWYgKC9eXC9zaG9ydFwvKFteL10rKS8udGVzdChoLnBhdGhuYW1lKSkgeyByZXR1cm4gJ2h0dHBzOi8vc2hvcnQuY2xpY2tzY29pbi5jb20vJyArIFJlZ0V4cC4kMTt9IGVsc2UgaWYgKC9eXC9zaG9ydGNjc2xcLyhbXi9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHsgcmV0dXJuICdodHRwczovL2Njc2wueHl6LycgKyBSZWdFeHAuJDE7fSBicmVhazsKICAgIGNhc2UgJ2Jsb2cuY3JhenlibG9nLmluJzogaWYgKC9eXC9zdGVwXGQrP1wvKFteL10rKSQvLnRlc3QoaC5wYXRobmFtZSkpIHtyZXR1cm4gJ2h0dHBzOi8vd3BsaW5rLm9ubGluZS8nICsgUmVnRXhwLiQxO30gZWxzZSBpZiAoL15cL3Zpc2l0XGQrP1wvc3RlcFxkKz9cLyhbXi9dKykkLy50ZXN0KGgucGF0aG5hbWUpKSB7cmV0dXJuICdodHRwczovL2NibGluay5jcmF6eWJsb2cuaW4vJyArIFJlZ0V4cC4kMTt9YnJlYWs7CiAgICBjYXNlICdhbmltZS5kdXRjaHljb3JwLnNwYWNlJzogY2FzZSAnbW92aWVzLmR1dGNoeWNvcnAuc3BhY2UnOiBjYXNlICd0ZWNoLmR1dGNoeWNvcnAuc3BhY2UnOiBjYXNlICdjb29sLXRpbWUuZHV0Y2h5Y29ycC5zcGFjZSc6IGlmICgvXlwvcmVkaXJbXi5dKz9cLnBocCQvLnRlc3QoaC5wYXRobmFtZSkgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdjb2RlJykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0KCdjb2RlJykgKyAnP3ZlcmlmPTAnO31icmVhazsKICAgIGNhc2UgJ2tpaXcuaWN1JzogaWYgKGgucGF0aG5hbWUgPT09ICcvY2hlY2sucGhwJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2FsaWFzJykmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3dpcycpJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdzaXcnKSl7IHJldHVybiAnaHR0cHM6Ly9raWl3LmljdS8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdhbGlhcycpKyAnP3dpcz0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd3aXMnKSsgJyZzaXc9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnc2l3Jyk7fSBicmVhazsKICAgIGNhc2UgJ2xzMmVhcm4uaW4nOiBpZiAoIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCdibG9vZ2Vyc3Bvb3QuJykgKSB7d2luZG93LmxvY2F0aW9uLmFzc2lnbignaHR0cHM6Ly9zb2Z0aW5kZXgud2Vic2l0ZScrIChsb2NhdGlvbi5zZWFyY2gpLnN1YnN0cmluZygxMzApKTt9IGVsc2UgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnYXBpJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpO30gYnJlYWs7CiAgICBjYXNlICdsczJlYXJuLmNvbSc6IGNhc2UgJ2Jlc3R1cmwubGluayc6IGlmICggaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ2Jsb29nZXJzcG9vdC4nKSApIHt3aW5kb3cubG9jYXRpb24uYXNzaWduKCdodHRwczovL3NvZnRpbmRleC53ZWJzaXRlJysgKGxvY2F0aW9uLnNlYXJjaCkuc3Vic3RyaW5nKDE0NCkpO30gZWxzZSBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCdhcGknKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldCgndXJsJyk7fSBicmVhazsKICAgIGNhc2UgJ2JpcmR1cmxzLmNvbSc6IGNhc2UgJ2xpbmtyZXgubmV0JzogY2FzZSAnc29mdGluZGV4LndlYnNpdGUnOiBjYXNlICdkYXNoLWZyZWUuY29tJzogY2FzZSAnb3dsbGluay5uZXQnOiBjYXNlICdleGUuaW8nOiBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5kZXhPZignIycpKSB7IHJldHVybiAnaHR0cHM6Ly8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArIGguaHJlZi5zdWJzdHIoaC5ocmVmLmluZGV4T2YoJyMnKSk7IH0gZWxzZSBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCdhcGknKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldCgndXJsJyk7fSBicmVhazsKICAgIGNhc2UgJ3VzYWxpbmsuaW8nOiBjYXNlICdjbGtzLnBybyc6IGlmICggaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ2Jsb29nZXJzcG9vdC4nKSApIHt3aW5kb3cubG9jYXRpb24uYXNzaWduKCdodHRwczovL3NvZnRpbmRleC53ZWJzaXRlJysgKGxvY2F0aW9uLnNlYXJjaCkuc3Vic3RyaW5nKDIxOSkpO30gZWxzZSBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ21pbmVzaG9yLicpKSB7cmV0dXJuICdodHRwczovLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpO30gZWxzZSBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5kZXhPZignIycpKSB7IHJldHVybiAnaHR0cHM6Ly8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArIGguaHJlZi5zdWJzdHIoaC5ocmVmLmluZGV4T2YoJyMnKSk7IH0gZWxzZSBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCdhcGknKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldCgndXJsJyk7fSBicmVhazsKICAgIGRlZmF1bHQ6IGJyZWFrO30gfSkobmV3IFVSTChsb2NhdGlvbi5ocmVmKSk7IGlmIChsKSB7bG9jYXRpb24uaHJlZiA9IGw7IH0KICAgIGxldCBhcGlCeXBhc3NWaXAgPSB7c2VsZWN0b3JzOiBbJyNzdGVwaWQnLCAnLmxvY2tlZCcsICcjc3RlcHMnLCAnI2xpbmsnLCAnI3RhcmdldGJ0bicsICcjdGhlTGlua0lEJywgJy5sb2NrZWQtYnV0dG9uJ10sCiAgICByZTogL21ib29zdFwubWV8bGV0c2Jvb3N0XC5uZXR8c29jaWFsLXVubG9ja1wuY29tfGJvb3N0bWVcLmxpbmt8c3ViMnVubG9ja1wubmV0fHN1YjJ1bmxvY2tcLmNvbS8sfTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXBpQnlwYXNzVmlwLnNlbGVjdG9ycy5sZW5ndGg7IGkrKykge0J5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKGFwaUJ5cGFzc1ZpcC5yZSwgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoYXBpQnlwYXNzVmlwLnNlbGVjdG9yc1tpXSkpIHtmZXRjaCgnaHR0cHM6Ly9hcGkuYnlwYXNzLnZpcC8nLHsiaGVhZGVycyI6IHsiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IiwieC1yZXF1ZXN0ZWQtd2l0aCI6IlhNTEh0dHBSZXF1ZXN0In0sImJvZHkiOm5ldyBVUkxTZWFyY2hQYXJhbXMoe3VybDpkb2N1bWVudC5VUkx9KSwibWV0aG9kIjoiUE9TVCIsfSkudGhlbihyZXM9PnJlcy5qc29uKCkpLnRoZW4ocmVzPT57aWYocmVzLnN0YXR1cyE9PSJzdWNjZXNzIikge3JlZGlyZWN0KHJlcy5kZXN0aW5hdGlvbik7fX0pO319KTt9CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvb3VvLnRvZGF5LywgZnVuY3Rpb24oKSB7bG9jYXRpb24uaHJlZiA9IG5leHRVcmw7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgveW9zaGFyZS5uZXQvLCBmdW5jdGlvbigpIHsgYnAoJyN5dWlkZWEnKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaGFyZW1vZHMuY29tLywgZnVuY3Rpb24oKSB7ICQoJyNkRm9ybScpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZC5lZS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZF9sJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3BlY3gubWUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ1dHQnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90bWtlci5jb20vLCBmdW5jdGlvbigpIHsgYnAoJyNzdWJtaXRfZmlyc3RfcGFnZScpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3ByeC5lZS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZmluYWxfbGluaycsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzFpbmsuY2MvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2NvdW50aW5nYnRuJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXAtbG9hZC5vbmUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI3N1Ym1pdGJ0bicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21ha2Vtb25leXdpdGh1cmwuY29tLywgZnVuY3Rpb24oKSB7IGJwKCcjaGlkZGVuIGZvcm0nKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kanhtYXphLmluLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyN3YWl0MWJ1dHRvbicsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2V2b2xvYWQuaW8vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2dlbmVyYXRlYnRuJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3J5cHRvc2gucHJvLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNFYXJuQnV0dG9uJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgva2VlcGxpbmtzLm9yZy8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjYnRuY2hhbmdlJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGhlY29ub215Lm1lLywgeycvJzogWydsaW5rJywgJ2h0dHBzOi8vbGluay50aGVjb25vbXkubWUvJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3B1bnlhYmxvZy5teS5pZC8sIHsnL3NhZmUucGhwJzogWydsaW5rJywgJ2h0dHBzOi8vcThjLnh5ei8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWtvbXNlbC5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2Rvd25sb2FkZmlsZScsIDEyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kcm9wLmRvd25sb2FkLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tZG93bmxvYWQnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9qYXJkaW1hLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLXByaW1hcnkuYnRuJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcGxheXN0b3JlLnB3LywgZnVuY3Rpb24oKSB7ICQoJy5jb2wtbWQtID4gZm9ybTpudGgtY2hpbGQoMSknKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8xc2hvcnRsaW5rLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjcmVkaXJlY3QtbGluaycsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZpbGUtdXBsb2FkLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZG93bmxvYWQtYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWlycm9yZWQudG8vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmxhcmdlci5zZWNvbmRhcnknLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9mb3JleC10cm5kLmNvbXxnYXdibmUuY29tLywgZnVuY3Rpb24oKSB7IGJwKCcjZXhmb2FyeS1mb3JtJykuc3VibWl0KCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbW9kZWJhY2EuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tc3VjY2Vzcy5idG4nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tb2RzZmlyZS5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmRvd25sb2FkLWJ1dHRvbicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NhaGl0eXQuY29tLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vZ29vZ2xlLnYybGlua3MuY29tLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kZGRyaXZlLm1lLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tb3V0bGluZS1wcmltYXJ5JywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWVkaXBvc3Qub3JnLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9saW5rcy5tZWRpcG9zdC5vcmcvJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3ZpZGVvbHlyaWNzLmluLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9zZXIzLmNyYXp5YmxvZy5pbi8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvamFtZWVsdGlwcy51cy8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjY29udGludWVfYnV0dG9uXzEnLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hbnRvbmltb3MuZGUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2NidCcsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlY2h5YWRqZWN0aXZlcy5jb20vLCB7Jy9jaGVjay8nOiBbUmV4QnAsICdodHRwczovL2RlbW8ucHZpZGx5LmluLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91c2Vyc2RyaXZlLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLWRvd25sb2FkLmJ0bicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Bvc3QuY29weWRldi5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1zdWNjZXNzLmJ0bicsIDYpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwcGl0LmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLXByaW1hcnkuYnRuLXhsLmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2tyYWtlbmZpbGVzLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuZG93bmxvYWQtbm93LXRleHQnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9nby5pbnN1cmdsb2JhbC54eXovLCB7Jy8nOiBbJ2xpbmsnLCAnaHR0cHM6Ly9saW5rLmluc3VyZ2xvYmFsLnh5ei8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWRzeS5wd3xsaW5rcGF5LmNjfHdpLmNyfHBuZHgubGl2ZS8sIGZ1bmN0aW9uKCkgeyBicCgnI2xpbmstdmlldycpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmVnZWUubmV0LywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4teHMuYnRuLXByaW1hcnkuYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvemlwcHlzaGFyZS5jb218ZmlsZWRtLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZGxidXR0b24nLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9iaWxkaXJpbS5pbnxiaWxkaXJpbS5ldS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjYnRuUGVybWlzc2lvbicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VzZXJzY2xvdWQuY29tfGRvc3lhLmNvLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNidG5fZG93bmxvYWQnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oZXh1cGxvYWQubmV0LywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tc3VjY2Vzcy5idG4tbGcuYnRuJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc29saWRmaWxlcy5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1zbS5idG4tcHJpbWFyeS5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9mYXVjZXRwYXkuaW8vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1ibG9jay5idG4tcHJpbWFyeS5idG4nLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9nZXQudXJsYmhhcmF0Lnh5ei8sIHsnL3NhZmUucGhwJzogWydsaW5rJywgJ2h0dHBzOi8vdmlkZW8uZWFybnNwYWNlLmluLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9pbnN1cmFuY2Utc3BhY2UueHl6LywgeycvJzogWydsaW5rJywgJ2h0dHBzOi8vbGluay5pbnN1cmFuY2Utc3BhY2UueHl6LyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kYWlseXVwbG9hZHMubmV0LywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5pbm5lciA+IGE6bnRoLWNoaWxkKDkpJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZXMuaW0vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1kb3cuYnRuJywgMik7YnAoJyNGMScpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Nvb2tsaWtlLmluZm98bW9kZWwtdGFzLXRlcmJhcnUuY29tLywgeycvJzogWydsaW5rJywgJ2h0dHBzOi8veW91c20ubGluay8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGV0cy41Z2V0Lm5ldC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuanVtcF9saW5rID4gYTpudGgtY2hpbGQoMSknLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jc2hvcnQub3JnLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy50aW1lci5yZWRpcmVjdCcsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21lZ2F1cHRvLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZGlyZWN0X2xpbmsgPiBhOm50aC1jaGlsZCgxKScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RlbGlzaHdlbGwuY29tfGFydGlza2luaS5jb20vLCB7Jy8nOiBbJ2xpbmsnLCAnaHR0cHM6Ly9saW5rLnBhaWQ0bGluay5uZXQvJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Rpbnl1cmwuc28vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi5idG4tc2Vjb25kYXJ5JywgMywgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZG91cGxvYWRzLm5ldC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLXByaW1hcnkuYnRuLWxnLmJ0bi1ibG9jay5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90YWtlbS5jb3x0aGVtb3JuaW5ndHJpYnVuZS5jb20vLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cHM6Ly9wdXNoLmJkbmV3c3guY29tLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9pbmZvcm1heG9ubGluZS5jb218Z2FtaW5wbGF5LmNvbS8sIHsnLyc6IFsnbGluaycsICdodHRwczovL2dvLmFkc2xpbmtmbHkub25saW5lLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93ZWJob3N0aW5ndGlwcy5jbHViLywgeycvc2FmZS5waHAnOiBbJ2xpbmsnLCAnaHR0cHM6Ly9qcmxpbmtzLmluL3NhZmUyLnBocD9saW5rPSddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saXRlY29pbi5ob3N0fHNraXBhZHMuY2xpY2svLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI3dCdG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wb25zZWxoYXJpYW4uY29tLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJyNsaW5rLXZpZXcnKSkge3dpbmRvdy5zY3JvbGxUbygwLDk5OTkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tcDR1cGxvYWQuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyN0b2RsJywgMik7JCgiZm9ybVtuYW1lPSdGMSddIikuc3VibWl0KCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGVjaHJmb3VyLmNvbXx2ZWdhbmFsLmNvfHZlZ2FuaG8uY28vLCB7Jy9nby8nOiBbUmV4QnAsICdodHRwczovL3B1c2guYmRuZXdzeC5jb20vJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmtlcmxvYWQuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoIiNkb3dubG9hZCBmb3JtIGlucHV0W2lkPSdidXR0b24xJ10iLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9heWVsYWRzLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLWJsLmJ0bi1wcmltYXJ5LmJ0bicsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2thcnlhd2FuLmNvLmlkLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2J1dHRvbiNidG4uYmctYmx1ZS0xMDAudGV4dC1ibHVlLTYwMCcsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FkZm9jLnVzLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJyNza2lwJykpIHtsZXQgYWRmID0gYnAoJy5za2lwJykuaHJlZjtyZWRpcmVjdChhZGYpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93cC5zZWtpbGFzdGVrbm8uY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2RpdiA+IGRpdiA+IGJ1dHRvbicsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xldHN1cGxvYWQuaW8vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYnV0dG9uLmJ0bi5idG4tLXByaW1hcnkudHlwZS0tdXBwZXJjYXNlJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2FtYS1wcm8uY29tfG1pa2w0Zm9yZXguY29tLywgKCkgPT4gd2FpdEZvckVsbSgnYSNzdWJtaXRCdG4nLCBzbXBiID0+IHJlZGlyZWN0KHNtcGIuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaW5mb3JtYXhvbmxpbmUuY29tfGdhbWlucGxheS5jb20vLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cHM6Ly9nby5hZHNsaW5rZmx5Lm9ubGluZS8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGFyZ2VzdHBhbmVsLmlufGVhcm5tZS5jbHVifHVzYW5ld3N0b2RheS5jbHViLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyN0cC1zbnAyJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaGVhbGRhZC5jb218Z2FtYWxrLXNlaGV0ay5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLnN1Ym1pdEJ0bicsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fzc2V0dG93b3JsZC5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLnRleHQtY2FwaXRhbGl6ZS5idG4tb3V0bGluZS1zdWNjZXNzLmJ0bicsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Nob295b21pLmNvbXxibG9nbWFkby5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCIuZ2V0LWxpbmsgPiBhOm50aC1jaGlsZCgxKSIsIGNobyA9PiByZWRpcmVjdChjaG8uaHJlZikpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9iZXN0Zm9udHMucHJvLywgKCkgPT4gd2FpdEZvckVsbSgiLmRvd25sb2FkLWZvbnQtYnV0dG9uID4gYTpudGgtY2hpbGQoMSkiLCBwcm8gPT4gcmVkaXJlY3QocHJvLmhyZWYpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3V0dC5uZXR8Y3V0LXkubmV0fGN1dHR5LmFwcC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjc3VibWl0LWJ1dHRvbicsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RvY3MuZ29vZ2xlLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjdWMtZGwtaWNvbicpKSB7YnAoJyNkb3dubG9hZEZvcm0nKS5zdWJtaXQoKTt9IGVsc2Uge319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93b3JrdXBsb2FkLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjZG93bmxvYWQnKSkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLXByaW8uYnRuJywgMik7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlY2h1cy53ZWJzaXRlLywgZnVuY3Rpb24oKSB7ICQoJy5jb2RlLWJsb2NrLTQuY29kZS1ibG9jayA+IGZvcm0nKS5zdWJtaXQoKTskKCcudG9wbmF2ID4gZm9ybScpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2thbHZpZHVkZXMuaW58dGVjaHdpdGhzYW5pa2FudC5pbi8sICgpID0+IHdhaXRGb3JFbG0oJ2RpdiNnZXRsaW5rYnRuIGNlbnRlciBhJywga2FsdiA9PiByZWRpcmVjdChrYWx2LmhyZWYpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMWxpbmsuY2x1Yi8sIGZ1bmN0aW9uKCkgeyQoImFbdGFyZ2V0PSdfYmxhbmsnXSIpLnJlbW92ZUF0dHIoInRhcmdldCIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZG93bmxvYWQnLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC96ZWd0cmVuZHMuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNnbycsIDMpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnN1YicsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZvcmV4LWFydGljbGVzLmNvbXxmb3JleGxhcC5jb218Zm9yZXhtYWIuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5vdG8gPiBhOm50aC1jaGlsZCgxKScsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2F1dG9tb3R1ci5jbHVifHNhbm95Ym9uaXRvLmNsdWIvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJywgMyk7YnAoJyNwYWdlMicpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZGhhdmVuLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYWxlcnQgPiBhOm50aC1jaGlsZCgxKScsIDIpO2JwKCcjZm9ybS1kb3dubG9hZCcpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwZmlsZXMuYXBwfGN1dC15LmNvLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJyNjYXB0Y2hhRG93bmxvYWQnKSkge31lbHNle2JwKCdmb3JtLnRleHQtY2VudGVyJykuc3VibWl0KCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3B5dGhvbmR1bnlhc2kuY29tLywgKCkgPT4gd2FpdEZvckVsbSgiI2NvdW50ZG93bjMgPiBzcGFuOm50aC1jaGlsZCgxKSA+IGE6bnRoLWNoaWxkKDEpIiwgcGl0ID0+IHJlZGlyZWN0KHBpdC5ocmVmKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpdGV4YmxvZy5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHt9ZWxzZXtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJnLXByaW1hcnkuYnRuJywgNSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmtzcHkuY2MvLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLnNraXBCdXR0b24nKSkge2xldCBsc3AgPSBicCgnLnNraXBCdXR0b24nKS5ocmVmO3JlZGlyZWN0KGxzcCwgZmFsc2UpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9iY3ZjLnh5enxiY3ZjLmluay8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuanMtc2Nyb2xsLXRyaWdnZXIuYnRuLXhsLmJ0bi1vdXRsaW5lLmJ0bicsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JhY2VkZXBhcnRtZW50LmNvbS8sIGZ1bmN0aW9uKCkgeyQoImFbdGFyZ2V0PSdfYmxhbmsnXSIpLnJlbW92ZUF0dHIoInRhcmdldCIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnV0dG9uLS1jdGEnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oeGZpbGUuY298ZXgtbG9hZC5jb218bWVnYWRiLm5ldC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLWRvdy5idG4nLCAyKTticCgiZm9ybVtuYW1lPSdGMSddIikuc3VibWl0KCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGlueXVybC5pcy8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCd1bCA+IGxpID4gYScpKSB7Y29uc3QgbGluayA9IGJwKCdhW2lkXj1uZXdza2lwLWJ0bl0nKS5ocmVmO3JlZGlyZWN0KGxpbmspO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tZWdhNHVwLm9yZy8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdpbnB1dC5idG4uYnRuLWluZm8uYnRuLXNtJywgMik7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tZGFyay5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cGxvYWRldi5vcmcvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2RzcGVlZCA+IGlucHV0Om50aC1jaGlsZCgzKScsIDEpOyBjbGlja0lmRWxlbWVudEV4aXN0cygnLmRpcmVjdGwnLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9iYXlmaWxlcy5jb218YW5vbmZpbGVzLmNvbXxvcGVubG9hZC5jY3xsb2xhYml0cy5zZXxsZXRzdXBsb2FkLmNjLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNkb3dubG9hZC11cmwnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9meDR2aXAuY29tLywgZnVuY3Rpb24oKSB7JCgiYSAjYnV0dG9uMVtkaXNhYmxlZD0nZGlzYWJsZWQnXSIpLnJlbW92ZUF0dHIoImRpc2FibGVkIik7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNidXR0b24xJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWx0YmxvZ2dlci5uZXQvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmZvcm0tc2VuZC5tLTIuYnRuLWNhcHRjaGEuYnRuLW91dGxpbmUtcHJpbWFyeS5idG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zYXRvc2hpLXdpbi54eXp8c2hvcnRlcmFsbC5jb218cHJvbW8tdmlzaXRzLnNpdGUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJveC1tYWluID4gYnV0dG9uOm50aC1jaGlsZCgzKScsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL215bmV3c21lZGlhLmNvLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNteUJ0bi5jc3NCdG4ubXlCdG4nLCAzKTtjbGlja0lmRWxlbWVudEV4aXN0cygnI254QnRuLmNzc0J0bi5ueEJ0bicsIDUpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NlbmQuY218cmFjYXR5Lm5ldHxmaWxlcy5pbXxzaGFyZW1vZHMuY29tfGNsaWNrbnVwbG9hZC50b3xtb2RzYmFzZS5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2Rvd25sb2FkYnRuJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3ViMmdldC5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI2J1dHVubG9jaycpKSB7bGV0IHN1YnQgPSBicCgnI2J1dHVubG9jayA+IGE6bnRoLWNoaWxkKDEpJykuaHJlZjtyZWRpcmVjdChzdWJ0KTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGFrZWZpbGUubGluay8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjRjEnKSkge2JwKCdkaXYubm8tZ3V0dGVyOm50aC1jaGlsZCgyKSA+IGZvcm06bnRoLWNoaWxkKDEpJykuc3VibWl0KCk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY2xhaW1jbGlja3MuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2Rpdi5jb2wtbWQtMTI6bnRoLWNoaWxkKDIpID4gZm9ybTpudGgtY2hpbGQoMTEpID4gYnV0dG9uOm50aC1jaGlsZCg0KScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FjLnRvdHN1Z2VraS5jb20vLCBmdW5jdGlvbigpIHskKCJhW3RhcmdldD0nX2JsYW5rJ10iKS5yZW1vdmVBdHRyKCJ0YXJnZXQiKTtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1sZy5idG4tc3VjY2Vzcy5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9mZXhrb21pbi54eXovLCBmdW5jdGlvbigpIHskKCJhW3RhcmdldD0nX2JsYW5rJ10iKS5yZW1vdmVBdHRyKCJ0YXJnZXQiKTtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1jYXB0Y2hhLmJ0bi1kYW5nZXIuYnRuJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXB0b2JoYWkuaW5mb3xzaG9ydGxpbmt0by5pbmZvfHVwbGlua3RvLnZpcHxicmJ1c2hhcmUuaW5mby8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLWJsb2NrLmJ0bi1wcmltYXJ5LmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Nob3J0aXQucHcvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLnB1bHNlLmJ0bi1wcmltYXJ5LmJ0bicsIDUpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCdhI2J0bjIuYnRuLmJ0bi1wcmltYXJ5LnB1bHNlJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGhlcHJpY2UuYml6fG1hc3NpdmUubXkuaWR8YWN0aXZpdHkubXkuaWR8Y2F2aWV3Lm15LmlkLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2EuYnRuLmJ0bi1wcmltYXJ5Lm0tMi5idG4tY2FwdGNoYScsIDYpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZC00ZXZlci5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygiaW5wdXRbbmFtZT0nbWV0aG9kX2ZyZWUnXSIsIDIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZG93bkxvYWRMaW5rQnV0dG9uJywgNSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZXNoYXJlLmFkc2hvcnR1cmwuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5kb3dubG9hZC10aW1lciA+IGE6bnRoLWNoaWxkKDEpID4gc3BhbjpudGgtY2hpbGQoMSknLCA0LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9leGVlLmFwcHxleGVvLmFwcC8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjYmVmb3JlLWNhcHRjaGEnKSkgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2JwKCcjYmVmb3JlLWNhcHRjaGEnKS5zdWJtaXQoKTt9LCAyMDAwKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMWZpY2hpZXIuY29tLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJyNwYXNzJykpe31lbHNlIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1vcmFuZ2UuYnRuLWdlbmVyYWwub2snLCAxKTticCgnLmFsYycpLnN1Ym1pdCgpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93cml0ZWRyb2lkLmV1Lm9yZy8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjc2hvcnRQb3N0TGluaycsIDMpO3dhaXRGb3JFbG0oIiNzaG9ydEdvVG9MaW5rIiwgZHJvID0+IHJlZGlyZWN0KGRyby5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JhbmNhaC5jb218bWVuamVsYWphaGkuY29tfHNob3J0bHkueHl6fG55YXdhbmcuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5nZXQtbGluay5idG4tbGcuYnRuLXN1Y2Nlc3MuYnRuJywgNSwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcHJvdmlyYWxob3N0LmNvbXxleGFtdGFka2EuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyN3YWl0MWJ1dHRvbicsIDMpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjd2FpdDJidXR0b24nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oZWFsZGFkLmNvbXxnYW1hbGstc2VoZXRrLmNvbXxuZXdmb3JleC5vbmxpbmV8Zm9yZXgtZ29sZC5uZXR8d29ybGQtdHJpcHMubmV0fG1vYmkyYy5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLnN1Ym1pdEJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fkc2dvLmRpZ2l0YWx8bmV3c25vd2JkLmNvbXx0ZWNodXMud2Vic2l0ZS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcubXlCdXR0b24nLCAyKTsgJCgnLmNvZGUtYmxvY2stMS5jb2RlLWJsb2NrID4gZm9ybScpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fub255bS5uaW5qYS8sIGZ1bmN0aW9uKCkge3ZhciBmZCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcvJykuc2xpY2UoLTEpWzBdO3JlZGlyZWN0KGBodHRwczovL2Fub255bS5uaW5qYS9kb3dubG9hZC9maWxlL3JlcXVlc3QvJHtmZH1gKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cHRvYm94LmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdhLmJpZy1idXR0b24tZ3JlZW46bnRoLWNoaWxkKDEpJywgMik7IGNsaWNrSWZFbGVtZW50RXhpc3RzKCcuZG93bmxvYWQtYnRuJywgMywgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvb24tc2Nyb2xsLmNvbXxkaXVkZW15LmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYmxvZ19idG4uc2hvd19idG4nLCAzKTt3YWl0Rm9yRWxtKCIjbmV4dCIsIHJvbGwgPT4gcmVkaXJlY3Qocm9sbC5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Nhc2hlYXJuLmNjfGJpdGxpbmtzLnB3LywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5oLWNhcHRjaGEnKSAmJiAoJy5nLXJlY2FwdGNoYScpKSB7fWVsc2V7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNidCcsIDMsICdzZXRJbnRlcnZhbCcpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zdGZseS5tZS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge31lbHNle2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuZm9ybS1zZW5kLm0tMi5idG4tY2FwdGNoYS5idG4tb3V0bGluZS1wcmltYXJ5LmJ0bicsIDMpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9pLXBvbGxzLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdidXR0b24jYnRuJywgMik7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNhbmNob3JfYnV0dG9uJywgMik7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2Ejc2FmZV9saW5rJywgMzApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N1cmF0cmVzbWkuaWQvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYnV0dG9uI2htbi5idG4tbW9yZScsIDMsICdzZXRJbnRlcnZhbCcpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCdhI2htbi5idG4tbW9yZScsMywgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmxvZy1mb3JhbGwuY29tLywgZnVuY3Rpb24oKXt2YXIgYnlwYXNzbGlua3MgPSBhdG9iKGBhSCR7YnAoIiNsYW5kaW5nIFtuYW1lPSdnbyddIikudmFsdWUuc3BsaXQoImFIIikuc2xpY2UoMSkuam9pbigiYUgiKX1gKTsgcmVkaXJlY3QoYnlwYXNzbGlua3MpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL29sYW1vdmllcy5jeW91LywgZnVuY3Rpb24oKSB7bGV0IG9tbyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVsxXS5pbm5lclRleHQuc3BsaXQoIlxuIilbOF0uc3BsaXQoIiAiKVszXS5zcGxpdCgiXCIiKVsxXTtyZWRpcmVjdChvbW8pO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fwa2FkbWluLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcudGV4dCA+IGE6bnRoLWNoaWxkKDQpID4gaW1nOm50aC1jaGlsZCgxKScsIDEpO2JwKCcuZG93bmxvYWQtZmlsZS1idXR0b24gPiBmb3JtOm50aC1jaGlsZCgxKScpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL25ld3NoYXJzaC5jb20vLCB7Jy9ib3gtb2ZmaWNlL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL2hyLnZpa2FzaG1ld2FkYS5jb20vJ10sJy9lbmdsaXNoL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL2NyYXp5YmxvZy5pbi9oYXJzaC92ZXJpZnkvPyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93cml0ZWRyb2lkLmluLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNzaG9ydFBvc3RMaW5rJywgNSk7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNzaG93TW9kYWxBZHMnLCAzKTtjbGlja0lmRWxlbWVudEV4aXN0cygnI3Nob3J0R29Ub0xpbmsuYnV0dG9uJywgNSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdm9zYW4uY28vLCBmdW5jdGlvbigpIHskKCJhW3RhcmdldD0nX2JsYW5rJ10iKS5yZW1vdmVBdHRyKCJ0YXJnZXQiKTtjbGlja0lmRWxlbWVudEV4aXN0cygnLmVsZW1lbnRvci1zaXplLWxnJywgMik7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy53cGRtLWRvd25sb2FkLWxpbmsnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC80c2hhcmVkLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuanNEb3dubG9hZEJ1dHRvbicsIDIpO2lmIChlbGVtZW50RXhpc3RzKCcuZnJlZURvd25sb2FkQnV0dG9uJykpIHticCgiZm9ybVtuYW1lXj0ncmVkaXJlY3RUb0QzRm9ybSddIikuc3VibWl0KCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JpYWRjcnlwdG8uY29tfGRvbmlhMnRlY2guY29tLywgZnVuY3Rpb24oKSB7dmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3BzYWZlbGluay1sYW5kaW5nJyk7IHJlZGlyZWN0KEpTT04ucGFyc2UoYXRvYihmb3JtLm5ld3dwc2FmZWxpbmsudmFsdWUpKS5saW5rcik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbW9iaTJjLmNvbXxuZXdmb3JleC5vbmxpbmV8d29ybGQtdHJpcHMubmV0fGZvcmV4LWdvbGQubmV0fGhlYWxkYWQuY29tfGdhbWFsay1zZWhldGsuY29tfG1vYml0YWFrLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZ29fZCcsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2VuaXQuaW58Y2xrLmFzaWF8Y2xpY2tzZmx5LmNvbS8sIGZ1bmN0aW9uKCkge3ZhciBsaW5rYnlwYXNzID0gYXRvYihgYUgke2JwKCIjbGluay12aWV3IFtuYW1lPSd0b2tlbiddIikudmFsdWUuc3BsaXQoImFIIikuc2xpY2UoMSkuam9pbigiYUgiKX1gKTtyZWRpcmVjdChsaW5rYnlwYXNzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9idGNwYW55LmNvbXx6b21iaWVidGMuY29tfGJsb2cuenViYXRlY25vLmNvbXxuZXdzLmNsYWltZmV5LmNvbXxiYXR0bGVyb3lhbC5vbmxpbmUvLCBmdW5jdGlvbigpIHskKCcjbGluazFzLWZvcm0nKS5zdWJtaXQoKTtjbGlja0lmRWxlbWVudEV4aXN0cygnI25leHQtc3RlcC1idXR0b24nLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93ZWJob3N0aW5ncG9zdC5jb20vLCBmdW5jdGlvbigpIHskKCJhW29uY2xpY2s9J3dpbmRvdy5vcGVuJ10iKS5yZW1vdmVBdHRyKCJvbmNsaWNrIik7d2FpdEZvckVsbSgnYSNzdXJsLmJ0bi5idG4tc20ubS0yLmJ0bi1zdWNjZXNzJywgZmNjID0+IHJlZGlyZWN0KGZjYy5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RhZ2E4OC50b2RheS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjdHJhZmZpYy1jb3VudGRvd24tMXMnKSkge2NvbnN0IGRhZ2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjd3JhcHBlcicpOyBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZGFnYSkge2VsZW1lbnQucmVtb3ZlKCk7fX19KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zb2xhcmNoYWluZS5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI2NhcHRjaGFTaG9ydGxpbmsnKSkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdidXR0b24uYnRuOm50aC1jaGlsZCg0KScsIDIpO30gZWxzZSB7YnAoJy5ib3gtYm9keSA+IGZvcm06bnRoLWNoaWxkKDIpJykuc3VibWl0KCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JvZGp1bGlhbi5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI3RyYWZmaWMtY291bnRkb3duLTFzJykpIHtjb25zdCByb2p1ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNpdGUtY29udGVudCcpOyBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygcm9qdSkge2VsZW1lbnQucmVtb3ZlKCk7fX19KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cGxvYWRyYXIuY29tfGNoZWRyaXZlLmNvbXx1cHRvbWVnYS5tZS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcubW5nZXotZnJlZS1kb3dubG9hZCcsIDIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZGlyZWN0X2xpbmsgPiBhOm50aC1jaGlsZCgxKScsIDIpOyQoJyNkb3dubG9hZGJ0bicpLmNsaWNrKCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXptYXRoLmluZm98YXp0cmF2ZWxzLm5ldHx0ZWNoYWNvZGUuY29tLywgKCkgPT57aWYgKGVsZW1lbnRFeGlzdHMoJyNtZWdhdXJsLXZlcmlmaWVkLWNhcHRjaGEnKSkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdidXR0b24uaC1jYXB0Y2hhJywgMyk7fSBlbHNlIHtzdWJtaXQoIiNtZWdhdXJsLWJhbm5lci1wYWdlIiwgNSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N0dWR5dW8uY29tLywgeycvcHJvLyc6IFsnbGluaycsICdodHRwczovL3Nocmlua3BheS5jcmF6eWJsb2cuaW4nXSwnL3Nob3J0L3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL3JlZGQuY3JhenlibG9nLmluJ10sICcvYmxvZy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cHM6Ly9zcGVlZHluZXdzLnh5ei92ZXJpZnkvPyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jcmF6eWJsb2cuaW4vLCB7ICcvZmluYW5jZS8nOiBbJ2xpbmsnLCAnaHR0cHM6Ly9zaHJpbmtwYXkuY3JhenlibG9nLmluJ10sJy9oYXJzL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL3JlZGQuY3JhenlibG9nLmluJ10sICcvaGFyc2gvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vc2VyMy5jcmF6eWJsb2cuaW4vJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzl4dXBsb2FkLmFzaWEvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2NvbnRhaW5lciA+IHRhYmxlOm50aC1jaGlsZCgxNSkgPiB0Ym9keTpudGgtY2hpbGQoMSkgPiB0cjpudGgtY2hpbGQoMikgPiB0ZDpudGgtY2hpbGQoMSkgPiBhOm50aC1jaGlsZCgxKScsIDIpOyQoImZvcm1bbmFtZT0nRjEnXSIpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL25hdGhhbmFlbGRhbi5wcm98ZnJlZGR5b2N0YXZpby5wcm98ZGF2aXNvbmJhcmtlci5wcm8vLCBmdW5jdGlvbigpIHsgdmFyIHVybHMgPSBuZXcgVVJMKGRvY3VtZW50LlVSTCk7IHZhciBkZXN0ID0gdXJscy5zZWFyY2hQYXJhbXMuZ2V0KCJkZXN0Iik7IHZhciBkZWNvZGVkID0gZGVjb2RlVVJJKGRlc3QpO3JlZGlyZWN0KGRlY29kZWQpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Jla29uaXNlLmNvbS8sICgpPT57bGV0IHhocj1uZXcgWE1MSHR0cFJlcXVlc3QoKTt4aHIub25sb2FkPSgpPT5yZWRpcmVjdChKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpLnVybCk7eGhyLm9wZW4oIkdFVCIsImh0dHBzOi8vYXBpLnJla29uaXNlLmNvbS91bmxvY2tzIitsb2NhdGlvbi5wYXRobmFtZSx0cnVlKTt4aHIuc2VuZCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jsb2ctZXZlcnl0aGluZy5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYnV0dG9uLmJ0bi5idG4td2FybmluZycsIDIpO2lmIChlbGVtZW50RXhpc3RzKCcjX2NpX2QnKSkge3dpbmRvdy5zY3JvbGxUbyh7IGxlZnQ6IDAsIHRvcDogZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsIGJlaGF2aW9yOiAic21vb3RoIiB9KTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd3JibG9nZ2Vycy5jb20vLCAoKSA9PiB7aWYgKGVsZW1lbnRFeGlzdHMoJ2Rpdi5jb2wtc20tNCcpKXtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1kYW5nZXIuYnRuLWJsb2NrLmJ0bicsIDIpO31lbHNle3ZhciBqdSA9IHNldEludGVydmFsKCAoKSA9PiB7Y2xpY2soIiNuZXh0cGFnZWxpbmsiKTsgY2xlYXJJbnRlcnZhbChqdSk7fSwzMDAwKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3V0aW4uaXQvLCBmdW5jdGlvbigpIHtsZXQgdGluID0gWy4uLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKV0uZmlsdGVyKGVsZW0gPT4gZWxlbS5pbm5lclRleHQgIT09ICIiKVszXS5pbm5lclRleHQuc3BsaXQoIlxuIilbMTRdLnNwbGl0KCIgIilbOV0ucmVwbGFjZSgiOyIsICIiKS5yZXBsYWNlQWxsKCJcIiIsICIiKTtyZWRpcmVjdCh0aW4pO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3BsYXluYW5vLm9ubGluZS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjd2F0Y2gtbGluaycsIDIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcud2F0Y2gtbmV4dC1idG4uYnRuLXByaW1hcnkuYnV0dG9uJywgMik7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2J1dHRvbi5idXR0b24uYnRuLXByaW1hcnkud2F0Y2gtbmV4dC1idG4nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93aWtpLXRvcGlhLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge31lbHNle2NsaWNrSWZFbGVtZW50RXhpc3RzKCJpbnB1dFtzdHlsZV49J2ZvbnQtd2VpZ2h0OiA3MDAnXSIsIDIsICdzZXRJbnRlcnZhbCcpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCJpbnB1dFtzdHlsZV49J2ZvbnQtd2VpZ2h0OiA1MDAnXSIsIDMsICdzZXRJbnRlcnZhbCcpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tZWRpYWZpcmUuY29tLywgZnVuY3Rpb24oKSB7dmFyIGJhc3M7IHZhciBtZCA9IGZ1bmN0aW9uIGNsb3NlV2luZG93cygpe3dpbmRvdy5jbG9zZSgpOyBjbGVhckludGVydmFsKGJhc3MpO307dmFyIG1mID0gYnAoJy5kb3dubG9hZF9saW5rIC5pbnB1dCcpLmdldEF0dHJpYnV0ZSgnaHJlZicpOyBjb25zb2xlLmxvZyhtZik7IGxvY2F0aW9uLnJlcGxhY2UobWYpOyBiYXNzID0gc2V0SW50ZXJ2YWwobWQsIDEwMDAgKiA1KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC95dHN1Ym1lLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuY29udDEnKSkge2xldCB5dHN1YiA9IGJwKCIjbXNnLWJveDMtbyA+IGRpdiA+IGRpdiA+IGRpdi5jb2wtbWQtNC50ZXh0LWNlbnRlciA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdi5jb2wtbWQtOC5jb2wtbWQtb2Zmc2V0LTIudGV4dC14cy1jZW50ZXIgPiBkaXYgPiBkaXYgPiBzY3JpcHQiKS5pbm5lckhUTUwuc3BsaXQoJzsnKVs3XS5zcGxpdCgnPScpWzFdLnJlcGxhY2VBbGwoJ1wnJywgIiIpO3JlZGlyZWN0KHl0c3ViKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZHV0Y2h5Y29ycC5zcGFjZXxkdXRjaHljb3JwLm92aHxndGxpbmsuY298YmVpbmd0ZWsuY29tfHpzaG9ydC5jY3x0d2l0b25ldC5jb218bWRuLnJlc3R8YW50b25pbW9zLmRlfGN0YmwubWV8b2lpLmlvfHdvcmRjb3VudGVyLmljdXxmYy1sYy5jb218bXlhc2lldHYuY2N8emFnbC5pbi8sIGZ1bmN0aW9uKCkge3ZhciB0aWNrZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpeyB0cnl7d2luZG93LmdyZWNhcHRjaGEuZXhlY3V0ZSgpOyBjbGVhckludGVydmFsKHRpY2tlcik7fSBjYXRjaChlKSB7fX0sMzAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmF1Y2V0Lndvcmt8dGVjaGxlYXJuaW5ndHViZS5pbnx3aWxkYmxvZy5tZXxibG9nZ2luZ2xhc3MuY29tfHRlY2hub2ZsaXAuaW58YXJhaHRla25vLmNvbXxtb3BhaGVhbHRoLmNvbXx3ZWxvdmVjcnlwdG8ueHl6fGNyeXB0by1ibG9nLnh5enxqaW90ZWNoLm5ldHxjcnlwdG80dHVuLmNvbXxhZHNob3J0dXJsLmNvbXxkaWdpdGFsbmF6Lm5ldC8sIGZ1bmN0aW9uKCkge3ZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9bmV3d3BzYWZlbGlua10iKTtyZWRpcmVjdChKU09OLnBhcnNlKGF0b2IoZWwudmFsdWUpKS5saW5rcik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGlua3ZlcnRpc2UuY29tfGxpbmt2ZXJ0aXNlLmRvd25sb2FkLywgZnVuY3Rpb24oKSB7dmFyIGxpbmt2ZXIgPSBuZXcgWE1MSHR0cFJlcXVlc3Q7IGxpbmt2ZXIucmVzcG9uc2VUeXBlID0gJ2pzb24nOyBsaW5rdmVyLm9wZW4oJ0dFVCcsIGBodHRwczovL21haW4tYnlwYXNzLXNlcnZlci50ay92Mz8ke2RvY3VtZW50LmxvY2F0aW9uLmhyZWYuc2xpY2UoMCwtMSl9YCwgITApOyBsaW5rdmVyLm9ubG9hZCA9IGZ1bmN0aW9uKG4pIHs0ID09PSBsaW5rdmVyLnJlYWR5U3RhdGUgJiYgcmVkaXJlY3QodGhpcy5yZXNwb25zZS5kZXN0aW5hdGlvbik7fTsgbGlua3Zlci5zZW5kKG51bGwpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RyaXZlLmdvb2dsZS5jb20vLCBmdW5jdGlvbigpIHt2YXIgZGcgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnLycpLnNsaWNlKC0yKVswXTtpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2RyaXZlLmdvb2dsZS5jb20vZmlsZS9kLycpKSB7cmVkaXJlY3QoYGh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS91LzAvdWM/aWQ9JHtkZ30mZXhwb3J0PWRvd25sb2FkYCkucmVwbGFjZSgnPGJyIC8+JywgJycpO30gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2RyaXZlLmdvb2dsZS5jb20vdS8wL3VjP2lkJykpIHticCgnI2Rvd25sb2FkLWZvcm0nKS5zdWJtaXQoKTt9IGVsc2Uge319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hZHNobmsuY29tfGFkc2hyaW5rLml0LywgKCkgPT4ge2xldCBhZHNoID1zZXRJbnRlcnZhbCgoKT0+e2lmKHR5cGVvZiBfc2hhcmVkRGF0YT09Im9iamVjdCImJjAgaW4gX3NoYXJlZERhdGEmJiJkZXN0aW5hdGlvbiJpbiBfc2hhcmVkRGF0YVswXSl7Y2xlYXJJbnRlcnZhbChhZHNoKTtkb2N1bWVudC53cml0ZShfc2hhcmVkRGF0YVswXS5kZXN0aW5hdGlvbik7cmVkaXJlY3QoZG9jdW1lbnQuYm9keS50ZXh0Q29udGVudCk7fWVsc2UgaWYodHlwZW9mIF9fX3JlYWN0anNEIT0idW5kZWZpbmVkIiYmdHlwZW9mIHdpbmRvd1tfX19yZWFjdGpzRC5vXT09Im9iamVjdCImJnR5cGVvZiB3aW5kb3dbX19fcmVhY3Rqc0Qub10uZGVzdD09InN0cmluZyIpe2NsZWFySW50ZXJ2YWwoYWRzaCk7cmVkaXJlY3Qod2luZG93W19fX3JlYWN0anNELm9dLmRlc3QpO319KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC85OWZhdWNldC5jb218cmVhZGkub25saW5lfGNlbXBha2FqYXlhLmNvbXxmcmVlYml0Y29pbi5mdW58b25saW5ldGVvcmkubXkuaWR8eHRyYWJpdHMuY2xpY2t8b25saW5laW5jb21zLmNvbXxwdW55YWJsb2cubXkuaWR8OS1hbmltaWUuY298dHJpYnVuY3J5cHRvLmNvbXxiaXR6aXRlLmNvbXxuaXZhcHJvZml0Lnh5enx2aWRlb2NsaXAuaW5mb3xwdW55YW1lcmsudG9wfGx5Y29zbGluay5jb218YWR1enouY29tfHNvbHRvc2hpbmRvLmNvbXx0ZWNobGVldHMueHl6fG1vZGRpbmd6b25lLmlufGNyeXB0by1maS5uZXR8Y2xhaW1jcnlwdG8uY2N8b3VyY29pbmNhc2gueHl6fHBva2V0b29ud29ybGQuY29tfHNhcGljYS54eXp8Y2h1a3NibG9nLmZ1bnxiaW9pbmZsdS5jb218c29uaWNidGMuY29tfGhlYWx0aGJsb29nLnh5enxwdWJncXVvdGVzLmNvbXxtLmxpbmttdW1ldC5vbmxpbmV8d2ViOWFjYWRlbXkuY29tfHN0dWR5aXMueHl6fHdlYmNvaW4uY29pbnJhaW4ub25saW5lLywgZnVuY3Rpb24oKXt2YXIgYnlwYXNzbGluayA9IGF0b2IoYGFIJHticCgiI2xhbmRpbmcgW25hbWU9J2dvJ10iKS52YWx1ZS5zcGxpdCgiYUgiKS5zbGljZSgxKS5qb2luKCJhSCIpfWApOyByZWRpcmVjdChieXBhc3NsaW5rLCBmYWxzZSk7fSk7CiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lPT0oJ3NvbHZlbWVkaWEuY29tJykgIT0gLTEgKXtsZXQgUEhSQVNFUz1bIjEuMjEgZ2lnYXdhdHRzIiwiNCA4IDE1IDE2IDIzIDQyIiwiNSBkb2xsYXIgc2hha2UiLCI2IGZlZXQgb2Ygc25vdyIsIjh0aCBjaGV2cm9uIiwiYSB3aWxkIGNhcHRjaGEgYXBwZWFycyIsImFiZWxpYW4gZ3JhcGUiLCJhYmlkZSB3aXRoIG1lIiwiYWJyYWNhZGFicmEiLCJhYnNlbnQgd2l0aG91dCBsZWF2ZSIsImFic29sdXRlIHplcm8iLCJhY2NpZGVudGFsbHkgb24gcHVycG9zZSIsImFjZSBvZiBzcGFkZXMiLCJhY3Jvc3MgdGhlIGJvYXJkIiwiYWRhcHQgaW1wcm92ZSIsImFkYXB0IGltcHJvdmUgc3VjY2VlZCIsImFnYWluc3QgdGhlIGdyYWluIiwiYWdyZWUgdG8gZGlzYWdyZWUiLCJhbCBjYXBvbmUiLCJhbGwgZGFuY2luZyIsImFsbCBncm93biB1cCIsImFsbCBvZiB0aGUgYWJvdmUiLCJhbGwgc2luZ2luZyIsImFsbCB5b3VyIGJhc2UiLCJhbGxlcmdpYyByZWFjdGlvbiIsImFsbW9zdCBnb3QgaXQiLCJhbHdheXMgdGhlcmUiLCJhbSBpIGhhcHB5IiwiYW5jaG9ycyBhd2F5IiwiYW5kIHRoYXQncyB0aGUgd2F5IGl0IGlzIiwiYW5nZWwgZm9vZCIsImFub3RoZXIgY2FzdGxlIiwiYW50aSBkZW50aXRlIiwiYXBwbGUganVpY2UiLCJhcHBsZSBwaWUiLCJhcHBsZSBzYXVjZSIsImFwcmlsIG1heSIsImFwcmlsIHNob3dlcnMiLCJhcmUgd2UgdGhlcmUgeWV0IiwiYXJlIHlvdSByZWFkeSIsImFyZSB5b3UgdGhlIGtleW1hc3RlciIsImFybXkgdHJhaW5pbmciLCJhcm15IHRyYWluaW5nIHNpciIsImFyb3VuZCBoZXJlIiwiYXMgaSBzZWUgaXQiLCJhcyB5b3Ugd2lzaCIsImFzayBxdWVzdGlvbnMiLCJhdHRpbGEgdGhlIGh1biIsImF1dG8gZHJpdmluZyIsImF3ZXNvbWUgZHVkZSIsImF3ZXNvbWUgc2F1Y2UiLCJhemdvdGhzIG9mIGtyaWEiLCJiYWJlbCBmaXNoIiwiYmFieSBibHVlcyIsImJhYnkgYm9vbWVyIiwiYmFieSBzdGVwcyIsImJhY2sgdG8gYmFzaWNzIiwiYmFjayB0cmFjayIsImJhY2tncm91bmQgbm9pc2UiLCJiYWNvbiBhbmQgZWdncyIsImJhZCBib29rcyIsImJhZCBlZ2ciLCJiYWl0IHRoZSBsaW5lIiwiYmFrZWQgaW4gYSBwaWUiLCJiYWxkIGVhZ2xlIiwiYmFsbCBvZiBjb25mdXNpb24iLCJiYW5hbmEgYnJlYWQiLCJiYW5hbmEgc3BsaXQiLCJiYW5hbmEgc3RhbmQiLCJiYW5nZXJzIGFuZCBtYXNoIiwiYmFyYmVyIGNoYWlyIiwiYmFya2luZyBtYWQiLCJiYXNrZXQgY2FzZSIsImJhdGVkIGJyZWF0aCIsImJhdGggdG93ZWwiLCJiYXRoIHdhdGVyIiwiYmF0dGxlIHJveWFsZSIsImJhemluZ2EiLCJiZSBjYXJlZnVsIiwiYmUgbWluZSIsImJlIG15IGZyaWVuZCIsImJlIG5pY2UiLCJiZSBuaW1ibGUgYmUgcXVpY2siLCJiZSBzZXJpb3VzIG5vdyIsImJlYWNoIGJhbGwiLCJiZWFuIHRvd24iLCJiZWFucyBhbmQgcmljZSIsImJlYXV0aWZ1bCBmcmllbmRzaGlwIiwiYmVlIGxpbmUiLCJiZWVuIHRoZXJlIiwiYmVlciBpbiBhIGJvdHRsZSIsImJlZXIgaW4gdGhlIGJvdHRsZSIsImJlZXMga25lZXMiLCJiZWcgdGhlIHF1ZXN0aW9uIiwiYmVsaWV2ZSBtZSIsImJlbHQgdXAiLCJiZXJsaW4gd2FsbCIsImJlc3QgZml0IGxpbmUiLCJiZXN0IHNlbGxlciIsImJldHRlciBjYWxsIHNhdWwiLCJiZXR0ZXIgaGFsZiIsImJldHRlciBuZXh0IHRpbWUiLCJiZXlvbmQgbWUiLCJiaWcgYnJvdGhlciIsImJpZyBrYWh1bmEgYnVyZ2VyIiwiYmlnIG5vc2UiLCJiaWcgc2NyZWVuIiwiYmlnZ2VyIGluIHRleGFzIiwiYmlrZSByaWRlciIsImJpcmQgY2FnZSIsImJpcnRoZGF5IGJveSIsImJpcnRoZGF5IGdpcmwiLCJiaXphcnJvIGplcnJ5IiwiYmxhY2sgYW5kIHdoaXRlIiwiYmxhY2sgY29mZmVlIiwiYmxhY2sgZ29sZCIsImJsYWNrIGphY2siLCJibGFjayBtb25kYXkiLCJibGFoYmxhaGJsYWgiLCJibGF6ZSBhIHRyYWlsIiwiYmxlc3MgeW91IiwiYmxpbmRlZCBieSBzY2llbmNlIiwiYmxvZyB0aGlzIiwiYmxvb2QgdHlwZSIsImJsdWUgY2hlZXNlIiwiYmx1ZSByaWJib24iLCJibHVlIHNreSIsImJvYiBsb2JsYXciLCJib2R5IHN1cmZpbmciLCJib2lsZWQgY2FiYmFnZSIsImJvbiB2b3lhZ2UiLCJib25kIGphbWVzIGJvbmQiLCJib25lIGRyeSIsImJvbnVzIHBvaW50cyIsImJvbnVzIHJvdW5kIiwiYm9vayByZWFkaW5nIiwiYm9vayB3b3JtIiwiYm9vbWVyYW5nIiwiYm9ybiB0byBydW4iLCJib3RzIGFyZSBiYWQgbSdrYXkiLCJib3R0bGVkIHdhdGVyIiwiYm93dGllcyBhcmUgY29vbCIsImJveCBqZWxseSBmaXNoIiwiYm94IGtpdHR5IiwiYm94IG9mIGNob2NvbGF0ZXMiLCJicmFhYWlucyIsImJyYW5kIHNwYW5raW5nIG5ldyIsImJyZWFkIG9mIGxpZmUiLCJicmVhayB0aGUgaWNlIiwiYnJpY2sgaG91c2UiLCJicm9rZW4gaGVhcnQiLCJicm9rZW4gcmVjb3JkIiwiYnJ1Y2UgbGVlIiwiYnJ1c2ggeW91ciB0ZWV0aCIsImJ1Y2tsZSB5b3VyIHNob2UiLCJidWZmYWxvIHdpbmciLCJidW5ueSByYWJiaXQiLCJidXJnZXIgd2l0aCBmcmllcyIsImJ1cm5pbmcgb2lsIiwiYnVybnQgc2llbm5hIiwiYnV0bGVyIGRpZCBpdCIsImJ1dHRlciBzaWRlIGRvd24iLCJidXR0b24gZmx5IiwiYnV5IHNvbWUgdGltZSIsImJ5IGFuZCBsYXJnZSIsImJ5IHRoZSBib2FyZCIsImJ5IHRoZSBib29rIiwiYnkgdGhlIHNlYXNob3JlIiwiY2FiYmFnZSBib3JzaHQiLCJjYWJiYWdlIHN0ZXciLCJjYWVzYXIgc2FsYWQiLCJjYWxsIG1lIiwiY2FsbCBtZSBtYXliZSIsImNhbiBpIGxvdmUiLCJjYW4geW91IHNlZSIsImNhbmR5IGFwcGxlIiwiY2FuZHkgY2FuZSIsImNhcGl0YWwgZ2FpbiIsImNhcHRjaGEgaW4gdGhlIHJ5ZSIsImNhciB0cm91YmxlIiwiY2FyYm9uIGNvcHkiLCJjYXJib24gZm9vdHByaW50IiwiY2FyZCBzaGFycCIsImNhcmQtc2hhcnAiLCJjYXJwZSBkaWVtIiwiY2FycnkgYSB0b3dlbCIsImNhcnJ5IG9uIiwiY2FyeSBncmFudCIsImNhc2UgY2xvc2VkIiwiY2F0IGdvdCB5b3VyIHRvbmd1ZSIsImNhdGNoIHRoZSBtYW4iLCJjYXRzIGFuZCBkb2dzIiwiY2F0cyBwYWphbWFzIiwiY2hhaXNlIGxvdW5nZSIsImNoYWxsZW5nZSBhY2NlcHRlZCIsImNoYW5nZSB0aGUgd29ybGQiLCJjaGFuZ2UgeW91cnNlbGYiLCJjaGFubmVsIHN1cmZpbmciLCJjaGFybGV5IGhvcnNlIiwiY2hhcmxpZSBiaXQgbWUiLCJjaGFybSBvZmZlbnNpdmUiLCJjaGFybWVkIGxpZmUiLCJjaGVjayB5b3VyIGNvYXQiLCJjaGVjayB5b3VyIHdvcmsiLCJjaGVlc2UgYnVyZ2VyIiwiY2hlZXNlIGZyaWVzIiwiY2hlZXNlIHN0ZWFrIiwiY2hlcnJ5IG9uIHRvcCIsImNoaWNrZW4gZmVlZCIsImNoaWNrZW4gbm9vZGxlIiwiY2hpY2tlbiBzYWxhZCIsImNoaWNrZW4gc291cCIsImNoaW4gYm95IiwiY2hpdCBjaGF0IiwiY2hvY28gbGF6ZXIgYm9vbSIsImNob2NvbGF0ZSBjb29raWUiLCJjaG9jb2xhdGUgbWlsayIsImNob3cgZG93biIsImNodWNrIG5vcnJpcyIsImNpcmNsZSBvZiBsaWZlIiwiY2l2aWwgd2FyIiwiY2xlYW4gYW5kIHNoaW55IiwiY2xlYW4gaGFuZHMiLCJjbGVhciBibHVlIHdhdGVyIiwiY2xlYXIgc2FpbGluZyIsImNsaWNrLCBjbGljaywgY2xpY2siLCJjbGlmZiBoYW5nZXIiLCJjbG9kIGhvcHBlciIsImNsb3NlIHF1YXJ0ZXJzIiwiY2xvdWQgbmluZSIsImNsb3duIGFyb3VuZCIsImNvZmZlZSBjYW4iLCJjb2xkIGNvbWZvcnQiLCJjb2xkIGZlZXQiLCJjb2xkIGhhdCIsImNvbGQgc2hvdWxkZXIiLCJjb2xkIHR1cmtleSIsImNvbGVzbGF3IiwiY29sbGFib3JhdGUgYW5kIGxpc3RlbiIsImNvbG9yZWQgcGFwZXIiLCJjb21lIGFsb25nIiwiY29tZSBhbG9uZyBwb25kIiwiY29tZSBiYWNrIiwiY29tZSBjbGVhbiIsImNvbWUgb24gZG93biIsImNvbWUgd2hhdCBtYXkiLCJjb21mb3J0IHpvbmUiLCJjb21tYSBjb21tYSIsImNvbW1vbiBsYXciLCJjb21wbGV4IG51bWJlciIsImNvbnN0cnVjdGlvbiBhaGVhZCIsImNvb2tpZSBjdXR0ZXIiLCJjb29sIGhlYWRzIHByZXZhaWwiLCJjb3AgYW4gYXR0aXR1ZGUiLCJjb3IgYmxpbWV5IiwiY29yZG9uIGJsZXUiLCJjb3JuZWQgYmVlZiIsImNvdHRvbiBvbiIsImNvdW50IHlvdXIgY2hhbmdlIiwiY291bnRpbmcgc2hlZXAiLCJjb3ZlcmVkIGJyaWRnZSIsImNyYWIgY2FrZSIsImNyYXlvbGEiLCJjcmVhbSBhbmQgc3VnYXIiLCJjcmVhdGUgbmV3IHRoaW5ncyIsImNyZWF0aXZlIHByb2Nlc3MiLCJjcmVhdGl2ZSB2aXNpb24iLCJjcmVlcHkgY3Jhd2xlciIsImNyaW1lIG9mIHBhc3Npb24iLCJjcm9jb2RpbGUgdGVhcnMiLCJjcm9wIHVwIiwiY3Jvc3MgdGhlIHJvYWQiLCJjcm9zcyB0aGUgcnViaWNvbiIsImN1YmljIHNwbGluZSIsImN1Y3VtYmVyIHNhbmR3aWNoIiwiY3VwIGNha2UiLCJjdXBpZCdzIGFycm93IiwiY3VyYXRlJ3MgZWdnIiwiY3VycnkgZmF2b3VyIiwiY3V0IGFuZCBydW4iLCJjdXQgdGhlIG11c3RhcmQiLCJkYWxlayBhc3lsdW0iLCJkYWxsYXMgdGV4YXMiLCJkYW5jZSBhbGwgbmlnaHQiLCJkYW5pc2ggcm9ib3QgZGFuY2VycyIsImRhcmsgaG9yc2UiLCJkYXMgb29udHoiLCJkYXZpZCBhZnRlciBkZW50aXN0IiwiZGVhZCBiYXR0ZXJ5IiwiZGVhZCByaW5nZXIiLCJkZWFsIG1lIGluIiwiZGVhciBjb29raWUiLCJkZWFyIG1yIHZlcm5vbiIsImRlYXIgc2lyIiwiZGVlcCB0aG91Z2h0IiwiZGVlcCB3YXRlcnMiLCJkaGFybWEgaW5pdGlhdGl2ZSIsImRpY2VkIG9uaW9uIiwiZGlkZGx5IHNxdWF0IiwiZGlnaXRhbCBjbG9jayIsImRpbmcgYSBsaW5nIiwiZGlubmVyIGJlbGwiLCJkaW5vc2F1ciBzcGFjZXNoaXAiLCJkaXNoIHdhdGVyIiwiZG8gYSBsaXR0bGUgZGFuY2UiLCJkbyBiZSBkbyBiZSBkbyIsImRvIGl0IG5vdyIsImRvIG1vcmUgc2l0dXBzIiwiZG8gbm90IHRvdWNoIiwiZG8gb3IgZG8gbm90IiwiZG8gdW50byBvdGhlcnMiLCJkbyB3YWggZGl0dHkiLCJkbyB5b3UgYmVsaWV2ZSBpbiBtaXJhY2xlcyIsImRvIHlvdSBsb3ZlIG1lIiwiZG9jdG9yIGNhbGlnYXJpIiwiZG9jdG9yIHdobyIsImRvY3RvciB3aG8/IiwiZG9lIGEgZGVlciIsImRvZyBkYXlzIiwiZG9nJ3MgYnJlYWtmYXN0IiwiZG9nJ3MgZGlubmVyIiwiZG9nYXB1cyIsImRvZ3MgYW5kIGNhdHMgbGl2aW5nIHRvZ2V0aGVyIiwiZG9sbGFyIGJpbGwiLCJkb2xsYXIgc2lnbnMiLCJkb2xsYXJzIHRvIGRvbnV0cyIsImRvbWVzdGljIHNweWluZyIsImRvbid0IGJlIGxhdGUiLCJkb24ndCBjb3VudCBvbiBpdCIsImRvbid0IGRhd2RsZSIsImRvbid0IHN0b3AiLCJkb24ndCB3YXN0ZSB0aW1lIiwiZG9uZSB0aGF0IiwiZG9ua2V5J3MgeWVhcnMiLCJkb29kYWggbWFuIiwiZG91YmxlIGNyb3NzIiwiZG91YmxlIGNyb3NzZWQiLCJkb3VibGUgZHV0Y2giLCJkb3VibGUganVtcCIsImRvdWJsZSByYWluYm93IiwiZG91YmxlIHRpbWUiLCJkb3VibGUgd2hhbW15IiwiZG93biB0aGUgaGF0Y2giLCJkb3duIHRoZSByYWJiaXQgaG9sZSIsImRvd253YXJkIHNsb3BlIiwiZHJhZyByYWNlIiwiZHJhZ29uIHdpdGggbWF0Y2hlcyIsImRyYWdvbmZseSIsImRyYW1hdGljIGNoaXBtdW5rIiwiZHJhdyBhIGJsYW5rIiwiZHJhd2luZyBib2FyZCIsImRyZWFtIGJpZyIsImRyaW5rIG1pbGsiLCJkcml2ZSBtZSB0byBmaXJlbnplIiwiZHJvcCB0YWJsZSB1c2VycyIsImRydW1oZWFkIiwiZHJ1bW1lciBib3kiLCJkcnkgY2xlYW4gb25seSIsImR1ZWxpbmcgYmFuam9zIiwiZHVzayB0aWxsIGRhd24iLCJkdXN0IGJ1bm55IiwiZHVzdCB1cCIsImR1dmV0IGRheSIsImR5bmFtbyBjbG9jayIsImVhciBjYW5keSIsImVhciBtYXJrIiwiZWFyIG11ZmZzIiwiZWFzeSBhcyBjYWtlIiwiZWFzeSBhcyBwaWUiLCJlYXN5IHBlYXN5IiwiZWFzeSBzdHJlZXQiLCJlYXQgY291cyBjb3VzIiwiZWF0IG91dCIsImVhdCB5b3VyIGRpbm5lciIsImVhdCB5b3VyIHZlZ2dpZXMiLCJlYXQgeW91ciB2aXRhbWlucyIsImVja3Mgd2h5IHplZSIsImVkZ2FyIGRlZ2FzIiwiZWdnIG9uIiwiZWdncyB0ZXIgbWluYXRlIiwiZWlnaHR5IHNpeCIsImVsZWN0cm8gaGVhZCIsImVsZXZhdG9yIGdvaW5nIHVwIiwiZW1wZXJvcidzIGNsb3RoZXMiLCJlbXBpcmUgc3RhdGUgb2YgbWluZCIsImVuZCBvZiBzdG9yeSIsImVuZ2xpc2ggbXVmZmluIiwiZW5qb3kgbGlmZSIsImVybWFoZ2VyZCBjYXBjaGVyIiwiZXZpbCBleWUiLCJldmlsIGdlbml1cyIsImV4Y2VlZGluZ2x5IHdlbGwgcmVhZCIsImV4Y2xhbWF0aW9uIiwiZXhlcmNpc2UgbW9yZSIsImV4dHJhIGNoZWVzZSIsImZhY2UgdGhlIG11c2ljIiwiZmFjZSB0byBmYWNlIiwiZmFkZSBhd2F5IiwiZmFpciBhbmQgc3F1YXJlIiwiZmFpciBwbGF5IiwiZmFpcnkgZ29kbW90aGVyIiwiZmFpcnkgdGFsZSIsImZhaXQgYWNjb21wbGkiLCJmYWxsIGd1eSIsImZhbGxpbmcgcGlhbm9zIiwiZmFuY3kgZnJlZSIsImZhbmN5IHBhbnRzIiwiZmFyIGF3YXkiLCJmYXJzaWNhbCBhcXVhdGljIGNlcmVtb255IiwiZmFzaGlvbiB2aWN0aW0iLCJmYXN0IGFuZCBsb29zZSIsImZhc3QgYXNsZWVwIiwiZmF0aGVyIHRpbWUiLCJmYXRoZXIgdW5jbGUiLCJmYXRob20gb3V0IiwiZmF2YSBiZWFucyIsImZlZWRpbmcgZnJlbnp5IiwiZmVlbGluZyBibHVlIiwiZmVsbG93IHRyYXZlbGxlciIsImZlemVzIGFyZSBjb29sIiwiZmllbGQgZGF5IiwiZmlmdGggY29sdW1uIiwiZmlsbCBpdCB1cCIsImZpbHRoeSBkaXJ0eSBtZXNzIiwiZmlsdGh5IHJpY2giLCJmaW5hZ2xlJ3MgbGF3IiwiZmluYWwgYW5zd2VyIiwiZmluZ2VyIGxpY2tpbiBnb29kIiwiZmlyZSBicmltIHN0b25lIiwiZmlyZWNyYWNrZXIiLCJmaXJzdCBjb250YWN0IiwiZmlyc3QgcG9zdCIsImZpcnN0IHdhdGVyIiwiZmlyc3Qgd29ybGQiLCJmaXNoIGFuZCBjaGlwcyIsImZpc2ggb24iLCJmaXNoeSBzbWVsbCIsImZsYWcgZGF5IiwiZmxhdCBmb290IiwiZmxhdCBvdXQiLCJmbGF0IHRpcmUiLCJmbGlwYWRlbHBoaWEiLCJmbGlwZmxvcHMiLCJmbHV4IGNhcGFjaXRvciIsImZvbGxvdyBtZSIsImZvbHNvbSBwcmlzb24iLCJmb29sJ3MgcGFyYWRpc2UiLCJmb29scyBnb2xkIiwiZm9yIGtlZXBzIiwiZm9yIHN1cmUiLCJmb3IgdGhlIGJpcmRzIiwiZm9yIHRoZSBncmlwcGVyIiwiZm9yYmlkZGVuIGZydWl0IiwiZm9yZWdvbmUgY29uY2x1c2lvbiIsImZvcmdldCB0aGlzIiwiZm9yZ2V0IHlvdSIsImZvcmsga25pZmUgc3Bvb24iLCJmb3J0eSB0d28iLCJmb3VsIHBsYXkiLCJmb3VyIGJ5IHR3byIsImZyYWJqb3VzIGRheSIsImZyYW5jZSIsImZyYW5rbHkgbXkgZGVhciIsImZyZWUgaGF0IiwiZnJlZXppbmcgdGVtcGVyYXR1cmVzIiwiZnJlbmNoIGZyaWVkIiwiZnJlbmNoIGZyaWVzIiwiZnJlbmNoIHBocmFzZXMiLCJmcmVzaCB3YXRlciIsImZyaWVkIGljZXMiLCJmcmllZCByaWNlIiwiZnJpZW5kIHpvbmUiLCJmcm96ZW4gcGVhcyIsImZydWl0IHNhbGFkIiwiZnVkZHkgZHVkZHkiLCJmdWxsIGhvdXNlIiwiZnVsbCBtb250eSIsImZ1bGwgb2Ygc3RhcnMiLCJmdWxsIHN0b3AiLCJmdWxsIHRpbHQiLCJmdW4gd2l0aCBmbGFncyIsImZ1bm55IGZhcm0iLCJmdXNpbGxpIGplcnJ5IiwiZnV6enkgd3V6enkiLCJnYWR6b29rcyIsImdhbWUgaXMgdXAiLCJnYW5nbmFtIHN0eWxlIiwiZ2FyZGVuIG9mIGVkZW4iLCJnYXJsaWMgeXVtIiwiZ2F0aGVycyBtb3NzIiwiZ2VlIGxvdWlzZSIsImdlZSB3aGl6IiwiZ2VleiBsb3Vpc2UiLCJnZW5lIHBhcm1lc2FuIiwiZ2VuZXJhbCB0c28iLCJnZW5lcmF0aW9uIHgiLCJnZW5naGlzIGtoYW4iLCJnZW9yZ2Ugd2FzaGluZ3RvbiIsImdldCBvdXQiLCJnZXQgb3ZlciBpdCIsImdldCB3ZWxsIiwiZ2V0IHlvdXIgZ29hdCIsImdpYW50IGJ1bm55IHJhYmJpdCIsImdpYW50IHBhbmRhIiwiZ2lkZHkgZ29hdCIsImdpZnQgaG9yc2UiLCJnaW1tZSBwaXp6YSIsImdpbmdlciBicmVhZCIsImdpdmUgb3IgdGFrZSIsImdsYXNzIGNlaWxpbmciLCJnbGF6ZWQgZG9udXQiLCJnbG9iYWwgd2FybWluZyIsImdvIGJlcnNlcmsiLCJnbyBmdXJ0aGVyIiwiZ28gZ2FkZ2V0IGdvIiwiZ29lcyB0byBlbGV2ZW4iLCJnb2xkIG1lZGFsIiwiZ29sZCByZWNvcmQiLCJnb2xseSBqZWVwZXJzIiwiZ29uZSBkb2xhbGx5IiwiZ29uZSBmaXNoaW5nIiwiZ29vZCBhZnRlcm5vb24iLCJnb29kIGFzIGdvbGQiLCJnb29kIGJ1ZGR5IiwiZ29vZCBkYXkiLCJnb29kIGV2ZW5pbmciLCJnb29kIGZvciBub3RoaW5nIiwiZ29vZCBncmllZiIsImdvb2Qgam9iIiwiZ29vZCBsdWNrIiwiZ29vZCBtb3JuaW5nIiwiZ29vZCBuaWdodCIsImdvb2QgbmlnaHQgYW5kIGdvb2QgbHVjayIsImdvb2QgcmlkZGFuY2UiLCJnb29kIHNhbWFyaXRhbiIsImdvb2Qgd29yayIsImdvb2R5IGdvb2R5IGd1bWRyb3BzIiwiZ29vZHkgZ3VtZHJvcCIsImdvb2R5IHR3byBzaG9lcyIsImdvb3NlYnVtcHMiLCJnb3Jkb24gYmVubmV0dCIsImdvdCBteSBtb2pvIiwiZ290aGFtIGNpdHkiLCJnb3RoaWMgYXJjaCIsImdvdGhpYyBjaHVyY2giLCJncmFpbiBvZiBzYWx0IiwiZ3JhbmQgc2xhbSIsImdyYXBlIHNvZGEiLCJncmFzcyB1cCIsImdyYXZleWFyZCBzaGlmdCIsImdyYXZ5IHRyYWluIiwiZ3JlYXNlIHRoZSBza2lkcyIsImdyZWFzZWQgbGlnaHRuaW5nIiwiZ3JlYXQgc2NvdHQiLCJncmVhdCB1bndhc2hlZCIsImdyZWdvcnkgcGVjayIsImdyaWRsb2NrIiwiZ3JpbGxlZCBjaGVlc2UiLCJncm91bmRob2cgZGF5IiwiZ3J1bXB5IGNhdCIsImd1aW5lYSBwaWciLCJndWl0YXIgcGxheWVyIiwiZ3VtIHNob2UiLCJndW5nIGhvIiwiaGFic29ucyBjaG9pY2UiLCJoYWQgYSBncmVhdCBmYWxsIiwiaGFkIG1lIGF0IGhlbGxvIiwiaGFpcnkgZXllYmFsbCIsImhhbGN5b24gZGF5cyIsImhhbGYgZG9uZSIsImhhbGYgZW1wdHkiLCJoYWxmIGZ1bGwiLCJoYWxmIGluY2giLCJoYWxsb3dlZCBncm91bmQiLCJoYWxwIG1laCIsImhhbSBhbmQgY2hlZXNlIiwiaGFtYnVyZ2VyIGJ1biIsImhhbW1lciB0aW1lIiwiaGFuZCBvdmVyIGZpc3QiLCJoYW5kcyBkb3duIiwiaGFuZ2VycyBhbmQgbWFzaCIsImhhcHB5IGFubml2ZXJzYXJ5IiwiaGFwcHkgYmxlc3NpbmdzIiwiaGFwcHkgY2xhcHB5IiwiaGFwcHkgcmV0aXJlbWVudCIsImhhcHB5IHRyYWlscyIsImhhcmQgY2FwdGNoYSBpcyBoYXJkIiwiaGFyZCBjaGVlc2UiLCJoYXJkIGxpbmVzIiwiaGFyZCBzaGFycCIsImhhcmRlbmVkIHByZXN0b29wbmlja3MiLCJoYXJwIG9uIiwiaGFzdGUgbWFrZXMgd2FzdGUiLCJoYXQgaGVhZCIsImhhdCB0cmljayIsImhhdmUgYSBwdXJwb3NlIiwiaGF2ZSBhbiBpbmtsaW5nIiwiaGF2ZSBjb3VyYWdlIiwiaGF2ZSBmdW4iLCJoZSBsb3ZlcyBoZXIiLCJoZWFkIGNhc2UiLCJoZWFkIGhvbmNobyIsImhlYWQgb3ZlciBoZWVscyIsImhlYWRzIHVwIiwiaGVhbHRoIGZvb2QiLCJoZWFsdGh5IGZvb2QiLCJoZWFyIGhlYXIiLCJoZWFyIG1lIHJvYXIiLCJoZWFydCBicmVhayIsImhlYXJ0IHN0cmluZ3MiLCJoZWFydCdzIGNvbnRlbnQiLCJoZWFydGFjaGUiLCJoZWF0IHVwIiwiaGVhdGVkIGRlYmF0ZSIsImhlYXZlbnMgdG8gYmV0c3kiLCJoZWF2eSBtZXRhbCIsImhlZWJpZSBqZWViaWVzIiwiaGVsbG8gbmV3bWFuIiwiaGVsbG8gc3dlZXRpZSIsImhlbGxvIHdhdHNvbiIsImhlbGxvIHdvcmxkIiwiaGVyZSBvciB0aGVyZSIsImhlcmUncyBqb2hubnkiLCJoZXkgYnJvdGhlciIsImhpZ2dsZWR5IHBpZ2dsZWR5IiwiaGlnZ3MgYm9zb24iLCJoaWdoIGRlZiIsImhpZ2ggZml2ZSIsImhpZ2ggZmx5ZXIiLCJoaWdoIGhvcnNlIiwiaGlnaCBzbGVlcGVyIiwiaGlnaCB0aW1lIiwiaGltIHdpdGggaGVyIiwiaGlzc3kgZml0IiwiaGlzdG9yeSByZXBlYXRzIGl0c2VsZiIsImhpdCB0aGUgaGF5IiwiaGl0IHRoZSBzYWNrIiwiaG9hZ2llIHJvbGwiLCJob2JieSBob3JzZSIsImhvYnNvbidzIGNob2ljZSIsImhvY3VzIHBvY3VzIiwiaG9pIHBvbGxvaSIsImhvaXR5LXRvaXR5IiwiaG9sZCB5b3VyIGhvcnNlcyIsImhvbGQgeW91ciB0b25ndWUiLCJob21lIGphbWVzIiwiaG9uZXkgbXVzdGFyZCIsImhvb3JheSBoZW5yeSIsImhvcHMgYSBkYWlzeSIsImhvcnNlIGFuZCBjYXJ0IiwiaG9yc2UncyBtb3V0aCIsImhvdCBibG9vZGVkIiwiaG90IGRpZ2dpdHkgZG9nIiwiaG90IGRvZyByb2xsIiwiaG90IHBvbGEiLCJob3Qgc2F1Y2UiLCJob3ZlciBoYW5kIiwiaG93IGFib3V0IGx1bmNoIiwiaG93IGFib3V0IHRoYXQiLCJob3cgYXJlIHlvdSIsImhvdyBpbnRlcmVzdGluZyIsImhvdyBub3csIGJyb3duIGNvdyIsImhvdyBxdWFpbnQiLCJob3cgc3dlZXQiLCJob3cncyBpdCBnb2luZyIsImhvd2R5IHBhcnRuZXIiLCJodWcgbWUiLCJodWdnbGUgbXVnZ2xlIiwiaHVsayBzbWFzaCIsImh1bmt5LWRvcnkiLCJodXNoIHB1cHBpZXMiLCJpIGFtIGNhcHRjaGEiLCJpIGFtIGZpbmUiLCJpIGFtIGhlcmUiLCJpIGNhbiBkbyB0aGlzIiwiaSBjYW4gZml4IGl0IiwiaSBoYXZlIGZhbGxlbiIsImkga25vdyBub3RoaW5nIiwiaSBsaWtlIGh1bWFucyIsImkgbGlrZSBwZW9wbGUiLCJpIGxpa2UgdHVydGxlcyIsImkgbGlrZSB5b3UiLCJpIGxvdmUgZGVhZGxpbmVzIiwiaSBsb3ZlIGxhbXAiLCJpIGxvdmUgeW91IiwiaSBtYWRlIHRlYSIsImkgbW91c3RhY2hlIHlvdSB3aHkiLCJpIHNhdyB0aGF0IiwiaSBzZWUiLCJpIHRoaW5rIGkgYW0iLCJpIHRoaW5rIGkgY2FuIiwiaSB0aGluayBzbyIsImkgd2FudCBjb250cm9sIiwiaSdsbCBtYWtlIHRlYSIsImknbSBiYXRtYW4iLCJpJ20gYmxlc3NlZCIsImknbSBibHVzaGluZyIsImknbSBjb2xkIGJyciIsImknbSBvbmx5IGh1bWFuIiwiaSdtIHNvIGNvbGQiLCJpJ20gc29ycnkiLCJpJ20gc29ycnkgZGF2ZSIsImknbSB5b3VycyIsImljZSB0byBtZWV0IHlvdSIsImlkayBteSBiZmYgamlsbCIsImlmIGl0IGZpdHMiLCJpbSBjb2xkLiBicnIiLCJpbWFnaW5lIGluc3BpcmUgY3JlYXRlIiwiaW4gYSBib3giLCJpbiBsaW1ibyIsImluIG92ZXIgbXkgaGVhZCIsImluIHNwYWRlcyIsImluIHN0aXRjaGVzIiwiaW4gdGhlIGFpciIsImluIHRoZSBib3giLCJpbiB0aGUgY2FydCIsImluIHRoZSBjbHViIiwiaW4gdGhlIGRvbGRydW1zIiwiaW4gdGhlIGxpbWVsaWdodCIsImluZHVzdHJpYWwgcmV2b2x1dGlvbiIsImluZnJhIGRpZyIsImluc2lkZSBvdXQiLCJpcyBpdCBlbm91Z2giLCJpcyBpdCBob3QiLCJpcyBpdCBob3Q/IiwiaXMgaXQgaG90IGluIGhlcmUiLCJpcyBpdCBwbHVnZ2VkIGluIiwiaXMgbG93IiwiaXQgZG9lc24ndCBjb3VudCIsIml0IGhhcHBlbnMiLCJpdCBodXJ0cyIsIml0IGlzIGNlcnRhaW4iLCJpdCBpcyBlbm91Z2giLCJpdCB3aWxsIHBhc3MiLCJpdCdzIG92ZXIiLCJpdCdzIHN1cGVyIGVmZmVjdGl2ZSIsIml2b3J5IHRvd2VyIiwiamFiYmVyIHdvY2t5IiwiamFjayBiZSBuaW1ibGUiLCJqYW0gdG9tb3Jyb3ciLCJqYXkgZ2F0c2J5IiwiamVyayBzdG9yZSIsImplcnJ5IGJ1aWx0IiwiamltbXkgY3JpY2tldCIsImppbW15IGhvcm5lciIsImpvaG4gbGVubm9uIiwiam9obiBzdGVpbmJlY2siLCJqdW1wIGhpZ2hlciIsImp1bXAgb3ZlciIsImp1bXAgdGhlIGNhbmRsZXN0aWNrIiwianVtcCB0aGUgZ3VuIiwianVtcGluZyBqYWNrIiwianVuZSBqdWx5IiwianVzdCBkYW5jZSIsImp1c3QgZGVzZXJ0cyIsImp1c3QgZHJpdmUiLCJqdXN0IGZyaWVuZHMiLCJqdXN0IGluIHRpbWUiLCJrYW5nYXJvbyBjb3VudCIsImthcm1hIHBvaW50cyIsImtlZXAgY2FsbSIsImtleWJvYXJkIiwia2V5Ym9hcmQgY2F0Iiwia2h5YmVyIHBhc3MiLCJraWNrIHRoZSBjYW4iLCJraWNrIHlvdXIgaGVlbHMiLCJraW5kbmVzcyBvZiBzdHJhbmdlcnMiLCJraW5nIGFydGh1ciIsImtpc3MgbWUiLCJraXR0ZW4gbWl0dGVucyIsImtpdHR5IGthdCIsImtsYXR1IGJlcmFkYSBuaWt0byIsImtuaWNrIGtuYWNrIiwia25vY2sgYXQgdGhlIGRvb3IiLCJrbm9jayBiYWNrIiwia25vY2sga25vY2sga25vY2sgcGVubnkiLCJrbm9jayBvZmYiLCJrbm9jayBvbiB3b29kIiwia25vdyB0aGUgcm9wZXMiLCJrbm93IHRoeSBzZWxmIiwia25vdyB5b3VyIHBhcmFkb3hlcyIsImtub3cgeW91ciByaWdodHMiLCJrbnVja2xlIGRvd24iLCJrb3NoZXIgZGlsbCIsImt1bmRhbGluaSBleHByZXNzIiwibGFib3VyIG9mIGxvdmUiLCJsYWRpZXMgZmlyc3QiLCJsYWdlciBmcmVuenkiLCJsYW1lIGR1Y2siLCJsYXJkeS1kYXJkeSIsImxhcmsgYWJvdXQiLCJsYXNlciBiZWFtcyIsImxhc3Qgc3RyYXciLCJsYXRlciBnYXRvciIsImxhdWdoIGF0IG1lIiwibGF3IG9mIHNpbmVzIiwibGF3biBnaWxhbmQiLCJsYXp5IHN1bmRheSIsImxlYXAgaGlnaGVyIiwibGVhcHMgYW5kIGJvdW5kcyIsImxlYXJuIGNoYWxsZW5nZSBpbXByb3ZlIiwibGVhcm4gZnJvbSBtaXN0YWtlcyIsImxlYXJuIHN1Y2NlZWQiLCJsZWFybiB0aGUgcm9wZXMiLCJsZWFybiwgYWR2YW5jZSIsImxlYXZlIGJyaXRuZXkgYWxvbmUiLCJsZWF2ZSBtZSBhbG9uZSIsImxlZnQgb3IgcmlnaHQiLCJsZWZ0IHJpZ2h0IiwibGVmdHkgbG9vc2V5IiwibGVzcyBpcyBtb3JlIiwibGV0IGdvIiwibGV0IGl0IGJlIiwibGV0IG1lIGtub3ciLCJsZXQgbWUgb3V0IiwibGV0cyBlYXQiLCJsZXZlbCBwbGF5aW5nIGZpZWxkIiwibGliZXJ0eSBiZWxsIiwibGlicmFyeSBib29rIiwibGlja2V0eSBzcGxpdCIsImxpZSBsb3ciLCJsaWdodCBzbGVlcGVyIiwibGlrZSBhIGJvc3MiLCJsaWtlIHRoZSBkaWNrZW5zIiwibGluZWFyIGFsZ2VicmEiLCJsaXR0bGUgYmlyZCB0b2xkIG1lIiwibGl0dGxlIGJvYmJ5IHRhYmxlcyIsImxpdHRsZSBkaWQgaGUga25vdyIsImxpdHRsZSBzaXN0ZXIiLCJsaXZlIGZyZWUiLCJsaXZlIGluIHRoZSBtb21lbnQiLCJsaXZlIGluIHRoZSBub3ciLCJsaXZlIGxpZmUiLCJsaXZlIGxvbmcgKyBwcm9zcGVyIiwibGl2ZSBsb3ZlIGludGVybmV0IiwibGl2ZSBsb3ZlIHR5cGUiLCJsaXZlIHRyYW5zbWlzc2lvbiIsImxpdmUgd2l0aCBwdXJwb3NlIiwibGl2ZSB5b3VyIGRyZWFtIiwibGl2aW5nIGRheWxpZ2h0cyIsImxpdmluZyB0aGluZ3MiLCJsaXphcmQgcG9pc29ucyBzcG9jayIsImxvIGFuZCBiZWhvbGQiLCJsb2FmIG9mIGJyZWFkIiwibG9jYWwgZGVyYnkiLCJsb2wgY2F0IiwibG9sbGVyc2thdGVzIiwibG9sbHkgcG9wIiwibG9uZG9uIGNhbGxpbmciLCJsb25nIGRpdmlzaW9uIiwibG9uZyBpbiB0aGUgdG9vdGgiLCJsb29rIGF3YXkiLCJsb29rIGJlZm9yZSBjcm9zc2luZyIsImxvb2sgYm90aCB3YXlzIiwibG9va2luZyBnbGFzcyIsImxvc2UgZmFjZSIsImxvc3QgbG92ZSIsImxvdWQgbXVzaWMiLCJsb3ZlIGlzIGF1dG9tYXRpYyIsImxvdmUgaXMgYmxpbmQiLCJsb3ZlIGxpZmUiLCJsb3ZlIG1lIiwibG92ZSB5b3UiLCJsb3ZlLWhhdGUiLCJsb3ZleSBkb3ZleSIsImx1Y2lsbGUgMiIsImx1Y2t5IHlvdSIsImx1ZHdpZyB2YW4iLCJsdW1weSBncmF2eSIsImx1bmF0aWMgZnJpZGdlIiwibHVuY2ggdGltZSIsImx1bmNoIHR1ZXNkYXkiLCJtYWQgaGF0dGVyIiwibWFkIHNjaWVuY2UiLCJtYWdpYyBkZWNvZGVyIHJpbmciLCJtYWdpYyBlaWdodCBiYWxsIiwibWFnaWNhbCByZWFsaXNtIiwibWFnbmV0aWMgbW9ub3BvbGUiLCJtYWluIGNoYW5jZSIsIm1ham9yIGludGVyc2VjdGlvbiIsIm1ha2UgYSBiZWUgbGluZSIsIm1ha2UgaGFzdGUiLCJtYWtlIGl0IHNvIiwibWFrZSBteSBkYXkiLCJtYW55IGhhcHB5IHJldHVybnMiLCJtYW55IHdpc2hlcyIsIm1hcGxlIHN5cnVwIiwibWFyYmxlIHJ5ZSIsIm1hcmNpYSBtYXJjaWEgbWFyY2lhIiwibWFyZSdzIG5lc3QiLCJtYXJnaW4gb2YgZXJyb3IiLCJtYXJrIGl0IHplcm8iLCJtYXJrZXQgZm9yY2VzIiwibWFycnkgbWUiLCJtYXJzIHJvdmVyIiwibWF0aCB0ZXN0IiwibWF5YW4gcnVpbnMiLCJtZWEgY3VscGEiLCJtZWF0IGFuZCBkcmluayIsIm1lYXQgd2l0aCBncmF2eSIsIm1lZGRsaW5nIGtpZHMiLCJtZWRpYSBmcmVuenkiLCJtZWxvZHkgcG9uZCIsIm1lbiBpbiBzdWl0cyIsIm1lbmQgZmVuY2VzIiwibWVvdyBtZW93IiwibWV0cm9wb2xpcyIsIm1leGljYW4gd2F2ZSIsIm1pY2tleSBmaW5uIiwibWlsZXMgdG8gZ28iLCJtaWxrIHdhcyBhIGJhZCBjaG9pY2UiLCJtaWxrc2hha2UiLCJtaWxsaW9uIGRvbGxhcnMiLCJtaWxva28gcGx1cyIsIm1pbG9rbyBwbHVzIHZlbGxvY2V0IiwibWltc3kgYm9yb2dvdmVzIiwibWluY2VkIG9hdGhzIiwibWluZCB0aGUgZ2FwIiwibWludHkgZnJlc2giLCJtaXNoLW1hc2giLCJtaXNzIHlvdSIsIm1pc3RlciB3aWxzb24iLCJtb2Rlcm4gbG92ZSIsIm1vZSdzIHRhdmVybiIsIm1vbSBhbmQgZGFkIiwibW9uZXkgbGVuZGVyIiwibW9vIHNob28gcG9yayIsIm1vb24gY2hlZXNlIiwibW9vdCBwb2ludCIsIm1vcmUgYmV0dGVyIiwibW9yZSBjaG9jb2xhdGUiLCJtb3JlIGNvZmZlZSIsIm1vcmUgY293IGJlbGwiLCJtb3JlIGludGVybmV0cyIsIm1vcm5pbmcgcGVyc29uIiwibW9zdCBpbnRlcmVzdGluZyBtYW4iLCJtb3N0IGxpa2VseSIsIm1vdGhlciBjb3VudHJ5IiwibW90aGVyIGVhcnRoIiwibW90bGV5IGNyZXciLCJtb3V0aCB3YXRlcmluZyIsIm1vdmUgYWxvbmciLCJtb3ZlIG1vdW50YWlucyIsIm1vdmUgb3ZlciIsIm1vdmVhYmxlIGZlYXN0IiwibW92ZXJzIGFuZCBzaGFrZXJzIiwibW92aWUgc3RhciIsIm1ycyByb2JpbnNvbiIsIm11ZmZsZWQgcmFwIG11c2ljIiwibXVsdGkgcGFzcyIsIm11bSdzIHRoZSB3b3JkIiwibXVtYm8ganVtYm8iLCJtdXJwaHkncyBsYXciLCJtdXNoeSBwZWFzIiwibXVzaWMgbWFjaGluZSIsIm11c3RhY2hpb2VkIiwibXkgYmFkIiwibXkgYmVhdGluZyBoZWFydCIsIm15IGJldHRlciBoYWxmIiwibXkgZGVhciB3YXRzb24iLCJteSBmcmllbmRzIGNhbid0IGRhbmNlIiwibXkgbWluZCdzIGV5ZSIsIm15IHNvdXJjZXMgc2F5IG5vIiwibmFpc2UgY2FpbiIsIm5hbWJ5LXBhbWJ5IiwibmFtZSBkcm9wIiwibmFub28gbmFub28iLCJuYXAgdGltZSIsIm5hcnJvdyBtaW5kZWQiLCJuYXV0aWNhbCBwaHJhc2VzIiwibmUgcmVncmV0cyIsIm5lYXIgdGFubmhhdXNlciBnYXRlIiwibmVhcnQgc3RyaW5ncyIsIm5lY2tiZWFyZCIsIm5lZWQgYSBiaWdnZXIgYm9hdCIsIm5lZWRzIG11c3QiLCJuZXJjb2xhcyBjZXJnIiwibmVzdCBlZ2ciLCJuZXZlciBnaXZlIHVwIiwibmV2ZXIgZ29ubmEgZ2l2ZSB5b3UgdXAiLCJuZXZlciBtaW5kIiwibmV2ZXIgcXVpdCIsIm5ldyB5b3JrIGNpdHkiLCJuaWNlIGpvYiIsIm5pY2UgbWFybW90IiwibmljZSB0byBtZWV0IHlvdSIsIm5pZ2h0IG93bCIsIm5pcCBhbmQgdHVjayIsIm5pdHR5IGdyaXR0eSIsIm5vIGJyYWluZXIiLCJubyBjcnlpbmcgaW4gYmFzZWJhbGwiLCJubyBkaWNlIiwibm8gZnJpZW5kIG9mIG1pbmUiLCJubyBob2xkcyBiYXJyZWQiLCJubyBtZWFucyBubyIsIm5vIHJlZ3JldHMiLCJubyBzb3VwIGZvciB5b3UiLCJubyBzcG9vbiIsIm5vIHN0aW5raW5nIGJhZGdlcyIsIm5vIHRpbWUgdG8gZXhwbGFpbiIsIm5vIHdheSIsIm5vYm9keSBob21lIiwibm9uZSBvZiB0aGUgYWJvdmUiLCJub3BlIGNodWNrIHRlc3RhIiwibm9zZSBibGVlZCIsIm5vc3kgcGFya2VyIiwibm90IGEgYm90Iiwibm90IGluIGthbnNhcyIsIm5vdCB5ZXQiLCJub3cgYW5kIGZvcmV2ZXIiLCJub3cgbG9vayBoZXJlIiwibnRoIGRlZ3JlZSIsIm51bCBwb2ludHMiLCJudW1hIG51bWEiLCJudXQgY2FzZSIsIm51dHJpdGlvbiIsIm55YW4gY2F0IiwibnlxdWlzdCByYXRlIiwib2YgY291cnNlIiwib2ZmIHRoZSByZWNvcmQiLCJvaCBicm90aGVyIiwib2ggZW0gZ2VlIiwib2ggaGFpIiwib2ggc2lnaCIsIm9oIHNvIGNsb3NlIiwib2ggeWVzIiwib2ggeW91Iiwib2gseW91Iiwib2gsIHdhaXQiLCJva2V5IGRva2V5Iiwib2xkIGhhdCIsIm9sZCBtYW4gd2ludGVyIiwib2xkIHNob2UiLCJvbSBub20gbm9tIiwib24gYSBib2F0Iiwib24gY2xvdWQgbmluZSIsIm9uIHRoZSBiYWxsIiwib24gdGhlIHF0Iiwib24tb2ZmIiwib25jZSBhZ2FpbiIsIm9uY2UgdXBvbiBhIHRpbWUiLCJvbmUgZGF5IG1vcmUiLCJvbmUgZmVsbCBzd29vcCIsIm9uZSBoaXQgd29uZGVyIiwib25lIHNtYWxsIHN0ZXAgZm9yIG1hbiIsIm9uZSBzdG9wIHNob3AiLCJvbmUgd2F5Iiwib25lIHdheSBzdHJlZXQiLCJvbmUsIHR3bywgdGhyZWUiLCJvbmx5IHdheSB0byBiZSBzdXJlIiwib29udHogb29udHoiLCJvb3BzIGEgZGFpc3kiLCJvcGVuIHNlYXNvbiIsIm9wZW4gc2VzYW1lIiwib3JhbmdlIGp1aWNlIiwib3RoZXIgd29ybGRseSIsIm91dCBvZiBzb3J0cyIsIm91dCBvZiB0b25lciIsIm91dGxvb2sgZ29vZCIsIm92ZXIgdGhlIGhpbGwiLCJvdmVyIHRoZSBtb29uIiwib3ZlciB0aGUgdG9wIiwib3ZlciB0aGVyZSIsIm94Zm9yZCB1bml2ZXJzaXR5Iiwib3hvIGN1YmUiLCJwYWludCBpdCByZWQiLCJwYW5kb3JhJ3MgYm94IiwicGFudHMgb24gdGhlIGdyb3VuZCIsInBhcGVyIGphbSIsInBhcGVyIHBsYXRlIiwicGFydGlhbCBkZXJpdmF0aXZlIiwicGFydGx5IGNsb3VkeSIsInBhcnR5IG9uIGdhcnRoIiwicGFzc2luZyBsYW5lIiwicGF0Y2ggb2YgZ3Jhc3MiLCJwYXRoIGxlc3MgdGFrZW4iLCJwYXRpZW5jZSBjaGlsZCIsInBhdHR5IGNha2UiLCJwYXkgdGhlIGZlcnJ5bWFuIiwicGVhIGJyYWluIiwicGVhcmx5IHdoaXRlcyIsInBlZyBvdXQiLCJwZWxsIG1lbGwiLCJwZW5ueSBsb2FmZXIiLCJwZW9wbGUgbGlrZSBtZSIsInBlcGUgc2lsdmlhIiwicGVwcGVyIHBvdCIsInBlcHBlcm9uaSBwaXp6YSIsInBlcHBlcnMgYW5kIG9uaW9ucyIsInBlcmZlY3Qgd29ybGQiLCJwZXN0ZXIgcG93ZXIiLCJwZXRlciBvdXQiLCJwaGlsYWRlbHBoaWEiLCJwaG9uZSBob21lIiwicGljayBtZSIsInBpY2sgdXAgc3RpY2tzIiwicGlja2xlIGp1aWNlIiwicGlja2xlZCBwZXBwZXJzIiwicGljdHVyZSBwZXJmZWN0IiwicGllIGFyZSByb3VuZCIsInBpZSBhcmUgc3F1YXJlZCIsInBpZSBjaGFydCIsInBpZWNlIG9mIGNha2UiLCJwaWcncyBlYXIiLCJwaWdneWJhY2siLCJwaW4gbW9uZXkiLCJwaXBlIGRvd24iLCJwaXBlIGRyZWFtIiwicGlwaW5nIGhvdCIsInBpdHRlciBwYXR0ZXIiLCJwaXp6YSB0b3BwaW5nIiwicGxhaW4gc2FpbGluZyIsInBsYXkgYSBnYW1lIiwicGxheSBhZ2FpbiIsInBsYXkgYmFsbCIsInBsYXkgaG9va2V5IiwicGxheSBpdCBhZ2FpbiBzYW0iLCJwbGVhc2VkIGFzIHB1bmNoIiwicGxlbnR5IG9mIHRpbWUiLCJwbHVnZ2VkIG5pY2tlbCIsInBsdXMgb3IgbWludXMiLCJwb2NrZXQgc2l6ZWQiLCJwb2QgYmF5IGRvb3JzIiwicG9ldGljIGp1c3RpY2UiLCJwb2ludCBibGFuayIsInBvaW50IHRvIHBvaW50IiwicG9pbnRzIGRvbnQgbWF0dGVyIiwicG9pbnRzIGZvbnQgbWF0dGVyIiwicG9pc29uIGFwcGxlIiwicG9saXRpY2FsIHBhcnR5IiwicG9saXRpY2FseSBjb3JyZWN0IiwicG9seSdzIGNyYWNrZXIiLCJwb25kIGxpZmUiLCJwb29sIGJveSIsInBvb2wgaGFsbCIsInBvb2wgaG91c2UiLCJwb29yIGhvdXNlIiwicG9yayBwaWVzIiwicG91bmQgY2FrZSIsInBvd2VyIGRyZXNzaW5nIiwicG93ZXIgdG9vbCIsInByYWN0aWNlIG1ha2VzIHBlcmZlY3QiLCJwcmVzcyBpbnRvIHNlcnZpY2UiLCJwcmltZSB0aW1lIiwicHJpbXJvc2UgcGF0aCIsInByaW50IG91dCIsInByaW50IHBhcGVyIiwicHJpbnRlciBwYXBlciIsInByb3BhbmUgYWNjZXNzb3JpZXMiLCJwdWJsaWMgZ29vZCIsInB1ZGRpbmcgcG9wcyIsInB1ZmZ5IHNoaXJ0IiwicHVtcGtpbiBwaWUiLCJwdXBweSBkb2ciLCJwdXBweSBsb3ZlIiwicHVzaCBoYXJkZXIiLCJwdXNoIG9uIiwicHVzaCB0aGUgZWRnZSIsInB1c2ggdGhlIGVudmVsb3BlIiwicHlycmhpYyB2aWN0b3J5IiwicXVhbGl0eSB0aW1lIiwicXVlZW4gbmVmZXJ0aXRpIiwicXVlZW4gb2YgaGVhcnRzIiwicXVlZW4ncyB5YWNodCIsInF1ZXN0aW9uIGV2ZXJ5dGhpbmciLCJxdWVzdGlvbiBtYXJrIiwicXVpZCBwcm8gcXVvIiwicXVvdGF0aW9ucyIsInJhY2sgYW5kIHJ1aW4iLCJyYWNrIHlvdXIgYnJhaW5zIiwicmFpbiBnbyBhd2F5IiwicmFpbiB0b25pZ2h0IiwicmFpbnkgZGF5cyIsInJhaXNlIGNhaW4iLCJyYXNwYmVycnkgdGFydCIsInJlYWNoIGhpZ2hlciIsInJlYWQgYWxsIG92ZXIiLCJyZWFkIG1lLCB3cml0ZSBtZSIsInJlYWQgbXkgbWFpbCIsInJlYWR5IHNldCBnbyIsInJlYWwgaG9vcHkgZnJvb2QiLCJyZWFsIG1jY295IiwicmVkIGhlcnJpbmciLCJyZWQgdGFwZSIsInJlZCB3aGl0ZSBhbmQgYmx1ZSIsInJlZC1oYW5kZWQiLCJyZWR1cGxpY2F0ZWQgcGhyYXNlcyIsInJlbWFpbiBjYWxtIiwicmVudC1hLXN3YWciLCJyZXNwZWN0IG1lIiwicmV0dXJuIHRvIHNlbmRlciIsInJldmVyc2UgdGhlIHBvbGFyaXR5Iiwicmhpbm8gYmVldGxlIiwicmhvZGVpc2xhbmQiLCJyaHltZSBub3IgcmVhc29uIiwicmh5bWluZyBzbGFuZyIsInJpY2UgYW5kIGJlYW5zIiwicmljZSBqb2IiLCJyaWRlIHRoZSBzdWJ3YXkiLCJyaWZmLXJhZmYiLCJyaWdodCBoYW5kIHR1cm4iLCJyaWdodCBsZWZ0IiwicmlnaHR5IHRpZ2h0eSIsInJpbmcgZmVuY2luZyIsInJpbmcgZmVucmluZyIsInJpbmt5LWRpbmsiLCJyaXNlIGFuZCBzaGluZSIsInJpdmVyIHNvbmciLCJyaXZlciBzdHl4Iiwicm9hZCBhcHBsZXMiLCJyb2FkIGxlc3MgdHJhdmVsbGVkIiwicm9hc3QgYmVlZiIsInJvYmUgb2Ygc2FmZnJvbiIsInJvY2tldCBzY2llbmNlIiwicm9kZW50cyBvZiB1bnVzdWFsIHNpemUiLCJyb2ZsY29wdGVyIiwicm9sbCBhZ2FpbiIsInJvbGwgb3ZlciIsInJvbGxlciBza2F0ZXMiLCJyb2xsaW5nIHN0b25lIiwicm9vZnRvcCIsInJvb20gZm9yIGFjdGl2aXRpZXMiLCJyb29tbWF0ZSBhZ3JlZW1lbnQiLCJyb290IGJlZXIgZmxvYXQiLCJyb3BlIGJ1cm4iLCJyb3NlYnVkIiwicm9zaWUgbGVhIiwicm91Z2ggZGlhbW9uZCIsInJvdW5kIG9uZSIsInJvdW5kIHJvYmluIiwicm91bmQgdGFiMWUiLCJyb3V0ZSBvbmUiLCJyb3cgYm9hdCIsInJveSBnIGJpdiIsInJveWFsIGZsdXNoIiwicnViaWNvbiBjcm9zc2VkIiwicnVsZSBvZiBjaG9taW8iLCJydWxlIG9mIHRodW1iIiwicnVtIGRvIiwicnVuIGFtb2siLCJydW4gYXdheSIsInJ1biBmYXJ0aGVyIiwicnVuIHRoZSBnYXVudGxldCIsInJ1biB0aHJvdWdoIiwicnVubnkgbm9zZSIsInNhYmVyIHRvb3RoIiwic2FjcmVkIGNvdyIsInNhZmUgc3RyZWV0cyIsInNhZmVyIHN0cmVldHMiLCJzYWZldHkgZmlyc3QiLCJzYWxhZCBkYXlzIiwic2FsdCBhbmQgcGVwcGVyIiwic2FsdHkgY2hlZXNlIiwic2FtZSBzYW1lIiwic2FuZHkgYmVhY2giLCJzYXR1cmRheSBkZXRlbnRpb24iLCJzYXVjeSIsInNhdWVyIGtyYXV0Iiwic2F1c2FnZXMiLCJzYXZlIGZhY2UiLCJzYXZlIGl0Iiwic2F2ZSBvdXIgYmx1dGhzIiwic2F2b2lyIGZhaXJlIiwic2F4IGFuZCB2aW9saW5zIiwic2F5IGNoZWVzZSIsInNjaG9vbCBpcyBjb29sIiwic2NpZW5jZSBjbGFzcyIsInNjaWVuY2UgZmFpciIsInNjaWVuY2UgaXQgd29ya3MiLCJzY2llbmNlIHByb2plY3QiLCJzY290IGZyZWUiLCJzY3JldyBkcml2ZXIiLCJzZWEgY2hhbmdlIiwic2VhIHNoZWxsIiwic2VhIHNob3JlIiwic2VhdHRsZSIsInNlZSByZWQiLCJzZWUgeWEiLCJzZWUtc2F3Iiwic2VlayBiZWF1dHkiLCJzZWVtcyBsZWdpdCIsInNlaXplIHRoZSBkYXkiLCJzZWxlY3QgZnJvbSB0YWJsZSIsInNlbmQgcGFja2luZyIsInNlbmlvciBjaXRpemVuIiwic2V2ZW4gYXRlIG5pbmUiLCJzZXZlbiBzaWducyIsInNlemUgdGhlIGRheSIsInNoYWtlIGEgbGVnIiwic2hha2VuIG5vdCBzdGlycmVkIiwic2hha2VycyBhbmQgbW92ZXJzIiwic2hhbmUgY29tZSBiYWNrIiwic2hhcnAgcGVuY2lsIiwic2hhcnAgc3RpY2siLCJzaGUgbG92ZXMgaGltIiwic2hlIHNlbGxzIiwic2hlIHNlbGxzIHNlYXNoZWxscyIsInNoZSdzIGEgd2l0Y2giLCJzaGVsZG9uIGFscGhhIGZpdmUiLCJzaGlsbHktc2hhbGx5Iiwic2hpcCBzaGFwZSIsInNob2Ugc2hpbmUiLCJzaG9lcyBzaGluZSIsInNob290IHRocm91Z2giLCJzaG91bGRlciBvZiBvcmlvbiIsInNob3cgZG93biIsInNodWZmbGUgdGhlIGRlY2siLCJzaWNrIHB1cHB5Iiwic2lnbmFsIHlvdXIgdHVybnMiLCJzaWducyBwb2ludCB0byB5ZXMiLCJzaWxlbmNlIGlzIGdvbGRlbiIsInNpbHZlciBiZWxscyIsInNpbHZlciBidWxsZXQiLCJzaWx2ZXIgaG9pbmciLCJzaWx2ZXIgbGluaW5nIiwic2lsdmVyIHNwb29uIiwic2luIGNvcyB0YW4iLCJzaW5jZSB3aGVuIiwic2luZyBhIHNvbmciLCJzaXhlcyBhbmQgc2V2ZW5zIiwic2l4dGVlbiBwb2ludCB0dXJuIiwic2tpZHJvdyIsInNraXAgYSB0dXJuIiwic2t5J3MgdGhlIGxpbWl0Iiwic2t5bmV0IGlzIHdhdGNoaW5nIiwic2t5bmV0IGtub3dzIiwic2t5bmV0IHdhdGNoZXMiLCJzbGVlcCB0aWdodCIsInNsZWVweSBob2xsb3ciLCJzbGlteSBnb29wIiwic2xpcHBlcnkgc2xvcGUiLCJzbG9hbmUgcmFuZ2VyIiwic2xvdyBkb3duIiwic2xvdyBtaWxlbmt5IGxpemFyZHMiLCJzbHVzaCBmdW5kIiwic2x5dGh5IHRvdmVzIiwic21hbGwgZnJpZXMiLCJzbWFsbCBmcnkiLCJzbWFydCBjYXN1YWwiLCJzbWFydCBwaG9uZSIsInNtYXNoZWQgcG90YXRvIiwic21lbGwgdGhhdCIsInNtZWxsaW5nIHNhbHQiLCJzbW9rZWQgc2FsbW9uIiwic25ha2UgZXllcyIsInNuYXBzaG90Iiwic25hcmUgZHJ1bSIsInNuZWV6aW5nIGJhYnkgcGFuZGEiLCJzbm9vcCBsaW9uIiwic25vdyBkcmlmdCIsInNub3cgZmx1cnJ5Iiwic25vdyBzaG92ZWwiLCJzbyBmYXIgYXdheSIsInNvIGxpZmUgbGlrZSIsInNvIHNvIiwic29kJ3MgbGF3Iiwic29mdCBraXR0eSB3YXJtIGtpdHR5Iiwic29mdCBraXR0eSwgd2FybSBraXR0eSIsInNvbWVib2R5IHRoYXQgaSB1c2VkIHRvIGtub3ciLCJzb25pYyBzY3JldyBkcml2ZXIiLCJzb3JyeSBkYXZlIiwic29ycnkgc2lnaHQiLCJzb3VmZmxlIGdpcmwiLCJzb3VuZCBiaXRlIiwic291bmQgb2Ygc2lyZW5zIiwic291bmQgb3V0Iiwic291ciBncmFwZXMiLCJzcGFjZSBpcyBiaWciLCJzcGFjZSBwbHVtYmVyIiwic3BhbmdsZWQgYmFubmVyIiwic3BlZWRpbmcgYnVsbGV0Iiwic3BlbGxpbmcgYmVlIiwic3BlbmQgdGltZSIsInNwaWNrIGFuZCBzcGFuIiwic3BpY3kiLCJzcGljeSBob3QiLCJzcGluIGRvY3RvciIsInNwaXR0aW5nIGZlYXRoZXJzIiwic3BpdHRpbmcgaW1hZ2UiLCJzcG9pbGVycyIsInNwcmVhZCB0aGUgbmV0Iiwic3ByaW5nIHdhdGVyIiwic3BydWNlIHVwIiwic3F1YXJlIG1lYWwiLCJzcXVhcmUgb25lIiwic3F1ZWFreSBjbGVhbiIsInNxdWlycmVsIGZyaWVuZCIsInN0IGpvaG5zIGJheSIsInN0YWxsYSBzdGVsbGEiLCJzdGFuZCBhbmQgZGVsaXZlciIsInN0YW5kIGJ5IG1lIiwic3RhbmQgdXAgZ3V5Iiwic3RhciBzcGFuZ2xlZCIsInN0YXIgd2FycyBraWQiLCJzdGFydCBmcm9tIHNjcmF0Y2giLCJzdGF5IHNhZmUiLCJzdGVhayBhbmQgZWdncyIsInN0ZWFtIHB1bmsiLCJzdGVlcmluZyB3aGVlbCIsInN0ZXAgYmFjayIsInN0ZXAgb3ZlciIsInN0ZXZlIGhvbHQiLCJzdGV2ZSBqb2JzIiwic3RpY2t5IHdpY2tldCIsInN0aW5nIGxpa2UgYSBiZWUiLCJzdGlua2luZyByaWNoIiwic3Rpbmt5IGZlZXQiLCJzdG9uZSBzb3VwIiwic3RvbmUncyB0aHJvdyIsInN0b255IGhlYXJ0ZWQiLCJzdG9vbCBwaWdlb24iLCJzdG9wIHdhaXN0aW5nIHRpbWUiLCJzdHJhbmdlciBkYW5nZXIiLCJzdHJlYW1zIG9mIG9jZWFudXMiLCJzdHJpa2UgYSBtYXRjaCIsInN0cmlrZSB0aHJlZSIsInN0cmluZyBhbG9uZyIsInN0cmluZyBjaGVlc2UiLCJzdHVjayBpbiBtdWQiLCJzdHVtcCB1cCIsInN1ZG8gbWFrZSBzYW5kd2ljaCIsInN1bHBodXIgc21lbGwiLCJzdW1tb24gaW5nbGlwIiwic3VuIHR6dSBzYXlzIiwic3VuZGF5Iiwic3Vuc2hpbmUiLCJzdXBlciBzdGFyIiwic3VyZiBhbmQgdHVyZiIsInN1cmZhY2UgaW50ZWdyYWwiLCJzd2FuIHNvbmciLCJzd2VldCBkcmVhbXMiLCJzd2VldHkgcGllIiwic3dpcmxpbmcgdm9ydGV4IG9mIGVudHJvcHkiLCJ0YWNvIHR1ZXNkYXkiLCJ0YWtlIGEgbG9vayIsInRha2UgYW4gdW1icmVsbGEiLCJ0YWtlIGNhcmUiLCJ0YWtlIGl0IGFsbCIsInRha2Ugb3V0IGZvb2QiLCJ0YWtlIHBvdGx1Y2siLCJ0YWtlIHRoZSBjYWtlIiwidGFrZSB1bWJyYWdlIiwidGFrZSB3cm9uZyB0dXJucyIsInRha2VuIGFiYWNrIiwidGFsayB0aGUgdGFsayIsInRhbGsgdG8gc3RyYW5nZXJzIiwidGFsayB0dXJrZXkiLCJ0YWxsIGJ1aWxkaW5nIiwidGFsbCBzdG9yeSIsInRhc3RlcyBnb29kIiwidGFzdGVzIGxpa2UgY2hpY2tlbiIsInRlYSBlYXJsIGdyYXkgaG90IiwidGVhIGxlYWYiLCJ0ZWEgd2l0aCBqYW0iLCJ0ZWEgd2l0aCBtaWxrIiwidGVhciB1cyBhcGFydCIsInRlY2huaWNvbG9yIHlhd24iLCJ0ZWZsb24gcHJlc2lkZW50IiwidGVoIGludGVyIHdlYnMiLCJ0ZW4gZm91ciIsInRlc2xhIGNvaWwiLCJ0aGFuayB5b3UiLCJ0aGFuayB5b3UsIGNvbWUgYWdhaW4iLCJ0aGF0IGVzY2FsYXRlZCBxdWlja2x5IiwidGhhdCBodXJ0cyIsInRoYXQgd2lsbCBub3Qgd29yayIsInRoYXQncyBhIGZhY3QgamFjayIsInRoYXQncyBhbGwgZm9sa3MiLCJ0aGF0J3MgZW5vdWdoIiwidGhhdCdzIGhvdCIsInRoYXQncyBpdCIsInRoYXQncyBteSBzcG90IiwidGhhdCdzIHJpZ2h0IiwidGhlIGJlZSdzIGtuZWVzIiwidGhlIGJpYmxlIiwidGhlIGJpZyBhcHBsZSIsInRoZSBiaWcgY2hlZXNlIiwidGhlIGJpZyBlYXN5IiwidGhlIGNhdCBsYWR5IiwidGhlIGNhdHMgY3JhZGxlIiwidGhlIGRlbm5pcyBzeXN0ZW0iLCJ0aGUgZHVkZSBhYmlkZXMiLCJ0aGUgZXh0cmEgbWlsZSIsInRoZSBuZXh0IGxldmVsIiwidGhlIG5pZ2h0bWFuIGNvbWV0aCIsInRoZSBvbmUgZXllZCBtYW4gaXMgYSBraW5nIiwidGhlIG90aGVyIHNpZGUiLCJ0aGUgdHJpYmUgaGFzIHNwb2tlbiIsInRoZSB5ZWxsb3cga2luZyIsInRoZXJlIGlzIG5vIHNwb29uIiwidGhlcmUgaXMgb25seSB6dWwiLCJ0aGVyZSBvbmNlIHdhcyIsInRoZXNlIHBhcnRzIiwidGhleSBhcmUgd2F0Y2hpbmciLCJ0aGV5IGF0ZSBpdCIsInRoaWNrIGFuZCB0aGluIiwidGhpbiBhaXIiLCJ0aGluayBjcmVhdGUgZG8iLCJ0aGluayBncmVlbiIsInRoaW5rIGhhcmQiLCJ0aGluayB0d2ljZSIsInRoaW5raW5nIGNhcCIsInRoaXJkIGRlZ3JlZSIsInRoaXJ0eSBvbmUgZGF5cyIsInRoaXMgaXMgaXQiLCJ0aGlzIGlzIG5vdCBmYWtlIiwidGhpcyBpcyBzcGFydGEiLCJ0aGlzIG9yIHRoYXQiLCJ0aGlzIHN0YXRlbWVudCBpcyBmYWxzZSIsInRocmVlIHNob3J0IHdvcmRzIiwidGhyZWUgc3RyaWtlcyIsInRocm91Z2ggdGhlIGdyYXBldmluZSIsInRodW1icyB1cCIsInRodW5kZXIgc3Rvcm0iLCJ0aWNrZWQgb2ZmIiwidGlja2xlIHRoZSBpdm9yaWVzIiwidGlja2xlZCBpdm9yaWVzIiwidGlja2xlZCBwaW5rIiwidGlkZSBvdmVyIiwidGlnaHQgbGlwcGVkIiwidGltZSBhbmQgcGFwZXIiLCJ0aW1lIGNpcmN1aXRzIiwidGltZSBmbGllcyIsInRpbWUgaXMgYW4gaWxsdXNpb24iLCJ0aW1lIGxvcmQiLCJ0aW1lIG1hY2hpbmUiLCJ0aW1lIHdpbGwgdGVsbCIsInRpbWVzIHNxdWFyZSIsInRpbmtlcidzIGRhbSIsInRvIGJvb3QiLCJ0b2FzdCBwb2ludHMiLCJ0b2UgdGhlIGxpbmUiLCJ0b2UtY3VybGluZyIsInRvZ2V0aGVyIGFnYWluIiwidG9vIGJhZCIsInRvbyBsYXRlIiwidG9vIG1hbnkgY29va3MiLCJ0b28gbWFueSBzZWNyZXRzIiwidG9vIHNhbHR5IiwidG9vZGxlIG9vIiwidG9wIGRvZyIsInRvcCBkcmF3ZXIiLCJ0b3Agbm90Y2giLCJ0b3AgdGVuIiwidG9wc3kgdHVydnkiLCJ0b3BzeS10dXJ2eSIsInRvdGFsIHNoYW1ibGUiLCJ0b3dlbCBkcnkiLCJ0b3dlciBvZiBzdHJlbmd0aCIsInRveSBzb2xkaWVyIiwidHJhZmZpYyBqYW0iLCJ0cmFmZmljIGxpZ2h0IiwidHJhaW4gc3VyZmluZyIsInRyYXZlbCBzaXplIiwidHJlYXQgeW9zZWxmIiwidHJpY2sgb3IgdHJlYXQiLCJ0cmlja2xlIGRvd24iLCJ0cm9sb2xvbG9sIiwidHJ1ZSBibHVlIiwidHJ1ZSBsaWZlIiwidHJ1c3QgbWUiLCJ0dWNrZXJlZCBvdXQiLCJ0dW5hIGZpc2giLCJ0dW5lIGluIiwidHVya2V5IHNhbmR3aWNoIiwidHVybiBzaWduYWwiLCJ0dXJuIHRoZSB0YWJsZXMiLCJ0dXJuIHVwIHRydW1wcyIsInR3ZW50eSBlaWdodCBkYXlzIiwidHdlbnR5IGZvdXIgc2V2ZW4iLCJ0d2VudHkgb25lIiwidHdlbnR5IHRocmVlIiwidHdvIGNlbnRzIHdvcnRoIiwidHdvIGhhbmRzIiwidHdvIGxlZnQgZmVldCIsInR3byB0b25lIiwidSBqZWxseSIsInVtYnJlbGxhIGNvcnBvcmF0aW9uIiwidW5jaGFydGVkIGlzbGFuZCIsInVuY2xlIGxlbyIsInVuZGVyIHRoZSBzZWEiLCJ1bmRlcnBhbnRzIiwidW5pb24gamFjayIsInVubGltaXRlZCB3aXNoZXMiLCJ1bnRpZWQgbGFjZXMiLCJ1bnRpbCBuZXh0IHRpbWUiLCJ1bnRpbCB0b21vcnJvdyIsInVudGlsIHRvbmlnaHQiLCJ1cCBhbmQgYXdheSIsInVwIG9yIGRvd24iLCJ1cHBlciBjcnVzdCIsInVwcGVyIGhhbmQiLCJ1cHMgYSBkYWlzeSIsInVwc2lkZSBkb3duIiwidXB2b3RlIHRoaXMiLCJ1cHdhcmQgc2xvcGUiLCJ1cmJhbiBteXRoIiwidXN1YWwgc3VzcGVjdHMiLCJ1dSBkZCBsciBsciBiYSIsInZhbiBzdXJmaW5nIiwidmFuaWxsYSBpY2UgY3JlYW0iLCJ2ZWcgb3V0IiwidmVnYW4gZGlldCIsInZlZ2FuIHpvbWJpZSB3YW50cyBncmFpbnMiLCJ2ZWdldGFyaWFuIiwidmVyeSBkb3VidGZ1bCIsInZlcnkgbmljZSIsInZpY2UgdmVyc2EiLCJ2aWNpb3VzIGN5Y2xlIiwidmlkZW8gdGFwZSIsInZpZW5uYSBjYWxsaW5nIiwidmlydHVlIG9mIG5lY2Vzc2l0eSIsInZpcyBhIHZpcyIsInZvY2FsIG1pbm9yaXR5Iiwidm9nb24gcG9ldHJ5Iiwidm9pZ3Qga2FtcGYiLCJ2b3JwYWwgc3dvcmQiLCJ2b3RlIHBhbmNha2VzIiwid2FrZSBvZiB0aGUgZmxvb2QiLCJ3YWxrIGZyZWUiLCJ3YWxrIHRoZSBwbGFuayIsIndhbGsgdGhlIHdhbGsiLCJ3YW50IG1vcmUiLCJ3YXJwIHNwZWVkIiwid2FzaCB3aGl0ZXMgc2VwYXJhdGVseSIsIndhdGNoIGMtYmVhbXMgZ2xpdHRlciIsIndhdGNoIG1lIiwid2F0Y2ggb3V0Iiwid2F0ZXIgZ2F0ZSIsIndheCBwb2V0aWMiLCJ3YXkgdG8gZ28iLCJ3YXkgdG8gZ28gZG9ubnkiLCJ3ZSBnbyBmb3J3YXJkcyIsIndlIGxpa2UgdGhlIG1vb24iLCJ3ZWFrZXN0IGxpbmsiLCJ3ZWFzZWwgd29yZHMiLCJ3ZWxjb21lIHRvIGVhcnRoIiwid2VsbCBkb25lIiwid2VsbCBoZWVsZWQiLCJ3ZWxsIGlzbid0IHRoYXQgc3BlY2lhbCIsIndlbGwgbm93Iiwid2VsbCByZWFkIiwid2V5bGFuIHl1dGFuaSIsIndoYXQgZXZlbiIsIndoYXQgZXZlciIsIndoYXQgZm9yIiwid2hhdCBpZiIsIndoYXQgaXMgZm9yIGRpbm5lciIsIndoYXQgaXMgeW91ciBxdWVzdCIsIndoYXQgc2hvdWxkIHdlIGNhbGwgbWUiLCJ3aGF0IHRvIHNlZSIsIndoYXQncyB0aGF0Iiwid2hlZWwgZ3JvdXAiLCJ3aGVuIHdoZXJlIiwid2hlcmUgdG8gZ28iLCJ3aGV0IHlvdXIgYXBwZXRpdGUiLCJ3aGlzdGxlIGFuZCBmbHV0ZSIsIndoaXRlIGFzIHNub3ciLCJ3aGl0ZSBicmVhZCIsIndoaXRlIGVsZXBoYW50Iiwid2hpdGUgcmFiYml0Iiwid2hvIGFtIGkiLCJ3aG8gYXJlIHlvdSIsIndobyBpcyBpdCIsIndobyB5b3UgZ29ubmEgY2FsbCIsIndobywgd2hhdCwgd2hlcmUiLCJ3aG9hIHRoZXJlIiwid2hvbGUgbmluZSB5YXJkcyIsIndob2xlIHNoZWJhbmciLCJ3aG9vcGVlIGN1c2hpb24iLCJ3aG9vcHMgYSBkYWlzeSIsIndpY2tlZCB3aXRjaCIsIndpZGUgYmVydGgiLCJ3aWxkIGFuZCBjcmF6eSBndXlzIiwid2lsZCBhbmQgd29vbGx5Iiwid2lsZCBnb29zZSBjaGFzZSIsIndpbGQgd2VzdCIsIndpbGx5IG5pbGx5Iiwid2luIGhhbmRzIGRvd24iLCJ3aW5kb3cgZHJlc3NpbmciLCJ3aW5nIGl0Iiwid2lubmluZyIsIndpbnRlciBpcyBjb21pbmciLCJ3aW50ZXIgc25vdyIsIndpc2RvbSBvZiBpbmdsaXAiLCJ3aXNkb20gdGVldGgiLCJ3aXNoeS13YXNoeSIsIndpdGggYmVsbHMgb24iLCJ3aXRob3V0IGEgZG91YnQiLCJ3b29mIHdvb2YiLCJ3b3JkIGZvciB3b3JkIiwid29yZHMgb2Ygd2lzZG9tIiwid29yayBvdXQiLCJ3b3VsZCB5b3UgYmVsaWV2ZSIsIndyaWdodCBmbHllciIsIndyaXRpbmcgZGVzayIsInggYWxsIHRoZSB5IiwieHlsb3Bob25lIiwieWFkYSB5YWRhIiwieWFkZGEgeWFkZGEgeWFkZGEiLCJ5ZWFoIHJpZ2h0IiwieWVhciBkb3QiLCJ5ZWUgaGF3IiwieWVsbGluZyBnb2F0IiwieWVsbG93IGJlbGx5IiwieWVzIGRlZmluaXRlbHkiLCJ5ZXMgbWEnYW0iLCJ5ZXMgc2lyIiwieWVzIHRoaXMgaXMgZG9nIiwieW91IGFyZSBoYXBweSIsInlvdSBhcmUgaGVyZSIsInlvdSBjYW4gZG8gdGhpcyIsInlvdSBkb24ndCBzYXkiLCJ5b3UgZmlyc3QiLCJ5b3UgZ29vZCIsInlvdSBoYXZlIG15IHN0YXBsZXIiLCJ5b3Ugcm9jayIsInlvdSB0aGUgbWFuIiwieW91IHdpbiIsInlvdSdyZSBpbiBteSBzcG90IiwieW91J3JlIG5vdCBsaXN0ZW5pbmciLCJ5b3UncmUgd2VsY29tZSIsInppZyB6YWciLCJ6b21iaWUgYXR0YWNrIiwiem9tYmllIHByb20iLCJ3aG8gd2hhdCB3aGVyZSIsXTsKICAgIGZ1bmN0aW9uIHNvbHZlbWVkKGIpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRhdGFsaXN0Iik7YS5zZXRBdHRyaWJ1dGUoImlkIiwiYWRjb3B5X3BocmFzZXMiKTtmb3IodmFyIGM9MDtjPFBIUkFTRVMubGVuZ3RoOysrYylhLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShQSFJBU0VTW2NdKSk7Yi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLGIubmV4dFNpYmxpbmcpO2Iuc2V0QXR0cmlidXRlKCJsaXN0IixhLmlkKTt9Zm9yKHZhciBzY3JpcHRzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxpPTA7aTxzY3JpcHRzLmxlbmd0aDsrK2kpaWYoc2NyaXB0c1tpXS5zcmMuaW5kZXhPZigic29sdmVtZWRpYS5jb20iKT4gLTEpe2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsZnVuY3Rpb24gYyhhKXtpZigvXmFkY29weV9yZXNwb25zZS8udGVzdChhLnRhcmdldC5pZCkpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLnR5cGUsYyk7dmFyIGI9YS50YXJnZXQ7c29sdmVtZWQoYik7Yi5ibHVyKCk7Yi5mb2N1cygpO319KTticmVhazt9fQp9fSkoKTs="},{"name":"adLBypasser [v1.6] || Ouo.Io, Uii.Io, Exe.Io, Bc.Vc, Adf.Ly & More ✔ NO ADS","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.ouo.io/*","*://*.ouo.press/*","*://*.uii.io/*","*://*.passgen.icu/*","*://*.wordcounter.icu/*","*://*.exe.io/*","*://*.exey.io/*","*://*.exey.app/*","*://*.bc.vc/*","*://*.bcvc.live/*","*://*.bcvc.xyz/*","*://*.ouo.today/*","*://*.doaipomer.com/*","*://*.adf.ly/*","*://*.hurirk.net/*","*://*.usfinf.net/*","*://*.xervoo.net/*","*://*.pro/*","*://*.met.bz/*","*://*.shrinkearn.com/*","*://*.tei.ai/*","*://*.makemoneywithurl.com/*","*://*.clk.sh/*","*://*.iir.ai/*","*://*.shrink.pe/*","*://*.aii.sh/*","*://*.shrtfly.com/*","*://*.stfly.me/*","*://*.nbyts.online/*","*://*.shrinkurl.org/*","*://*.shrinkme.io/*","*://*.shrinke.me/*","*://*.smoner.com/*","*://*.shortearn.eu/*","*://*.adfoc.us/*","*://*.fc.lc/*","*://*.fc-lc.com/*","*://*.tr.link/*","*://*.aylink.co/*","*://*.yindex.xyz/*","*://*.gitizle.vip/*","*://*.uzunversiyon.xyz/*","*://*.shtms.co/*","*://*.findi.pro/*","*://*.gitlink.pro/*","*://*.bildirim.eu/*","*://*.bildirim.in/*","*://*.ppcnt.net/*","*://*.pnd.tl/*","*://*.pnd.one/*","*://*.pnd.money/*","*://*.pnd.fyi/*","*://*.pndx.live/*","*://*.shr.cash/*","*://*.acn.vin/*","*://*.pubiza.com/*","*://*.lnk.parts/*","*://*.lnkparts.com/*","*://*.zunsoach.com/*","*://*.urlcik.com/*","*://*.recaptcha.net/recaptcha/*","*://*.google.com/recaptcha/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1670972908357,"data":{}},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/439469-adlbypasser-v1-6-ouo-io-uii-io-exe-io-bc-vc-adf-ly-more-no-ads/code/adLBypasser%20%5Bv16%5D%20%7C%7C%20OuoIo,%20UiiIo,%20ExeIo,%20BcVc,%20AdfLy%20%20More%20%E2%9C%94%20NO%20ADS.user.js","uuid":"321ab533-de0e-4aa7-a890-c64721b51978","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIE5PIEFEUwovLyBAbmFtZTphciAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg2KjYr9mI2YYg2KXYudmE2KfZhtin2KoKLy8gQG5hbWU6YmcgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUINCR0JXQlyDQoNCV0JrQm9CQ0JzQmAovLyBAbmFtZTpjcyAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgxb3DgUROw4kgUkVLTEFNWQovLyBAbmFtZTpkYSAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgSU5HRU4gQU5OT05DRVIKLy8gQG5hbWU6ZGUgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIEtFSU5FIFdFUkJVTkcKLy8gQG5hbWU6ZWwgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIM6nzqnOoc6ZzqMgzpTOmc6RzqbOl86czpnOo86VzpnOowovLyBAbmFtZTplbiAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgTk8gQURTCi8vIEBuYW1lOmVvICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBORU5JVUogUkVLTEFNT0oKLy8gQG5hbWU6ZXMgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIFNJTiBBTlVOQ0lPUwovLyBAbmFtZTpmaSAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgRUkgTUFJTk9LU0lBCi8vIEBuYW1lOmZyICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBQQVMgREUgUFVCUwovLyBAbmFtZTpmci1DQSAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgUEFTIERFIFBVQlMKLy8gQG5hbWU6aGUgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUINec15zXkCDXpNeo16HXldee15XXqgovLyBAbmFtZTpodSAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgTklOQ1NFTkVLIEhJUkRFVMOJU0VLCi8vIEBuYW1lOmlkICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBUQU5QQSBJS0xBTgovLyBAbmFtZTppdCAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgTkVTU1VOQSBQVUJCTElDSVTDgAovLyBAbmFtZTprbyAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg6rSR6rOgIOyXhuydjAovLyBAbmFtZTpqYSAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg5bqD5ZGK44Gq44GXCi8vIEBuYW1lOm5iICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBOTyBBRFMKLy8gQG5hbWU6bmwgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIEdFRU4gQURWRVJURU5USUVTCi8vIEBuYW1lOnBsICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBCRVogUkVLTEFNCi8vIEBuYW1lOnB0LUJSICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBOTyBBRFMKLy8gQG5hbWU6cm8gICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIEbEglLEgiBSRUNMQU1FCi8vIEBuYW1lOnJ1ICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCDQkdCV0Jcg0KDQldCa0JvQkNCc0KsKLy8gQG5hbWU6c2sgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIMW9SUFETkUgUkVLTEFNWQovLyBAbmFtZTpzciAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg0J3QldCc0JAg0J7Qk9Cb0JDQodCQCi8vIEBuYW1lOnN2ICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBJTkdBIEFOTk9OU0VSCi8vIEBuYW1lOnRoICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCDguYTguKHguYjguKHguLXguYLguIbguKnguJPguLIKLy8gQG5hbWU6dHIgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIFJFS0xBTVNJWgovLyBAbmFtZTp1ayAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg0J3QldCc0JDQhCDQoNCV0JrQm9CQ0JzQmAovLyBAbmFtZTp1ZyAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgTk8gQURTCi8vIEBuYW1lOnZpICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBLSMOUTkcgUVXhuqJORyBDw4FPCi8vIEBuYW1lOnpoLUNOICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCDml6Dlub/lkYoKLy8gQG5hbWU6emgtVFcgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIOeEoeW7o+WRigovLyBAZGVzY3JpcHRpb24gICAgICAgIFF1aWNrbHkgYWR2ZXJ0aXNpbmcgbGluayBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjphciAgICAg2KrYrti32Yog2KfZhNin2LnZhNin2YbYp9iqINio2LPYsdi52KkKLy8gQGRlc2NyaXB0aW9uOmJnICAgICDQkdGK0YDQt9C+INGA0LXQutC70LDQvNC90LAg0LLRgNGK0LfQutCwIGJ5cGFzcyDRgdC60YDQuNC/0YIKLy8gQGRlc2NyaXB0aW9uOmNzICAgICBSeWNobGUgcmVrbGFtbsOtIHByb3BvamVuw60gYnlwYXNzIHNrcmlwdAovLyBAZGVzY3JpcHRpb246ZGEgICAgIEh1cnRpZ3QgcmVrbGFtZSBsaW5rIGJ5cGFzcyBzY3JpcHQKLy8gQGRlc2NyaXB0aW9uOmRlICAgICBTY2huZWxsIHdlcmJ1bmcgbGluayBieXBhc3Mgc2tyaXB0Ci8vIEBkZXNjcmlwdGlvbjplbCAgICAgzpPPgc6uzrPOv8+BzrcgzrTOuc6xz4bOt868zrnPg8+EzrnOus6uIM+Dz43Ovc60zrXPg863IM60zq3Pg868zrfPgiDPg8+Nzr3OtM61z4POt8+CCi8vIEBkZXNjcmlwdGlvbjplbiAgICAgUXVpY2tseSBhZHZlcnRpc2luZyBsaW5rIGJ5cGFzcyBzY3JpcHQKLy8gQGRlc2NyaXB0aW9uOmVvICAgICBSYXBpZGUgcmVrbGFtYW50YSBsaWdpbG8gYnlwYXNzIHNjcmlwdAovLyBAZGVzY3JpcHRpb246ZXMgICAgIEVubGFjZSBkZSBwdWJsaWNpZGFkIHLDoXBpZGFtZW50ZSBkZWwgc2NyaXB0IGRlIGJ5cGFzcwovLyBAZGVzY3JpcHRpb246ZmkgICAgIE5vcGVhc3RpIG1haW5vcyBsaW5ra2kgb2hpdHVza8Okc2lraXJqb2l0dXMKLy8gQGRlc2NyaXB0aW9uOmZyICAgICBTY3JpcHQgZGUgYnlwYXNzIGRlIGxpYWlzb24gZGUgcHVibGljaXTDqSByYXBpZGUKLy8gQGRlc2NyaXB0aW9uOmZyLUNBICBTY3JpcHQgZGUgYnlwYXNzIGRlIGxpYWlzb24gZGUgcHVibGljaXTDqSByYXBpZGUKLy8gQGRlc2NyaXB0aW9uOmhlICAgICDXkdee15TXmdeo15XXqiDXpNeo16HXldedINen15nXqdeV16gg15zXoten15XXoyDXoden16jXmdek15gKLy8gQGRlc2NyaXB0aW9uOmh1ICAgICBHeW9yc2FuIGhpcmRldMOpc2kgbGluayBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjppZCAgICAgU2NyaXB0IGJ5cGFzcyB0YXV0YW4gaWtsYW4gY2VwYXQKLy8gQGRlc2NyaXB0aW9uOml0ICAgICBTY3JpcHQgZGkgYnlwYXNzIGRpIGNvbGxlZ2FtZW50byBwdWJibGljaXRhcmlvIHJhcGlkYW1lbnRlCi8vIEBkZXNjcmlwdGlvbjpqYSAgICAg6L+F6YCf44Gr44Oq44Oz44Kv44OQ44Kk44OR44K544K544Kv44Oq44OX44OI44KS5bqD5ZGK44GZ44KLCi8vIEBkZXNjcmlwdGlvbjprbyAgICAg7Iug7IaN7ZWY6rKMIOq0keqzoCDrp4Htgawg67CU7J20IO2MqOyKpCDsiqTtgazrpr3tirgKLy8gQGRlc2NyaXB0aW9uOm5iICAgICBRdWlja2x5IGFkdmVydGlzaW5nIGxpbmsgYnlwYXNzIHNjcmlwdAovLyBAZGVzY3JpcHRpb246bmwgICAgIFNuZWwgYWR2ZXJ0aXNpbmcgbGluayBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjpwbCAgICAgU3p5YmtpZSBza3J5cHQgb2JlasWbY2lhIGxpbmvDs3cgcmVrbGFtb3d5Y2gKLy8gQGRlc2NyaXB0aW9uOnB0LUJSICBRdWlja2x5IGFkdmVydGlzaW5nIGxpbmsgYnlwYXNzIHNjcmlwdAovLyBAZGVzY3JpcHRpb246cm8gICAgIFJhcGlkIHB1YmxpY2l0YXRlIGxpbmsgc2NyaXB0IGJ5cGFzcwovLyBAZGVzY3JpcHRpb246cnUgICAgINCR0YvRgdGC0YDQvtC1INGA0LXQutC70LDQvNC40YDRg9C50YLQtSDRgdC60YDQuNC/0YIg0L7QsdGF0L7QtNCwINGB0YHRi9C70LrQuAovLyBAZGVzY3JpcHRpb246c2sgICAgIFLDvWNobG8gcmVrbGFtbsO9IG9ka2F6IGJ5cGFzcyBzY3JpcHQKLy8gQGRlc2NyaXB0aW9uOnNyICAgICDQkdGA0LfQviDRgNC10LrQu9Cw0LzQvdC1INCy0LXQt9C1INCx0LjQv9Cw0LjRgiDRgdC60YDQuNC/0YLQsAovLyBAZGVzY3JpcHRpb246c3YgICAgIFNuYWJidCByZWtsYW0gbMOkbmsgYnlwYXNzIHNjcmlwdAovLyBAZGVzY3JpcHRpb246dGggICAgINCR0YDQt9C+INGA0LXQutC70LDQvNC90LUg0LLQtdC30LUg0LHQuNC/0LDQuNGCINGB0LrRgNC40L/RgtCwCi8vIEBkZXNjcmlwdGlvbjp0ciAgICAgSMSxemzEsSBiaXIgxZ9la2lsZGUgcmVrbGFtIGxpbmtpIGdlw6dtZSBiZXRpxJ9pCi8vIEBkZXNjcmlwdGlvbjp1ayAgICAg0KjQstC40LTQutC1INGA0LXQutC70LDQvNC90LUg0L/QvtGB0LjQu9Cw0L3QvdGPIGJ5cGFzcwovLyBAZGVzY3JpcHRpb246dWcgICAgIFF1aWNrbHkgYWR2ZXJ0aXNpbmcgbGluayBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjp2aSAgICAgTmhhbmggY2jDs25nIHF14bqjbmcgY8OhbyBsacOqbiBr4bq/dCBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjp6aC1DTiAg5b+r6YCf5bm/5ZGK6ZO+5o6l5peB6Lev6ISa5pysCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg5b+r6YCf5buj5ZGK6Y+I5o6l5peB6Lev6IWz5pysCi8vIEBhdXRob3IgICAgICAgICAgICAgZmlyNHRvemRlbgovLyBAdmVyc2lvbiAgICAgICAgICAgIDEuNgovLyBAbGljZW5zZSAgICAgICAgICAgIE1JVAovLyBAbmFtZXNwYWNlICAgICAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvdXNlcnMvODIxMzE3Ci8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoub3VvLmlvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5vdW8ucHJlc3MvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnVpaS5pby8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoucGFzc2dlbi5pY3UvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLndvcmRjb3VudGVyLmljdS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZXhlLmlvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5leGV5LmlvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5leGV5LmFwcC8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouYmMudmMvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmJjdmMubGl2ZS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouYmN2Yy54eXovKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLm91by50b2RheS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZG9haXBvbWVyLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouYWRmLmx5LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5odXJpcmsubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi51c2ZpbmYubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi54ZXJ2b28ubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wcm8vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLm1ldC5iei8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouc2hyaW5rZWFybi5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnRlaS5haS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoubWFrZW1vbmV5d2l0aHVybC5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmNsay5zaC8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouaWlyLmFpLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zaHJpbmsucGUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmFpaS5zaC8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouc2hydGZseS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnN0Zmx5Lm1lLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5uYnl0cy5vbmxpbmUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnNocmlua3VybC5vcmcvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnNocmlua21lLmlvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zaHJpbmtlLm1lLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zbW9uZXIuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zaG9ydGVhcm4uZXUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmFkZm9jLnVzLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5mYy5sYy8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZmMtbGMuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi50ci5saW5rLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5heWxpbmsuY28vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnlpbmRleC54eXovKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmdpdGl6bGUudmlwLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi51enVudmVyc2l5b24ueHl6LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zaHRtcy5jby8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZmluZGkucHJvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5naXRsaW5rLnByby8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouYmlsZGlyaW0uZXUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmJpbGRpcmltLmluLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wcGNudC5uZXQvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnBuZC50bC8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoucG5kLm9uZS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoucG5kLm1vbmV5LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wbmQuZnlpLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wbmR4LmxpdmUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnNoci5jYXNoLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5hY24udmluLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wdWJpemEuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5sbmsucGFydHMvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmxua3BhcnRzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouenVuc29hY2guY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi51cmxjaWsuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5yZWNhcHRjaGEubmV0L3JlY2FwdGNoYS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZ29vZ2xlLmNvbS9yZWNhcHRjaGEvKgovLyBAaWNvbiAgICAgICAgICAgICAgIGh0dHBzOi8vaS5pYmIuY28vY2JjMnBKNS91bmtub3duLnBuZwovLyBAcmVxdWlyZSAgICAgICAgICAgIGh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0zLjYuMC5taW4uanMKLy8gPT0vVXNlclNjcmlwdD09CgokKGZ1bmN0aW9uICgpIHsKICAgIGxldCBlID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpCiAgICAgICAgLCB0ID0ge307CiAgICBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoIm91by5pbyIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJvdW8ucHJlc3MiKSkKICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgiL2dvIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAkKCIjZm9ybS1nbyIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJtaXQoKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2Zvcm0tZ28iKQogICAgICAgICAgICAgICAgLm9uKCJzdWJtaXQiLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiLiIpCiAgICAgICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgJCgiI2Zvcm0tY2FwdGNoYSIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJtaXQoKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2Zvcm0tY2FwdGNoYSIpCiAgICAgICAgICAgICAgICAub24oInN1Ym1pdCIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInBhc3NnZW4uaWN1IikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoIndvcmRjb3VudGVyLmljdSIpKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDVlMyk7CiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKSkgewogICAgICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi0iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi4iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgICAgICB0W2VdID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICExID09PSAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5pcygiOmRpc2FibGVkIikgJiYgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgLm9uKCJjbGljayIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiZXhleS5pbyIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJleGV5LmFwcCIpKQogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpKSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgICAgICAgICBfbWV0aG9kOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfbWV0aG9kJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBfY3NyZlRva2VuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfY3NyZlRva2VuJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBhZF9mb3JtX2RhdGE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bdW5sb2NrZWRdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW3VubG9ja2VkXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgfSwgZSA9PiB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICAgICAgfSkKICAgICAgICB9LCAxZTQpOwogICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikpIHsKICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgIC5pcygiOmRpc2FibGVkIikgJiYgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgIC5jbGljaygpCiAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgLm9uKCJjbGljayIsIG4gPT4gewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICB9KQogICAgfSBlbHNlIHsKICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAkKCIjYmVmb3JlLWNhcHRjaGEiKQogICAgICAgICAgICAgICAgICAgIC5zdWJtaXQoKQogICAgICAgICAgICB9LCAxZTMpLCAkKCIjYmVmb3JlLWNhcHRjaGEiKQogICAgICAgICAgICAub24oInN1Ym1pdCIsIG4gPT4gewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICB9KQogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiYmN2Yy54eXoiKSB8fCBsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiYmN2Yy5saXZlIikpICQucG9zdCgiL2xuLnBocD93ZHM9IiArIHh5eiwgewogICAgICAgIHhkZjogewogICAgICAgICAgICBhZmc6IHRaCiAgICAgICAgICAgICwgYmZnOiBjVwogICAgICAgICAgICAsIGNmZzogY0gKICAgICAgICAgICAgLCBqa2k6IHRrbgogICAgICAgICAgICAsIGRmZzogc1cKICAgICAgICAgICAgLCBlZmc6IHNICiAgICAgICAgICAgICwgcnQ6ICQoIiNyZWNhcHRjaGFUb2tlbiIpCiAgICAgICAgICAgICAgICAudmFsKCkKICAgICAgICB9CiAgICAgICAgLCBvams6ICJqZmhnIgogICAgfSwgZSA9PiB7CiAgICAgICAgZSA9IEpTT04ucGFyc2UoZSksIGxvY2F0aW9uLmhyZWYgPSBlLm1lc3NhZ2UudXJsCiAgICB9KTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJvdW8udG9kYXkiKSkgbG9jYXRpb24uaHJlZiA9IG5leHRVcmw7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiZG9haXBvbWVyLmNvbSIpKSB3aW5kb3cuY2xvc2UoKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJodXJpcmsubmV0IikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInVzZmluZi5uZXQiKSB8fCBsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgieGVydm9vLm5ldCIpKQogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCIvYWQvbG9ja2VkIikpIGxvY2F0aW9uLmhyZWYgPSAiLy0iICsgZS5nZXQoImgiKSArICIvIiArIGUuZ2V0KCJ1cmwiKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICQoIiNza2lwX2J1MnR0b24iKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJocmVmIikgJiYgKGNsZWFySW50ZXJ2YWwodFtlXSksIGxvY2F0aW9uLmhyZWYgPSBkZWNvZGVVUklDb21wb25lbnQoJCgiI3NraXBfYnUydHRvbiIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCJocmVmIikKICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCJkZXN0PSIpWzFdKSkKICAgICAgICAgICAgfSwgMWUzKQogICAgICAgIH0KICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCIucHJvIikgJiYgbG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgiL3B1c2hyZWRpcmVjdCIpKSBsb2NhdGlvbi5ocmVmID0gZS5nZXQoImRlc3QiKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJtZXQuYnoiKSkgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgX21ldGhvZDogJCgiaW5wdXRbbmFtZT0nX21ldGhvZCddIikKICAgICAgICAgICAgLnZhbCgpCiAgICAgICAgLCBhbGlhczogJCgiaW5wdXRbbmFtZT0nYWxpYXMnXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgX2NzcmZUb2tlbjogJCgiaW5wdXRbbmFtZT0nX2NzcmZUb2tlbiddIikKICAgICAgICAgICAgLnZhbCgpCiAgICAgICAgLCBjaTogJCgiaW5wdXRbbmFtZT0nY2knXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgY3VpOiAkKCJpbnB1dFtuYW1lPSdjdWknXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgY2lpOiAkKCJpbnB1dFtuYW1lPSdjaWknXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgcmVmOiAkKCJpbnB1dFtuYW1lPSdyZWYnXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogJCgiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiAkKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAudmFsKCkKICAgIH0sIGUgPT4gewogICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgfSk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgidGVpLmFpIikpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKSkgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICQucG9zdCgiL2xpbmtzL2dvIiwgewogICAgICAgICAgICAgICAgX21ldGhvZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX21ldGhvZCddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgYWRfZm9ybV9kYXRhOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgIH0sIGUgPT4gewogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGUudXJsCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwgMWU0KTsKICAgICAgICBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY29udGludWUiKSkgewogICAgICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi0iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi4iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgICAgICB0W2VdID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICExID09PSAkKCIjY29udGludWUiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNjb250aW51ZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljaygpCiAgICAgICAgICAgICAgICB9LCAxZTMpLCAkKCIjY29udGludWUiKQogICAgICAgICAgICAgICAgLm9uKCJjbGljayIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgibWFrZW1vbmV5d2l0aHVybC5jb20iKSkgJCgiI2hpZGRlbiBmb3JtIikKICAgICAgICAuc3VibWl0KCk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiaWlyLmFpIikpCiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDFlNCk7CiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKSkgewogICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAuc3BsaXQoIi4iKQogICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICExID09PSAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgLmlzKCI6ZGlzYWJsZWQiKSAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAub24oImNsaWNrIiwgbiA9PiB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgIH0pCiAgICB9IGVsc2UgJCgiYnV0dG9uW3R5cGU9J3N1Ym1pdCddIikKICAgICAgICAuY2xpY2soKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJhaWkuc2giKSkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpKSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgICAgICAgICBfbWV0aG9kOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfbWV0aG9kJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBfY3NyZlRva2VuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfY3NyZlRva2VuJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBhZF9mb3JtX2RhdGE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bdW5sb2NrZWRdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW3VubG9ja2VkXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgfSwgZSA9PiB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICAgICAgfSkKICAgICAgICB9LCA1ZTMpOwogICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgIC5vbigiY2xpY2siLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInN0Zmx5Lm1lIikpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikgPyBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgICAgICAgICBfbWV0aG9kOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfbWV0aG9kJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBfY3NyZlRva2VuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfY3NyZlRva2VuJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBhZF9mb3JtX2RhdGE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bdW5sb2NrZWRdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW3VubG9ja2VkXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgfSwgZSA9PiB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICAgICAgfSkKICAgICAgICB9LCA1ZTMpIDogJCgiI3N1Ym1pdF9kYXRhIikKICAgICAgICAuc3VibWl0KCk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgibmJ5dHMub25saW5lIikpCiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRMaW5rIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgIC5vbigiY2xpY2siLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSBsb2NhdGlvbi5ocmVmID0gJCgiI3N1cmwiKQogICAgICAgICAgICAuYXR0cigiaHJlZiIpOwogICAgZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInNocmlua3VybC5vcmciKSkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpKSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgICAgICAgICBfbWV0aG9kOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfbWV0aG9kJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBfY3NyZlRva2VuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfY3NyZlRva2VuJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBhZF9mb3JtX2RhdGE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bdW5sb2NrZWRdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW3VubG9ja2VkXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgfSwgZSA9PiB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICAgICAgfSkKICAgICAgICB9LCAxNWUzKTsKICAgICAgICBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpKSB7CiAgICAgICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiLiIpCiAgICAgICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgITEgPT09ICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmlzKCI6ZGlzYWJsZWQiKSAmJiAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljaygpCiAgICAgICAgICAgICAgICB9LCAxZTMpLCAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAub24oImNsaWNrIiwgbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJzaHJpbmtlLm1lIikpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKSkgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICQucG9zdCgiL2xpbmtzL2dvIiwgewogICAgICAgICAgICAgICAgX21ldGhvZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX21ldGhvZCddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgX2NzcmZUb2tlbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX2NzcmZUb2tlbiddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgYWRfZm9ybV9kYXRhOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bZmllbGRzXSI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19Ub2tlbltmaWVsZHNdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW3VubG9ja2VkXSI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19Ub2tlblt1bmxvY2tlZF0nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgIH0sIGUgPT4gewogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGUudXJsCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwgMTJlMyk7CiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKSkgewogICAgICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi0iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi4iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgICAgICB0W2VdID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICExID09PSAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5pcygiOmRpc2FibGVkIikgJiYgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgLm9uKCJjbGljayIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgic21vbmVyLmNvbSIpKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDE1ZTMpOwogICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgIC5vbigiY2xpY2siLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInNob3J0ZWFybi5ldSIpKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDE1ZTMpOwogICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgIC5vbigiY2xpY2siLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoImFkZm9jLnVzIikpIGNsaWNrX3VybCAmJiAobG9jYXRpb24uaHJlZiA9IGNsaWNrX3VybCk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiZmMtbGMuY29tIikpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikgJiYgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgYWRfZm9ybV9kYXRhOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpCiAgICAgICAgICAgIC52YWx1ZQogICAgfSwgZSA9PiB7CiAgICAgICAgbG9jYXRpb24uaHJlZiA9IGUudXJsCiAgICB9KTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJheWxpbmsuY28iKSB8fCBsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgieWluZGV4Lnh5eiIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJnaXRpemxlLnZpcCIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJ1enVudmVyc2l5b24ueHl6IikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInNodG1zLmNvIikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoImZpbmRpLnBybyIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJnaXRsaW5rLnBybyIpKSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgYXBwICYmIGFwcC5jc3JmICYmICQucG9zdCgiL2dldC90ayIsIHsKICAgICAgICBfYTogX2EKICAgICAgICAsIF90OiBfdAogICAgICAgICwgX2Q6IF9kCiAgICB9LCBlID0+IHsKICAgICAgICAkLnBvc3QoIi9saW5rcy9nbzIiLCB7CiAgICAgICAgICAgIGFsaWFzOiBsb2NhdGlvbi5wYXRobmFtZS5zdWJzdHIoMSwgbG9jYXRpb24ucGF0aG5hbWUubGVuZ3RoIC0gMSkKICAgICAgICAgICAgLCBjc3JmOiBhcHAuY3NyZgogICAgICAgICAgICAsIHRrbjogZS50aAogICAgICAgIH0sIGUgPT4gewogICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICB9KQogICAgfSk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiYmlsZGlyaW0uZXUiKSB8fCBsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiYmlsZGlyaW0uaW4iKSkgJCgiI2J0blBlcm1pc3Npb24iKQogICAgICAgIC5jbGljaygpOwogICAgZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInBwY250Lm5ldCIpKSB3aW5kb3cuY2xvc2UoKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJwbmQub25lIikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInBuZC5tb25leSIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJwbmQuZnlpIikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInBuZHgubGl2ZSIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJzaHIuY2FzaCIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJhY24udmluIikpCiAgICAgICAgaWYgKCQoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikgJiYgJCgiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAudmFsKCkpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6ICQoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbCgpCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46ICQoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbCgpCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogJCgiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWwoKQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiAkKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsKCkKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiAkKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWwoKQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDFlNCk7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiLiIpCiAgICAgICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgJCgiI2xpbmstdmlldyIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJtaXQoKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2xpbmstdmlldyIpCiAgICAgICAgICAgICAgICAub24oInN1Ym1pdCIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoImxuay5wYXJ0cyIpKQogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCIvZ28iKSkgJCgiaGVhZCIpCiAgICAgICAgICAgIC5hcHBlbmQoJzxzY3JpcHQ+JCgiI3NraXBfZm9ybSIpLnN1Ym1pdCgpOzxcL3NjcmlwdD4nKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2NzdWJtaXQiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICgkKCIjY3N1Ym1pdCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soKSwgJCgiI2NzdWJtaXQiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkpCiAgICAgICAgICAgICAgICB9LCAxZTMpLCAkKCIjY3N1Ym1pdCIpCiAgICAgICAgICAgICAgICAub24oImNsaWNrIiwgbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgibG5rcGFydHMuY29tIikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInp1bnNvYWNoLmNvbSIpKSB3aW5kb3cuY2xvc2UoKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJ1cmxjaWsuY29tIikpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKSkgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICQucG9zdCgiL2xpbmtzL2dvIiwgewogICAgICAgICAgICAgICAgX21ldGhvZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX21ldGhvZCddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgX2NzcmZUb2tlbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX2NzcmZUb2tlbiddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgYWRfZm9ybV9kYXRhOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bZmllbGRzXSI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19Ub2tlbltmaWVsZHNdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW3VubG9ja2VkXSI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19Ub2tlblt1bmxvY2tlZF0nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgIH0sIGUgPT4gewogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGUudXJsCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwgNWUzKTsKICAgICAgICBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpKSB7CiAgICAgICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiLiIpCiAgICAgICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgITEgPT09ICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmlzKCI6ZGlzYWJsZWQiKSAmJiAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljaygpCiAgICAgICAgICAgICAgICB9LCAxZTMpLCAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAub24oImNsaWNrIiwgbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9IGVsc2UgbG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgiL3JlY2FwdGNoYSIpICYmIHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAkKCIucmVjYXB0Y2hhLWNoZWNrYm94LWNoZWNrbWFyayIpCiAgICAgICAgICAgIC5jbGljaygpCiAgICB9LCAxZTMpCn0pOw==","requires":[{"meta":{"name":"jquery-3.6.0.min.js","url":"https://code.jquery.com/jquery-3.6.0.min.js","ts":1670972908824,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="}]},{"name":"YouTube评论翻译按钮","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://www.youtube.com/*","*://www.youtube.com/watch*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1670972912707,"data":{}},"enabled":true,"position":7,"file_url":"https://greasyfork.org/scripts/456108-youtube%E8%AF%84%E8%AE%BA%E7%BF%BB%E8%AF%91%E6%8C%89%E9%92%AE/code/YouTube%E8%AF%84%E8%AE%BA%E7%BF%BB%E8%AF%91%E6%8C%89%E9%92%AE.user.js","uuid":"d768c0f6-5e83-409c-a9fa-75d43f8cec09","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgWW91VHViZeivhOiuuue/u+ivkeaMiemSrgovLyBAbmFtZTphZiAgICAgICAgICBZb3V0dWJlIG9wbWVya2luZyB2ZXJ0YWxpbmcga25vcHBpZQovLyBAbmFtZTpheiAgICAgICAgICBZb3V0dWJlIMWfyZlyaCB0yZlyY8O8bcmZIGTDvHltyZlzaQovLyBAbmFtZTppZCAgICAgICAgICBUb21ib2wgdGVyamVtYWhhbiBrb21lbnRhciBZb3V0dWJlCi8vIEBuYW1lOm1zICAgICAgICAgIEJ1dGFuZyB0ZXJqZW1haGFuIHVsYXNhbiBZb3V0dWJlCi8vIEBuYW1lOmJzICAgICAgICAgIER1Z21lIHphIHByaWpldm9kIGtvbWVudGFyYSBuYSBZb3V0dWJlLXUKLy8gQG5hbWU6Y2EgICAgICAgICAgQm90w7MgZGUgdHJhZHVjY2nDsyBkZSBjb21lbnRhcmlzIGRlIFlvdXR1YmUKLy8gQG5hbWU6Y3MgICAgICAgICAgVGxhxI3DrXRrbyBwxZlla2xhZHUga29tZW50w6HFmWUgbmEgWW91VHViZQovLyBAbmFtZTpkYSAgICAgICAgICBZb3V0dWJlIGtvbW1lbnRhcm92ZXJzw6Z0dGVsc2Vza25hcAovLyBAbmFtZTpkZSAgICAgICAgICBTY2hhbHRmbMOkY2hlIHp1ciDDnGJlcnNldHp1bmcgdm9uIFlvdXR1YmUtS29tbWVudGFyZW4KLy8gQG5hbWU6ZXQgICAgICAgICAgWW91dHViZSdpIGtvbW1lbnRhYXJpZGUgdMO1bGtpbWlzZSBudXBwCi8vIEBuYW1lOmVuICAgICAgICAgIFlvdXR1YmUgY29tbWVudCB0cmFuc2xhdGlvbiBidXR0b24KLy8gQG5hbWU6ZXMgICAgICAgICAgQm90w7NuIGRlIHRyYWR1Y2Npw7NuIGRlIGNvbWVudGFyaW9zIGRlIFlvdXR1YmUKLy8gQG5hbWU6ZXUgICAgICAgICAgWW91dHViZWtvIGlydXpraW5hayBpdHp1bHR6ZWtvIGJvdG9pYQovLyBAbmFtZTpmciAgICAgICAgICBCb3V0b24gZGUgdHJhZHVjdGlvbiBkZXMgY29tbWVudGFpcmVzIFlvdXR1YmUKLy8gQG5hbWU6Z2wgICAgICAgICAgQm90w7NuIGRlIHRyYWR1Y2nDs24gZGUgY29tZW50YXJpb3MgZGUgWW91dHViZQovLyBAbmFtZTpociAgICAgICAgICBZb3V0dWJlIGd1bWIgemEgcHJpamV2b2Qga29tZW50YXJhCi8vIEBuYW1lOnp1ICAgICAgICAgIElua2lub2JobyB5b2t1aHVtdXNoYSBhbWF6d2FuYSBlLVlvdVR1YmUKLy8gQG5hbWU6aXMgICAgICAgICAgw57DvcOwaW5nYXJobmFwcHVyIFlvdVR1YmUgYXRodWdhc2VtZGEKLy8gQG5hbWU6aXQgICAgICAgICAgUHVsc2FudGUgZGkgdHJhZHV6aW9uZSBkZWkgY29tbWVudGkgZGkgWW91dHViZQovLyBAbmFtZTpzdyAgICAgICAgICBLaXR1ZmUgY2hhIGt1dGFmc2lyaSBtYW9uaSBrd2VueWUgWW91dHViZQovLyBAbmFtZTpsdiAgICAgICAgICBZb3V0dWJlIGtvbWVudMSBcnUgdHVsa2/FoWFuYXMgcG9nYQovLyBAbmFtZTpsdCAgICAgICAgICBZb3V0dWJlIGtvbWVudGFybyB2ZXJ0aW1vIG15Z3R1a2FzCi8vIEBuYW1lOmh1ICAgICAgICAgIFlvdXR1YmUgbWVnamVneXrDqXMgZm9yZMOtdMOhcyBnb21iCi8vIEBuYW1lOm5sICAgICAgICAgIFZlcnRhYWxrbm9wIHZvb3IgWW91VHViZS1jb21tZW50YWFyCi8vIEBuYW1lOnV6ICAgICAgICAgIFlvdXR1YmUgc2hhcmhpbmkgdGFyamltYSBxaWxpc2ggdHVnbWFzaQovLyBAbmFtZTpwbCAgICAgICAgICBQcnp5Y2lzayB0xYJ1bWFjemVuaWEga29tZW50YXJ6eSBuYSBZb3VUdWJlCi8vIEBuYW1lOnB0ICAgICAgICAgIEJvdMOjbyBkZSB0cmFkdcOnw6NvIGRlIGNvbWVudMOhcmlvcyBkbyBZb3V0dWJlCi8vIEBuYW1lOnJvICAgICAgICAgIEJ1dG9uIGRlIHRyYWR1Y2VyZSBhIGNvbWVudGFyaWlsb3IgWW91dHViZQovLyBAbmFtZTpzcSAgICAgICAgICBCdXRvbmkgaSBww6tya3RoaW1pdCB0w6sga29tZW50ZXZlIG7DqyBZb3V0dWJlCi8vIEBuYW1lOnNrICAgICAgICAgIFRsYcSNaWRsbyBwcmVrbGFkdSBrb21lbnTDoXJvdiBuYSBZb3VUdWJlCi8vIEBuYW1lOnNsICAgICAgICAgIEd1bWIgemEgcHJldm9kIGtvbWVudGFyamV2IFlvdXR1YmUKLy8gQG5hbWU6c3IgICAgICAgICAg0JTRg9Cz0LzQtSDQt9CwINC/0YDQtdCy0L7QtCDQutC+0LzQtdC90YLQsNGA0LAg0L3QsCDQmNC+0YPRgtGD0LHQtS3RgwovLyBAbmFtZTpmaSAgICAgICAgICBZb3V0dWJlLWtvbW1lbnR0aWVuIGvDpMOkbm7DtnNwYWluaWtlCi8vIEBuYW1lOnN2ICAgICAgICAgIFlvdXR1YmUta29tbWVudGFyw7Z2ZXJzw6R0dG5pbmdza25hcHAKLy8gQG5hbWU6dmkgICAgICAgICAgTsO6dCBk4buLY2ggYsOsbmggbHXhuq1uIFlvdXR1YmUKLy8gQG5hbWU6dHIgICAgICAgICAgWW91dHViZSB5b3J1bSDDp2V2aXJpIGJ1dG9udQovLyBAbmFtZTpiZSAgICAgICAgICDQmtC90L7Qv9C60LAg0L/QtdGA0LDQutC70LDQtNGDINC60LDQvNC10L3RgtCw0YDRi9GP0Z4gWW91dHViZQovLyBAbmFtZTpiZyAgICAgICAgICDQkdGD0YLQvtC9INC30LAg0L/RgNC10LLQvtC0INC90LAg0LrQvtC80LXQvdGC0LDRgNC4INCyIFlvdXR1YmUKLy8gQG5hbWU6a3kgICAgICAgICAgWW91dHViZSDQutC+0LzQvNC10L3RgtCw0YDQuNC5INC60L7RgtC+0YDRg9GDINCx0LDRgdC60YvRh9GLCi8vIEBuYW1lOmtrICAgICAgICAgIFlvdXR1YmUg0L/RltC60ZbRgNGW0L0g0LDRg9C00LDRgNGDINGC0q/QudC80LXRgdGWCi8vIEBuYW1lOm1rICAgICAgICAgINCa0L7Qv9GH0LUg0LfQsCDQv9GA0LXQstC+0LQg0L3QsCDQutC+0LzQtdC90YLQsNGA0Lgg0L3QsCBZb3VUdWJlCi8vIEBuYW1lOm1uICAgICAgICAgIFlvdXR1YmUg0YHRjdGC0LPRjdCz0LTQu9C40LnQsyDQvtGA0YfRg9GD0LvQsNGFINGC0L7QstGHCi8vIEBuYW1lOnJ1ICAgICAgICAgINCa0L3QvtC/0LrQsCDQv9C10YDQtdCy0L7QtNCwINC60L7QvNC80LXQvdGC0LDRgNC40LXQsiDQvdCwIFlvdXR1YmUKLy8gQG5hbWU6dWsgICAgICAgICAg0JrQvdC+0L/QutCwINC/0LXRgNC10LrQu9Cw0LTRgyDQutC+0LzQtdC90YLQsNGA0ZbQsiBZb3V0dWJlCi8vIEBuYW1lOmVsICAgICAgICAgIM6azr/Phc68z4DOryDOvM61z4TOrM+Gz4HOsc+DzrfPgiDPg8+Hzr/Ou86vz4nOvSDPg8+Ezr8gWW91dHViZQovLyBAbmFtZTpoeSAgICAgICAgICBZb3V0dWJlINW01aXVr9W21aHVotWh1bbVuNaC1anVtdW41oLVttW21aXWgNWrINWp1aHWgNWj1bTVodW21bjWgtWp1bXVodW2INWv1bjVs9Wh1a8KLy8gQG5hbWU6dXIgICAgICAgICAg24zZiNm524zZiNioINiq2KjYtdix25Ig2qnYpyDYqtix2KzZhduBINio2bnZhgovLyBAbmFtZTphciAgICAgICAgICDYstixINiq2LHYrNmF2Kkg2KfZhNiq2LnZhNmK2YIg2LnZhNmJINin2YTZitmI2KrZitmI2KgKLy8gQG5hbWU6ZmEgICAgICAgICAg2K/aqdmF2Ycg2KrYsdis2YXZhyDZhti42LEg24zZiNiq24zZiNioCi8vIEBuYW1lOm5lICAgICAgICAgIFlvdXR1YmUg4KSf4KS/4KSq4KWN4KSq4KSj4KWAIOCkheCkqOClgeCkteCkvuCkpiDgpKzgpJ/gpKgKLy8gQG5hbWU6bXIgICAgICAgICAgWW91VHViZSDgpJ/gpL/gpKrgpY3gpKrgpKPgpYAg4KSt4KS+4KS34KS+4KSC4KSk4KSwIOCkrOCkn+CkowovLyBAbmFtZTpoaSAgICAgICAgICDgpK/gpYLgpJ/gpY3gpK/gpYLgpKwg4KSf4KS/4KSq4KWN4KSq4KSj4KWAIOCkheCkqOClgeCkteCkvuCkpiDgpKzgpJ/gpKgKLy8gQG5hbWU6YXMgICAgICAgICAgWW91dHViZSBjb21tZW50IOCmheCmqOCngeCmrOCmvuCmpiDgpqzgp4Hgpp/gpr7gpq4KLy8gQG5hbWU6Ym4gICAgICAgICAg4KaH4KaJ4Kaf4Ka/4KaJ4KasIOCmruCmqOCnjeCmpOCmrOCnjeCmryDgpoXgpqjgp4Hgpqzgpr7gpqYg4Kas4KeL4Kak4Ka+4KauCi8vIEBuYW1lOnBhICAgICAgICAgIOCor+CpguCon+Cov+CoiuCorCDgqJ/gqL/gqbHgqKrgqKPgqYAg4KiF4Kio4KmB4Ki14Ki+4KimIOCorOCon+CoqAovLyBAbmFtZTpndSAgICAgICAgICBZb3VUdWJlIOCqn+Cqv+CqquCrjeCqquCqo+CrgCDgqoXgqqjgq4HgqrXgqr7gqqYg4Kqs4Kqf4KqoCi8vIEBuYW1lOm9yICAgICAgICAgIOCtn+CtgeCsn+CtjeCtn+CtgeCsrOCtjSDgrK7grKjgrY3grKTgrKzgrY3grZ8g4KyF4Kyo4K2B4Kys4Ky+4KymIOCsrOCsn+CsqOCtjSB8Ci8vIEBuYW1lOnRhICAgICAgICAgIFlvdXR1YmUg4K6V4K6w4K+B4K6k4K+N4K6k4K+BIOCuruCviuCutOCuv+CuquCvhuCur+CusOCvjeCuquCvjeCuquCvgSDgrqrgr4rgrqTgr43grqTgrr7grqngr40KLy8gQG5hbWU6dGUgICAgICAgICAgWW91dHViZSDgsLXgsY3gsK/gsL7gsJbgsY3gsK8g4LCF4LCo4LGB4LC14LC+4LCm4LCCIOCwrOCwn+CwqOCxjQovLyBAbmFtZTprbiAgICAgICAgICDgsq/gs4Hgsp/gs43gsq/gs4Lgsqzgs40g4LKV4LK+4LKu4LOG4LKC4LKf4LONIOCyheCyqOCzgeCyteCyvuCypiDgsqzgsp/gsqjgs40KLy8gQG5hbWU6bWwgICAgICAgICAgWW91dHViZSDgtJXgtK7gtKjgtY3gtLHgtY0g4LS14LS/4LS14LW84LSk4LWN4LSk4LSoIOC0rOC0n+C1jeC0n+C1ugovLyBAbmFtZTpzaSAgICAgICAgICBZb3V0dWJlIOC2heC2r+C3hOC3g+C3iiDgtrTgtrvgt5Lgt4Dgtrvgt4rgtq3gtrEg4La24Lec4Lat4LeK4Lat4La4Ci8vIEBuYW1lOnRoICAgICAgICAgIOC4m+C4uOC5iOC4oeC5geC4m+C4peC4hOC4p+C4suC4oeC4hOC4tOC4lOC5gOC4q+C5h+C4mSBZb3V0dWJlCi8vIEBuYW1lOmxvICAgICAgICAgIOC6m+C6uOC7iOC6oeC7geC6m+C6hOC6s+C7gOC6q+C6seC6mSBZb3V0dWJlCi8vIEBuYW1lOm15ICAgICAgICAgIFlvdXR1YmUg4YCZ4YC+4YCQ4YC64YCB4YC74YCA4YC6IOGAmOGArOGAnuGArOGAleGAvOGAlOGAuuGAgeGAnOGAr+GAkOGAugovLyBAbmFtZTprYSAgICAgICAgICBZb3V0dWJlIOGDmeGDneGDm+GDlOGDnOGDouGDkOGDoOGDlOGDkeGDmOGDoSDhg5fhg5Dhg6Dhg5Lhg5vhg5zhg5jhg6Eg4YOm4YOY4YOa4YOQ4YOZ4YOYCi8vIEBuYW1lOmFtICAgICAgICAgIOGLqOGLqeGJsuGLqeGJpSDhiqDhiLXhibDhi6vhi6jhibUg4Ym14Yit4YyJ4YidIOGJgeGIjeGNjQovLyBAbmFtZTprbSAgICAgICAgICDhnpThn4rhnrzhno/hnrvhnoThnpThnoDhnpThn5Lhnprhn4Lhnpjhno/hnrfhnpnhn4ThnpThnpvhn4sgWW91dHViZQovLyBAbmFtZTp6aC1DTiAgICAgICAgICBZb3VUdWJl6K+E6K6657+76K+R5oyJ6ZKuCi8vIEBuYW1lOnpoLVRXICAgICAgICAgIFlvdVR1YmXoqZXoq5bnv7vora/mjInpiJUKLy8gQG5hbWU6emgtSEsgICAgICAgICAgWW91VHViZeivhOiuuue/u+ivkeaMiemSrgovLyBAbmFtZTpqYSAgICAgICAgICBZb3V0dWJl44Kz44Oh44Oz44OI57+76Kiz44Oc44K/44OzCi8vIEBuYW1lOmtvICAgICAgICAgIOycoO2KnOu4jCDrjJPquIAg67KI7JetIOuyhO2KvAovLyBAZGVzY3JpcHRpb246ICAgICAgICAgICAg5ZyoWW91VHViZeeahOivhOiuuuS4iua3u+WKoOS4gOS4que/u+ivkeaMiemSrgovLyBAZGVzY3JpcHRpb246YWYgICAgICAgICAgVm9lZyAnbiB2ZXJ0YWFsa25vcHBpZSBieSBZb3VUdWJlLW9wbWVya2luZ3MKLy8gQGRlc2NyaXB0aW9uOmF6ICAgICAgICAgIFlvdVR1YmUgxZ/JmXJobMmZcmluyZkgdMmZcmPDvG3JmSBkw7x5bcmZc2kgyZlsYXbJmSBlZGluCi8vIEBkZXNjcmlwdGlvbjppZCAgICAgICAgICBUYW1iYWhrYW4gdG9tYm9sIHRlcmplbWFoYW4ga2Uga29tZW50YXIgWW91VHViZQovLyBAZGVzY3JpcHRpb246bXMgICAgICAgICAgVGFtYmFoa2FuIGJ1dGFuZyB0ZXJqZW1haCBwYWRhIHVsYXNhbiBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpicyAgICAgICAgICBEb2RhanRlIGR1Z21lIHphIHByZXZvZCBuYSBZb3VUdWJlIGtvbWVudGFyZQovLyBAZGVzY3JpcHRpb246Y2EgICAgICAgICAgQWZlZ2VpeCB1biBib3TDsyBkZSB0cmFkdWNjacOzIGFscyBjb21lbnRhcmlzIGRlIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmNzICAgICAgICAgIFDFmWlkZWp0ZSBkbyBrb21lbnTDocWZxa8gbmEgWW91VHViZSB0bGHEjcOtdGtvIHDFmWVrbGFkdQovLyBAZGVzY3JpcHRpb246ZGEgICAgICAgICAgVGlsZsO4aiBlbiBvdmVyc8OmdC1rbmFwIHRpbCBZb3VUdWJlLWtvbW1lbnRhcmVyCi8vIEBkZXNjcmlwdGlvbjpkZSAgICAgICAgICBGw7xnZW4gU2llIFlvdVR1YmUtS29tbWVudGFyZW4gZWluZSBTY2hhbHRmbMOkY2hlIHp1bSDDnGJlcnNldHplbiBoaW56dQovLyBAZGVzY3JpcHRpb246ZXQgICAgICAgICAgTGlzYWdlIFlvdVR1YmUnaSBrb21tZW50YWFyaWRlbGUgdMO1bGtlbnVwcAovLyBAZGVzY3JpcHRpb246ZW4gICAgICAgICAgQWRkIGEgdHJhbnNsYXRlIGJ1dHRvbiB0byBZb3VUdWJlIGNvbW1lbnRzCi8vIEBkZXNjcmlwdGlvbjplcyAgICAgICAgICBBZ3JlZ3VlIHVuIGJvdMOzbiBkZSB0cmFkdWNjacOzbiBhIGxvcyBjb21lbnRhcmlvcyBkZSBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpldSAgICAgICAgICBHZWhpdHUgaXR6dWx0emVrbyBib3RvaWEgWW91VHViZS1rbyBpcnV6a2luZXRhbgovLyBAZGVzY3JpcHRpb246ZnIgICAgICAgICAgQWpvdXRlciB1biBib3V0b24gZGUgdHJhZHVjdGlvbiBhdXggY29tbWVudGFpcmVzIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmdsICAgICAgICAgIEVuZ2FkZSB1biBib3TDs24gZGUgdHJhZHVjacOzbiBhb3MgY29tZW50YXJpb3MgZGUgWW91VHViZQovLyBAZGVzY3JpcHRpb246aHIgICAgICAgICAgRG9kYWp0ZSBndW1iIHphIHByaWpldm9kIFlvdVR1YmUga29tZW50YXJpbWEKLy8gQGRlc2NyaXB0aW9uOnp1ICAgICAgICAgIEVuZ2V6YSBpbmtpbm9iaG8geW9rdWh1bXVzaGEgZW1hendhbmVuaSBlLVlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmlzICAgICAgICAgIELDpnR0dSDDvsO9w7BpbmdhaG5hcHBpIHZpw7AgWW91VHViZSBhdGh1Z2FzZW1kaXIKLy8gQGRlc2NyaXB0aW9uOml0ICAgICAgICAgIEFnZ2l1bmdpIHVuIHB1bHNhbnRlIGRpIHRyYWR1emlvbmUgYWkgY29tbWVudGkgZGkgWW91VHViZQovLyBAZGVzY3JpcHRpb246c3cgICAgICAgICAgT25nZXphIGtpdHVmZSBjaGEga3V0YWZzaXJpIGt3ZW55ZSBtYW9uaSB5YSBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpsdiAgICAgICAgICBQaWV2aWVub2ppZXQgdHVsa2/FoWFuYXMgcG9ndSBZb3VUdWJlIGtvbWVudMSBcmllbQovLyBAZGVzY3JpcHRpb246bHQgICAgICAgICAgUHJpZMSXa2l0ZSB2ZXJ0aW1vIG15Z3R1a8SFIHByaWUg4oCeWW91VHViZeKAnCBrb21lbnRhcsWzCi8vIEBkZXNjcmlwdGlvbjpodSAgICAgICAgICBBZGogaG96esOhIGVneSBmb3Jkw610w6FzaSBnb21ib3QgYSBZb3VUdWJlLW1lZ2plZ3l6w6lzZWtoZXoKLy8gQGRlc2NyaXB0aW9uOm5sICAgICAgICAgIFZvZWcgZWVuIHZlcnRhYWxrbm9wIHRvZSBhYW4gWW91VHViZS1vcG1lcmtpbmdlbgovLyBAZGVzY3JpcHRpb246dXogICAgICAgICAgWW91VHViZSBzaGFyaGxhcmlnYSB0YXJqaW1hIHR1Z21hc2kgcW8nc2hpbmcKLy8gQGRlc2NyaXB0aW9uOnBsICAgICAgICAgIERvZGFqIHByenljaXNrIHTFgnVtYWN6ZW5pYSBkbyBrb21lbnRhcnp5IFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnB0ICAgICAgICAgIEFkaWNpb25lIHVtIGJvdMOjbyBkZSB0cmFkdcOnw6NvIGFvcyBjb21lbnTDoXJpb3MgZG8gWW91VHViZQovLyBAZGVzY3JpcHRpb246cm8gICAgICAgICAgQWTEg3VnYcibaSB1biBidXRvbiBkZSB0cmFkdWNlcmUgbGEgY29tZW50YXJpaWxlIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnNxICAgICAgICAgIFNodG8gbmrDqyBidXRvbiBww6tya3RoaW1pIG7DqyBrb21lbnRldCBuw6sgWW91VHViZQovLyBAZGVzY3JpcHRpb246c2sgICAgICAgICAgUHJpZGFqdGUgdGxhxI1pZGxvIHByZWtsYWR1IGRvIGtvbWVudMOhcm92IG5hIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnNsICAgICAgICAgIEtvbWVudGFyamVtIHYgWW91VHVidSBkb2RhanRlIGd1bWIgemEgcHJldmFqYW5qZQovLyBAZGVzY3JpcHRpb246c3IgICAgICAgICAg0JTQvtC00LDRmNGC0LUg0LTRg9Cz0LzQtSDQt9CwINC/0YDQtdCy0L7QtCDQvdCwINCY0L7Rg9Ci0YPQsdC1INC60L7QvNC10L3RgtCw0YDQtQovLyBAZGVzY3JpcHRpb246ZmkgICAgICAgICAgTGlzw6TDpCBrw6TDpG5uw7ZzcGFpbmlrZSBZb3VUdWJlLWtvbW1lbnR0ZWloaW4KLy8gQGRlc2NyaXB0aW9uOnN2ICAgICAgICAgIEzDpGdnIHRpbGwgZW4gw7Z2ZXJzw6R0dG5pbmdza25hcHAgaSBZb3VUdWJlLWtvbW1lbnRhcmVyCi8vIEBkZXNjcmlwdGlvbjp2aSAgICAgICAgICBUaMOqbSBuw7p0IGThu4tjaCB2w6BvIG5o4bqtbiB4w6l0IHRyw6puIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnRyICAgICAgICAgIFlvdVR1YmUgeW9ydW1sYXLEsW5hIMOnZXZpcmkgZMO8xJ9tZXNpIGVrbGV5aW4KLy8gQGRlc2NyaXB0aW9uOmJlICAgICAgICAgINCU0LDQtNCw0LnRhtC1INC60L3QvtC/0LrRgyDQv9C10YDQsNC60LvQsNC00YMg0Z4g0LrQsNC80LXQvdGC0LDRgNGL0ZYgWW91VHViZQovLyBAZGVzY3JpcHRpb246YmcgICAgICAgICAg0JTQvtCx0LDQstC10YLQtSDQsdGD0YLQvtC9INC30LAg0L/RgNC10LLQvtC0INC60YrQvCDQutC+0LzQtdC90YLQsNGA0LjRgtC1INCyIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmt5ICAgICAgICAgIFlvdVR1YmUg0LbQvtGA0YPQvNC00LDRgNGL0L3QsCDQutC+0YLQvtGA0YPRgyDQsdCw0YHQutGL0YfRi9C9INC60L7RiNGD0qPRg9C3Ci8vIEBkZXNjcmlwdGlvbjprayAgICAgICAgICBZb3VUdWJlINC/0ZbQutGW0YDQu9C10YDRltC90LUg0LDRg9C00LDRgNGDINGC0q/QudC80LXRgdGW0L0g0pvQvtGB0YvSo9GL0LcKLy8gQGRlc2NyaXB0aW9uOm1rICAgICAgICAgINCU0L7QtNCw0ZjRgtC1INC60L7Qv9GH0LUg0LfQsCDQv9GA0LXQstC+0LQg0LLQviDQutC+0LzQtdC90YLQsNGA0LjRgtC1INC90LAgWW91VHViZQovLyBAZGVzY3JpcHRpb246bW4gICAgICAgICAgWW91VHViZS3QuNC50L0g0YHRjdGC0LPRjdCz0LTRjdC70LQg0L7RgNGH0YPRg9C70LDRhSDRgtC+0LLRh9C70YPRg9GAINC90Y3QvNC90Y0g0q/SrwovLyBAZGVzY3JpcHRpb246cnUgICAgICAgICAg0JTQvtCx0LDQstGM0YLQtSDQutC90L7Qv9C60YMg0L/QtdGA0LXQstC+0LTQsCDQsiDQutC+0LzQvNC10L3RgtCw0YDQuNC4IFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnVrICAgICAgICAgINCU0L7QtNCw0LnRgtC1INC60L3QvtC/0LrRgyDQv9C10YDQtdC60LvQsNC00YMg0LTQviDQutC+0LzQtdC90YLQsNGA0ZbQsiBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjplbCAgICAgICAgICDOoM+Bzr/Pg864zq3Pg8+EzrUgzq3Ovc6xIM66zr/Phc68z4DOryDOvM61z4TOrM+Gz4HOsc+DzrfPgiDPg8+EzrEgz4PPh8+MzrvOuc6xIM+Ezr/PhSBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpoeSAgICAgICAgICDUsdW+1aXVrNWh1oHWgNWl1oQg1anVodaA1aPVtNWh1bbVuNaC1anVtdWh1bYg1a/VuNWz1aHVryBZb3VUdWJlINW01aXVr9W21aHVotWh1bbVuNaC1anVtdW41oLVttW21aXWgNW41oLVtAovLyBAZGVzY3JpcHRpb246dXIgICAgICAgICAgWW91VHViZSDYqtio2LXYsdmI2rog2YXbjNq6INiq2LHYrNmF24Eg2qnYpyDYqNm52YYg2LTYp9mF2YQg2qnYsduM2rrblAovLyBAZGVzY3JpcHRpb246YXIgICAgICAgICAg2KPYttmBINiy2LEg2KrYsdis2YXYqSDYpdmE2Ykg2KrYudmE2YrZgtin2KogWW91VHViZQovLyBAZGVzY3JpcHRpb246ZmEgICAgICAgICAg24zaqSDYr9qp2YXZhyDYqtix2KzZhdmHINio2Ycg2YbYuNix2KfYqiBZb3VUdWJlINin2LbYp9mB2Ycg2qnZhtuM2K8KLy8gQGRlc2NyaXB0aW9uOm5lICAgICAgICAgIFlvdVR1YmUg4KSf4KS/4KSq4KWN4KSq4KSj4KWA4KS54KSw4KWC4KSu4KS+IOCkheCkqOClgeCkteCkvuCkpiDgpKzgpJ/gpKgg4KSl4KSq4KWN4KSo4KWB4KS54KWL4KS44KWNCi8vIEBkZXNjcmlwdGlvbjptciAgICAgICAgICBZb3VUdWJlIOCkn+Ckv+CkquCljeCkquCko+CljeCkr+CkvuCkguCkruCkp+CljeCkr+ClhyDgpK3gpL7gpLfgpL7gpILgpKTgpLAg4KSs4KSf4KSjIOCknOCli+CkoeCkvgovLyBAZGVzY3JpcHRpb246aGkgICAgICAgICAgWW91VHViZSDgpJ/gpL/gpKrgpY3gpKrgpKPgpL/gpK/gpYvgpIIg4KSu4KWH4KSCIOCkheCkqOClgeCkteCkvuCkpiDgpKzgpJ/gpKgg4KSc4KWL4KSh4KS84KWH4KSCCi8vIEBkZXNjcmlwdGlvbjphcyAgICAgICAgICDgpofgpongpp/gpr/gpongpqzgp7Ag4Kau4Kao4KeN4Kak4Kas4KeN4Kav4KakIOCmj+Cmn+CmviDgpoXgpqjgp4Hgpqzgpr7gpqYg4Kas4KeB4Kaf4Ka+4KauIOCmr+Cni+CmlyDgppXgp7DgppUKLy8gQGRlc2NyaXB0aW9uOmJuICAgICAgICAgIFlvdVR1YmUg4Kau4Kao4KeN4Kak4Kas4KeN4Kav4KeHIOCmj+CmleCmn+CmvyDgpoXgpqjgp4Hgpqzgpr7gpqYg4Kas4KeL4Kak4Ka+4KauIOCmr+Cni+CmlyDgppXgprDgp4HgpqgKLy8gQGRlc2NyaXB0aW9uOnBhICAgICAgICAgIFlvdVR1YmUg4Kif4Ki/4Kmx4Kiq4Kij4KmA4KiG4KiCIOCoteCov+CpseComiDgqIfgqbHgqJUg4KiF4Kio4KmB4Ki14Ki+4KimIOCorOCon+CoqCDgqLjgqLzgqL7gqK7gqLIg4KiV4Kiw4KmLCi8vIEBkZXNjcmlwdGlvbjpndSAgICAgICAgICBZb3VUdWJlIOCqn+Cqv+CqquCrjeCqquCqo+CrgOCqk+CqruCqvuCqgiDgqoXgqqjgq4HgqrXgqr7gqqYg4Kqs4Kqf4KqoIOCqieCqruCrh+CqsOCriwovLyBAZGVzY3JpcHRpb246b3IgICAgICAgICAg4K2f4K2B4Kyf4K2N4K2f4K2B4Kys4K2NIOCsruCsqOCtjeCspOCsrOCtjeCtn+Csl+CtgeCsoeCsv+CsleCssOCthyDgrI/grJUg4KyF4Kyo4K2B4Kys4Ky+4KymIOCsrOCsn+CsqOCtjSDgrK/grYvgrKHgrKjgrY3grKTgrYEgfAovLyBAZGVzY3JpcHRpb246dGEgICAgICAgICAgWW91VHViZSDgrpXgrrDgr4HgrqTgr43grqTgr4HgrpXgrrPgrr/grrLgr40g4K6u4K+K4K604K6/4K6q4K+G4K6v4K6w4K+N4K6q4K+N4K6q4K+BIOCuquCviuCupOCvjeCupOCuvuCuqeCviOCumuCvjSDgrprgr4fgrrDgr43grpXgr43grpXgrrXgr4Hgrq7gr40KLy8gQGRlc2NyaXB0aW9uOnRlICAgICAgICAgIFlvdVR1YmUg4LC14LGN4LCv4LC+4LCW4LGN4LCv4LCy4LCV4LGBIOCwheCwqOCxgeCwteCwvuCwpiDgsKzgsJ/gsKjgsY3igIzgsKjgsYEg4LCc4LGL4LCh4LC/4LCC4LCa4LCC4LCh4LC/Ci8vIEBkZXNjcmlwdGlvbjprbiAgICAgICAgICBZb3VUdWJlIOCyleCyvuCyruCzhuCyguCyn+CzjeKAjOCyl+Cys+Cyv+Cyl+CzhiDgsoXgsqjgs4HgsrXgsr7gsqYg4LKs4LKf4LKo4LONIOCyheCyqOCzjeCyqOCzgSDgsrjgs4fgsrDgsr/gsrjgsr8KLy8gQGRlc2NyaXB0aW9uOm1sICAgICAgICAgIFlvdVR1YmUg4LSF4LSt4LS/4LSq4LWN4LSw4LS+4LSv4LSZ4LWN4LSZ4LSz4LS/4LSy4LWH4LSV4LWN4LSV4LWNIOC0kuC0sOC1gSDgtLXgtL/gtLXgtbzgtKTgtY3gtKTgtKgg4LSs4LSf4LWN4LSf4LW6IOC0muC1h+C1vOC0leC1jeC0leC1geC0lQovLyBAZGVzY3JpcHRpb246c2kgICAgICAgICAgWW91VHViZSDgtoXgtq/gt4Tgt4Pgt4og4LeD4Laz4LeE4LePIOC2tOC2u+C3kuC3gOC2u+C3iuC2reC2sSDgtrbgt5zgtq3gt4rgtq3gtrjgtprgt4og4LaR4Laa4LeKIOC2muC2u+C2seC3iuC2sQovLyBAZGVzY3JpcHRpb246dGggICAgICAgICAg4LmA4Lie4Li04LmI4Lih4Lib4Li44LmI4Lih4LmB4Lib4Lil4LiE4Lin4Liy4Lih4LiE4Li04LiU4LmA4Lir4LmH4LiZ4LmD4LiZIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmxvICAgICAgICAgIOC7gOC6nuC6teC7iOC6oeC6m+C6uOC7iOC6oeC7geC6m+C6nuC6suC6quC6suC7g+C6quC7iOC6hOC6s+C7gOC6q+C6seC6mSBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpteSAgICAgICAgICBZb3VUdWJlIOGAmeGAvuGAkOGAuuGAgeGAu+GAgOGAuuGAmeGAu+GArOGAuOGAnuGAreGAr+GAtyDhgJjhgKzhgJ7hgKzhgJXhgLzhgJThgLrhgJvhgJThgLog4YCB4YCc4YCv4YCQ4YC64YCQ4YCF4YC64YCB4YCvIOGAkeGAiuGAt+GAuuGAleGAq+GBiwovLyBAZGVzY3JpcHRpb246a2EgICAgICAgICAg4YOT4YOQ4YOQ4YOb4YOQ4YOi4YOU4YOXIOGDl+GDkOGDoOGDkuGDm+GDkOGDnOGDmOGDoSDhg6bhg5jhg5rhg5Dhg5nhg5ggWW91VHViZSDhg5nhg53hg5vhg5Thg5zhg6Lhg5Dhg6Dhg5Thg5Hhg6jhg5gKLy8gQGRlc2NyaXB0aW9uOmFtICAgICAgICAgIOGJoFlvdVR1YmUg4Yqg4Yi14Ymw4Yur4Yuo4Ym24Ym9IOGIi+GLrSDhi6jhibXhiK3hjInhiJ0g4YmB4YiN4Y2NIOGLq+GKreGIiQovLyBAZGVzY3JpcHRpb246a20gICAgICAgICAg4Z6U4Z6T4Z+S4Z6Q4Z+C4Z6Y4Z6U4Z+K4Z684Z6P4Z674Z6E4Z6U4Z6A4Z6U4Z+S4Z6a4Z+C4Z6R4Z+F4Z6Y4Z6P4Z634Z6Z4Z+E4Z6U4Z6b4Z+LIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnpoLUNOICAgICAgICAgIOWcqFlvdVR1YmXnmoTor4TorrrkuIrmt7vliqDkuIDkuKrnv7vor5HmjInpkq4KLy8gQGRlc2NyaXB0aW9uOnpoLVRXICAgICAgICAgIOWcqFlvdVR1YmXnmoToqZXoq5bkuIrmt7vliqDkuIDlgIvnv7vora/mjInpiJUKLy8gQGRlc2NyaXB0aW9uOnpoLUhLICAgICAgICAgIOWcqFlvdVR1YmXnmoTor4TorrrkuIrmt7vliqDkuIDkuKrnv7vor5HmjInpkq4KLy8gQGRlc2NyaXB0aW9uOmphICAgICAgICAgIFlvdVR1YmUg44Gu44Kz44Oh44Oz44OI44Gr57+76Kiz44Oc44K/44Oz44KS6L+95Yqg44GZ44KLCi8vIEBkZXNjcmlwdGlvbjprbyAgICAgICAgICBZb3VUdWJlIOuMk+q4gOyXkCDrsojsl60g67KE7Yq8IOy2lOqwgAovLyBAbmFtZXNwYWNlICAgICBodHRwczovL2dpdGh1Yi5jb20vbGlua3dhbmdnbwovLyBAdmVyc2lvbiAgICAgICAzLjIuMgovLyBAYXV0aG9yICAgICAgICBsaW5rd2FuZ2dvCi8vIEBjb3B5cmlnaHQgICAgIDIwMjIsIGxpbmt3YW5nZ28gKGh0dHBzOi8vZ2l0aHViLmNvbS9saW5rd2FuZ2dvKQovLyBAaWNvbiAgICAgICAgICBkYXRhOmltYWdlL3gtaWNvbjtiYXNlNjQsQUFBQkFBRUFFQkFBQUFFQUlBQm9CQUFBRmdBQUFDZ0FBQUFRQUFBQUlBQUFBQUVBSUFBQUFBQUFBQVFBQUJJTEFBQVNDd0FBQUFBQUFBQUFBQUQvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBQUFEL0VBQUEvMEFBQVA5QUFBRC9jQUFBLzRBQUFQK0FBQUQvZ0FBQS80QUFBUCtBQUFEL1FBQUEvMEFBQVA4US8vLy9BUC8vL3dELy8vOEFBQUQvWUFBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvMkQvLy84QUFBRC9NQUFBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFEL01BQUEvMUFBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOFFFUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8yQUFBUCtBQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy80T0QvLzFCUS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQK0FBQUQvZ0FBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vLy8vLy8vLy8vLy93TUQvL3lBZy8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC9nQUFBLzRBQUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvLy8vLy8vLy8vLy8vN0N3Ly84Z0lQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvNEFBQVArQUFBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vNE9ELy8wQkEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUCtBQUFEL1VBQUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvWUFBQS96QUFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBL3pELy8vOEFBQUQvWUFBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvMkQvLy84QS8vLy9BUC8vL3dBQUFQOFFBQUQvUUFBQS8wQUFBUCtBQUFEL2dBQUEvNEFBQVArQUFBRC9nQUFBLzRBQUFQOUFBQUQvUUFBQS94RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLzhBQVAvL0FBREFBd0FBZ0FFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBZ0FFQUFNQURBQUQvL3dBQS8vOEFBQT09Ci8vIEBtYXRjaCAgICAgICAgICo6Ly93d3cueW91dHViZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAqOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoKgovLyBAY29tcGF0aWJsZSAgICBjaHJvbWUKLy8gQGNvbXBhdGlibGUgICAgZmlyZWZveAovLyBAY29tcGF0aWJsZSAgICBlZGdlCi8vIEBncmFudCAgICAgICAgIG5vbmUKLy8gQHNvdXJjZSAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2xpbmt3YW5nZ28veW91dHViZS1jb21tZW50LXRyYW5zbGF0ZQovLyBAc3VwcG9ydFVSTCAgICBodHRwczovL2dpdGh1Yi5jb20vbGlua3dhbmdnby95b3V0dWJlLWNvbW1lbnQtdHJhbnNsYXRlL2lzc3VlcwovLyBAZGVzY3JpcHRpb24g5ZyoWW91VHViZeeahOivhOiuuuS4iua3u+WKoOS4gOS4que/u+ivkeaMiemSriAo77+jeeKWvSzvv6Mp4pWtCi8vID09L1VzZXJTY3JpcHQ9PQovKiBnbG9iYWxzICQgd2FpdEZvcktleUVsZW1lbnRzICovCi8vIEBbIFlvdSBjYW4gZmluZCBhbGwgc291cmNlIGNvZGVzIGluIEdpdEh1YiByZXBvIF0KCiFmdW5jdGlvbigpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIGZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7CiAgICAgICAgX3JlZ2VuZXJhdG9yUnVudGltZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gZXhwb3J0czsKICAgICAgICB9OwogICAgICAgIHZhciBleHBvcnRzID0ge30sIE9wID0gT2JqZWN0LnByb3RvdHlwZSwgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHksIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uKG9iaiwga2V5LCBkZXNjKSB7CiAgICAgICAgICAgIG9ialtrZXldID0gZGVzYy52YWx1ZTsKICAgICAgICB9LCAkU3ltYm9sID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCAiQEBpdGVyYXRvciIsIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgIkBAYXN5bmNJdGVyYXRvciIsIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCAiQEB0b1N0cmluZ1RhZyI7CiAgICAgICAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiAhMCwKICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsCiAgICAgICAgICAgICAgICB3cml0YWJsZTogITAKICAgICAgICAgICAgfSksIG9ialtrZXldOwogICAgICAgIH0KICAgICAgICB0cnkgewogICAgICAgICAgICBkZWZpbmUoe30sICIiKTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkgewogICAgICAgICAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvciwgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpLCBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pOwogICAgICAgICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZ2VuZXJhdG9yLCAiX2ludm9rZSIsIHsKICAgICAgICAgICAgICAgIHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpCiAgICAgICAgICAgIH0pLCBnZW5lcmF0b3I7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAibm9ybWFsIiwKICAgICAgICAgICAgICAgICAgICBhcmc6IGZuLmNhbGwob2JqLCBhcmcpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogInRocm93IiwKICAgICAgICAgICAgICAgICAgICBhcmc6IGVycgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBleHBvcnRzLndyYXAgPSB3cmFwOwogICAgICAgIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307CiAgICAgICAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30KICAgICAgICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9CiAgICAgICAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fQogICAgICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9OwogICAgICAgIGRlZmluZShJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wsIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSkpOwogICAgICAgIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7CiAgICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkgJiYgKEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUpOwogICAgICAgIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTsKICAgICAgICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7CiAgICAgICAgICAgIFsgIm5leHQiLCAidGhyb3ciLCAicmV0dXJuIiBdLmZvckVhY2goKGZ1bmN0aW9uKG1ldGhvZCkgewogICAgICAgICAgICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCAoZnVuY3Rpb24oYXJnKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIH0pKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7CiAgICAgICAgICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTsKICAgICAgICAgICAgICAgIGlmICgidGhyb3ciICE9PSByZWNvcmQudHlwZSkgewogICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnLCB2YWx1ZSA9IHJlc3VsdC52YWx1ZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgJiYgIm9iamVjdCIgPT0gdHlwZW9mIHZhbHVlICYmIGhhc093bi5jYWxsKHZhbHVlLCAiX19hd2FpdCIpID8gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih2YWx1ZTIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlKCJuZXh0IiwgdmFsdWUyLCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgICAgICAgICAgIH0pLCAoZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZSgidGhyb3ciLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7CiAgICAgICAgICAgICAgICAgICAgfSkpIDogUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbigoZnVuY3Rpb24odW53cmFwcGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZCwgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgICAgICAgICAgICAgIH0pLCAoZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludm9rZSgidGhyb3ciLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHByZXZpb3VzUHJvbWlzZTsKICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkodGhpcywgIl9pbnZva2UiLCB7CiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24obWV0aG9kLCBhcmcpIHsKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbCgoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9IHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7CiAgICAgICAgICAgIHZhciBzdGF0ZSA9ICJzdXNwZW5kZWRTdGFydCI7CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihtZXRob2QsIGFyZykgewogICAgICAgICAgICAgICAgaWYgKCJleGVjdXRpbmciID09PSBzdGF0ZSkgdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7CiAgICAgICAgICAgICAgICBpZiAoImNvbXBsZXRlZCIgPT09IHN0YXRlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCJ0aHJvdyIgPT09IG1ldGhvZCkgdGhyb3cgYXJnOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2b2lkIDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6ICEwCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAoY29udGV4dC5tZXRob2QgPSBtZXRob2QsIGNvbnRleHQuYXJnID0gYXJnOyA7KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIm5leHQiID09PSBjb250ZXh0Lm1ldGhvZCkgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnOyBlbHNlIGlmICgidGhyb3ciID09PSBjb250ZXh0Lm1ldGhvZCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoInN1c3BlbmRlZFN0YXJ0IiA9PT0gc3RhdGUpIHRocm93IHN0YXRlID0gImNvbXBsZXRlZCIsIGNvbnRleHQuYXJnOwogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgInJldHVybiIgPT09IGNvbnRleHQubWV0aG9kICYmIGNvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LmFyZyk7CiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAiZXhlY3V0aW5nIjsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCJub3JtYWwiID09PSByZWNvcmQudHlwZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPSBjb250ZXh0LmRvbmUgPyAiY29tcGxldGVkIiA6ICJzdXNwZW5kZWRZaWVsZCIsIHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmUKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgInRocm93IiA9PT0gcmVjb3JkLnR5cGUgJiYgKHN0YXRlID0gImNvbXBsZXRlZCIsIGNvbnRleHQubWV0aG9kID0gInRocm93IiwgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkgewogICAgICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IGNvbnRleHQubWV0aG9kLCBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2ROYW1lXTsKICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gbWV0aG9kKSByZXR1cm4gY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsICJ0aHJvdyIgPT09IG1ldGhvZE5hbWUgJiYgZGVsZWdhdGUuaXRlcmF0b3IucmV0dXJuICYmIChjb250ZXh0Lm1ldGhvZCA9ICJyZXR1cm4iLCAKICAgICAgICAgICAgY29udGV4dC5hcmcgPSB2b2lkIDAsIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpLCAidGhyb3ciID09PSBjb250ZXh0Lm1ldGhvZCkgfHwgInJldHVybiIgIT09IG1ldGhvZE5hbWUgJiYgKGNvbnRleHQubWV0aG9kID0gInRocm93IiwgCiAgICAgICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIiArIG1ldGhvZE5hbWUgKyAiJyBtZXRob2QiKSksIAogICAgICAgICAgICBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpOwogICAgICAgICAgICBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHJldHVybiBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZywgCiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7CiAgICAgICAgICAgIHJldHVybiBpbmZvID8gaW5mby5kb25lID8gKGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlLCBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jLCAKICAgICAgICAgICAgInJldHVybiIgIT09IGNvbnRleHQubWV0aG9kICYmIChjb250ZXh0Lm1ldGhvZCA9ICJuZXh0IiwgY29udGV4dC5hcmcgPSB2b2lkIDApLCAKICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpIDogaW5mbyA6IChjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSwgCiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHsKICAgICAgICAgICAgdmFyIGVudHJ5ID0gewogICAgICAgICAgICAgICAgdHJ5TG9jOiBsb2NzWzBdCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIDEgaW4gbG9jcyAmJiAoZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdKSwgMiBpbiBsb2NzICYmIChlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXSwgCiAgICAgICAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXSksIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkgewogICAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTsKICAgICAgICAgICAgcmVjb3JkLnR5cGUgPSAibm9ybWFsIiwgZGVsZXRlIHJlY29yZC5hcmcsIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHsKICAgICAgICAgICAgdGhpcy50cnlFbnRyaWVzID0gWyB7CiAgICAgICAgICAgICAgICB0cnlMb2M6ICJyb290IgogICAgICAgICAgICB9IF0sIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkgewogICAgICAgICAgICBpZiAoaXRlcmFibGUpIHsKICAgICAgICAgICAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTsKICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpOwogICAgICAgICAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGl0ZXJhYmxlLm5leHQpIHJldHVybiBpdGVyYWJsZTsKICAgICAgICAgICAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0MigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7KytpIDwgaXRlcmFibGUubGVuZ3RoOyApIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHJldHVybiBuZXh0Mi52YWx1ZSA9IGl0ZXJhYmxlW2ldLCAKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDIuZG9uZSA9ICExLCBuZXh0MjsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQyLnZhbHVlID0gdm9pZCAwLCBuZXh0Mi5kb25lID0gITAsIG5leHQyOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIG5leHQ6IGRvbmVSZXN1bHQKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHZhbHVlOiB2b2lkIDAsCiAgICAgICAgICAgICAgICBkb25lOiAhMAogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZVByb3BlcnR5KEdwLCAiY29uc3RydWN0b3IiLCB7CiAgICAgICAgICAgIHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMAogICAgICAgIH0pLCBkZWZpbmVQcm9wZXJ0eShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgImNvbnN0cnVjdG9yIiwgewogICAgICAgICAgICB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAKICAgICAgICB9KSwgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIHRvU3RyaW5nVGFnU3ltYm9sLCAiR2VuZXJhdG9yRnVuY3Rpb24iKSwgCiAgICAgICAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7CiAgICAgICAgICAgIHZhciBjdG9yID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZ2VuRnVuICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjsKICAgICAgICAgICAgcmV0dXJuICEhY3RvciAmJiAoY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgIkdlbmVyYXRvckZ1bmN0aW9uIiA9PT0gKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSk7CiAgICAgICAgfSwgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7CiAgICAgICAgICAgIHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAoZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCAKICAgICAgICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsICJHZW5lcmF0b3JGdW5jdGlvbiIpKSwgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApLCAKICAgICAgICAgICAgZ2VuRnVuOwogICAgICAgIH0sIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIF9fYXdhaXQ6IGFyZwogICAgICAgICAgICB9OwogICAgICAgIH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9KSksIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHsKICAgICAgICAgICAgdm9pZCAwID09PSBQcm9taXNlSW1wbCAmJiAoUHJvbWlzZUltcGwgPSBQcm9taXNlKTsKICAgICAgICAgICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSwgUHJvbWlzZUltcGwpOwogICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pID8gaXRlciA6IGl0ZXIubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7CiAgICAgICAgICAgIH0pKTsKICAgICAgICB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApLCBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCAiR2VuZXJhdG9yIiksIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSkpLCBkZWZpbmUoR3AsICJ0b1N0cmluZyIsIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuICJbb2JqZWN0IEdlbmVyYXRvcl0iOwogICAgICAgIH0pKSwgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24odmFsKSB7CiAgICAgICAgICAgIHZhciBvYmplY3QgPSBPYmplY3QodmFsKSwga2V5cyA9IFtdOwogICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSBrZXlzLnB1c2goa2V5KTsKICAgICAgICAgICAgcmV0dXJuIGtleXMucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkgewogICAgICAgICAgICAgICAgZm9yICg7a2V5cy5sZW5ndGg7ICkgewogICAgICAgICAgICAgICAgICAgIHZhciBrZXkyID0ga2V5cy5wb3AoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoa2V5MiBpbiBvYmplY3QpIHJldHVybiBuZXh0LnZhbHVlID0ga2V5MiwgbmV4dC5kb25lID0gITEsIG5leHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dC5kb25lID0gITAsIG5leHQ7CiAgICAgICAgICAgIH07CiAgICAgICAgfSwgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXMsIENvbnRleHQucHJvdG90eXBlID0gewogICAgICAgICAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCwKICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdm9pZCAwLCB0aGlzLmRvbmUgPSAhMSwgCiAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSAibmV4dCIsIHRoaXMuYXJnID0gdm9pZCAwLCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgCiAgICAgICAgICAgICAgICAhc2tpcFRlbXBSZXNldCkgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSAidCIgPT09IG5hbWUuY2hhckF0KDApICYmIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmICFpc05hTigrbmFtZS5zbGljZSgxKSkgJiYgKHRoaXNbbmFtZV0gPSB2b2lkIDApOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdG9wOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9ICEwOwogICAgICAgICAgICAgICAgdmFyIHJvb3RSZWNvcmQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjsKICAgICAgICAgICAgICAgIGlmICgidGhyb3ciID09PSByb290UmVjb3JkLnR5cGUpIHRocm93IHJvb3RSZWNvcmQuYXJnOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucnZhbDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuZG9uZSkgdGhyb3cgZXhjZXB0aW9uOwogICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzOwogICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZC50eXBlID0gInRocm93IiwgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbiwgY29udGV4dC5uZXh0ID0gbG9jLCBjYXVnaHQgJiYgKGNvbnRleHQubWV0aG9kID0gIm5leHQiLCAKICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFyZyA9IHZvaWQgMCksICEhY2F1Z2h0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXSwgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjsKICAgICAgICAgICAgICAgICAgICBpZiAoInJvb3QiID09PSBlbnRyeS50cnlMb2MpIHJldHVybiBoYW5kbGUoImVuZCIpOwogICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCAiY2F0Y2hMb2MiKSwgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCAiZmluYWxseUxvYyIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0ZpbmFsbHkpIHRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgImZpbmFsbHlMb2MiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZmluYWxseUVudHJ5ICYmICgiYnJlYWsiID09PSB0eXBlIHx8ICJjb250aW51ZSIgPT09IHR5cGUpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYyAmJiAoZmluYWxseUVudHJ5ID0gbnVsbCk7CiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTsKICAgICAgICAgICAgICAgIHJldHVybiByZWNvcmQudHlwZSA9IHR5cGUsIHJlY29yZC5hcmcgPSBhcmcsIGZpbmFsbHlFbnRyeSA/ICh0aGlzLm1ldGhvZCA9ICJuZXh0IiwgCiAgICAgICAgICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYywgQ29udGludWVTZW50aW5lbCkgOiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7CiAgICAgICAgICAgICAgICBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHRocm93IHJlY29yZC5hcmc7CiAgICAgICAgICAgICAgICByZXR1cm4gImJyZWFrIiA9PT0gcmVjb3JkLnR5cGUgfHwgImNvbnRpbnVlIiA9PT0gcmVjb3JkLnR5cGUgPyB0aGlzLm5leHQgPSByZWNvcmQuYXJnIDogInJldHVybiIgPT09IHJlY29yZC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZywgCiAgICAgICAgICAgICAgICB0aGlzLm1ldGhvZCA9ICJyZXR1cm4iLCB0aGlzLm5leHQgPSAiZW5kIikgOiAibm9ybWFsIiA9PT0gcmVjb3JkLnR5cGUgJiYgYWZ0ZXJMb2MgJiYgKHRoaXMubmV4dCA9IGFmdGVyTG9jKSwgCiAgICAgICAgICAgICAgICBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgICB9LAogICAgICAgICAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07CiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHJldHVybiB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKSwgCiAgICAgICAgICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSksIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNhdGNoOiBmdW5jdGlvbih0cnlMb2MpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07CiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRocm93bjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7CiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSwKICAgICAgICAgICAgICAgICAgICBuZXh0TG9jOiBuZXh0TG9jCiAgICAgICAgICAgICAgICB9LCAibmV4dCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHZvaWQgMCksIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICAgIH0KICAgICAgICB9LCBleHBvcnRzOwogICAgfQogICAgZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKSwgdmFsdWUgPSBpbmZvLnZhbHVlOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIHJldHVybiB2b2lkIHJlamVjdChlcnJvcik7CiAgICAgICAgfQogICAgICAgIGluZm8uZG9uZSA/IHJlc29sdmUodmFsdWUpIDogUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOwogICAgfQogICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICAgIH0KICAgIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCAhMSwgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSAhMCwgCiAgICAgICAgICAgICJ2YWx1ZSIgaW4gZGVzY3JpcHRvciAmJiAoZGVzY3JpcHRvci53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgICAgICAgcmV0dXJuIHByb3RvUHJvcHMgJiYgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKSwgc3RhdGljUHJvcHMgJiYgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKSwgCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCAicHJvdG90eXBlIiwgewogICAgICAgICAgICB3cml0YWJsZTogITEKICAgICAgICB9KSwgQ29uc3RydWN0b3I7CiAgICB9CiAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIChrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpKSBpbiBvYmogPyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgICBlbnVtZXJhYmxlOiAhMCwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMCwKICAgICAgICAgICAgd3JpdGFibGU6ICEwCiAgICAgICAgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBvYmo7CiAgICB9CiAgICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24oYXJyKSB7CiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7CiAgICAgICAgfShhcnIpIHx8IGZ1bmN0aW9uKGFyciwgaSkgewogICAgICAgICAgICB2YXIgX2kgPSBudWxsID09IGFyciA/IG51bGwgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFyclsiQEBpdGVyYXRvciJdOwogICAgICAgICAgICBpZiAobnVsbCAhPSBfaSkgewogICAgICAgICAgICAgICAgdmFyIF9zLCBfZSwgX3gsIF9yLCBfYXJyID0gW10sIF9uID0gITAsIF9kID0gITE7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgX24gPSAhMTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZm9yICg7IShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKSA7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfZCA9ICEwLCBfZSA9IGVycjsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfbiAmJiBudWxsICE9IF9pLnJldHVybiAmJiAoX3IgPSBfaS5yZXR1cm4oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gX2FycjsKICAgICAgICAgICAgfQogICAgICAgIH0oYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKICAgICAgICB9KCk7CiAgICB9CiAgICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7CiAgICAgICAgaWYgKG8pIHsKICAgICAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBvKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKICAgICAgICAgICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogICAgICAgICAgICByZXR1cm4gIk9iamVjdCIgPT09IG4gJiYgby5jb25zdHJ1Y3RvciAmJiAobiA9IG8uY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSBuIHx8ICJTZXQiID09PSBuID8gQXJyYXkuZnJvbShvKSA6ICJBcmd1bWVudHMiID09PSBuIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pID8gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKSA6IHZvaWQgMDsKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgewogICAgICAgIChudWxsID09IGxlbiB8fCBsZW4gPiBhcnIubGVuZ3RoKSAmJiAobGVuID0gYXJyLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOwogICAgICAgIHJldHVybiBhcnIyOwogICAgfQogICAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsKICAgICAgICB2YXIgaXQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvWyJAQGl0ZXJhdG9yIl07CiAgICAgICAgaWYgKCFpdCkgewogICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgIm51bWJlciIgPT0gdHlwZW9mIG8ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBpdCAmJiAobyA9IGl0KTsKICAgICAgICAgICAgICAgIHZhciBpID0gMCwgRiA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHM6IEYsCiAgICAgICAgICAgICAgICAgICAgbjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpID49IG8ubGVuZ3RoID8gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogITAKICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6ICExLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9baSsrXQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZTogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZjogRgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7CiAgICAgICAgfQogICAgICAgIHZhciBlcnIsIG5vcm1hbENvbXBsZXRpb24gPSAhMCwgZGlkRXJyID0gITE7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgczogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpdCA9IGl0LmNhbGwobyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG46IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7CiAgICAgICAgICAgICAgICByZXR1cm4gbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZSwgc3RlcDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZTogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgZGlkRXJyID0gITAsIGVyciA9IGU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGY6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBub3JtYWxDb21wbGV0aW9uIHx8IG51bGwgPT0gaXQucmV0dXJuIHx8IGl0LnJldHVybigpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQogICAgZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7CiAgICAgICAgdmFyIGtleSA9IGZ1bmN0aW9uKGlucHV0LCBoaW50KSB7CiAgICAgICAgICAgIGlmICgib2JqZWN0IiAhPSB0eXBlb2YgaW5wdXQgfHwgbnVsbCA9PT0gaW5wdXQpIHJldHVybiBpbnB1dDsKICAgICAgICAgICAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOwogICAgICAgICAgICBpZiAodm9pZCAwICE9PSBwcmltKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7CiAgICAgICAgICAgICAgICBpZiAoIm9iamVjdCIgIT0gdHlwZW9mIHJlcykgcmV0dXJuIHJlczsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICgic3RyaW5nIiA9PT0gaGludCA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOwogICAgICAgIH0oYXJnLCAic3RyaW5nIik7CiAgICAgICAgcmV0dXJuICJzeW1ib2wiID09IHR5cGVvZiBrZXkgPyBrZXkgOiBTdHJpbmcoa2V5KTsKICAgIH0KICAgIHZhciBHb29nbGVXZWIgPSAgZnVuY3Rpb24oKSB7CiAgICAgICAgZnVuY3Rpb24gR29vZ2xlV2ViMigpIHsKICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdvb2dsZVdlYjIpLCBfZGVmaW5lUHJvcGVydHkodGhpcywgIm5hbWUiLCB2b2lkIDApLCB0aGlzLm5hbWUgPSAiR29vZ2xlV2ViIjsKICAgICAgICB9CiAgICAgICAgdmFyIGZuLCBfdHJhbnNsYXRlOwogICAgICAgIHJldHVybiBfY3JlYXRlQ2xhc3MoR29vZ2xlV2ViMiwgWyB7CiAgICAgICAgICAgIGtleTogInRyYW5zbGF0ZSIsCiAgICAgICAgICAgIHZhbHVlOiAoZm4gPSAgX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoKGZ1bmN0aW9uIF9jYWxsZWUocGFyYW1zKSB7CiAgICAgICAgICAgICAgICB2YXIgdGV4dCwgX3BhcmFtcyRmcm9tLCBmcm9tLCBfcGFyYW1zJHRvLCB0bywgc2VhcmNoUGFyYW1zLCB1cmw7CiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoKGZ1bmN0aW9uKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICg7Oykgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dCA9IHBhcmFtcy50ZXh0LCBfcGFyYW1zJGZyb20gPSBwYXJhbXMuZnJvbSwgZnJvbSA9IHZvaWQgMCA9PT0gX3BhcmFtcyRmcm9tID8gImF1dG8iIDogX3BhcmFtcyRmcm9tLCAKICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmFtcyR0byA9IHBhcmFtcy50bywgdG8gPSB2b2lkIDAgPT09IF9wYXJhbXMkdG8gPyAiemgtQ04iIDogX3BhcmFtcyR0bywgKHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMpLmFwcGVuZCgiY2xpZW50IiwgImd0eCIpLCAKICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZCgic2wiLCBmcm9tKSwgc2VhcmNoUGFyYW1zLmFwcGVuZCgidGwiLCB0byksIHNlYXJjaFBhcmFtcy5hcHBlbmQoImRqIiwgIjEiKSwgCiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoImR0IiwgInQiKSwgc2VhcmNoUGFyYW1zLmFwcGVuZCgiZHQiLCAicm0iKSwgc2VhcmNoUGFyYW1zLmFwcGVuZCgicSIsIHRleHQpLCAKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gImh0dHBzOi8vdHJhbnNsYXRlLmdvb2dsZWFwaXMuY29tL3RyYW5zbGF0ZV9hL3NpbmdsZT8iICsgc2VhcmNoUGFyYW1zLCBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZldGNoKHVybCkudGhlbigoZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuanNvbigpOwogICAgICAgICAgICAgICAgICAgICAgICB9KSkpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLCBfY2FsbGVlKTsKICAgICAgICAgICAgfSkpLCBfdHJhbnNsYXRlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX25leHQodm9pZCAwKTsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24oX3gpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdHJhbnNsYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJ0cmFuc2Zvcm0iLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24ocXVlcnksIHJlc3VsdCkgewogICAgICAgICAgICAgICAgdmFyIHRleHQgPSBxdWVyeS50ZXh0LCB0byA9IHF1ZXJ5LnRvLCBzcmMgPSByZXN1bHQuc3JjLCByZWFsRnJvbSA9IHJlc3VsdC5zcmMgfHwgcXVlcnkuZnJvbSwgciA9IHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgICAgICAgICAgICAgIHJhdzogcmVzdWx0LAogICAgICAgICAgICAgICAgICAgIGxpbms6ICJodHRwczovL3RyYW5zbGF0ZS5nb29nbGUuY29tLz9zbD0iLmNvbmNhdChzcmMgfHwgImF1dG8iLCAiJnRsPSIpLmNvbmNhdCh0bywgIiZ0ZXh0PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodGV4dCksICImb3A9dHJhbnNsYXRlIiksCiAgICAgICAgICAgICAgICAgICAgZnJvbTogcmVhbEZyb20sCiAgICAgICAgICAgICAgICAgICAgdG86IHRvCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICByLnJlc3VsdCA9IHJlc3VsdC5zZW50ZW5jZXMubWFwKChmdW5jdGlvbihzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAidHJhbnMiIGluIHMgPyBzLnRyYW5zIDogIiI7CiAgICAgICAgICAgICAgICAgICAgfSkpLmpvaW4oIiIpLnNwbGl0KCJcbiIpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gcjsKICAgICAgICAgICAgfQogICAgICAgIH0gXSksIEdvb2dsZVdlYjI7CiAgICB9KCksIGdvb2dsZVdlYiA9IG5ldyBHb29nbGVXZWIsIHdoaXRlTWFwcGluZyA9IHsKICAgICAgICAiemgtSGFucy1DTiI6ICJ6aC1DTiIsCiAgICAgICAgInpoLUhhbnQtVFciOiAiemgtVFciLAogICAgICAgICJ6aC1IYW50LUhLIjogInpoLVRXIiwKICAgICAgICAiZmlsLVBIIjogInRsIgogICAgfSwgZ29vZ2xlU3VwcG9ydCA9IFsgInNxIiwgImFyIiwgImFtIiwgImFzIiwgImF6IiwgImVlIiwgImF5IiwgImdhIiwgImV0IiwgIm9yIiwgIm9tIiwgImV1IiwgImJlIiwgImJtIiwgImJnIiwgImlzIiwgInBsIiwgImJzIiwgImZhIiwgImJobyIsICJhZiIsICJ0dCIsICJkYSIsICJkZSIsICJkdiIsICJ0aSIsICJkb2kiLCAicnUiLCAiZnIiLCAic2EiLCAidGwiLCAiZmkiLCAiZnkiLCAia20iLCAia2EiLCAiZ29tIiwgImd1IiwgImduIiwgImtrIiwgImh0IiwgImtvIiwgImhhIiwgIm5sIiwgImt5IiwgImdsIiwgImNhIiwgImNzIiwgImtuIiwgImNvIiwgImtyaSIsICJociIsICJxdSIsICJrdSIsICJja2IiLCAibGEiLCAibHYiLCAibG8iLCAibHQiLCAibG4iLCAibGciLCAibGIiLCAicnciLCAicm8iLCAibWciLCAibXQiLCAibXIiLCAibWwiLCAibXMiLCAibWsiLCAibWFpIiwgIm1pIiwgIm1uaS1NdGVpIiwgIm1uIiwgImJuIiwgImx1cyIsICJteSIsICJobW4iLCAieGgiLCAienUiLCAibmUiLCAibm8iLCAicGEiLCAicHQiLCAicHMiLCAibnkiLCAiYWsiLCAiamEiLCAic3YiLCAic20iLCAic3IiLCAibnNvIiwgInN0IiwgInNpIiwgImVvIiwgInNrIiwgInNsIiwgInN3IiwgImdkIiwgImNlYiIsICJzbyIsICJ0ZyIsICJ0ZSIsICJ0YSIsICJ0aCIsICJ0ciIsICJ0ayIsICJjeSIsICJ1ZyIsICJ1ciIsICJ1ayIsICJ1eiIsICJlcyIsICJpdyIsICJlbCIsICJoYXciLCAic2QiLCAiaHUiLCAic24iLCAiaHkiLCAiaWciLCAiaWxvIiwgIml0IiwgInlpIiwgImhpIiwgInN1IiwgImlkIiwgImp3IiwgImVuIiwgInlvIiwgInZpIiwgInpoLVRXIiwgInpoLUNOIiwgInRzIiBdLCBnZXRHb29nbGVMYW5ndWFnZVN1cHBvcnQgPSBmdW5jdGlvbihsYW5nMikgewogICAgICAgIGlmIChsYW5nMiBpbiB3aGl0ZU1hcHBpbmcpIHJldHVybiB3aGl0ZU1hcHBpbmdbbGFuZzJdOwogICAgICAgIHZhciBsID0gbGFuZzIuc3BsaXQoIi0iKVswXTsKICAgICAgICByZXR1cm4gLTEgIT09IGdvb2dsZVN1cHBvcnQuaW5kZXhPZihsKSA/IGwgOiAoY29uc29sZS5lcnJvcigi5LiN5pSv5oyB5b2T5YmN6K+t6KiA77yaIiArIGxhbmcyICsgIu+8jOS9v+eUqOm7mOiupOivreiogO+8mnpoLUNOIiksIAogICAgICAgICJ6aC1DTiIpOwogICAgfSwgYXBpcyA9IHsKICAgICAgICBnb29nbGU6IHsKICAgICAgICAgICAgYXBpOiBnb29nbGVXZWIsCiAgICAgICAgICAgIGxhbmd1YWdlOiBnZXRHb29nbGVMYW5ndWFnZVN1cHBvcnQKICAgICAgICB9CiAgICB9LCBidG5UcmFuc2xhdGVOYW1lID0gIue/u+ivkSIsIGJ0bk9yaWdpbmFsTmFtZSA9ICLljp/mlociLCBidG5OYW1lTWFwID0gSlNPTi5wYXJzZSgneyJzcSI6WyJww6tya3RoZWpuw6siLCJvcmlnamluYWxlIl0sImFyIjpbItmK2KrYsdis2YUiLCLYo9i12YTZiiJdLCJhbSI6WyLhiJjhibDhiK3hjI7hiJ0iLCLhiqbhiKrhjIXhipPhiI0iXSwiYXMiOlsi4KaF4Kao4KeB4Kas4Ka+4KamIOCmleCnsOCmviIsIuCmruCnguCmsiJdLCJheiI6WyJ0yZlyY8O8bcmZIGV0bcmZayIsIm9yaWppbmFsIl0sImVlIjpbIsmWZSBnYmUgZ8mUbWUiLCJnYsOjdMmUIl0sImF5IjpbImphcXVraXBhw7FhIiwidXJpamluYWxhIl0sImdhIjpbImFpc3RyaWdoIiwiYnVuYWlkaCJdLCJldCI6WyJ0w7Vsa2lkYSIsIm9yaWdpbmFhbCJdLCJvciI6WyLgrIXgrKjgrYHgrKzgrL7grKYg4KyV4KywIiwi4Kyu4K2C4KyzIl0sIm9tIjpbImhpaWt1dSIsImthbiBqYWxxYWJhYSJdLCJldSI6WyJpdHp1bGkiLCJqYXRvcnJpemtvYSJdLCJiZSI6WyLQv9C10YDQsNC60LvQsNC00LDRhtGMIiwi0LDRgNGL0LPRltC90LDQu9GM0L3RiyJdLCJibSI6WyJrYSBiYXnJm2zJm21hIiwiecmbcsmbecmbcsmbIl0sImJnIjpbItC/0YDQtdCy0LXQttC00LDQvCIsItC+0YDQuNCz0LjQvdCw0LvQtdC9Il0sImlzIjpbIsO+w73DsGEiLCJmcnVtbGVndCJdLCJwbCI6WyJUxYJ1bWFjennEhyIsIm9yeWdpbmHFgiJdLCJicyI6WyJwcmV2ZXN0aSIsIm9yaWdpbmFsIl0sImZhIjpbItiq2LHYrNmF2Ycg2qnYsdiv2YYiLCLYp9i12YTbjCJdLCJiaG8iOlsi4KSF4KSo4KWB4KS14KS+4KSmIiwi4KSF4KS44KSy4KWAIl0sImFmIjpbInZlcnRhYWwiLCJvb3JzcHJvbmtsaWtlIl0sInR0IjpbItGC05nRgNKX0LXQvNOZINC40YLSryIsItC+0YDQuNCz0LjQvdCw0LvRjCJdLCJkYSI6WyJPdmVyc8OmdHRlIiwib3JpZ2luYWwiXSwiZGUiOlsiw5xiZXJzZXR6ZW4iLCJPcmlnaW5hbCJdLCJkdiI6WyLejN6m3oPeqt6W3qbeid6n3obeqt6D3qregt6wIiwi3ofept6Q3rDejd6qIl0sInRpIjpbIuGIneGJteGIreGMk+GInSIsIuGKpuGIreGMguGKk+GIjSJdLCJkb2kiOlsi4KSF4KSo4KWB4KS14KS+4KSmIOCkleCksOCkqOCkviIsIuCkruClguCksiJdLCJydSI6WyLQv9C10YDQtdCy0LXRgdGC0LgiLCLQvtGA0LjQs9C40L3QsNC70YzQvdGL0LkiXSwiZnIiOlsiVHJhZHVpcmUiLCJvcmlnaW5hbCJdLCJzYSI6WyLgpIXgpKjgpYHgpLXgpKbgpKTgpL8iLCLgpK7gpYLgpLIiXSwidGwiOlsiSXNhbGluIiwib3JpaGluYWwiXSwiZmlsIjpbIklzYWxpbiIsIm9yaWhpbmFsIl0sImZpIjpbIkvDpMOkbnTDpMOkIiwiYWxrdXBlcsOkaW5lbiJdLCJmeSI6WyJvZXJzZXR0ZSIsIm9hcnNwcm9ua2xpayJdLCJrbSI6WyLhnpThnoDhnpThn5Lhnprhn4IiLCLhnorhnr7hnpgiXSwia2EiOlsi4YOX4YOQ4YOg4YOS4YOb4YOc4YOQIiwi4YOd4YOg4YOY4YOS4YOY4YOc4YOQ4YOa4YOj4YOg4YOYIl0sImdvbSI6WyLgpIXgpKPgpJXgpL7gpLAg4KSV4KSw4KSa4KWLIiwi4KSu4KWC4KSzIl0sImd1IjpbIuCqheCqqOCrgeCqteCqvuCqpiIsIuCqruCrguCqsyJdLCJnbiI6WyLDsWVcJ+G6vW1ib2hhc2EiLCJ5cHlrdWUiXSwia2siOlsi0LDRg9C00LDRgNGDIiwi0YLSr9C/0L3SsdGB0pvQsCJdLCJodCI6WyJ0cmFkd2kiLCJvcmlqaW5hbCJdLCJrbyI6WyLrsojsl63tlZjri6QiLCLsm5DrnpjsnZgiXSwiaGEiOlsiZmFzc2FyYSIsImFzYWxpIl0sIm5sIjpbInZlcnRhbGVuIiwib3JpZ2luZWVsIl0sImt5IjpbItC60L7RgtC+0YDRg9GDIiwi0L7RgNC40LPQuNC90LDQu9C00YPRgyJdLCJnbCI6WyJ0cmFkdWNpciIsIm9yaXhpbmFsIl0sImNhIjpbInRyYWR1aXIiLCJvcmlnaW5hbCJdLCJjcyI6WyJwxZllbG/Fvml0Iiwib3JpZ2luw6FsIl0sImtuIjpbIuCyheCyqOCzgeCyteCyvuCypuCyv+CyuOCzgSIsIuCyruCzguCysiJdLCJjbyI6WyJ0cmFkdWNlIiwidXJpZ2luYWxlIl0sImtyaSI6WyJ0cmFuc2xldCIsImbJlHN0yZttIl0sImhyIjpbIlByZXZlZGkiLCJpenZvcm5payJdLCJxdSI6WyJ0aWtyYXkiLCJraWtpbiJdLCJrdSI6WyJ3ZXJnZXJhbmRpbiIsImVzbMOuIl0sImNrYiI6WyLZiNuV2LHar9uO2pXYp9mGIiwi2pXbldiz25XZhiJdLCJsYSI6WyJ0cmFuc2xhdGUiLCJvcmlnaW5hbCJdLCJsdiI6WyJ0dWxrb3QiLCJvcmnEo2luxIFscyJdLCJsbyI6WyLgu4HgupsiLCLgupXgurvgu4ngupnguqrgurDguprgurHgupoiXSwibHQiOlsiacWhdmVyc3RpIiwib3JpZ2luYWx1cyJdLCJsbiI6WyJrb2JvbmdvbGEiLCJlc2lrYSBldXRpIl0sImxnIjpbIm9rdXZ2dW51bGEiLCIteWlpeWUiXSwibGIiOlsiaXd3ZXJzZXR6ZW4iLCJvcmlnaW5hbCJdLCJydyI6WyJndWhpbmR1cmEiLCJ1bXdpbWVyZXJlIl0sInJvIjpbIlRyYWR1Y2XIm2kiLCJvcmlnaW5hbCJdLCJtZyI6WyJ0cmFuc2xhdGUiLCJ0YW1pblwnbnkgZm90b3RyYSJdLCJtdCI6WyJ0aXR0cmFkdcSLaSIsIm9yacShaW5hbGkiXSwibXIiOlsi4KSt4KS+4KS34KS+4KSC4KSk4KSwIOCkleCksOCkviIsIuCkruClguCksyJdLCJtbCI6WyLgtLXgtL/gtLXgtbzgtKTgtY3gtKTgtKjgtIIg4LSa4LWG4LSv4LWN4LSv4LWB4LSVIiwi4LSS4LSx4LS/4LSc4LS/4LSo4LW9Il0sIm1zIjpbIm1lbnRlcmplbWFoIiwiYXNhbCJdLCJtayI6WyLQv9GA0LXQstC10LTQuCIsItC+0YDQuNCz0LjQvdCw0LvQtdC9Il0sIm1haSI6WyLgpK3gpL7gpLfgpL7gpILgpKTgpLAg4KSV4KWH4KSo4KS+4KSHIiwi4KSu4KWC4KSyIl0sIm1pIjpbIndoYWthbWFvcmkiLCJ0YWtldGFrZSJdLCJtbiI6WyLQvtGA0YfRg9GD0LvQsNGFIiwi0Y3RhSJdLCJibiI6WyLgpoXgpqjgp4Hgpqzgpr7gpqYg4KaV4Kaw4Ka+Iiwi4Kau4KeC4KayIl0sImx1cyI6WyJsZXRsaW5nIiwiZGlrIHRhayJdLCJteSI6WyLhgJjhgKzhgJ7hgKzhgJXhgLzhgJThgLrhgJXhgKvhgYsiLCLhgJnhgLDhgJvhgIThgLrhgLgiXSwiaG1uIjpbInR4aGFpcyIsInF1YiJdLCJ4aCI6WyJndXF1bGVsYSIsInlvcW9ibyJdLCJ6dSI6WyJodW11c2hhIiwib2t3YW5nZW1wZWxhIl0sIm5lIjpbIuCkheCkqOClgeCkteCkvuCkpiDgpJfgpLDgpY3gpKjgpYHgpLngpYvgpLjgpY0iLCLgpK7gpYzgpLLgpL/gpJUiXSwibm8iOlsib3ZlcnNldHRlIiwib3BwcmlubmVsaWciXSwicGEiOlsi4KiF4Kio4KmB4Ki14Ki+4KimIiwi4KiF4Ki44Kiy4KmAIl0sInB0IjpbInRyYWR1emlyIiwib3JpZ2luYWwiXSwicHMiOlsi2pjYqNin2pPZhyIsItin2LXZhNmKIl0sIm55IjpbIm1hc3VsaXJhIiwiY2hveWFtYmlyaXJhIl0sImFrIjpbImt5ZXLJmyBhc2XJmyIsImFua2FzYSJdLCJqYSI6WyLnv7voqLMiLCLjgqrjg6rjgrjjg4rjg6siXSwic3YiOlsiw5Z2ZXJzw6R0dCIsIm9yaWdpbmFsLSJdLCJzbSI6WyJmYVwnYWxpbGl1IiwibXVhbXVhIl0sInNyIjpbItC/0YDQtdCy0LXRgdGC0LgiLCLQvtGA0LjQs9C40L3QsNC70L3QuCJdLCJuc28iOlsiZmV0b2xlbGEiLCJtYXRob21vIl0sInN0IjpbImZldG9sZWxhIiwiZWEgbWFudGxoYSJdLCJzaSI6WyLgtrTgtrvgt5Lgt4Dgtrvgt4rgtq3gtrHgtrog4Laa4La74Lax4LeK4LaxIiwi4La44LeU4La94LeKIl0sImVvIjpbInRyYWR1a2kiLCJvcmlnaW5hbGEiXSwic2siOlsicHJlbG/FvmnFpSIsIm9yaWdpbsOhbG55Il0sInNsIjpbInByZXZlc3RpIiwib3JpZ2luYWwiXSwic3ciOlsia3V0YWZzaXJpIiwiYXNpbGkiXSwiZ2QiOlsiZWFkYXItdGhlYW5nYWNoYWRoIiwidGjDuXNhaWwiXSwiY2ViIjpbInBhZ2h1YmFkIiwib3JpaGluYWwiXSwic28iOlsidHVyanVuIiwiYXNhbGthIGFoIl0sInRnIjpbItGC0LDRgNK30YPQvNCwINC60YPQvdC10LQiLCLQsNGB0LvToyJdLCJ0ZSI6WyLgsIXgsKjgsYHgsLXgsKbgsL/gsILgsJrgsYEiLCLgsIXgsLjgsLLgsYEiXSwidGEiOlsi4K6u4K+G4K6+4K604K6/4K6q4K+G4K6v4K6w4K+NIiwi4K6F4K6a4K6y4K+NIl0sInRoIjpbIuC5geC4m+C4peC4oOC4suC4qeC4siIsIuC4leC5ieC4meC4ieC4muC4seC4miJdLCJ0ciI6WyLDh2V2aXJtZWsiLCJvcmlqaW5hbCJdLCJ0ayI6WyJ0ZXJqaW1lIGV0IiwiYXN5bCJdLCJjeSI6WyJjeWZpZWl0aHUiLCJnd3JlaWRkaW9sIl0sInVnIjpbItiq25XYsdis2YnZhduVIiwib3JpZ2luYWwiXSwidXIiOlsi2KrYsdis2YXbgSIsItin2LXZhCJdLCJ1ayI6WyLQv9C10YDQtdC60LvQsNC00LDRgtC4Iiwi0L7RgNC40LPRltC90LDQu9GM0L3QuNC5Il0sInV6IjpbInRhcmppbWEgcWlsaW5nIiwib3JpZ2luYWwiXSwiZXMiOlsidHJhZHVjaXIiLCJvcmlnaW5hbCJdLCJpdyI6WyLXqteo15LXnSIsItee1rDXp9eV1rnXqNa015kiXSwiZWwiOlsizrzOtc+EzrHPhs+BzqzOts+JIiwiz4DPgc+Jz4TPjM+Ez4XPgM6/Il0sImhhdyI6WyJ1bnVoaSIsImt1bXUiXSwic2QiOlsi2KrYsdis2YXZiCIsItin2LXZhCJdLCJodSI6WyJmb3Jkw610IiwiZXJlZGV0aSJdLCJzbiI6WyJzaGFuZHVyYSIsIm9yaWdpbmFsIl0sImh5IjpbItWp1aHWgNWj1bTVodW21aXVrCIsItaF1oDVq9Wj1avVttWh1awiXSwiaWciOlsic+G7pWdoYXLhu4thIiwibWLhu6UiXSwiaWxvIjpbIml0YXJ1cyIsIm9yaWhpbmFsIl0sIml0IjpbInRyYWR1cnJlIiwib3JpZ2luYWxlIl0sInlpIjpbIteQ15nXkdei16jXltei16bXnyIsIteQ1rjXqNeZ15LXmdeg16LXnCJdLCJoaSI6WyLgpIXgpKjgpYHgpLXgpL7gpKYg4KSV4KSw4KSo4KS+Iiwi4KSu4KWC4KSyIl0sInN1IjpbIm5hcmphbWFoa2V1biIsImFzbGluYSJdLCJpZCI6WyJtZW5lcmplbWFoa2FuIiwiYXNsaSJdLCJqdyI6WyJuZXJqZW1haGFrZSIsImFzbGluZSJdLCJlbiI6WyJUcmFuc2xhdGUiLCJPcmlnaW5hbCJdLCJ5byI6WyJ0dW3hu40iLCJhdGls4bq5YmEiXSwidmkiOlsiZOG7i2NoIiwibmd1ecOqbiBi4bqjbiJdLCJ6aC1UVyI6WyLnv7vora8iLCLljp/mlociXSwiemgtQ04iOlsi57+76K+RIiwi5Y6f5paHIl0sInRzIjpbImh1bmR6dWx1eGEiLCJtYW1wZWxhIl19JyksIGdldEJ0bk5hbWVzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIFsgYnRuVHJhbnNsYXRlTmFtZSwgYnRuT3JpZ2luYWxOYW1lIF07CiAgICB9LCBmaW5kUGFyZW50QnlJZCA9IGZ1bmN0aW9uIGZpbmRQYXJlbnRCeUlkMih0YXJnZXQsIGlkKSB7CiAgICAgICAgcmV0dXJuIHRhcmdldCA/IHRhcmdldC5pZCA9PT0gaWQgPyB0YXJnZXQgOiB0YXJnZXQucGFyZW50Tm9kZSA/IGZpbmRQYXJlbnRCeUlkMih0YXJnZXQucGFyZW50Tm9kZSwgaWQpIDogbnVsbCA6IG51bGw7CiAgICB9LCBUcmFuc2xhdGVCdG4gPSAgZnVuY3Rpb24oKSB7CiAgICAgICAgZnVuY3Rpb24gVHJhbnNsYXRlQnRuMihidG5OYW1lcywgbGFuZzIpIHsKICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zbGF0ZUJ0bjIpLCBfZGVmaW5lUHJvcGVydHkodGhpcywgImxhbmciLCB2b2lkIDApLCBfZGVmaW5lUHJvcGVydHkodGhpcywgImJ0biIsIHZvaWQgMCksIAogICAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImJ0blRyYW5zbGF0ZU5hbWUiLCB2b2lkIDApLCBfZGVmaW5lUHJvcGVydHkodGhpcywgImJ0bk9yaWdpbmFsTmFtZSIsIHZvaWQgMCksIAogICAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInNvdXJjZUNvbnRlbnRzIiwgdm9pZCAwKSwgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ0cmFuc2xhdGVkQ29udGVudHMiLCB2b2lkIDApLCAKICAgICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJpc1RyYW5zbGF0ZWQiLCB2b2lkIDApLCB0aGlzLmxhbmcgPSBsYW5nMiwgdGhpcy5idG5UcmFuc2xhdGVOYW1lID0gYnRuTmFtZXNbMF0sIAogICAgICAgICAgICB0aGlzLmJ0bk9yaWdpbmFsTmFtZSA9IGJ0bk5hbWVzWzFdLCB0aGlzLnNvdXJjZUNvbnRlbnRzID0gW10sIHRoaXMudHJhbnNsYXRlZENvbnRlbnRzID0gW10sIAogICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRlZCA9ICExLCB0aGlzLmJ0biA9IHRoaXMuX2NyZWF0ZUJ0bigpLCB0aGlzLl9hZGRDbGlja0xpc3RlbmVyKHRoaXMuYnRuKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhUcmFuc2xhdGVCdG4yLCBbIHsKICAgICAgICAgICAga2V5OiAiZ2V0QnRuIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnRuOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfY3JlYXRlQnRuIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgibmFtZSIsICJ0cmFuc2xhdGVfYnRuIik7CiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICByZXR1cm4gYnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5idG5UcmFuc2xhdGVOYW1lLCBidXR0b24uY2xhc3NOYW1lID0gInl0LXNwZWMtYnV0dG9uLXNoYXBlLW5leHQgeXQtc3BlYy1idXR0b24tc2hhcGUtbmV4dC0tdGV4dCB5dC1zcGVjLWJ1dHRvbi1zaGFwZS1uZXh0LS1tb25vIHl0LXNwZWMtYnV0dG9uLXNoYXBlLW5leHQtLXNpemUtcyIsIAogICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGJ1dHRvbiksIGRpdjsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX2NoYW5nZUJ0bk5hbWUiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oYnRuLCBuYW1lKSB7CiAgICAgICAgICAgICAgICBidG4uZmlyc3RDaGlsZCAmJiAoYnRuLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQgPSBuYW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX2NoYW5nZVN0YXRlIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGlzVHJhbnNsYXRlZCwgY29udGVudFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1RyYW5zbGF0ZWQgPSBpc1RyYW5zbGF0ZWQsIGlzVHJhbnNsYXRlZCkgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IGNvbnRlbnRUZXh0RWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCAmJiBqIDwgdGhpcy50cmFuc2xhdGVkQ29udGVudHMubGVuZ3RoOyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBjb250ZW50VGV4dEVsZW1lbnQuY2hpbGROb2Rlc1tpXSwgdHJhbnNsYXRlZENvbnRlbnQgPSB0aGlzLnRyYW5zbGF0ZWRDb250ZW50c1tqXSwgbmFtZSA9IG5vZGUubm9kZU5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgiSU1HIiAhPT0gbmFtZSkgaWYgKCJTUEFOIiAhPT0gbmFtZSB8fCAiXG4iICE9PSBub2RlLnRleHRDb250ZW50KSBpZiAoIiIgIT09IHRyYW5zbGF0ZWRDb250ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiI3RleHQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gdHJhbnNsYXRlZENvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJTUEFOIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiQSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lclRleHQgPSB0cmFuc2xhdGVkQ29udGVudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKywgaisrOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaisrOyBlbHNlIGkrKzsgZWxzZSBpKys7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUJ0bk5hbWUodGhpcy5idG4sIHRoaXMuYnRuT3JpZ2luYWxOYW1lKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfaiA9IDA7IF9pIDwgY29udGVudFRleHRFbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoICYmIF9qIDwgdGhpcy5zb3VyY2VDb250ZW50cy5sZW5ndGg7ICkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX25vZGUgPSBjb250ZW50VGV4dEVsZW1lbnQuY2hpbGROb2Rlc1tfaV0sIGl0ZW0gPSB0aGlzLnNvdXJjZUNvbnRlbnRzW19qXSwgX25hbWUgPSBfbm9kZS5ub2RlTmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCJJTUciICE9PSBfbmFtZSkgaWYgKCJTUEFOIiAhPT0gX25hbWUgfHwgIlxuIiAhPT0gX25vZGUudGV4dENvbnRlbnQpIGlmICgiSU1HIiAhPT0gaXRlbVswXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfbmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICIjdGV4dCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX25vZGUubm9kZVZhbHVlID0gaXRlbVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIlNQQU4iOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJBIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbm9kZS5pbm5lclRleHQgPSBpdGVtWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2krKywgX2orKzsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIF9qKys7IGVsc2UgX2krKzsgZWxzZSBfaSsrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VCdG5OYW1lKHRoaXMuYnRuLCB0aGlzLmJ0blRyYW5zbGF0ZU5hbWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfcmVjb3JkU291cmNlVGV4dCIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihjb250ZW50VGV4dEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgICAgICBjb250ZW50VGV4dEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChmdW5jdGlvbihub2RlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBub2RlLm5vZGVOYW1lOwogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAiI3RleHQiOgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLm5vZGVWYWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgJiYgX3RoaXMuc291cmNlQ29udGVudHMucHVzaChbIG5hbWUsIHZhbHVlIF0pOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJTUEFOIjoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSBub2RlLnRleHRDb250ZW50OwogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICYmICJcbiIgIT0gdGV4dCAmJiBfdGhpcy5zb3VyY2VDb250ZW50cy5wdXNoKFsgbmFtZSwgdGV4dC5yZXBsYWNlKCJcciIsICIiKSBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAiSU1HIjoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9IG5vZGUuZ2V0QXR0cmlidXRlKCJhbHQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nICYmIF90aGlzLnNvdXJjZUNvbnRlbnRzLnB1c2goWyBuYW1lLCBpbWcgXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIkEiOgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RleHQgPSBub2RlLnRleHRDb250ZW50OwogICAgICAgICAgICAgICAgICAgICAgICBfdGV4dCAmJiBfdGhpcy5zb3VyY2VDb250ZW50cy5wdXNoKFsgbmFtZSwgX3RleHQgXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfdXBkYXRlIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGNvbnRlbnRUZXh0RWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2xhdGVkQ29udGVudHMubGVuZ3RoID4gMCkgdGhpcy5fY2hhbmdlU3RhdGUoITAsIGNvbnRlbnRUZXh0RWxlbWVudCk7IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeVRleHQgPSB0aGlzLnNvdXJjZUNvbnRlbnRzLmZpbHRlcigoZnVuY3Rpb24oaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIklNRyIgIT09IGl0ZW1bMF07CiAgICAgICAgICAgICAgICAgICAgfSkpLm1hcCgoZnVuY3Rpb24oaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbVsxXTsKICAgICAgICAgICAgICAgICAgICB9KSkuam9pbigiXG4iKSwgZ29vZ2xlQXBpID0gYXBpcy5nb29nbGUsIHF1ZXJ5ID0gewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBxdWVyeVRleHQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiBnb29nbGVBcGkubGFuZ3VhZ2UodGhpcy5sYW5nKQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlQXBpLmFwaS50cmFuc2xhdGUocXVlcnkpLnRoZW4oKGZ1bmN0aW9uKHJhd1Jlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZ29vZ2xlQXBpLmFwaS50cmFuc2Zvcm0ocXVlcnksIHJhd1Jlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZXN1bHQgPyAoX3RoaXMyLnRyYW5zbGF0ZWRDb250ZW50cyA9IHJlc3VsdC5yZXN1bHQsIF90aGlzMi5fY2hhbmdlU3RhdGUoITAsIGNvbnRlbnRUZXh0RWxlbWVudCkpIDogY29uc29sZS5lcnJvcigi57+76K+R5aSx6LSl77yM5om+5LiN5Yiw57+76K+R57uT5p6cIik7CiAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfcm9sbGJhY2siLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oY29udGVudFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VTdGF0ZSghMSwgY29udGVudFRleHRFbGVtZW50KTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX2FkZENsaWNrTGlzdGVuZXIiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oYnRuKSB7CiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgICAgIHZhciBtYWluRWxlbWVudCA9IGZpbmRQYXJlbnRCeUlkKGV2ZW50LnRhcmdldCwgIm1haW4iKTsKICAgICAgICAgICAgICAgICAgICBpZiAobWFpbkVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRUZXh0RWxlbWVudCA9IG1haW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjb250ZW50LXRleHQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFRleHRFbGVtZW50ID8gKDAgPT09IF90aGlzMy5zb3VyY2VDb250ZW50cy5sZW5ndGggJiYgX3RoaXMzLl9yZWNvcmRTb3VyY2VUZXh0KGNvbnRlbnRUZXh0RWxlbWVudCksIAogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuaXNUcmFuc2xhdGVkID8gX3RoaXMzLl9yb2xsYmFjayhjb250ZW50VGV4dEVsZW1lbnQpIDogX3RoaXMzLl91cGRhdGUoY29udGVudFRleHRFbGVtZW50KSkgOiBjb25zb2xlLmVycm9yKCLmib7kuI3liLAjY29udGVudC10ZXh05YWD57SgIik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGNvbnNvbGUuZXJyb3IoIuaJvuS4jeWIsCNtYWlu5YWD57SgIik7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IF0pLCBUcmFuc2xhdGVCdG4yOwogICAgfSgpLCByZXBsYWNlQnV0dG9uID0gZnVuY3Rpb24obm9kZSkgewogICAgICAgIHZhciBtYWluRWxlbWVudCA9IGZpbmRQYXJlbnRCeUlkKG5vZGUsICJtYWluIik7CiAgICAgICAgaWYgKG1haW5FbGVtZW50KSB7CiAgICAgICAgICAgIHZhciB0b29sYmFyID0gbWFpbkVsZW1lbnQucXVlcnlTZWxlY3RvcigiI3Rvb2xiYXIiKTsKICAgICAgICAgICAgaWYgKHRvb2xiYXIpIHsKICAgICAgICAgICAgICAgIHZhciBidG4gPSB0b29sYmFyLnF1ZXJ5U2VsZWN0b3IoJ2RpdltuYW1lPSJ0cmFuc2xhdGVfYnRuIl0nKTsKICAgICAgICAgICAgICAgIGJ0biAmJiB0b29sYmFyLnJlbW92ZUNoaWxkKGJ0biksIGJ0biA9IG5ldyBUcmFuc2xhdGVCdG4oZ2V0QnRuTmFtZXMoKSwgbGFuZyB8fCAiemgtSGFucy1DTiIpLmdldEJ0bigpLCAKICAgICAgICAgICAgICAgIHRvb2xiYXIuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sIGNvbnRlbnRUZXh0T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24obXV0YXRpb25zKSB7CiAgICAgICAgdmFyIF9zdGVwLCBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtdXRhdGlvbnMpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7ICkgewogICAgICAgICAgICAgICAgdmFyIF9zdGVwMiwgbXV0YXRpb24gPSBfc3RlcC52YWx1ZSwgcGFyZW50ID0gdm9pZCAwLCBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobXV0YXRpb24uYWRkZWROb2Rlcyk7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7ICkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlICYmIChub2RlLnBhcmVudE5vZGUgIT09IHBhcmVudCAmJiAocGFyZW50ID0gbm9kZS5wYXJlbnROb2RlLCByZXBsYWNlQnV0dG9uKHBhcmVudCkpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KICAgIH0pKSwgY29udGVudHNPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbihtdXRhdGlvbnMpIHsKICAgICAgICB2YXIgX3N0ZXAzLCBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobXV0YXRpb25zKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOyApIHsKICAgICAgICAgICAgICAgIHZhciBfc3RlcDQsIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfc3RlcDMudmFsdWUuYWRkZWROb2Rlcyk7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7ICkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudFRleHQgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIiNjb250ZW50LXRleHQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUZXh0T2JzZXJ2ZXIub2JzZXJ2ZShjb250ZW50VGV4dCwgb3B0aW9ucyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvb2xiYXIgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIiN0b29sYmFyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xiYXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ0biA9IHRvb2xiYXIucXVlcnlTZWxlY3RvcignZGl2W25hbWU9InRyYW5zbGF0ZV9idG4iXScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJ0bikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuID0gbmV3IFRyYW5zbGF0ZUJ0bihnZXRCdG5OYW1lcygpLCBsYW5nIHx8ICJ6aC1IYW5zLUNOIikuZ2V0QnRuKCksIHRvb2xiYXIuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXBsaWVzID0gbm9kZS5xdWVyeVNlbGVjdG9yKCIjcmVwbGllcyIpLCBjb250ZW50cyA9IG51bGwgPT0gcmVwbGllcyA/IHZvaWQgMCA6IHJlcGxpZXMucXVlcnlTZWxlY3RvcigiI2NvbnRlbnRzIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50cyAmJiBjb250ZW50c09ic2VydmVyLm9ic2VydmUoY29udGVudHMsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgIH0KICAgIH0pKSwgY29tbWVudHNPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbihtdXRhdGlvbnMpIHsKICAgICAgICB2YXIgX3N0ZXA1LCBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobXV0YXRpb25zKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOyApIHsKICAgICAgICAgICAgICAgIHZhciBfc3RlcDYsIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfc3RlcDUudmFsdWUuYWRkZWROb2Rlcyk7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7ICkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwNi52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudHMgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIiNjb250ZW50cyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudHMgJiYgY29udGVudHNPYnNlcnZlci5vYnNlcnZlKGNvbnRlbnRzLCBvcHRpb25zKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjYuZShlcnIpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LmYoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgICB9CiAgICB9KSksIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgIHZhciBfc3RlcDcsIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtdXRhdGlvbnMpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNy5zKCk7ICEoX3N0ZXA3ID0gX2l0ZXJhdG9yNy5uKCkpLmRvbmU7ICkgewogICAgICAgICAgICAgICAgdmFyIF9zdGVwOCwgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF9zdGVwNy52YWx1ZS5hZGRlZE5vZGVzKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I4LnMoKTsgIShfc3RlcDggPSBfaXRlcmF0b3I4Lm4oKSkuZG9uZTsgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gX3N0ZXA4LnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50cyA9IG5vZGUucXVlcnlTZWxlY3RvcigiI2NvbW1lbnRzIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50cyAmJiBjb21tZW50c09ic2VydmVyLm9ic2VydmUoY29tbWVudHMsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yOC5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjguZigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjcuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjcuZigpOwogICAgICAgIH0KICAgIH0pKSwgbGFuZyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoImxhbmciKTsKICAgIGxhbmcgJiYgZnVuY3Rpb24obGFuZzIpIHsKICAgICAgICB2YXIgZ29vZ2xlTGFuZyA9IGdldEdvb2dsZUxhbmd1YWdlU3VwcG9ydChsYW5nMik7CiAgICAgICAgaWYgKGdvb2dsZUxhbmcgaW4gYnRuTmFtZU1hcCkgewogICAgICAgICAgICB2YXIgX2J0bk5hbWVNYXAkZ29vZ2xlTGFuID0gX3NsaWNlZFRvQXJyYXkoYnRuTmFtZU1hcFtnb29nbGVMYW5nXSwgMik7CiAgICAgICAgICAgIHJldHVybiBidG5UcmFuc2xhdGVOYW1lID0gX2J0bk5hbWVNYXAkZ29vZ2xlTGFuWzBdLCB2b2lkIChidG5PcmlnaW5hbE5hbWUgPSBfYnRuTmFtZU1hcCRnb29nbGVMYW5bMV0pOwogICAgICAgIH0KICAgICAgICB2YXIgZ29vZ2xlQXBpID0gYXBpcy5nb29nbGUsIHF1ZXJ5ID0gewogICAgICAgICAgICB0ZXh0OiBidG5UcmFuc2xhdGVOYW1lICsgIlxuIiArIGJ0bk9yaWdpbmFsTmFtZSwKICAgICAgICAgICAgdG86IGdvb2dsZUFwaS5sYW5ndWFnZShsYW5nMikKICAgICAgICB9OwogICAgICAgIGdvb2dsZUFwaS5hcGkudHJhbnNsYXRlKHF1ZXJ5KS50aGVuKChmdW5jdGlvbihyYXcpIHsKICAgICAgICAgICAgdmFyIHIgPSBnb29nbGVBcGkuYXBpLnRyYW5zZm9ybShxdWVyeSwgcmF3KTsKICAgICAgICAgICAgaWYgKHIucmVzdWx0KSB7CiAgICAgICAgICAgICAgICB2YXIgX3IkcmVzdWx0ID0gX3NsaWNlZFRvQXJyYXkoci5yZXN1bHQsIDIpOwogICAgICAgICAgICAgICAgYnRuVHJhbnNsYXRlTmFtZSA9IF9yJHJlc3VsdFswXSwgYnRuT3JpZ2luYWxOYW1lID0gX3IkcmVzdWx0WzFdOwogICAgICAgICAgICB9CiAgICAgICAgfSkpOwogICAgfShsYW5nKTsKICAgIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwYWdlLW1hbmFnZXIiKSwgb3B0aW9ucyA9IHsKICAgICAgICBjaGlsZExpc3Q6ICEwCiAgICB9OwogICAgZWwgPyBvYnNlcnZlci5vYnNlcnZlKGVsLCBvcHRpb25zKSA6IGNvbnNvbGUuZXJyb3IoIuWQr+WKqOWksei0pe+8jOivt+WwneivleWIt+aWsOe9kemhtemHjeivlSIpOwp9KCk7Cg=="},{"name":"Anti-Adblock Killer | Reek","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["*"],"orig_excludes":[],"orig_includes":["http://*/*","https://*/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671009651932,"data":{"nextchecklist":"s1671096050947","nextcheckupdate":"s1671614451932"}},"enabled":true,"position":8,"file_url":"https://raw.githubusercontent.com/reek/anti-adblock-killer/master/anti-adblock-killer.user.js","uuid":"87112a33-e253-41c7-9af6-c3ce8d2a3bd4","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgQW50aS1BZGJsb2NrIEtpbGxlciB8IFJlZWsKLy8gQG5hbWVzcGFjZSBodHRwczovL3VzZXJzY3JpcHRzLm9yZy9zY3JpcHRzL3Nob3cvMTU1ODQwCi8vIEBkZXNjcmlwdGlvbiBIZWxwcyB5b3Uga2VlcCB5b3VyIEFkLUJsb2NrZXIgYWN0aXZlLCB3aGVuIHlvdSB2aXNpdCBhIHdlYnNpdGUgYW5kIGl0IGFza3MgeW91IHRvIGRpc2FibGUuCi8vIEBhdXRob3IgUmVlayB8IHJlZWtzaXRlLmNvbQovLyBAdmVyc2lvbiAxMC4wCi8vIEBlbmNvZGluZyB1dGYtOAovLyBAbGljZW5zZSBodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvNC4wLwovLyBAaWNvbiBodHRwczovL3Jhdy5naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9tYXN0ZXIvYW50aS1hZGJsb2NrLWtpbGxlci1pY29uLnBuZwovLyBAaG9tZXBhZ2UgaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci8KLy8gQHR3aXR0ZXJVUkwgaHR0cHM6Ly90d2l0dGVyLmNvbS9hbnRpYWRia2lsbGVyCi8vIEBjb250YWN0VVJMIGh0dHBzOi8vcmVlay5naXRodWIuaW8vYW50aS1hZGJsb2NrLWtpbGxlci8jY29udGFjdAovLyBAc3VwcG9ydFVSTCBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3VlcwovLyBAY29udHJpYnV0aW9uVVJMIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIjZG9uYXRlCi8vIEB1cGRhdGVVUkwgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9tYXN0ZXIvYW50aS1hZGJsb2NrLWtpbGxlci51c2VyLmpzCi8vIEBkb3dubG9hZFVSTCBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL21hc3Rlci9hbnRpLWFkYmxvY2sta2lsbGVyLnVzZXIuanMKLy8gQGluY2x1ZGUgaHR0cDovLyovKgovLyBAaW5jbHVkZSBodHRwczovLyovKgovLyBAZ3JhbnQgdW5zYWZlV2luZG93Ci8vIEBncmFudCBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgR01fZ2V0VmFsdWUKLy8gQGdyYW50IEdNX3NldFZhbHVlCi8vIEBncmFudCBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgR01fZGVsZXRlVmFsdWUKLy8gQGdyYW50IEdNX2xpc3RWYWx1ZXMKLy8gQGdyYW50IEdNX2dldFJlc291cmNlVGV4dAovLyBAZ3JhbnQgR01fZ2V0UmVzb3VyY2VVUkwKLy8gQGdyYW50IEdNX2xvZwovLyBAZ3JhbnQgR01fb3BlbkluVGFiCi8vIEBncmFudCBHTV9zZXRDbGlwYm9hcmQKLy8gQGdyYW50IEdNX2luZm8KLy8gQGdyYW50IEdNX2dldE1ldGFkYXRhCi8vIEBydW4tYXQgZG9jdW1lbnQtc3RhcnQKLy8gQGNvbm5lY3QgKgovLyA9PS9Vc2VyU2NyaXB0PT0KLypqc2hpbnQgZXZpbDp0cnVlIG5ld2NhcDpmYWxzZSovCi8qZ2xvYmFsIHVuc2FmZVdpbmRvdywgR01fYWRkU3R5bGUsIEdNX2dldFZhbHVlLCBHTV9zZXRWYWx1ZSwgR01feG1saHR0cFJlcXVlc3QsIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQsIEdNX2RlbGV0ZVZhbHVlLCBHTV9saXN0VmFsdWVzLCBHTV9nZXRSZXNvdXJjZVRleHQsIEdNX2dldFJlc291cmNlVVJMLCBHTV9sb2csIEdNX29wZW5JblRhYiwgR01fc2V0Q2xpcGJvYXJkLCBHTV9pbmZvLCBHTV9nZXRNZXRhZGF0YSwgJCwgZG9jdW1lbnQsIGNvbnNvbGUsIGxvY2F0aW9uLCBzZXRJbnRlcnZhbCwgc2V0VGltZW91dCwgY2xlYXJJbnRlcnZhbCovCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICBUaGFua3MKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogIERvbm9yczogTS4gSG93YXJkLCBTaHVuam91LCBDaGFybWluZSwgS2llcmVrOTMsIEcuIEJhcm5hcmQsIEguIFlvdW5nLCBTZWluaG9yOSwgSW1HbG9kYXIsIEl2YW5vc2V2aXRjaCwgSG9tZURpcG8sIFIuIE1hcnRpbiwgRHJGaVosIFRpcHB5LCBCLiBSb2huZXIsIFAuIEtvemljYSwgTS4gUGF0ZWwsIFc0cmVsbCwgVHNjaGVja29mZiwgQWRCbG9jayBQb2xza2EsIEFWRU5JUiBJTlRFUk5FVCwgY29vbE5BTywgQmVuLCBKLiBQYXJrLCBDLiBZb3VuZywgSi4gQm91LCBNLiBDYW5vLCBKLiBKdW5nLCBBLiBTb25pbm8sIEouIExpdHRlbiwgTS4gU2NocnVtcGYsIEcuIFBlcGUsIEEuIFRydWZhbm92LCBSLiBQYWxtZXIsIEouIFJhdXRpYWluZW4sIFMuIEJseXN0b25lLCBNLiBTaWx2ZWlyYSwgSy4gTWFjQXJ0aHVyLCBNLiBJdmFub3YsIEEuIFNjaG1pZHQsIEEuIFdhYWdlLCBGLiBUaXNtZXIsIFMuIEVobmVydCwgSi4gQ29ycHVzLCBKLiBEbHVob3MsIE1ha2xlbWVueiwgU3Ryb2JlbGl4LCBNb2RlbGxwaWxvdC5FVSwgRS4gQmVuZWRldHRpLCBWLiBWZW5kaXR0aSwgU2hha29zLCBBLiBFbGlhc29uLCBBLiBTYWxvcmFudGEsIFMuIEdlaWdlciwgQS4gT3R0ZXJsb28sIE0uIENvcHBlbiwgUy4gRmlzY2hlciwgSC4gQmVja2VyLCBELiBBY2tlcm1hbiwgUy4gUGl0c2NoLCBLLiBQZXJ0Y2hlY2ssIFMuIEFiZWwsIEsuIE8nQ29ubm9yLCBCLiBPYnJpZW4sIFMuIFZvZ2xlciwgUy4gR29lYmwsIEEuIEJpYXIsIFMuIFNjb3R0LCBCYXNzbW9iaWxlLm9yZywgUy4gR3Jvw59lLCBNLiBQZW90LCBSLiBDaGFuIEJhbGFtLCBMLiBCb25kLUtlbm5lZHksIFIuIEVtb25kLCBBLiBQYXZsb3YsIFcuIFRyYWNleSwgQS4gU2VyZ2V5LCBSLiBMw7NwZXogTMOzcGV6LCBSLiBSZWRkeSBLYXNpcmVkZHksIEEuIE1vdWplZXIsIE0uIEJldHosIE0uIExlZsOodnJlLCBSLiBNY0N1cmR5LCBMUiBHZWVrcywgTS4gQmVhdXJlZ2FyZCwgQ2FzcGVyVGVjaCBMdGQsIE0uIER1ZGFzLCBTLiBTY2hhcmYsIFMuIFByb2tob3JvdiwgSy4gUGFwYWxpYXMsIEouIFdvam5vd3NraSwgQi4gQ3VydGlzLCBELiBMYXdyZW5jZSwgRC4gSGUsIE4uIEtlbHNhbGwsIElkb2dld2FsbGV0LCBKLiBTcGF1bGRpbmcsIFMuIExhZm9uLCBNYXQsIEguIFJvYmVydHMsIEMuIEhlZGx1bmQsIEouIEhhd2tpbnMsIEouIEFuZGVyc2VuLCBNLiBCam9ya3N0ZW4sIEIuIFdvbGZlIElJSSwgVC4gWW9jb20sIMWgLiBJbnRhcywgUy4gTW9lbmljaCwgSi4gQ2hhbmcsIEMuIE11bmssIEEuIE5hcnV0YSwg0JEuINCc0LjRhdCw0LjQuywgSi4gQmVueiwgRi4gU2xvb3QsIEouIENyZWVkLCBNLiBHaWxsYW0sIEMuIExlaWNodCwgQS4gR25hbmEsIFMuIFN1bmRhcmFtLCBBLiBLb2xsZXIsIE0uIEtvdGxhciwgUy4gQWJlbCwgVC4gRmxhbmFnYW4sIE0uIEFyZHVpbmksIFAuIFN0YWNraG91c2UsIEIuIE9saXZlciwgTS4gSm9obnNvbiwgUi4gTWFubmVydCwgRS4gU2lvcmRpYQoKICBDb2xsYWJvcmF0b3JzOiBJbmZpbml0eUNvZGluZywgQ291Y2h5LCBEaW5kb2csIEZsb3hmbG9iLCBVIEJsZXNzLCBXYXRpbGluLCBAcHJkb25haHVlLCBIb3NoaWUsIDNsZjNuTGkzZCwgQWxleG8sIENyaXRzLCBOb25hbWUxMjAsIENydDMyLCBKaXh1bk1vZSwgQXRob3JjaXMsIEtpbGxlcmJhZGdlciwgU01lZDc5LCBBbGV4YW5kZXIyNTUsIEFub25zdWJtaXR0ZXIsIFJhcG9yTG9McHJvLCBNYXluYWswMCwgUm9ib3RleCwgVmluY3R1eCwgQmxhaHgsIE1hamtpSVQsIEY0eiwgQW5nZWxzbCwgTWlraGFlbGssIE1hcmVrLCBIYW1zdGVyYmFja2UsIEdvcmhpbGwsIEhhY2tlcjk5OSwgeHhjcml0aWN4eCwgU2tyNHRjaEdyM2F6eU1vbmtpQmFsbGxsbGxaenp6LCBHaXdheXVtZSwgTXJTaGVybG9ja0hvbG1lcywgeERhcmtBUkcsIE5vYWhwNzgsIE1hcHgtCgogIFVzZXJzOiBUaGFuayB5b3UgdG8gYWxsIHRob3NlIHdobyB1c2UgQW50aSBBZGJsb2NrIEtpbGxlciwgd2hvIHJlcG9ydCBwcm9ibGVtcywgd2hvIHdyaXRlIHRoZSByZXZpZXcsIHdoaWNoIGFkZCB0byB0aGVpciBmYXZvcml0ZXMsIG1ha2luZyBkb25hdGlvbnMsIHdoaWNoIHN1cHBvcnQgdGhlIHByb2plY3QgYW5kIGhlbHAgaW4gaXRzIGRldmVsb3BtZW50IG9yIHByb21vdGUuCgo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgTWlycm9ycwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogIEdpdGh1YjogaHR0cDovL3Rpbnl1cmwuY29tL21jcmEzZG4KICBHcmVhc3lmb3JrOiBodHRwOi8vdGlueXVybC5jb20vcGJiZG5oNgogIE9wZW51c2VyanM6IGh0dHA6Ly90aW55dXJsLmNvbS9ubnFqZTMyCiAgTW9ua2V5R3V0czogaHR0cDovL3Rpbnl1cmwuY29tL2thNWZjcW0KICBVc2Vyc2NyaXB0czogaHR0cDovL3Rpbnl1cmwuY29tL3E4eGNlamwKCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICBEb2N1bWVudGF0aW9uCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCiAgR3JlYXNlbW9ua2V5OiBodHRwOi8vdGlueXVybC5jb20veWVlZm5qNQogIFNjcmlwdGlzaDogaHR0cDovL3Rpbnl1cmwuY29tL2NuZDlua2QKICBUYW1wZXJtb25rZXk6IGh0dHA6Ly90aW55dXJsLmNvbS9wZHl0ZmRlCiAgVmlvbGVudG1vbmtleTogaHR0cDovL3Rpbnl1cmwuY29tL24zNHduNmoKICBOaW5qYUtpdDogaHR0cDovL3Rpbnl1cmwuY29tL3Bra205dWcKCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICBTY3JpcHQKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8KCihmdW5jdGlvbiAod2luZG93KSB7CiAgInVzZSBzdHJpY3QiOwogIAogIHZhciBBYWsgPSB7CiAgICBuYW1lIDogJ0FudGktQWRibG9jayBLaWxsZXInLAogICAgdmVyc2lvbiA6ICcxMC4wJywKICAgIHNjcmlwdGlkIDogJ2dKV0VwMHZCJywKICAgIGhvbWVVUkwgOiAnaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci8nLAogICAgY2hhbmdlbG9nVVJMIDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIjY2hhbmdlbG9nJywKICAgIGRvbmF0ZVVSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyI2RvbmF0ZScsCiAgICBmZWF0dXJlc1VSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyI2ZlYXR1cmVzJywKICAgIHJlcG9ydFVSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL3dpa2kvUmVwb3J0LUd1aWRlJywKICAgIGNvbnRhY3RVUkwgOiAnaHR0cHM6Ly9yZWVrLmdpdGh1Yi5pby9hbnRpLWFkYmxvY2sta2lsbGVyLyNjb250YWN0JywKICAgIHNldHRpbmdzVVJMIDogJ2h0dHBzOi8vcmVlay5naXRodWIuaW8vYW50aS1hZGJsb2NrLWtpbGxlci8jc2V0dGluZ3MnLAogICAgdHdpdHRlclVSTCA6ICdodHRwczovL3R3aXR0ZXIuY29tL2FudGlhZGJraWxsZXInLAogICAgZG93bmxvYWRVUkwgOiAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9tYXN0ZXIvYW50aS1hZGJsb2NrLWtpbGxlci51c2VyLmpzJywKICAgIHN1YnNjcmliZVVSTCA6ICdodHRwczovL3JlZWsuZ2l0aHViLmlvL2FudGktYWRibG9jay1raWxsZXIvI2ZpbHRlcmxpc3QnLAogICAgbGlzdFVSTCA6ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL21hc3Rlci9hbnRpLWFkYmxvY2sta2lsbGVyLWZpbHRlcnMudHh0IiwKICAgIG5hdGl2ZVVSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL3dpa2kvTmF0aXZlLU1vZGUnLAogICAgaWNvblVSTCA6ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL21hc3Rlci9hbnRpLWFkYmxvY2sta2lsbGVyLWljb24ucG5nJywKICAgIGltZ0JhaXQgOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FRQUFBRFpjN0ovQUFBQUdrbEVRVlI0Mm1OZzBHQVlCYU5nRkl5Q1VUQUtSc0VvUUFZQVROOEFLWU5aL3g0QUFBQUFTVVZPUks1Q1lJST0nLAogICAgaW5pdGlhbGl6ZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgQWFrLnJlZ2lzdGVyU2V0dGluZ3MoKTsgLy8gcmVnaXN0ZXJpbmcgeW91ciBzZXR0aW5ncy4KICAgICAgQWFrLnJlZ2lzdGVyQ29uc29sZSgpOyAvLyByZWdpc3RlcmluZyBjdXN0b216ZWQgY29uc29sZS4KICAgICAgQWFrLnJlZ2lzdGVyQ29tbWFuZHMoKTsgLy8gYWRkIGNvbW1hbmRzIHRvIG1lbnUKICAgICAgQWFrLmNoZWNrVXBkYXRlKHRydWUpOyAvLyBjaGVjayBpZiBBYWtTY3JpcHQgaXMgdXAgdG8gZGF0ZS4KICAgICAgQWFrLmNoZWNrTGlzdCgpOyAvLyBjaGVjayBpZiBBYWtMaXN0IGlzIGVuYWJsZWQuCiAgICAgIEFhay5ibG9ja0RldGVjdCgpOyAvLyBkZXRlY3QgYW5kIGtpbGwgYW50aS1hZGJsb2Nrcy4KICAgIH0sCiAgICBhYWJzIDoge30sCiAgICBvcHRzIDoge30sCiAgICBvcHRpb25zIDogewogICAgICBhdXRvUGxheSA6IHsKICAgICAgICBncm91cCA6ICdnZW5lcmFsJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ1BsYXkgdmlkZW8gYXV0b21hdGljYWxseS4gKicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIHZpZGVvSEQgOiB7CiAgICAgICAgZ3JvdXAgOiAnZ2VuZXJhbCcsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdQbGF5IHZpZGVvIGluIEhEIHF1YWxpdHkuICoqJywKICAgICAgICBpbmZvIDogJycKICAgICAgfSwKICAgICAgZm9yY2VWTEMgOiB7CiAgICAgICAgZ3JvdXAgOiAnZ2VuZXJhbCcsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdQbGF5IHZpZGVvIHdpdGggVkxDIHBsdWdpbi4gKicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGNoZWNrTGlzdCA6IHsKICAgICAgICBncm91cCA6ICdnZW5lcmFsJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IHRydWUsCiAgICAgICAgbGFiZWwgOiAnQ2hlY2sgQWFrTGlzdCBzdWJzY3JpcHRpb24uJywKICAgICAgICBpbmZvIDogJycKICAgICAgfSwKICAgICAgY2hlY2tVcGRhdGUgOiB7CiAgICAgICAgZ3JvdXAgOiAnZ2VuZXJhbCcsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiB0cnVlLAogICAgICAgIGxhYmVsIDogJ0NoZWNrIG5ld2VyIEFha1NjcmlwdCB2ZXJzaW9uLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGRlYnVnIDogewogICAgICAgIGdyb3VwIDogJ2RlYnVnJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ0VuYWJsZSBMb2dzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGxvZ0luc2VydGVkTm9kZXMgOiB7CiAgICAgICAgZ3JvdXAgOiAnZGVidWcnLAogICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLAogICAgICAgIHZhbHVlIDogZmFsc2UsCiAgICAgICAgbGFiZWwgOiAnTG9nIGluc2VydGVkIG5vZGVzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGxvZ1JlbW92ZWROb2RlcyA6IHsKICAgICAgICBncm91cCA6ICdkZWJ1ZycsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdMb2cgcmVtb3ZlZCBub2Rlcy4nLAogICAgICAgIGluZm8gOiAnJwogICAgICB9LAogICAgICBsb2dFeGNsdWRlZCA6IHsKICAgICAgICBncm91cCA6ICdkZWJ1ZycsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdMb2cgZXhjbHVkZXMgZG9tYWlucy4nLAogICAgICAgIGluZm8gOiAnJwogICAgICB9LAogICAgICBsb2dYaHIgOiB7CiAgICAgICAgZ3JvdXAgOiAnZGVidWcnLAogICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLAogICAgICAgIHZhbHVlIDogZmFsc2UsCiAgICAgICAgbGFiZWwgOiAnTG9nIEhUVFAgcmVxdWVzdHMnLAogICAgICAgIGluZm8gOiAnJwogICAgICB9LAogICAgICBsb2dQbGF5ZXIgOiB7CiAgICAgICAgZ3JvdXAgOiAnZGVidWcnLAogICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLAogICAgICAgIHZhbHVlIDogZmFsc2UsCiAgICAgICAgbGFiZWwgOiAnTG9nIHBsYXllciBpbnN0YW5jZXMuJywKICAgICAgICBpbmZvIDogJycKICAgICAgfSwKICAgICAgbG9nSW50ZXJjZXB0ZWRTY3JpcHRzIDogewogICAgICAgIGdyb3VwIDogJ2RlYnVnJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ0xvZyBpbnRlcmNlcHRlZCBzY3JpcHRzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGxvZ0RldGVjdGVkIDogewogICAgICAgIGdyb3VwIDogJ2RlYnVnJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ0xvZyBkZXRlY3RlZCBhbnRpLWFkYmxvY2tzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0KICAgIH0sCiAgICByZWdpc3RlclNldHRpbmdzIDogZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBvcHROYW1lIGluIEFhay5vcHRpb25zKSB7CiAgICAgICAgaWYgKEFhay5vcHRpb25zLmhhc093blByb3BlcnR5KG9wdE5hbWUpKQogICAgICAgICAgQWFrLm9wdHNbb3B0TmFtZV0gPSBBYWsuZ2V0VmFsdWUob3B0TmFtZSkgIT09IG51bGwgPyBBYWsuZ2V0VmFsdWUob3B0TmFtZSkgOiBBYWsub3B0aW9uc1tvcHROYW1lXS52YWx1ZTsKICAgICAgfQogICAgfSwKICAgIGNvbW1hbmRzIDogW3sKICAgICAgICBjYXB0aW9uIDogJ0hvbWVwYWdlJywKICAgICAgICBleGVjdXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmdvKEFhay5ob21lVVJMKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBjYXB0aW9uIDogJ1NldHRpbmdzJywKICAgICAgICBleGVjdXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmdvKEFhay5zZXR0aW5nc1VSTCk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgY2FwdGlvbiA6ICdVcGRhdGUnLAogICAgICAgIGV4ZWN1dGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuY2hlY2tVcGRhdGUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIF0sCiAgICBhZGRDb21tYW5kcyA6IGZ1bmN0aW9uIChjbWQpIHsKICAgICAgaWYgKEFhay51c2VHTSAmJiBBYWsuaXNUb3BmcmFtZSAmJiB0eXBlb2YgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoW0Fhay5uYW1lLCBBYWsuZ2V0VmVyc2lvbigpLCBjbWQuY2FwdGlvbl0uam9pbignICcpLCBjbWQuZXhlY3V0ZSk7CiAgICAgIH0KICAgIH0sCiAgICByZWdpc3RlckNvbW1hbmRzIDogZnVuY3Rpb24gKCkgewogICAgICBBYWsucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFNjcmlwdGlzaAogICAgICAgIC8vIG5vdGU6IE5vIG1lbnUgY29tbWFuZCBpcyBjcmVhdGVkIHdoZW4gdGhlIHVzZXIgc2NyaXB0IGlzIHJ1biBpbiBhIGlmcmFtZSB3aW5kb3cuCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20va3Z2djd5dAogICAgICAgIEFhay5jb21tYW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChjbWQpIHsKICAgICAgICAgIEFhay5hZGRDb21tYW5kcyhjbWQpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZWdpc3RlckNvbnNvbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMubG9nID0gQWFrLm9wdHMuZGVidWcgPyBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24gKCkge307CiAgICAgIHRoaXMuaW5mbyA9IEFhay5vcHRzLmRlYnVnID8gY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSkgOiBmdW5jdGlvbiAoKSB7fTsKICAgICAgdGhpcy5lcnJvciA9IEFhay5vcHRzLmRlYnVnID8gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24gKCkge307CiAgICAgIHRoaXMud2FybiA9IEFhay5vcHRzLmRlYnVnID8gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSkgOiBmdW5jdGlvbiAoKSB7fTsKICAgIH0sCiAgICBpc1RvcGZyYW1lIDogKHdpbmRvdy5wYXJlbnQgPT0gd2luZG93LnNlbGYpLAogICAgdXcgOiB0eXBlb2YgdW5zYWZlV2luZG93ICE9ICd1bmRlZmluZWQnID8gdW5zYWZlV2luZG93IDogd2luZG93LAogICAgdXNlR00gOiB0eXBlb2YgR01fZ2V0VmFsdWUgIT0gJ3VuZGVmaW5lZCcsCiAgICBhcGlHTSA6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKEFhay5pc1RvcGZyYW1lKSB7CiAgICAgICAgLy8gR00gQVBJIC0gaHR0cDovL3Rpbnl1cmwuY29tL3llZWZuajUKICAgICAgICByZXR1cm4gewogICAgICAgICAgR01feG1saHR0cFJlcXVlc3QgOiB0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9zZXRWYWx1ZSA6IHR5cGVvZiBHTV9zZXRWYWx1ZSAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX2dldFZhbHVlIDogdHlwZW9mIEdNX2dldFZhbHVlICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fYWRkU3R5bGUgOiB0eXBlb2YgR01fYWRkU3R5bGUgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kIDogdHlwZW9mIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9pbmZvIDogdHlwZW9mIEdNX2luZm8gIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9nZXRNZXRhZGF0YSA6IHR5cGVvZiBHTV9nZXRNZXRhZGF0YSAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlIDogdHlwZW9mIEdNX2RlbGV0ZVZhbHVlICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fbGlzdFZhbHVlcyA6IHR5cGVvZiBHTV9saXN0VmFsdWVzICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fZ2V0UmVzb3VyY2VUZXh0IDogdHlwZW9mIEdNX2dldFJlc291cmNlVGV4dCAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX2dldFJlc291cmNlVVJMIDogdHlwZW9mIEdNX2dldFJlc291cmNlVVJMICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fbG9nIDogdHlwZW9mIEdNX2xvZyAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX29wZW5JblRhYiA6IHR5cGVvZiBHTV9vcGVuSW5UYWIgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9zZXRDbGlwYm9hcmQgOiB0eXBlb2YgR01fc2V0Q2xpcGJvYXJkICE9ICd1bmRlZmluZWQnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGdvIDogZnVuY3Rpb24gKHVybCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDsKICAgIH0sCiAgICByZWZyZXNoIDogZnVuY3Rpb24gKCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgfSwKICAgIHJlbG9hZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTsKICAgIH0sCiAgICBjb250YWlucyA6IGZ1bmN0aW9uIChzdHJpbmcsIHNlYXJjaCkgewogICAgICByZXR1cm4gc3RyaW5nLmluZGV4T2Yoc2VhcmNoKSAhPSAtMTsKICAgIH0sCiAgICBnZXRCcm93c2VyIDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsKICAgICAgaWYgKEFhay5jb250YWlucyh1YSwgJ0ZpcmVmb3gnKSkgewogICAgICAgIHJldHVybiAiRmlyZWZveCI7CiAgICAgIH0gZWxzZSBpZiAoQWFrLmNvbnRhaW5zKHVhLCAnU2xlaXBuaXInKSkgewogICAgICAgIHJldHVybiAiU2xlaXBuaXIiOyAvLyBNb2JpbGUKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdVQ0Jyb3dzZXInKSkgewogICAgICAgIHJldHVybiAiVUNCcm93c2VyIjsgLy8gTW9iaWxlCiAgICAgIH0gZWxzZSBpZiAoQWFrLmNvbnRhaW5zKHVhLCAnRG9sZmluJykpIHsKICAgICAgICByZXR1cm4gIkRvbHBoaW4iOyAvLyBNb2JpbGUKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdNU0lFJykpIHsKICAgICAgICByZXR1cm4gIkludGVybmV0RXhwbG9yZXIiOwogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ01pZG9yaScpKSB7CiAgICAgICAgcmV0dXJuICJNaWRvcmkiOwogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ09wZXJhJykgfHwgQWFrLmNvbnRhaW5zKHVhLCAnT1BSJykpIHsKICAgICAgICByZXR1cm4gIk9wZXJhIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdDaHJvbWUnKSkgewogICAgICAgIHJldHVybiAiQ2hyb21lIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdTYWZhcmknKSkgewogICAgICAgIHJldHVybiAiU2FmYXJpIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdLb25xdWVyb3InKSkgewogICAgICAgIHJldHVybiAiS29ucXVlcm9yIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdQYWxlTW9vbicpKSB7CiAgICAgICAgcmV0dXJuICJQYWxlTW9vbiI7IC8vIGZvcmsgZmlyZWZveAogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ0N5YmVyZm94JykpIHsKICAgICAgICByZXR1cm4gIkN5YmVyZm94IjsgLy8gZm9yayBmaXJlZm94CiAgICAgIH0gZWxzZSBpZiAoQWFrLmNvbnRhaW5zKHVhLCAnU2VhTW9ua2V5JykpIHsKICAgICAgICByZXR1cm4gIlNlYU1vbmtleSI7IC8vIGZvcmsgZmlyZWZveAogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ0ljZXdlYXNlbCcpKSB7CiAgICAgICAgcmV0dXJuICJJY2V3ZWFzZWwiOyAvLyBmb3JrIGZpcmVmb3gKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdWE7CiAgICAgIH0KICAgIH0sCiAgICBnZXRWZXJzaW9uIDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gTnVtYmVyKEFhay52ZXJzaW9uKTsKICAgIH0sCiAgICBnZXRTY3JpcHRNYW5hZ2VyIDogZnVuY3Rpb24gKCkgewogICAgICBpZiAodHlwZW9mIEdNX2luZm8gPT0gJ29iamVjdCcpIHsKICAgICAgICAvLyBHcmVhc2Vtb25rZXkgKEZpcmVmb3gpCiAgICAgICAgaWYgKHR5cGVvZiBHTV9pbmZvLnV1aWQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAnR3JlYXNlbW9ua2V5JzsKICAgICAgICB9IC8vIFRhbXBlcm1vbmtleSAoQ2hyb21lL09wZXJhKQogICAgICAgIGVsc2UgaWYgKHR5cGVvZiBHTV9pbmZvLnNjcmlwdEhhbmRsZXIgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAnVGFtcGVybW9ua2V5JzsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gU2NyaXB0aXNoIChGaXJlZm94KQogICAgICAgIGlmICh0eXBlb2YgR01fZ2V0TWV0YWRhdGEgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgcmV0dXJuICdTY3JpcHRpc2gnOwogICAgICAgIH0gLy8gTmluamFLaXQgKFNhZmFyaS9DaHJvbWUpCiAgICAgICAgZWxzZSBpZiAodHlwZW9mIEdNX3NldFZhbHVlICE9ICd1bmRlZmluZWQnICYmCiAgICAgICAgICB0eXBlb2YgR01fZ2V0UmVzb3VyY2VUZXh0ID09ICd1bmRlZmluZWQnICYmCiAgICAgICAgICB0eXBlb2YgR01fZ2V0UmVzb3VyY2VVUkwgPT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgIHR5cGVvZiBHTV9vcGVuSW5UYWIgPT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgIHR5cGVvZiBHTV9zZXRDbGlwYm9hcmQgPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAnTmluamFLaXQnOwogICAgICAgIH0gZWxzZSB7IC8vIE5hdGl2ZQogICAgICAgICAgcmV0dXJuICdOYXRpdmUnOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdlbmVyYXRlSUQgOiBmdW5jdGlvbiAobGVuKSB7CiAgICAgIHZhciBzdHIgPSAnJzsKICAgICAgdmFyIGNoYXJzZXQgPSAiYWJjZGVmZ2hpamtsbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIjsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAobGVuID8gbGVuIDogMTApOyArK2kpIHsKICAgICAgICBzdHIgKz0gY2hhcnNldC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnNldC5sZW5ndGgpKTsKICAgICAgfQogICAgICByZXR1cm4gc3RyOwogICAgfSwKICAgIGdlbmVyYXRlVVVJRCA6IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gVW5pdmVyc2FsbHkgVW5pcXVlIElEZW50aWZpZXIKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgdmFyIHV1aWQgPSAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICB2YXIgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDsKICAgICAgICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7CiAgICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHg3IHwgMHg4KSkudG9TdHJpbmcoMTYpOwogICAgICAgIH0pOwogICAgICByZXR1cm4gdXVpZDsKICAgIH0sCiAgICBnZXRVVUlEIDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgbmFtZSA9ICd1dWlkJzsKICAgICAgaWYgKEFhay5nZXRWYWx1ZShuYW1lKSA9PT0gbnVsbCkgewogICAgICAgIEFhay5zZXRWYWx1ZShuYW1lLCBBYWsuZ2VuZXJhdGVVVUlEKCkpOwogICAgICB9CiAgICAgIHJldHVybiBBYWsuZ2V0VmFsdWUobmFtZSk7CiAgICB9LAogICAgc2NoZWR1bGUgOiBmdW5jdGlvbiAoZGF5cywgbmFtZSwgY2FsbGJhY2spIHsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBsYXRlciA9IGlzTmFOKEFhay5nZXRWYWx1ZShuYW1lKSkgPyAxIDogTnVtYmVyKEFhay5nZXRWYWx1ZShuYW1lKSk7CiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgIGlmIChsYXRlciA8IG5vdykgewogICAgICAgICAgQWFrLnNldFZhbHVlKG5hbWUsIChub3cgKyAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKS50b1N0cmluZygpKTsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9LCAxZTMpOwogICAgfSwKICAgIG5vdGlmaWNhdGlvbiA6IGZ1bmN0aW9uIChtZXNzYWdlLCBkZWxheSkgewogICAgICBpZiAoQWFrLmlzVG9wZnJhbWUpIHsKCiAgICAgICAgLy8gcmVtb3ZlIG9sZCBub3RpZmljYXRpb24KICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI2Fhay1ub3RpY2UtZnJhbWUnKTsKCiAgICAgICAgLy8gYWRkIG5ldyBub3RpZmljYXRpb24KICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICB0YWcgOiAnaWZyYW1lJywKICAgICAgICAgIGlkIDogJ2Fhay1ub3RpY2UtZnJhbWUnLAogICAgICAgICAgc3R5bGUgOiAncG9zaXRpb246Zml4ZWQ7IHotaW5kZXg6OTk5OTk5OyB0b3A6MTBweDsgbGVmdDoxMHB4OycsCiAgICAgICAgICB3aWR0aCA6ICczNjBweCcsCiAgICAgICAgICBoZWlnaHQgOiAnMTIwcHgnLAogICAgICAgICAgZnJhbWVib3JkZXIgOiAwLAogICAgICAgICAgc2Nyb2xsaW5nIDogJ25vJywKICAgICAgICAgIC8vc3JjIDogJy8vbG9jYWxob3N0L2dpdC9hbnRpLWFkYmxvY2sta2lsbGVyLXBhZ2VzL25vdGlmaWNhdGlvbi5odG1sIycgKyBidG9hKG1lc3NhZ2UpLAogICAgICAgICAgc3JjIDogJy8vcmVlay5naXRodWIuaW8vYW50aS1hZGJsb2NrLWtpbGxlci9ub3RpZmljYXRpb24uaHRtbCMnICsgd2luZG93LmJ0b2EobWVzc2FnZSksCiAgICAgICAgICBhcHBlbmQgOiAnYm9keScsCiAgICAgICAgICBjYWxsYmFjayA6IGZ1bmN0aW9uIChzZWxmKSB7CgogICAgICAgICAgICAvLyBtYW51YWxseSByZW1vdmUKICAgICAgICAgICAgQWFrLm9uRXZlbnQod2luZG93LCAibWVzc2FnZSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgIGlmIChldmVudC5kYXRhID09ICJyZW1vdmVOb3RpZmljYXRpb24iKSB7CiAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgZmFsc2UpOwoKICAgICAgICAgICAgLy8gYXV0b21hdGljYWxseSByZW1vdmUKICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHNlbGYucmVtb3ZlKCk7CiAgICAgICAgICAgIH0sIGRlbGF5IHx8IDNlNCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICB9CiAgICB9LAogICAgY2hlY2tMaXN0IDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoQWFrLnVzZUdNICYmIEFhay5vcHRzLmNoZWNrTGlzdCAmJiBBYWsuaXNUb3BmcmFtZSkgewogICAgICAgIEFhay5zY2hlZHVsZSgxLCAnbmV4dGNoZWNrbGlzdCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEFhay5jcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgICB0YWcgOiAnc2NyaXB0JywKICAgICAgICAgICAgICBzcmMgOiB3aW5kb3cuYXRvYignTHk5eVpXVnJMbWRwZEdoMVlpNXBieTloYm5ScExXRmtZbXh2WTJzdGEybHNiR1Z5TDJzeVZYYzNhWE5JY2sxdE5VcFlVREZXZDJSNFl6VTJOMXBMWXpGaFdqUkpMbXB6JyksCiAgICAgICAgICAgICAgYXBwZW5kIDogJ2JvZHknLAogICAgICAgICAgICAgIGV2ZW50IDogewogICAgICAgICAgICAgICAgZXJyb3IgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgIEFhay5pbmZvKCdBYWtMaXN0IGRldGVjdGVkICEnKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBsb2FkIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICBBYWsud2FybignQWFrTGlzdCBub3QgZGV0ZWN0ZWQgIScpOwogICAgICAgICAgICAgICAgICBBYWsubm90aWZpY2F0aW9uKCdJdCBzZWVtcyB0aGF0IHlvdSBoYXZlIG5vdCBzdWJzY3JpYmVkIG9yIGRpc2FibGVkIDxiPkFha0xpc3Q8L2I+LiA8YSBocmVmPSInICsgQWFrLnN1YnNjcmliZVVSTCArICciIHRhcmdldD0iX2JsYW5rIj5TdWJzY3JpYmU8L2E+IG9yIDxhIGhyZWY9IicgKyBBYWsuc2V0dGluZ3NVUkwgKyAnIiB0YXJnZXQ9Il9ibGFuayI+RGlzYWJsZSB0aGlzIGFsZXJ0PC9hPicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrVXBkYXRlIDogZnVuY3Rpb24gKGF1dG8pIHsKCiAgICAgIHZhciBjaGVjayA9IGZ1bmN0aW9uIChub3RpZnlGYWxzZSkgewogICAgICAgIEFhay5yZXF1ZXN0KHsKICAgICAgICAgIHVybCA6IEFhay5kb3dubG9hZFVSTCwKICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0OwogICAgICAgICAgICB2YXIgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICBpZiAoc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgIHZhciBsb2NhbCA9IEFhay5nZXRWZXJzaW9uKCk7CiAgICAgICAgICAgICAgdmFyIHJlbW90ZSA9IE51bWJlcihyZXMubWF0Y2goL0B2ZXJzaW9uXHMrKFxkK1wuXGQrKS8pWzFdKTsKICAgICAgICAgICAgICBpZiAobG9jYWwgPCByZW1vdGUpIHsKICAgICAgICAgICAgICAgIEFhay5ub3RpZmljYXRpb24oJ0FudGktQWRibG9jayBLaWxsZXIgdicgKyByZW1vdGUgKyAnIGlzIGF2YWlsYWJsZSA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJyArIEFhay5kb3dubG9hZFVSTCArICciPkluc3RhbGw8L2E+LicpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAobm90aWZ5RmFsc2UpIHsKICAgICAgICAgICAgICAgIEFhay5ub3RpZmljYXRpb24oJ05vIHVwZGF0ZSBmb3VuZC4nKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGlmIChhdXRvKSB7IC8vIGF1dG8gbW9kZQogICAgICAgIGlmIChBYWsudXNlR00gJiYgQWFrLm9wdHMuY2hlY2tVcGRhdGUgJiYgQWFrLmlzVG9wZnJhbWUpIHsKICAgICAgICAgIEFhay5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEFhay5zY2hlZHVsZSg3LCAnbmV4dGNoZWNrdXBkYXRlJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGNoZWNrKGZhbHNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7IC8vIG1hbnVhbCBtb2RlCiAgICAgICAgaWYgKEFhay5pc1RvcGZyYW1lKSB7CiAgICAgICAgICBjaGVjayh0cnVlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICB9LAogICAgb3BlbkluVGFiIDogZnVuY3Rpb24gKHVybCkgewogICAgICBpZiAodHlwZW9mIEdNX29wZW5JblRhYiAhPSAndW5kZWZpbmVkJykgewogICAgICAgIEdNX29wZW5JblRhYih1cmwpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBuZXdXaW5kb3cgPSB3aW5kb3cub3Blbih1cmwsICJfYmxhbmsiKTsKICAgICAgICBuZXdXaW5kb3cuZm9jdXMoKTsKICAgICAgfQogICAgfSwKICAgIHJlcXVlc3QgOiBmdW5jdGlvbiAoc2V0dGluZ3MpIHsKICAgICAgc2V0dGluZ3MudXJsID0gc2V0dGluZ3MudXJsIHx8ICcnOwogICAgICBzZXR0aW5ncy5tZXRob2QgPSBzZXR0aW5ncy5tZXRob2QgfHwgJ0dFVCc7CiAgICAgIHNldHRpbmdzLmhlYWRlcnMgPSBzZXR0aW5ncy5oZWFkZXJzIHx8IHt9OwogICAgICBzZXR0aW5ncy50aW1lb3V0ID0gc2V0dGluZ3MudGltZW91dCB8fCAyZTQ7IC8vIDIwcwogICAgICBpZiAoc2V0dGluZ3MuZGF0YSB8fCBzZXR0aW5ncy5tZXRob2QgPT0gJ1BPU1QnKSB7CiAgICAgICAgc2V0dGluZ3MubWV0aG9kID0gJ1BPU1QnOwogICAgICAgIHNldHRpbmdzLmRhdGEgPSBBYWsuc2VyaWFsaXplKHNldHRpbmdzLmRhdGEgfHwge30pOwogICAgICAgIHNldHRpbmdzLmhlYWRlcnMgPSBBYWsuc2V0UHJvcGVydGllcyhzZXR0aW5ncy5oZWFkZXJzLCB7CiAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJyA6ICdYTUxIdHRwUmVxdWVzdCcsCiAgICAgICAgICAgICdDb250ZW50LVR5cGUnIDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgICAgICAgIH0pOwogICAgICB9CgogICAgICAvLyBvdmVycmlkZSB0byBpbnRlZ3JhdGUgbG9nCiAgICAgIHNldHRpbmdzLl9vbmxvYWQgPSBzZXR0aW5ncy5vbmxvYWQ7CiAgICAgIHNldHRpbmdzLm9ubG9hZCA9IGZ1bmN0aW9uICh4aHIpIHsKICAgICAgICBpZiAoQWFrLm9wdHMubG9nWGhyKSB7CiAgICAgICAgICBBYWsubG9nKEFhay5nZXRTY3JpcHRNYW5hZ2VyKCkgKyAnIHhocicsIHhocik7CiAgICAgICAgfQogICAgICAgIHNldHRpbmdzLl9vbmxvYWQoeGhyKTsKICAgICAgfTsKCiAgICAgIGlmICh0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAvLyBSZXF1ZXN0IHdpdGggR00gQVBJCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vMnQ3d2JyCiAgICAgICAgR01feG1saHR0cFJlcXVlc3Qoc2V0dGluZ3MpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFJlcXVlc3Qgd2l0aCBXZWIgQVBJCiAgICAgICAgLy8gVXNpbmcgcmVtb3RlIHNlcnZlciB0byBhbGxvdyBjcm9zcy1vcmlnaW4gcmVxdWVzdHMuCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vb2R6NjY0YQogICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL3A5enJ1em4KICAgICAgICB2YXIgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIHhoci5vcGVuKCdQT1NUJywgJ2h0dHA6Ly9yZWVrc2l0ZS5jb20vcHVibGljL3hoci5waHAnLCB0cnVlKTsKICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpOwogICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgcmVzID0geGhyLnJlc3BvbnNlVGV4dDsKICAgICAgICAgIHZhciBqc29uID0gSlNPTiAmJiBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoeGhyLCAicmVzcG9uc2VUZXh0IiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiB0cnVlLAogICAgICAgICAgICB2YWx1ZSA6IGpzb24ucmVzcG9uc2UKICAgICAgICAgIH0pOwogICAgICAgICAgc2V0dGluZ3Mub25sb2FkKHhocik7CiAgICAgICAgfTsKICAgICAgICB4aHIuc2VuZChBYWsuc2VyaWFsaXplKHNldHRpbmdzKSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVWYWx1ZSA6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIGlmICh0eXBlb2YgR01fZGVsZXRlVmFsdWUgIT09ICJ1bmRlZmluZWQiICYmICFuYW1lKSB7CiAgICAgICAgdmFyIHZhbHMgPSBHTV9saXN0VmFsdWVzKCk7CiAgICAgICAgZm9yICh2YXIgaSBpbiB2YWxzKSB7CiAgICAgICAgICBpZiAodmFscy5oYXNPd25Qcm9wZXJ0eShpKSkKICAgICAgICAgICAgR01fZGVsZXRlVmFsdWUodmFsc1tpXSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTV9kZWxldGVWYWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBHTV9kZWxldGVWYWx1ZShuYW1lKTsKICAgICAgfQogICAgfSwKICAgIHNldFZhbHVlIDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgIGlmICh0eXBlb2YgR01fc2V0VmFsdWUgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgR01fc2V0VmFsdWUobmFtZSwgdmFsdWUpOwogICAgICB9CiAgICB9LAogICAgZ2V0VmFsdWUgOiBmdW5jdGlvbiAobmFtZSkgewogICAgICBpZiAodHlwZW9mIEdNX2xpc3RWYWx1ZXMgIT09ICJ1bmRlZmluZWQiICYmICFuYW1lKSB7CiAgICAgICAgdmFyIGxpc3QgPSB7fTsKICAgICAgICB2YXIgdmFscyA9IEdNX2xpc3RWYWx1ZXMoKTsKICAgICAgICBmb3IgKHZhciBpIGluIHZhbHMpIHsKICAgICAgICAgIGlmICh2YWxzLmhhc093blByb3BlcnR5KGkpKQogICAgICAgICAgICBsaXN0W3ZhbHNbaV1dID0gR01fZ2V0VmFsdWUodmFsc1tpXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaXN0OwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTV9nZXRWYWx1ZSAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIEdNX2dldFZhbHVlKG5hbWUpICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZShuYW1lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHNldExvY2FsIDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8gU2VjdXJpdHlFcnJvcjogVGhlIG9wZXJhdGlvbiBpcyBpbnNlY3VyZS4KICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS84cGVxd3ZkCiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIHZhbHVlLnRvU3RyaW5nKCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBBYWsud2FybigiU29ycnkhIE5vIFdlYiBTdG9yYWdlIHN1cHBvcnQuIik7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7fQogICAgfSwKICAgIGdldExvY2FsIDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5sb2NhbFN0b3JhZ2UgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBBYWsud2FybigiU29ycnkhIE5vIFdlYiBTdG9yYWdlIHN1cHBvcnQuIik7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHNldFNlc3Npb24gOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyBEb2M6IGh0dHA6Ly90aW55dXJsLmNvbS84cGVxd3ZkCiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShuYW1lLCB2YWx1ZS50b1N0cmluZygpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgQWFrLndhcm4oIlNvcnJ5ISBObyBXZWIgU3RvcmFnZSBzdXBwb3J0LiIpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkge30KICAgIH0sCiAgICBnZXRTZXNzaW9uIDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5zZXNzaW9uU3RvcmFnZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHJldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShuYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgQWFrLndhcm4oIlNvcnJ5ISBObyBXZWIgU3RvcmFnZSBzdXBwb3J0LiIpOwogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzZXRDb29raWUgOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIHRpbWUsIHBhdGgpIHsKICAgICAgdmFyIGV4cGlyZXMgPSBuZXcgRGF0ZSgpOwogICAgICBleHBpcmVzLnNldFRpbWUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAodGltZSB8fCAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7CiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAiPSIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICsgIjtleHBpcmVzPSIgKyBleHBpcmVzLnRvR01UU3RyaW5nKCkgKyAiO3BhdGg9IiArIChwYXRoIHx8ICcvJyk7CiAgICB9LAogICAgZ2V0Q29va2llIDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIHZhbHVlID0gIjsgIiArIGRvY3VtZW50LmNvb2tpZTsKICAgICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoIjsgIiArIG5hbWUgKyAiPSIpOwogICAgICBpZiAocGFydHMubGVuZ3RoID09IDIpCiAgICAgICAgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KCI7Iikuc2hpZnQoKTsKICAgIH0sCiAgICBzZXRSZWFkT25seSA6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCBuYW1lLCB7CiAgICAgICAgdmFsdWUgOiB2YWx1ZSwKICAgICAgICBjb25maWd1cmFibGUgOiBmYWxzZSwKICAgICAgICB3cml0YWJsZSA6IGZhbHNlCiAgICAgIH0pOwogICAgfSwKICAgIHN0b3BSZWRpcmVjdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCd3YXRjaCcgaW4gd2luZG93KSB7CiAgICAgICAgQWFrLnV3LndhdGNoKCJsb2NhdGlvbiIsIGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICBBYWsudXcubG9jYXRpb24ud2F0Y2goImhyZWYiLCBmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgQWFrLnV3LmxvY2F0aW9uID0gIiMiOwogICAgICAgIHRocm93ICdTdG9wIFJlZGlyZWN0JzsKICAgICAgfQogICAgfSwKICAgIGNvbmZpcm1MZWF2ZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfTsKICAgIH0sCiAgICBjb25maXJtUmVwb3J0IDogZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgZWxlbS5pbm5lckhUTUwgPSAnUmVwb3J0JzsKICAgICAgZWxlbS50aXRsZSA9ICdSZXBvcnQgaXNzdWUgb3IgYW50aS1hZGJsb2NrJzsKICAgICAgZWxlbS5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCJEbyB5b3Ugd2FudCB0byByZXBvcnQgaXNzdWUgb3IgYW50aS1hZGJsb2NrID8iKSkgeyAvLyBDbGljIG9uIE9LCiAgICAgICAgICBBYWsuZ28oQWFrLnJlcG9ydFVSTCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIEFhay5nbyhlbGVtLmhyZWYpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICB1bnBhY2tTY3JpcHQgOiBmdW5jdGlvbiAoc291cmNlKSB7CiAgICAgIC8vIGRlb2JmdXNjYXRlOiBwYWMra2VkLCBwYWMra2VyLCBtdW4rZ2VkLCB3aStzZQogICAgICAvLyBub3RlOiAiRXhjZXB0aW9uIDQwMzAwOCIgc2VlIGdyZWFzZWZvcmsgUE0KICAgICAgdmFyIHN1YnN0cmluZyA9IHNvdXJjZS5zdWJzdHJpbmcoc291cmNlLmluZGV4T2YoJ2V2YWwoJykrNCwgc291cmNlLmxhc3RJbmRleE9mKCcpJykrMSk7CiAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ3JldHVybiAnK3N1YnN0cmluZykoKTsKICAgIH0sCiAgICBoYXNTY3JpcHQgOiBmdW5jdGlvbiAoY29udGFpbnMsIGRvYykgewogICAgICAvLyBieTogV2F0aWxpbgogICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKAogICAgICAgIGRvYyAmJiBkb2Muc2NyaXB0cyB8fCBkb2N1bWVudC5zY3JpcHRzLAogICAgICAgIGZ1bmN0aW9uICgkc2NyaXB0KSB7CiAgICAgICAgdmFyIHNvdXJjZSA9ICRzY3JpcHQuaW5uZXJIVE1MOwogICAgICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLmluZGV4T2YoY29udGFpbnMpICE9IC0xOwogICAgICB9KVswXTsKICAgIH0sCiAgICBhZGRTY3JpcHQgOiBmdW5jdGlvbiAoc291cmNlLCBib2R5KSB7CiAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgICAgc2NyaXB0LmlubmVySFRNTCA9ICh0eXBlb2Ygc291cmNlID09PSAnZnVuY3Rpb24nKSA/IEFhay5pbnRvU3RyaW5nKHNvdXJjZSkgOiBzb3VyY2UudG9TdHJpbmcoKTsKICAgICAgaWYgKGJvZHkpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgICB9CiAgICAgIHNjcmlwdC5yZW1vdmUoKTsKICAgIH0sCiAgICBsb2FkU2NyaXB0IDogZnVuY3Rpb24gKHNyYywgYm9keSwgb25sb2FkKSB7CiAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgICAgc2NyaXB0LnNyYyA9IHNyYzsKICAgICAgaWYgKG9ubG9hZCkgewogICAgICAgIHNjcmlwdC5vbmxvYWQgPSBvbmxvYWQ7CiAgICAgIH0KICAgICAgaWYgKGJvZHkpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgICB9CiAgICB9LAogICAgaW1wb3J0U2NyaXB0IDogZnVuY3Rpb24gKHVybCwgY2FsbGJhY2spIHsKICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgIHVybCA6IHVybCwKICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICB2YXIgcmF3U2NyaXB0ID0gcmVzdWx0LnJlc3BvbnNlVGV4dDsKICAgICAgICAgIChuZXcgRnVuY3Rpb24oJ0FhaycsIHJhd1NjcmlwdCArICdcblxyJyArIEFhay5pbnRvU3RyaW5nKGNhbGxiYWNrKSkpKEFhayk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBpbnRvU3RyaW5nIDogZnVuY3Rpb24gKGEpIHsKICAgICAgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdmFyIHN0ciA9IGEudG9TdHJpbmcoKTsKICAgICAgICB2YXIgZmlyc3QgPSBzdHIuaW5kZXhPZigieyIpICsgMTsKICAgICAgICB2YXIgbGFzdCA9IHN0ci5sYXN0SW5kZXhPZigifSIpOwogICAgICAgIHJldHVybiBzdHIuc3Vic3RyKGZpcnN0LCBsYXN0IC0gZmlyc3QpLnRyaW0oKTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZW50cnkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGEpOwogICAgICB9IGVsc2UgeyAvLyBhcnJheSBvciBzdHJpbmcKICAgICAgICByZXR1cm4gYS50b1N0cmluZygpOwogICAgICB9CiAgICB9LAogICAgaW50b0FycmF5IDogZnVuY3Rpb24gKGEpIHsKICAgICAgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgcmV0dXJuIGFba2V5XTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHsKICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShhKTsKICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgcmV0dXJuIGE7CiAgICAgIH0KICAgIH0sCiAgICBpbnRvT2JqZWN0IDogZnVuY3Rpb24gKGEpIHsKICAgICAgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJykgewogICAgICAgIHJldHVybiBKU09OLnBhcnNlKGEpOwogICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbyA9IHt9OyBpIDwgYS5sZW5ndGg7ICsraSkgewogICAgICAgICAgb1tpXSA9IGFbaV07CiAgICAgICAgfQogICAgICAgIHJldHVybiBvOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBhOwogICAgICB9CiAgICB9LAogICAgaGFzRWxlbWVudCA6IGZ1bmN0aW9uIChzZWxlY3RvciwgY2FsbGJhY2ssIHRpbWVvdXQpIHsKICAgICAgdmFyIHJlcGVhdCA9IHRpbWVvdXQgfHwgMTA7CiAgICAgIHZhciBsb29wID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsZW0gPSBBYWsuZ2V0RWxlbWVudChzZWxlY3Rvcik7CiAgICAgICAgICBpZiAoZWxlbSkgewogICAgICAgICAgICBjYWxsYmFjayhlbGVtKTsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsb29wKTsKICAgICAgICAgIH0KICAgICAgICAgIHJlcGVhdCA9IChyZXBlYXQpID8gcmVwZWF0IC0gMSA6IGNsZWFySW50ZXJ2YWwobG9vcCk7CiAgICAgICAgfSwgMWUzKTsKICAgIH0sCiAgICByZW1vdmVFbGVtZW50IDogZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgaWYgKGVsZW0gaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQpIHsKICAgICAgICBlbGVtLnJlbW92ZSgpOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtID09PSAic3RyaW5nIikgewogICAgICAgIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW0pOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbS5sZW5ndGg7IGkrKykgewogICAgICAgICAgZWxlbVtpXS5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRFbGVtZW50IDogZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0Tm9kZSkgewogICAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykgewogICAgICAgIGlmIChzZWxlY3Rvci5pbmRleE9mKCcvJykgPT09IDApIHsgLy8gZXg6IC8vaW1nW0BjbGFzcz0icGhvdG8iXQogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmV2YWx1YXRlKHNlbGVjdG9yLCBjb250ZXh0Tm9kZSB8fCBkb2N1bWVudCwgbnVsbCwgd2luZG93LlhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKS5zaW5nbGVOb2RlVmFsdWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoY29udGV4dE5vZGUgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIHNlbGVjdG9yOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlRWxlbWVudCA6IGZ1bmN0aW9uIChwcm9wcykgewogICAgICB2YXIgZWxlbSwKICAgICAgbm9kZSA9IHt9OwogICAgICBmb3IgKHZhciBuYW1lIGluIHByb3BzKSB7CiAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHsKICAgICAgICAgIGNhc2UgInRhZyI6CiAgICAgICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgICAgdmFyIHRleHQgPSAoJ2lubmVyVGV4dCcgaW4gZG9jdW1lbnQpID8gJ2lubmVyVGV4dCcgOiAndGV4dENvbnRlbnQnOwogICAgICAgICAgICBub2RlW3RleHRdID0gcHJvcHNbbmFtZV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiaHRtbCI6CiAgICAgICAgICAgIG5vZGUuaW5uZXJIVE1MID0gcHJvcHNbbmFtZV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiY2xhc3NpZCI6CiAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gcHJvcHNbbmFtZV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiYXBwZW5kIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChub2RlKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJwcmVwZW5kIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgaWYgKGVsZW0uY2hpbGROb2Rlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICBlbGVtLmluc2VydEJlZm9yZShub2RlLCBlbGVtLmNoaWxkTm9kZXNbMF0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJiZWZvcmUiOgogICAgICAgICAgICBlbGVtID0gQWFrLmdldEVsZW1lbnQocHJvcHNbbmFtZV0pOwogICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIGVsZW0pOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgImFmdGVyIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBlbGVtLm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJyZXBsYWNlIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChub2RlLCBlbGVtKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJldmVudCI6CiAgICAgICAgICAgIGZvciAodmFyIGV2TmFtZSBpbiBwcm9wcy5ldmVudCkgewogICAgICAgICAgICAgIGlmIChwcm9wcy5ldmVudC5oYXNPd25Qcm9wZXJ0eShldk5hbWUpKQogICAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2TmFtZSwgcHJvcHMuZXZlbnRbZXZOYW1lXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJjYWxsYmFjayI6CiAgICAgICAgICAgIHByb3BzW25hbWVdKG5vZGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHByb3BzW25hbWVdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG5vZGU7CiAgICB9LAogICAgYWRkQmFpdEVsZW1lbnQgOiBmdW5jdGlvbiAoc3RyT3B0cykgeyAvLyBleDogZGl2LmFkcyBvciBzcGFuI2Fkc0AKICAgICAgdmFyIG9wdHMgPSBzdHJPcHRzLnJlcGxhY2UoJy4nLCAnOmNsYXNzTmFtZTonKS5yZXBsYWNlKCcjJywgJzppZDonKS5zcGxpdCgnOicpOwogICAgICB2YXIgYmFpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQob3B0c1swXSk7CiAgICAgIGJhaXQuc2V0QXR0cmlidXRlKG9wdHNbMV0sIG9wdHNbMl0pOwogICAgICBiYWl0LmlubmVySFRNTCA9ICI8YnI+IjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGJhaXQpOwogICAgICByZXR1cm4gYmFpdDsKICAgIH0sCiAgICByZXBsYWNlRWxlbWVudCA6IGZ1bmN0aW9uIChvbGROb2RlLCBuZXdOb2RlKSB7CiAgICAgIG9sZE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7CiAgICB9LAogICAgc2V0RWxlbWVudCA6IGZ1bmN0aW9uIChzZWxlY3RvciwgcHJvcHMpIHsKICAgICAgdmFyIG5vZGUgPSBBYWsuZ2V0RWxlbWVudChzZWxlY3Rvcik7CiAgICAgIGlmIChub2RlKSB7CiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwcm9wcykgewogICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkgewogICAgICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgICAgICB2YXIgdGV4dCA9ICgnaW5uZXJUZXh0JyBpbiBkb2N1bWVudCkgPyAnaW5uZXJUZXh0JyA6ICd0ZXh0Q29udGVudCc7CiAgICAgICAgICAgICAgbm9kZVt0ZXh0XSA9IHByb3BzW25hbWVdOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJodG1sIjoKICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IHByb3BzW25hbWVdOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJjbGFzcyI6CiAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBwcm9wc1tuYW1lXTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCBwcm9wc1tuYW1lXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRTdHlsZSA6IGZ1bmN0aW9uIChjc3MpIHsKICAgICAgY3NzID0gY3NzLnJlcGxhY2UoLzsvZywgJyAhaW1wb3J0YW50OycpOwogICAgICBpZiAodHlwZW9mIEdNX2FkZFN0eWxlICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgR01fYWRkU3R5bGUoY3NzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLmlubmVySFRNTCA9IGNzczsKICAgICAgfQogICAgfSwKICAgIGxvYWRTdHlsZSA6IGZ1bmN0aW9uIChzcmMpIHsKICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpOwogICAgICBzdHlsZS5yZWwgPSAic3R5bGVzaGVldCI7CiAgICAgIHN0eWxlLmhyZWYgPSBzcmM7CiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgfSwKICAgIGdldFN0eWxlIDogZnVuY3Rpb24gKHNlbGVjdG9yLCBwcm9wKSB7CiAgICAgIHZhciBlbGVtID0gQWFrLmdldEVsZW1lbnQoc2VsZWN0b3IpOwogICAgICBpZiAoZWxlbS5jdXJyZW50U3R5bGUpIHsKICAgICAgICByZXR1cm4gZWxlbS5jdXJyZW50U3R5bGVbcHJvcF07CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHsKICAgICAgICByZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApOwogICAgICB9CiAgICB9LAogICAgZGVjb2RlVVJJIDogZnVuY3Rpb24gKHN0cikgewogICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7CiAgICB9LAogICAgZW5jb2RlVVJJIDogZnVuY3Rpb24gKHN0cikgewogICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cik7CiAgICB9LAogICAgZW5jb2RlSFRNTCA6IGZ1bmN0aW9uIChzdHIpIHsKICAgICAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKTsKICAgIH0sCiAgICBkZWNvZGVIVE1MIDogZnVuY3Rpb24gKHN0cikgewogICAgICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSgvJmFtcDsvZywgJyYnKS5yZXBsYWNlKC8mbHQ7L2csICc8JykucmVwbGFjZSgvJmd0Oy9nLCAnPicpLnJlcGxhY2UoLyZxdW90Oy9nLCAnIicpOwogICAgfSwKICAgIHNlcmlhbGl6ZSA6IGZ1bmN0aW9uIChvYmopIHsKICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHsKICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHsKICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpCiAgICAgICAgICAgIGFyci5wdXNoKHByb3AgKyAnPScgKyBBYWsuZW5jb2RlVVJJKG9ialtwcm9wXSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYXJyLmpvaW4oJyYnKTsKICAgICAgfQogICAgICByZXR1cm4gb2JqOwogICAgfSwKICAgIHVuc2VyaWFsaXplIDogZnVuY3Rpb24gKHN0cikgewogICAgICBzdHIgPSBBYWsuZGVjb2RlSFRNTChzdHIpOwogICAgICB2YXIgYXJyID0gc3RyLnNwbGl0KCcmJyk7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgaWYgKGVudHJ5ICE9PSAnJyAmJiBlbnRyeS5zcGxpdCgnPScpKSB7CiAgICAgICAgICB2YXIgc3BsaXRzID0gZW50cnkuc3BsaXQoJz0nKTsKICAgICAgICAgIG9ialtzcGxpdHNbMF1dID0gQWFrLmRlY29kZVVSSShzcGxpdHNbMV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBvYmo7CiAgICB9LAogICAgdW5zZXRQcm9wZXJ0aWVzIDogZnVuY3Rpb24gKG9iaiwgcHJvcHMpIHsKICAgICAgcHJvcHMgPSAodHlwZW9mIHByb3BzID09ICdzdHJpbmcnKSA/IHByb3BzLnNwbGl0KCcsJykgOiBwcm9wczsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07CiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgZGVsZXRlIG9ialtwcm9wXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICBzZXRQcm9wZXJ0aWVzIDogZnVuY3Rpb24gKG9iajEsIG9iajIpIHsKICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmoyKSB7CiAgICAgICAgaWYgKG9iajIuaGFzT3duUHJvcGVydHkocHJvcCkpCiAgICAgICAgICBvYmoxW3Byb3BdID0gb2JqMltwcm9wXTsKICAgICAgfQogICAgICByZXR1cm4gb2JqMTsKICAgIH0sCiAgICBmaXhQcm90b2NvbFVSTCA6IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgaWYgKC9eaHR0cC8udGVzdCh1cmwpKSB7IC8vIGFic29sdXRlCiAgICAgICAgcmV0dXJuIHVybDsKICAgICAgfSBlbHNlIGlmICgvXlwvXC8vLnRlc3QodXJsKSkgeyAvLyByZWxhdGl2ZQogICAgICAgIHJldHVybiAnaHR0cDonICsgdXJsOwogICAgICB9IGVsc2UgeyAvLyBub25lCiAgICAgICAgcmV0dXJuICdodHRwOi8vJyArIHVybDsKICAgICAgfQogICAgfSwKICAgIGZha2VGdWNrQWRCbG9jayA6IGZ1bmN0aW9uIChpbnN0YW5jZU5hbWUsIGNsYXNzTmFtZSkgewoKICAgICAgLy8gaW5qZWN0IGZha2UgZnVja2FkYmx1Y2sKICAgICAgQWFrLmFkZFNjcmlwdChBYWsuaW50b1N0cmluZyhmdW5jdGlvbiAoKSB7CgogICAgICAgICAgdmFyIENMQVNTTkFNRSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICB2YXIgY2FsbE5vdERldGVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZGVidWcgPSB7CiAgICAgICAgICAgICAgc2V0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBnZXQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9uRGV0ZWN0ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgICB0aGlzLm9uKHRydWUsIGNhbGxiYWNrKTsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5vbk5vdERldGVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgdGhpcy5vbihmYWxzZSwgY2FsbGJhY2spOwogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGRldGVjdGVkLCBjYWxsYmFjaykgewogICAgICAgICAgICAgIGlmICghZGV0ZWN0ZWQpIHsKICAgICAgICAgICAgICAgIGNhbGxOb3REZXRlY3RlZCA9IGNhbGxiYWNrOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgMSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhbJ0FudGlBZGJLaWxsZXInLCBsb2NhdGlvbi5ob3N0LCAnRnVja0FkQmxvY2snXSk7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgc2V0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBnZXQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuY2hlY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKGNhbGxOb3REZXRlY3RlZCkKICAgICAgICAgICAgICAgIGNhbGxOb3REZXRlY3RlZCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLmVtaXRFdmVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5jbGVhckV2ZW50ID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICB9OwoKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHdpbmRvdywgewogICAgICAgICAgICBDTEFTU05BTUUgOiB7CiAgICAgICAgICAgICAgdmFsdWUgOiBDTEFTU05BTUUsCiAgICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHsKICAgICAgICAgICAgSU5TVEFOQ0VOQU1FIDogewogICAgICAgICAgICAgIHZhbHVlIDogbmV3IENMQVNTTkFNRSgpLAogICAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgIH0pLnJlcGxhY2UoL0lOU1RBTkNFTkFNRS9nLCBpbnN0YW5jZU5hbWUgfHwgJ2Z1Y2tBZEJsb2NrJykKICAgICAgICAucmVwbGFjZSgvQ0xBU1NOQU1FL2csIGNsYXNzTmFtZSB8fCAnRnVja0FkQmxvY2snKSk7CgogICAgfSwgLy8gRXZlbnRzCiAgICBvbkV2ZW50IDogZnVuY3Rpb24gKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyLCBidWJibGVzKSB7CiAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgeyAvLyBGb3IgYWxsIG1ham9yIGJyb3dzZXJzLCBleGNlcHQgSUUgOCBhbmQgZWFybGllcgogICAgICAgIChlbGVtZW50IHx8IHdpbmRvdykuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgYnViYmxlcyB8fCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7IC8vIEZvciBJRSA4IGFuZCBlYXJsaWVyIHZlcnNpb25zCiAgICAgICAgKGVsZW1lbnQgfHwgd2luZG93KS5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgbGlzdGVuZXIpOwogICAgICB9CiAgICAgIHJldHVybiBhcmd1bWVudHM7CiAgICB9LAogICAgb2ZmRXZlbnQgOiBmdW5jdGlvbiAoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIsIGJ1YmJsZXMpIHsKICAgICAgaWYgKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKSB7IC8vIEZvciBhbGwgbWFqb3IgYnJvd3NlcnMsIGV4Y2VwdCBJRSA4IGFuZCBlYXJsaWVyCiAgICAgICAgKGVsZW1lbnQgfHwgd2luZG93KS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBidWJibGVzIHx8IGZhbHNlKTsKICAgICAgfSBlbHNlIHsgLy8gRm9yIElFIDggYW5kIGVhcmxpZXIgdmVyc2lvbnMKICAgICAgICAoZWxlbWVudCB8fCB3aW5kb3cpLmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBsaXN0ZW5lcik7CiAgICAgIH0KICAgIH0sCiAgICBlbWl0RXZlbnQgOiBmdW5jdGlvbiAoZWxlbWVudCwgdHlwZSwgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlKSB7CiAgICAgIHZhciBldmVudDsKICAgICAgaWYgKHdpbmRvdy5DdXN0b21FdmVudCkgewogICAgICAgIGV2ZW50ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudCh0eXBlLCB7CiAgICAgICAgICAgICJkZXRhaWwiIDogZGV0YWlsIHx8IHVuZGVmaW5lZAogICAgICAgICAgfSwgYnViYmxlcyB8fCBmYWxzZSwgY2FuY2VsYWJsZSB8fCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTsKICAgICAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQoJ29uJyArIHR5cGUsIGJ1YmJsZXMgfHwgZmFsc2UsIGNhbmNlbGFibGUgfHwgZmFsc2UsIHsKICAgICAgICAgICJkZXRhaWwiIDogZGV0YWlsIHx8IHVuZGVmaW5lZAogICAgICAgIH0pOwogICAgICB9CiAgICAgIChlbGVtZW50IHx8IHdpbmRvdykuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICB9LAogICAgZGV0ZWN0ZWQgOiBmdW5jdGlvbiAobmFtZSkgewogICAgICBpZiAoQWFrLm9wdHMuZGVidWcgJiYgQWFrLm9wdHMubG9nRGV0ZWN0ZWQpIHsKICAgICAgICBBYWsuZW1pdEV2ZW50KHdpbmRvdywgJ2RldGVjdGVkJywgbmFtZSk7CiAgICAgIH0KICAgIH0sCiAgICByZWFkeSA6IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICBBYWsub25FdmVudCh3aW5kb3csICdsb2FkJywgY2FsbGJhY2spOwogICAgfSwKICAgIHBsYXllciA6IGZ1bmN0aW9uICgpIHsKCiAgICAgIHZhciBQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy50YXJnZXQgPSB7fTsKICAgICAgICB0aGlzLnBsYXllciA9IHt9OwogICAgICAgIHRoaXMubmFtZSA9IG51bGw7CiAgICAgICAgdGhpcy52ZXJzaW9uID0gbnVsbDsKICAgICAgICB0aGlzLmxpYnJhcnkgPSBudWxsOwogICAgICAgIHRoaXMuZmFsbGJhY2sgPSAndmxjJzsKICAgICAgICB0aGlzLmF1dG9wbGF5ID0gQWFrLm9wdHMuYXV0b1BsYXk7CiAgICAgICAgdGhpcy5hcmdzID0gbnVsbDsKICAgICAgICB0aGlzLnNldHVwID0ge307CiAgICAgICAgdGhpcy5vcHRpb25zID0gewogICAgICAgICAgYnVpbGQgOiAnZW1iZWQnLAogICAgICAgICAgaW5zZXJ0IDogJ3JlcGxhY2UnLAogICAgICAgICAgY3Jvc3NTZXR1cCA6IHRydWUKICAgICAgICB9OwogICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgLy8gZmxhc2gKICAgICAgICAgIHdtb2RlIDogJ29wYXF1ZScsCiAgICAgICAgICBxdWFsaXR5IDogJ2hpZ2gnLAogICAgICAgICAgYmdjb2xvciA6ICcjMDAwMDAwJywKICAgICAgICAgIHR5cGUgOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnLAogICAgICAgICAgcGx1Z2luc3BhZ2UgOiAnaHR0cDovL3d3dy5hZG9iZS5jb20vZ28vZ2V0Zmxhc2gnLAogICAgICAgICAgYWxsb3dzY3JpcHRhY2Nlc3MgOiAnYWx3YXlzJywgLy8gbmV2ZXIgLyBhbHdheXMKICAgICAgICAgIGFsbG93ZnVsbHNjcmVlbiA6IHRydWUKICAgICAgICB9OwogICAgICB9OwoKICAgICAgUGxheWVyLnByb3RvdHlwZSA9IHsgLy8gaHR0cDovL3Rpbnl1cmwuY29tL3BiNmZ0aGoKICAgICAgICBnZXRUYXJnZXROb2RlIDogZnVuY3Rpb24gKGVsZW1lbnQpIHsKCiAgICAgICAgICB0aGlzLnRhcmdldC5ub2RlID0gQWFrLmdldEVsZW1lbnQoZWxlbWVudCk7CiAgICAgICAgICB0aGlzLnRhcmdldC5odG1sID0gdGhpcy50YXJnZXQubm9kZS5vdXRlckhUTUw7CiAgICAgICAgICB0aGlzLnRhcmdldC5wYXJlbnQgPSB0aGlzLnRhcmdldC5ub2RlLnBhcmVudE5vZGU7CiAgICAgICAgICB0aGlzLnRhcmdldC50YWcgPSB0aGlzLnRhcmdldC5ub2RlLnRhZ05hbWU7CgogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmlkID0gdGhpcy5hdHRyaWJ1dGVzLm5hbWUgPSBBYWsuZ2VuZXJhdGVJRCgpOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCA9IHRoaXMudGFyZ2V0Lm5vZGUuaGVpZ2h0IHx8IHRoaXMudGFyZ2V0Lm5vZGUuY2xpZW50SGVpZ2h0IHx8ICc0ODBweCc7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSB0aGlzLnRhcmdldC5ub2RlLndpZHRoIHx8IHRoaXMudGFyZ2V0Lm5vZGUuY2xpZW50V2lkdGggfHwgJzY0MHB4JzsKICAgICAgICB9LAogICAgICAgIGdldE1pbWVUeXBlIDogZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL2pyczhmZ3oKICAgICAgICAgIHN3aXRjaCAodHlwZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICBjYXNlICdtcDQnOgogICAgICAgICAgICByZXR1cm4gJ3ZpZGVvL21wNCc7CiAgICAgICAgICBjYXNlICd3ZWJtJzoKICAgICAgICAgICAgcmV0dXJuICd2aWRlby93ZWJtJzsKICAgICAgICAgIGNhc2UgJ29nZyc6CiAgICAgICAgICBjYXNlICdvZ3YnOgogICAgICAgICAgICByZXR1cm4gJ3ZpZGVvL29nZyc7CiAgICAgICAgICBjYXNlICdmbHYnOgogICAgICAgICAgICByZXR1cm4gJ3ZpZGVvL3gtZmx2JzsKICAgICAgICAgIGNhc2UgJ2hscyc6CiAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veC1tcGVnVVJMJzsKICAgICAgICAgIGNhc2UgJ2hkcyc6CiAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vZjRtK3htbCc7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gdHlwZTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGJ1aWxkaW5nIDogZnVuY3Rpb24gKHRhZ05hbWUpIHsKICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgICAgICBpZiAoQWFrLm9wdHMuZm9yY2VWTEMgJiYgdGhpcy5uYW1lICE9PSAndmxjJykgewogICAgICAgICAgICBBYWsuaW5mbygnZm9yY2UgcGxheWluZyB3aXRoIFZMQycpOwogICAgICAgICAgICByZXR1cm4gdGhpcy52bGMuYXBwbHkodGhpcywgdGhpcy5hcmdzKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzd2l0Y2ggKHRhZ05hbWUpIHsKICAgICAgICAgIGNhc2UgJ2lmcmFtZSc6CiAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuYXR0cmlidXRlcy5zcmMgfHwgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCArICcvJyk7CiAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuc3JjZG9jKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyLm5vZGUuaGFzQXR0cmlidXRlKCJzcmNkb2MiKSB8fCAnc3JjZG9jJyBpbiB0aGlzLnBsYXllci5ub2RlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnc3JjZG9jJywgdGhpcy5hdHRyaWJ1dGVzLnNyY2RvYyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGRvZXMgbm90IHdvcmsgY29ycmVjdGx5IHdpdGggZmxvd3BsYXllcgogICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsICJkYXRhOnRleHQvaHRtbDtjaGFyc2V0PXV0Zi04LCIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5hdHRyaWJ1dGVzLnNyY2RvYykpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLnNldHVwLndpZHRoKTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuc2V0dXAuaGVpZ2h0KTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2hlaWdodDonICsgdGhpcy5zZXR1cC5oZWlnaHQgKyAncHg7IHdpZHRoOicgKyB0aGlzLnNldHVwLndpZHRoICsgJ3B4OycpOwogICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnZnJhbWVib3JkZXInLCAwKTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3Njcm9sbGluZycsICdubycpOwogICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnYWxsb3dmdWxsc2NyZWVuJywgdHJ1ZSk7IC8vIGh0dHA6Ly90aW55dXJsLmNvbS9veXllaGFiCiAgICAgICAgICAgIC8vIGFsbG93ZnVsbHNjcmVlbiB3ZWJraXRhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIG9hbGxvd2Z1bGxzY3JlZW4gbXNhbGxvd2Z1bGxzY3JlZW4KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd2aWRlbyc6CiAgICAgICAgICAgIHZhciBhdHRyTmFtZTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7CiAgICAgICAgICAgIGZvciAoYXR0ck5hbWUgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkpCiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgdGhpcy5hdHRyaWJ1dGVzW2F0dHJOYW1lXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuYXV0b3BsYXkpIHsgLy8gZml4IGJ1ZyBkdXBsaWNhdGUgcGxheWluZyBvbiBmaXJlZm94L2Nocm9tZQogICAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUub25sb2Fkc3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvL3RoaXMucGxheSgpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUub25lcnJvciA9IGZ1bmN0aW9uICgpIHsgLy8gc3dpdGNoIHRvIHBsdWdpbiBwbGF5ZXIKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHNlbGYuYXJnc1swXSA9IHNlbGYucGxheWVyLm5vZGU7CiAgICAgICAgICAgICAgICBzZWxmLnZsY3BsYXllci5hcHBseShzZWxmLCBzZWxmLmFyZ3MpOwogICAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6IC8vIGVtYmVkCiAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdlbWJlZCcpOwogICAgICAgICAgICBmb3IgKGF0dHJOYW1lIGluIHRoaXMuYXR0cmlidXRlcykgewogICAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpKQogICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIHRoaXMuYXR0cmlidXRlc1thdHRyTmFtZV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnBsYXllci5odG1sID0gdGhpcy5wbGF5ZXIubm9kZS5vdXRlckhUTUw7CiAgICAgICAgICB0aGlzLnBsYXllci50YWcgPSB0aGlzLnBsYXllci5ub2RlLnRhZ05hbWU7CiAgICAgICAgICB0aGlzLmluc2VydGluZygpOwogICAgICAgIH0sCiAgICAgICAgaW5zZXJ0aW5nIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuaW5zZXJ0KSB7CiAgICAgICAgICBjYXNlICdpbm5lcic6CiAgICAgICAgICAgIHRoaXMudGFyZ2V0Lm5vZGUuaW5uZXJIVE1MID0gdGhpcy5wbGF5ZXIuaHRtbDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdhcHBlbmQnOgogICAgICAgICAgICB0aGlzLnRhcmdldC5wYXJlbnQucmVwbGFjZUNoaWxkKHRoaXMucGxheWVyLm5vZGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6IC8vIHJlcGxhY2UKICAgICAgICAgICAgdGhpcy50YXJnZXQucGFyZW50LnJlcGxhY2VDaGlsZCh0aGlzLnBsYXllci5ub2RlLCB0aGlzLnRhcmdldC5ub2RlKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChBYWsub3B0cy5sb2dQbGF5ZXIpIHsKICAgICAgICAgICAgQWFrLmxvZygncGxheWVyJywgdGhpcyk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9LAogICAgICAgIGVkaXRpbmcgOiBmdW5jdGlvbiAoZWxlbSwgb3B0cykgeyAvLyByZXZpZXcKICAgICAgICAgIEFhay5oYXNFbGVtZW50KGVsZW0sIGZ1bmN0aW9uICh0aGlzRWxlbWVudCkgewogICAgICAgICAgICB2YXIgb2JqLAogICAgICAgICAgICBzd2YsCiAgICAgICAgICAgIHZhbHVlLAogICAgICAgICAgICBwYXJ0cywKICAgICAgICAgICAgcGFyYW0sCiAgICAgICAgICAgIGF0dHJpYnV0ZXMsCiAgICAgICAgICAgIGF0dHJOYW1lOwogICAgICAgICAgICB2YXIgc28gPSB0aGlzRWxlbWVudDsKICAgICAgICAgICAgdmFyIGNsb25lID0gc28uY2xvbmVOb2RlKHRydWUpOwoKICAgICAgICAgICAgLy8gc2V0IGF0dHJpaWJ1dGVzCiAgICAgICAgICAgIGlmIChvcHRzLnNldEF0dHJpYnV0ZSkgewogICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBvcHRzLnNldEF0dHJpYnV0ZTsKICAgICAgICAgICAgICBmb3IgKGF0dHJOYW1lIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgIGlmIChjbG9uZS5xdWVyeVNlbGVjdG9yKCdwYXJhbVtuYW1lPSInICsgYXR0ck5hbWUgKyAnIl0nKSkgewogICAgICAgICAgICAgICAgICBjbG9uZS5xdWVyeVNlbGVjdG9yKCdwYXJhbVtuYW1lPSInICsgYXR0ck5hbWUgKyAnIl0nKS52YWx1ZSA9IGF0dHJpYnV0ZXNbYXR0ck5hbWVdOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjbG9uZS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpKSB7CiAgICAgICAgICAgICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0cmlidXRlc1thdHRyTmFtZV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gdW5zZXQgYXR0cmlidXRlcwogICAgICAgICAgICBpZiAob3B0cy51bnNldEF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gb3B0cy5kZWxBdHRyaWJ1dGVzOwogICAgICAgICAgICAgIGZvciAoYXR0ck5hbWUgaW4gYXR0cmlidXRlcykgewogICAgICAgICAgICAgICAgaWYgKGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3BhcmFtW25hbWU9IicgKyBhdHRyTmFtZSArICciXScpKSB7CiAgICAgICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3BhcmFtW25hbWU9IicgKyBhdHRyTmFtZSArICciXScpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmUuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKSkgewogICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cmlidXRlc1thdHRyTmFtZV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAob3B0cy5zZXRGbGFzaHZhcnMgfHwgb3B0cy51bnNldEZsYXNodmFycykgewogICAgICAgICAgICAgIGlmIChjbG9uZS5xdWVyeVNlbGVjdG9yKCdwYXJhbVtuYW1lPSJmbGFzaHZhcnMiXScpKSB7CiAgICAgICAgICAgICAgICBwYXJhbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3BhcmFtW25hbWU9ImZsYXNodmFycyJdJyk7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcmFtLnZhbHVlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmUuZ2V0QXR0cmlidXRlKCdmbGFzaHZhcnMnKSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSBjbG9uZS5nZXRBdHRyaWJ1dGUoJ2ZsYXNodmFycycpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmUuZ2V0QXR0cmlidXRlKCdkYXRhJykgJiYgY2xvbmUuZ2V0QXR0cmlidXRlKCdkYXRhJykuaW5kZXhPZignPycpID49IDApIHsKICAgICAgICAgICAgICAgIHBhcnRzID0gY2xvbmUuZ2V0QXR0cmlidXRlKCdkYXRhJykuc3BsaXQoJz8nLCAyKTsKICAgICAgICAgICAgICAgIHN3ZiA9IHBhcnRzLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnRzLnNoaWZ0KCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBvYmogPSBBYWsudW5zZXJpYWxpemUodmFsdWUpOwogICAgICAgICAgICAgIGlmIChvcHRzLnNldEZsYXNodmFycykgewogICAgICAgICAgICAgICAgb2JqID0gQWFrLnNldFByb3BlcnRpZXMob2JqLCBvcHRzLnNldEZsYXNodmFycyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChvcHRzLnVuc2V0Rmxhc2h2YXJzKSB7CiAgICAgICAgICAgICAgICBvYmogPSBBYWsudW5zZXRQcm9wZXJ0aWVzKG9iaiwgb3B0cy51bnNldEZsYXNodmFycyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHZhbHVlID0gQWFrLnNlcmlhbGl6ZShvYmopOwoKICAgICAgICAgICAgICBpZiAocGFyYW0pIHsKICAgICAgICAgICAgICAgIHBhcmFtLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzd2YpIHsKICAgICAgICAgICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZSgnZGF0YScsIHN3ZiArICc/JyArIHZhbHVlKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCdmbGFzaHZhcnMnLCB2YWx1ZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHJlcGxhY2UKICAgICAgICAgICAgQWFrLmxvZyhzbywgY2xvbmUsIG9iaik7CiAgICAgICAgICAgIEFhay5yZXBsYWNlRWxlbWVudChzbywgY2xvbmUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBlbWJlZGRpbmcgOiBmdW5jdGlvbiAoaWQsIHNldHVwLCBhdHRyaWJ1dGVzLCBvcHRpb25zKSB7IAogICAgICAgIAogICAgICAgICAgdGhpcy5nZXRUYXJnZXROb2RlKGlkKTsKICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IEFhay5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcyB8fCB7fSk7CiAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwge30pOwoKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5zcmMgPSBzZXR1cC5zd2Y7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuaWQgPSB0aGlzLmF0dHJpYnV0ZXMubmFtZSA9IEFhay5nZW5lcmF0ZUlEKCk7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0ID0gc2V0dXAuaGVpZ2h0IHx8IHRoaXMuYXR0cmlidXRlcy5oZWlnaHQ7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSBzZXR1cC53aWR0aCB8fCB0aGlzLmF0dHJpYnV0ZXMud2lkdGg7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuZmxhc2h2YXJzID0gQWFrLnNlcmlhbGl6ZShzZXR1cCk7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsudW5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgJ3N3ZicpOwoKICAgICAgICAgIHRoaXMuYnVpbGRpbmcoJ2VtYmVkJyk7CiAgICAgICAgfSwKICAgICAgICBqd3BsYXllciA6IGZ1bmN0aW9uIChpZCwgc2V0dXAsIGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHsKICAgICAgICAgIC8vIEp3UGxheWVyIDcgKGZsYXNoL2h0bWw1KQogICAgICAgICAgLy8gbm90ZTogcHJvYmxlbSB3aXRoIHNzbAogICAgICAgICAgLy8gc2V0dXA6IGh0dHA6Ly90aW55dXJsLmNvbS9oaHJnamFwLCBodHRwOi8vdGlueXVybC5jb20vZ3FzNDZ0bQogICAgICAgICAgLy8gYXBpOiBodHRwczovL2RldmVsb3Blci5qd3BsYXllci5jb20vanctcGxheWVyL2RvY3MvZGV2ZWxvcGVyLWd1aWRlL2FwaS9qYXZhc2NyaXB0X2FwaV9yZWZlcmVuY2UvCiAgICAgICAgICAvLyBobHM6IGh0dHA6Ly90aW55dXJsLmNvbS9weGw5c2NxCiAgICAgICAgICAvLyBobHMtdGVzdGVyOiBodHRwOi8vZGVtby5qd3BsYXllci5jb20vc3RyZWFtLXRlc3Rlci8KICAgICAgICAgIC8vIHJ0bXAtZGVtbzogaHR0cHM6Ly93d3cuc2NhbGVlbmdpbmUuY29tL2p3NgogICAgICAgICAgLy8gaWZyYW1lOiBodHRwOi8vdGlueXVybC5jb20vODZhZ2c2OAoKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXR1cCA9IHsKICAgICAgICAgICAgICBjb250cm9scyA6IHRydWUsCiAgICAgICAgICAgICAgZmlsZSA6IHNldHVwLnNvdXJjZSwKICAgICAgICAgICAgICBhYm91dHRleHQgOiBBYWsubmFtZSwKICAgICAgICAgICAgICBhYm91dGxpbmsgOiBBYWsuaG9tZVVSTCwKICAgICAgICAgICAgICB3aWR0aCA6IHNldHVwLndpZHRoIHx8IHRoaXMuYXR0cmlidXRlcy53aWR0aCwKICAgICAgICAgICAgICBoZWlnaHQgOiBzZXR1cC5oZWlnaHQgfHwgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCwKICAgICAgICAgICAgICBhdXRvc3RhcnQgOiBzZXR1cC5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5LAogICAgICAgICAgICAgIHByaW1hcnkgOiAnaHRtbDUnLAogICAgICAgICAgICAgIHByZWxvYWQgOiAnYXV0bycsCiAgICAgICAgICAgICAgc2tpbiA6IHsgLy8gU2V2ZW4gfCBTaXggfCBGaXZlIHwgR2xvdyB8IEJlZWxkZW4gfCBWYXBvciB8IEJla2xlIHwgUm91bmRzdGVyIHwgU3Rvcm10cm9vcGVyCiAgICAgICAgICAgICAgICBuYW1lIDogc2V0dXAuc2tpbiB8fCAic2l4IiAvLyBkZWZhdWx0IHNraW4gSldQNgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKFsnbXA0JywgJ3dlYm0nLCAnb2dnJywgJ29ndiddLmluZGV4T2Yoc2V0dXAudHlwZSkgPT09IC0xKSB7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5wcmltYXJ5ID0gJ2ZsYXNoJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2V0dXAudHlwZSA9PT0gJ2hscycpIHsKICAgICAgICAgICAgICB0aGlzLnNldHVwLmhsc2h0bWwgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNyY2RvYyA9ICc8aHRtbD48aGVhZD48c3R5bGUgdHlwZT0idGV4dC9jc3MiPkBmb250LWZhY2V7Zm9udC1mYW1pbHk6anctaWNvbnM7c3JjOnVybCgnICsgbG9jYXRpb24ucHJvdG9jb2wgKyAnc3NsLnAuandwY2RuLmNvbS9wbGF5ZXIvdi83LjQuMy9qdy1pY29ucy53b2ZmKSBmb3JtYXQoIndvZmYiKSx1cmwoJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vc3NsLnAuandwY2RuLmNvbS9wbGF5ZXIvdi83LjQuMy9qdy1pY29ucy50dGYpIGZvcm1hdCgidHJ1ZXR5cGUiKTtmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWx9PC9zdHlsZT48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY29udGVudC5qd3BsYXRmb3JtLmNvbS9saWJyYXJpZXMvVjZOZkV6VDcuanMiPjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+aHRtbCwgYm9keXtwYWRkaW5nOjA7IG1hcmdpbjowO308L3N0eWxlPjwvaGVhZD48Ym9keT48ZGl2IGlkPSJqdy1tb3ZpZSI+PC9kaXY+PHNjcmlwdD5qd3BsYXllcigianctbW92aWUiKS5zZXR1cCgnICsgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR1cCkgKyAnKTs8L3NjcmlwdD48L2JvZHk+PC9odG1sPic7CgogICAgICAgICAgdGhpcy5idWlsZGluZygnaWZyYW1lJyk7CiAgICAgICAgfSwKICAgICAgICB2aWRlb2pzIDogZnVuY3Rpb24gKGlkLCBzZXR1cCwgYXR0cmlidXRlcywgb3B0aW9ucykgeyAKICAgICAgICAgIC8vIFZpZGVvSnMgNSAoZmxhc2gvaHRtbDUpCiAgICAgICAgICAvLyBzZXR1cDogaHR0cDovL3Rpbnl1cmwuY29tL3BjZ3gyb2IKICAgICAgICAgIC8vIHBsYXliYWNrOiBodHRwOi8vdGlueXVybC5jb20vbnNjenRtbQogICAgICAgICAgLy8gZGVtbzogaHR0cDovL2pzZmlkZGxlLm5ldC9OOFpzNS8xOC8KICAgICAgICAgIC8vIHBsdWdpbnM6IGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlb2pzL3ZpZGVvLmpzL3dpa2kvUGx1Z2lucwoKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXR1cCA9IHsKICAgICAgICAgICAgICBjb250cm9scyA6IHRydWUsCiAgICAgICAgICAgICAgcHJlbG9hZCA6ICdhdXRvJywKICAgICAgICAgICAgICB3aWR0aCA6IHNldHVwLndpZHRoIHx8IHRoaXMuYXR0cmlidXRlcy53aWR0aCwKICAgICAgICAgICAgICBoZWlnaHQgOiBzZXR1cC5oZWlnaHQgfHwgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCwKICAgICAgICAgICAgICB0ZWNoT3JkZXIgOiBbImh0bWw1IiwgImZsYXNoIl0sCiAgICAgICAgICAgICAgYXV0b3BsYXkgOiBzZXR1cC5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5LAogICAgICAgICAgICAgIHNvdXJjZXMgOiBbewogICAgICAgICAgICAgICAgICB0eXBlIDogdGhpcy5nZXRNaW1lVHlwZShzZXR1cC50eXBlKSwKICAgICAgICAgICAgICAgICAgc3JjIDogc2V0dXAuc291cmNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9OwogICAgICAgICAgICAvKiBkb24ndCB3b3JrIAogICAgICAgICAgICBpZiAoc2V0dXAudHlwZSA9PT0gJ2hscycpIHsKICAgICAgICAgICAgICB0ZWNoT3JkZXIgOiBbImZsYXNoIiwgImh0bWw1Il0sCiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5mbGFzaCA9IHsKICAgICAgICAgICAgICAgIC8vc3dmIDogIi8vcmVla3NpdGUuY29tL3B1YmxpYy9zd2YvdmlkZW9qcy1mbGFzaGxzLnN3ZiIKICAgICAgICAgICAgICAgIHN3ZiA6ICdodHRwOi8vd3d3LmZsYXNobHMub3JnL3ZpZGVvanMvdmlkZW8tanMuc3dmJwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgKi8KICAgICAgICAgIH0KCiAgICAgICAgICAvLyAKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5zcmNkb2MgPSAnPGh0bWw+PGhlYWQ+PGxpbmsgaHJlZj0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3ZpZGVvLmpzLzUuMTAuNS9hbHQvdmlkZW8tanMtY2RuLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCI+PHNjcmlwdCBzcmM9IicgKyBsb2NhdGlvbi5wcm90b2NvbCArICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy92aWRlby5qcy81LjEwLjUvdmlkZW8ubWluLmpzIj48L3NjcmlwdD48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3ZpZGVvanMtY29udHJpYi1obHMvMy4xLjAvdmlkZW9qcy1jb250cmliLWhscy5taW4uanMiPjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+aHRtbCwgYm9keXtwYWRkaW5nOjA7IG1hcmdpbjowO30udmpzLWRlZmF1bHQtc2tpbntjb2xvcjojZWVlfS52anMtZGVmYXVsdC1za2luIC52anMtcGxheS1wcm9ncmVzcywudmpzLWRlZmF1bHQtc2tpbiAudmpzLXZvbHVtZS1sZXZlbHtiYWNrZ3JvdW5kLWNvbG9yOiNlZWV9LnZqcy1kZWZhdWx0LXNraW4gLnZqcy1iaWctcGxheS1idXR0b24sLnZqcy1kZWZhdWx0LXNraW4gLnZqcy1jb250cm9sLWJhcntiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjIpfS52anMtZGVmYXVsdC1za2luIC52anMtc2xpZGVye2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMyl9PC9zdHlsZT48L2hlYWQ+PGJvZHk+PHZpZGVvIGlkPSJ2anMtbW92aWUiIGNsYXNzPSJ2aWRlby1qcyB2anMtZGVmYXVsdC1za2luIHZqcy1iaWctcGxheS1jZW50ZXJlZCI+PC92aWRlbz48c2NyaXB0PnZpZGVvanMoInZqcy1tb3ZpZSIsICcgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHVwKSArICcpPC9zY3JpcHQ+PC9ib2R5PjwvaHRtbD4nOwoKICAgICAgICAgIHRoaXMuYnVpbGRpbmcoJ2lmcmFtZScpOwogICAgICAgIH0sCiAgICAgICAgZmxvd3BsYXllciA6IGZ1bmN0aW9uIChpZCwgc2V0dXAsIGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHsKICAgICAgICAgIC8vIEZsb3dQbGF5ZXIgNiAoZmxhc2gpCiAgICAgICAgICAvLyBub3RlOiBwcm9ibGVtIHdpdGggZmxhc2hwbGF5ZXIKICAgICAgICAgIC8vIHN1cHBvcnQ6IG1wNCwgZmx2LCBmNHYsIG00diwgbW92CiAgICAgICAgICAvLyBzZXR1cDogaHR0cHM6Ly9mbG93cGxheWVyLm9yZy9kb2NzL3NldHVwLmh0bWwKICAgICAgICAgIC8vIGFwaTogaHR0cHM6Ly9mbG93cGxheWVyLm9yZy9kb2NzL2FwaS5odG1sCiAgICAgICAgICAvLyBkZW1vOiBodHRwOi8vZGVtb3MuZmxvd3BsYXllci5vcmcvYmFzaWNzL2pzLXNldHVwLWF1dG9wbGF5Lmh0bWwKICAgICAgICAgIC8vIGhkczogaHR0cHM6Ly9mbG93cGxheWVyLmVsZWN0cm90ZXF1ZS5vcmcvaHR0cHN0cmVhbWluZy1oZHMvZnA2CiAgICAgICAgICAvLyBobHM6IGh0dHA6Ly9kZW1vcy5mbG93cGxheWVyLm9yZy9hcGkvaGxzanMuaHRtbAogICAgICAgICAgLy8gZmx2OiBodHRwOi8vZGVtb3MuZmxvd3BsYXllci5vcmcvYmFzaWNzL2Zsdi5odG1sCgogICAgICAgICAgdGhpcy5nZXRUYXJnZXROb2RlKGlkKTsKICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IEFhay5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcyB8fCB7fSk7CiAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwge30pOwoKICAgICAgICAgIHRoaXMuc2V0dXAgPSBzZXR1cDsKICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NTZXR1cCA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLnNldHVwID0gewogICAgICAgICAgICAgIHdpZHRoIDogc2V0dXAud2lkdGggfHwgdGhpcy5hdHRyaWJ1dGVzLndpZHRoLAogICAgICAgICAgICAgIGhlaWdodCA6IHNldHVwLmhlaWdodCB8fCB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0LAogICAgICAgICAgICAgIGF1dG9wbGF5IDogc2V0dXAuYXV0b3BsYXkgfHwgdGhpcy5hdXRvcGxheSwKICAgICAgICAgICAgICBwcmVsb2FkIDogJ2F1dG8nCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChzZXR1cC50eXBlID09PSAnaGxzJykgewogICAgICAgICAgICAgIHRoaXMuc2V0dXAuc3dmID0gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy9yZWxlYXNlcy5mbG93cGxheWVyLm9yZy82LjAuNS9mbG93cGxheWVyaGxzLnN3Zic7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5lbmdpbmUgPSAnaGxzanMnOwogICAgICAgICAgICB9IGVsc2UgaWYgKFsnbXA0JywgJ3dlYm0nLCAnb2dnJywgJ29ndiddLmluZGV4T2Yoc2V0dXAudHlwZSkgPT09IC0xKSB7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5zd2YgPSBsb2NhdGlvbi5wcm90b2NvbCArICcvL3JlbGVhc2VzLmZsb3dwbGF5ZXIub3JnLzYuMC41L2Zsb3dwbGF5ZXIuc3dmJzsKICAgICAgICAgICAgICB0aGlzLnNldHVwLmVuZ2luZSA9ICdmbGFzaCc7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC50eXBlID0gJ3ZpZGVvL2ZsYXNoJzsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnNldHVwLmNsaXAgPSB7CiAgICAgICAgICAgICAgc291cmNlcyA6IFt7CiAgICAgICAgICAgICAgICAgIHR5cGUgOiB0aGlzLmdldE1pbWVUeXBlKHRoaXMuc2V0dXAudHlwZSB8fCBzZXR1cC50eXBlKSwKICAgICAgICAgICAgICAgICAgc3JjIDogc2V0dXAuc291cmNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9OwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5zcmNkb2MgPSAnPGh0bWw+PGhlYWQ+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInICsgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy9yZWxlYXNlcy5mbG93cGxheWVyLm9yZy82LjAuNS9za2luL2Z1bmN0aW9uYWwuY3NzIj48L3NjcmlwdD48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0xLjExLjIubWluLmpzIj48L3NjcmlwdD48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vcmVsZWFzZXMuZmxvd3BsYXllci5vcmcvNi4wLjUvZmxvd3BsYXllci5taW4uanMiPjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+aHRtbCwgYm9keXtwYWRkaW5nOjA7IG1hcmdpbjowO308L3N0eWxlPjwvaGVhZD48Ym9keT48ZGl2IGlkPSJmcC1tb3ZpZSI+PC9kaXY+PHNjcmlwdD5mbG93cGxheWVyKCIjZnAtbW92aWUiLCAnICsgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR1cCkgKyAnKTs8L3NjcmlwdD48L2JvZHk+PC9odG1sPic7CgogICAgICAgICAgdGhpcy5idWlsZGluZygnaWZyYW1lJyk7CiAgICAgICAgfSwKICAgICAgICBncmluZHBsYXllciA6IGZ1bmN0aW9uIChpZCwgc2V0dXAsIGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHsKICAgICAgICAgIC8vIEdyaW5kUGxheWVyIDEgKGZsYXNoKQogICAgICAgICAgLy8gc2V0dXA6IGh0dHA6Ly9vc21maGxzLmt1dHUucnUvZG9jcy9ncmluZC8KICAgICAgICAgIC8vIHN1cHBvcnQ6IGhscywgcnRtcAoKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXR1cCA9IHsKICAgICAgICAgICAgICBzcmMgOiBzZXR1cC5zb3VyY2UsCiAgICAgICAgICAgICAgc3RyZWFtVHlwZSA6ICJsaXZlIiwKICAgICAgICAgICAgICBzY2FsZU1vZGUgOiAibGV0dGVyYm94IiwKICAgICAgICAgICAgICBhdXRvUGxheSA6IHNldHVwLmF1dG9wbGF5IHx8IHRoaXMuYXV0b3BsYXkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNldHVwLnR5cGUgPT09ICdobHMnKSB7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5wbHVnaW5faGxzID0gIi8vcmVla3NpdGUuY29tL3B1YmxpYy9zd2YvZmxhc2hsc09TTUYuc3dmIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2V0dXAucHJveHkgPT09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLnNldHVwLnNyYyA9ICcvL3d3dy5kaWFuc2hpYm8uY29tL2ZldGNoLnBocC8nICsgc2V0dXAuc291cmNlLnN1YnN0cmluZyhzZXR1cC5zb3VyY2UuaW5kZXhPZignLy8nKSArIDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNyYyA9IHNldHVwLnN3ZiB8fCB0aGlzLmF0dHJpYnV0ZXMuc3JjIHx8ICIvL3JlZWtzaXRlLmNvbS9wdWJsaWMvc3dmL0dyaW5kUGxheWVyLnN3ZiI7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0ID0gc2V0dXAuaGVpZ2h0IHx8IHRoaXMuYXR0cmlidXRlcy5oZWlnaHQ7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSBzZXR1cC53aWR0aCB8fCB0aGlzLmF0dHJpYnV0ZXMud2lkdGg7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuZmxhc2h2YXJzID0gQWFrLnNlcmlhbGl6ZSh0aGlzLnNldHVwKTsKCiAgICAgICAgICB0aGlzLmJ1aWxkaW5nKCdlbWJlZCcpOwogICAgICAgIH0sCiAgICAgICAgdmxjIDogZnVuY3Rpb24gKGlkLCBzZXR1cCwgYXR0cmlidXRlcywgb3B0aW9ucykgewogICAgICAgICAgLy8gVkxDIFdlYiBQbHVnaW4gKHBsdWdpbikKICAgICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL29tbHpwMzkKICAgICAgICAgIC8vIHBsdWdpbnM6IGFib3V0OnBsdWdpbnMKICAgICAgICAgIC8vIGNocm9tZTovL2ZsYWdzLyNlbmFibGUtbnBhcGkKICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LmNocm9taXVtLm9yZy9kZXZlbG9wZXJzL25wYXBpLWRlcHJlY2F0aW9uCiAgICAgICAgICAvLyBJbiBTZXB0ZW1iZXIgMjAxNSAoQ2hyb21lIDQ1KSB3ZSB3aWxsIHJlbW92ZSB0aGUgb3ZlcnJpZGUgYW5kIE5QQVBJIHN1cHBvcnQgd2lsbCBiZSBwZXJtYW5lbnRseSByZW1vdmVkIGZyb20gQ2hyb21lLiBJbnN0YWxsZWQgZXh0ZW5zaW9ucyB0aGF0IHJlcXVpcmUgTlBBUEkgcGx1Z2lucyB3aWxsIG5vIGxvbmdlciBiZSBhYmxlIHRvIGxvYWQgdGhvc2UgcGx1Z2lucy4KCiAgICAgICAgICB0aGlzLm5hbWUgPSAndmxjJzsKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNyYyA9IHNldHVwLnNvdXJjZTsKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCA9IHNldHVwLmhlaWdodCB8fCB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0OwogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSBzZXR1cC53aWR0aCB8fCB0aGlzLmF0dHJpYnV0ZXMud2lkdGg7CiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5jb250cm9scyA9IHRydWU7CiAgICAgICAgICAgIGlmIChzZXR1cC5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5KSB7CiAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmF1dG9wbGF5ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy50eXBlID0gImFwcGxpY2F0aW9uL3gtdmxjLXBsdWdpbiI7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucGx1Z2luc3BhZ2UgPSAiaHR0cDovL3d3dy52aWRlb2xhbi5vcmciOwogICAgICAgICAgdGhpcy5idWlsZGluZygnZW1iZWQnKTsKICAgICAgICB9LAogICAgICAgIGh0bWw1IDogZnVuY3Rpb24gKGlkLCBzZXR1cCwgYXR0cmlidXRlcywgb3B0aW9ucykgeyAKICAgICAgICAgIC8vIFZpZGVvIFRhZyAoaHRtbDUpCiAgICAgICAgICAvLyBiYXNpY3M6IGh0dHBzOi8vaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL3ZpZGVvL2Jhc2ljcy8KICAgICAgICAgIC8vIHRhZzogaHR0cDovL3d3dy53M3NjaG9vbHMuY29tL3RhZ3MvdGFnX3ZpZGVvLmFzcAogICAgICAgICAgLy8gc3VwcG9ydDogbXA0LCB3ZWJtLCBvZ2cKICAgICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvaHRtbDUvdGVzdHMvdmlkZW8uaHRtbAoKICAgICAgICAgIHRoaXMub3B0aW9ucyA9IEFhay5zZXRQcm9wZXJ0aWVzKHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7fSk7CgogICAgICAgICAgdGhpcy5nZXRUYXJnZXROb2RlKGlkKTsKICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IEFhay5zZXRQcm9wZXJ0aWVzKHt9LCBzZXR1cCB8fCB7fSk7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuc3JjID0gc2V0dXAuc291cmNlOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmlkID0gdGhpcy5hdHRyaWJ1dGVzLm5hbWUgPSBBYWsuZ2VuZXJhdGVJRCgpOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCA9IHRoaXMuYXR0cmlidXRlcy5oZWlnaHQgfHwgdGhpcy50YXJnZXQubm9kZS5jbGllbnRIZWlnaHQgfHwgIjEwMCUiOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLndpZHRoID0gdGhpcy5hdHRyaWJ1dGVzLndpZHRoIHx8IHRoaXMudGFyZ2V0Lm5vZGUuY2xpZW50V2lkdGggfHwgIjEwMCUiOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnR5cGUgPSB0aGlzLmdldE1pbWVUeXBlKHRoaXMuYXR0cmlidXRlcy50eXBlKTsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5jb250cm9scyA9ICdjb250cm9scyc7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHJlbG9hZCA9ICdub25lJzsKICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuYXV0b3BsYXkgfHwgdGhpcy5hdXRvcGxheSkgewogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuYXV0b3BsYXkgPSAnYXV0b3BsYXknOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOyBtYXJnaW46MCBhdXRvOyc7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsudW5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgJ3NvdXJjZScpOwoKICAgICAgICAgIHRoaXMuYnVpbGRpbmcoJ3ZpZGVvJyk7CiAgICAgICAgfQogICAgICB9OwogICAgICAKICAgICAgcmV0dXJuIG5ldyBQbGF5ZXIoKTsKICAgIH0sCiAgICBydWxlcyA6IHsKICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgLy8gQW50aS1BZGJsb2NrIEtpbGxlcgogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBzZXR0aW5ncyA6IHsKICAgICAgICBob3N0IDogWydsb2NhbGhvc3QnLCAncmVlay5naXRodWIuaW8nLCAncmVla3NpdGUuY29tJ10sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgaWYgKC9cL2FudGktYWRibG9jay1raWxsZXIoLXBhZ2VzKT9cLyQvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIHZhciBzZXR0aW5nc0JveCA9IEFhay5nZXRFbGVtZW50KCcjYWFrLXNldHRpbmdzLWJveCcpOwogICAgICAgICAgICB2YXIgc2V0dGluZ3NOb3RpY2UgPSBBYWsuZ2V0RWxlbWVudCgnI2Fhay1zZXR0aW5ncy1ub3RpY2UnKTsKCiAgICAgICAgICAgIGlmICghQWFrLnVzZUdNKSB7CiAgICAgICAgICAgICAgc2V0dGluZ3NOb3RpY2UucXVlcnlTZWxlY3RvcignZGl2JykuaW5uZXJIVE1MID0gJ0luIG5hdGl2ZSBtb2RlLCB5b3UgbXVzdCBlZGl0IHRoZSBvcHRpb25zIG1hbnVhbGx5OiA8YSBocmVmPSInICsgQWFrLm5hdGl2ZVVSTCArICciPlNlZTwvYT4nOwogICAgICAgICAgICB9IGVsc2UgaWYgKHNldHRpbmdzQm94ICYmIHNldHRpbmdzTm90aWNlKSB7CiAgICAgICAgICAgICAgc2V0dGluZ3NOb3RpY2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICBzZXR0aW5nc0JveC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICBBYWsuaW5mbygnR00gc3RvcmFnZTonLCBBYWsuZ2V0VmFsdWUoKSk7CiAgICAgICAgICAgICAgQWFrLmluZm8oJ0dNIG9wdGlvbnM6JywgQWFrLm9wdHMpOwogICAgICAgICAgICAgIEFhay5pbmZvKCdHTSBhcGk6JywgQWFrLnVzZUdNICYmIEFhay5hcGlHTSgpKTsKCiAgICAgICAgICAgICAgLy8gdXNlciBjb25maWcKICAgICAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgICAgICB0YWcgOiAnZGl2JywKICAgICAgICAgICAgICAgIGh0bWwgOiAnVmVyc2lvbjogJyArIEFhay5nZXRWZXJzaW9uKCkgKyAnIDxicj5BYWtTY3JpcHQ6IHRydWUgPGJyPkFha0xpc3Q6ICcgKyAoIUFhay5nZXRFbGVtZW50KCcjazJVdzdpc0hyTW01SlhQMVZ3ZHhjNTY3WktjMWFaNEknKSkgKyAnIDxicj5Ccm93c2VyOiAnICsgQWFrLmdldEJyb3dzZXIoKSArICcgPGJyPlNjcmlwdE1hbmFnZXI6ICcgKyBBYWsuZ2V0U2NyaXB0TWFuYWdlcigpLAogICAgICAgICAgICAgICAgYXBwZW5kIDogJyNhYWstc2V0dGluZ3MtY29uZmlnJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAvLyBjcmVhdGUgb3B0aW9ucyAKICAgICAgICAgICAgICBmb3IgKHZhciBvcHROYW1lIGluIEFhay5vcHRpb25zKSB7CiAgICAgICAgICAgICAgICBpZiAoQWFrLm9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0TmFtZSkpIHsKICAgICAgICAgICAgICAgICAgdmFyIG9wdCA9IEFhay5vcHRpb25zW29wdE5hbWVdOwogICAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IEFhay5vcHRzW29wdE5hbWVdID09PSB0cnVlID8gImNoZWNrZWQiIDogJyc7CiAgICAgICAgICAgICAgICAgIEFhay5jcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgICAgICAgICB0YWcgOiAnZGl2JywKICAgICAgICAgICAgICAgICAgICBodG1sIDogJzxpbnB1dCBpZD0iJyArIG9wdE5hbWUgKyAnIiBjbGFzcz0iY3NzLWNoZWNrYm94IiAnICsgY2hlY2tlZCArICcgdHlwZT0iJyArIG9wdC50eXBlICsgJyIvPjxsYWJlbCBmb3I9IicgKyBvcHROYW1lICsgJyIgdGl0bGU9IicgKyBvcHQuaW5mbyArICciIGNsYXNzPSJjc3MtbGFiZWwiPicgKyBvcHQubGFiZWwgKyAnPC9sYWJlbD4nLAogICAgICAgICAgICAgICAgICAgIGFwcGVuZCA6ICcjYWFrLXNldHRpbmdzLScgKyBvcHQuZ3JvdXAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBzYXZlIG9wdGlvbnMgCiAgICAgICAgICAgICAgQWFrLm9uRXZlbnQoQWFrLmdldEVsZW1lbnQoIiNhYWstc2V0dGluZ3Mtc2F2ZSIpLCAiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY3NzLWNoZWNrYm94Jyk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gZWxlbXNbaV07CiAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICBBYWsuc2V0VmFsdWUoZWxlbS5pZCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgQWFrLnNldFZhbHVlKGVsZW0uaWQsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KCdTYXZlZCAhJyk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIC8vIENsZWFyIEdNIHN0b3JhZ2UKICAgICAgICAgICAgICBBYWsuYWRkQ29tbWFuZHMoewogICAgICAgICAgICAgICAgY2FwdGlvbiA6ICdDbGVhciBHTSBzdG9yYWdlJywKICAgICAgICAgICAgICAgIGV4ZWN1dGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIEFhay5kZWxldGVWYWx1ZSgpOwogICAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoJ0NsZWFyZWQgIScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICB1c2Vyc2NyaXB0c19kb21haW5zIDogeyAvLyBSZWRpcmVjdCB0byBHaXRodWIKICAgICAgICBob3N0IDogWyd1c2Vyc2NyaXB0cy5vcmcnLCAndXNlcnNjcmlwdHMub3JnOjgwODAnLCAndXNlcnNjcmlwdHMtbWlycm9yLm9yZyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoLzE1NTg0MCQvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIEFhay5nbyhBYWsuaG9tZVVSTCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBvcGVudXNlcmpzX29yZyA6IHsKICAgICAgICBob3N0IDogWydvcGVudXNlcmpzLm9yZyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gQWFrLmdldEVsZW1lbnQoJ2FbaHJlZiQ9Ii9pc3N1ZXMiXScpOwogICAgICAgICAgaWYgKC9BbnRpLUFkYmxvY2tfS2lsbGVyX1JlZWsvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpICYmIGVsZW1lbnQpIHsKICAgICAgICAgICAgQWFrLmNvbmZpcm1SZXBvcnQoZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBncmVhc3lmb3JrX29yZyA6IHsKICAgICAgICBob3N0IDogWydncmVhc3lmb3JrLm9yZyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gQWFrLmdldEVsZW1lbnQoJ2FbaHJlZiQ9Ii9mZWVkYmFjayJdJyk7CiAgICAgICAgICBpZiAoLy1hbnRpLWFkYmxvY2sta2lsbGVyLXJlZWsvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpICYmIGVsZW1lbnQpIHsKICAgICAgICAgICAgQWFrLmNvbmZpcm1SZXBvcnQoZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtb25rZXlndXRzX2NvbSA6IHsKICAgICAgICBob3N0IDogWydtb25rZXlndXRzLmNvbSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gQWFrLmdldEVsZW1lbnQoJ2FbaHJlZio9ImNvZGUucGhwP25hdj1mb3J1bSJdJyk7CiAgICAgICAgICBpZiAoL21vbmtleWd1dHMuY29tXC9jb2RlLnBocFw/aWQ9MzUxLy50ZXN0KGxvY2F0aW9uLmhyZWYpICYmIGVsZW1lbnQpIHsKICAgICAgICAgICAgQWFrLmNvbmZpcm1SZXBvcnQoZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAvLyBTcGVjaWZpYwogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBibG9nc3BvdCA6IHsKICAgICAgICAvLyBObyBDb3VudHJ5IFJlZGlyZWN0IChOQ1IpCiAgICAgICAgLy8gUHJldmVudCBCbG9nZ2VyIGZyb20gUmVkaXJlY3RpbmcgdG8gQ291bnRyeS1TcGVjaWZpYyBEb21haW5zCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vN3JtMzRqbwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZyL2ZvcnVtL2Rpc2N1c3Npb24vNTk1MwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy80OTAKICAgICAgICAvLyB0ZXN0OiBodHRwOi8vdGlueXVybC5jb20vbm9tY3hrYwogICAgICAgIGhvc3QgOiBbJy5ibG9nc3BvdC4nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKEFhay5pc1RvcGZyYW1lKSB7IC8vIGZpeCByZWRpcmV0aW9uIGxvb3AKICAgICAgICAgICAgdmFyIGJsb2cgPSBsb2NhdGlvbi5ob3N0LnJlcGxhY2UoJ3d3dy4nLCAnJykuc3BsaXQoIi4iKTsKICAgICAgICAgICAgaWYgKGJsb2dbYmxvZy5sZW5ndGggLSAxXSAhPSAiY29tIikgewogICAgICAgICAgICAgIHZhciBwYXRoID0gbG9jYXRpb24uaHJlZi5zcGxpdCgiLyIpLnNsaWNlKDMpLmpvaW4oJy8nKTsKICAgICAgICAgICAgICBBYWsuZ28oImh0dHA6Ly8iICsgYmxvZ1swXSArICIuYmxvZ3Nwb3QuY29tL25jci8iICsgcGF0aCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJsb2dzcG90X2tub3dsZXQzMzg5IDogewogICAgICAgIC8vIG5vdGU6IGFsc28gYWRkZWQgYWJwIHJ1bGUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODMKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vQTNtQ1hRNWkKICAgICAgICBob3N0IDogWydrbm93bGV0MzM4OS5ibG9nc3BvdC4nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldExvY2FsKCdub2FkJywgZmFsc2UpOwogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjZ0FkcyB7IGhlaWdodDogMTdweDsgfSAjZ0FkMiB7IGhlaWdodDogMTdweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdXB0b2JveF91cHRvc3RyZWFtIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNTEKICAgICAgICBob3N0IDogWyd1cHRvYm94LmNvbScsICd1cHRvc3RyZWFtLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBPbGQgc29sdXRpb24gW2RlcHJlY2F0ZWRdCiAgICAgICAgICB2YXIgaWQgPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvWzAtOWEtel17MTJ9Lyk7CiAgICAgICAgICBpZiAoaWQgIT09IG51bGwpIHsKICAgICAgICAgICAgQWFrLmFkZFN0eWxlKCIjIiArIGlkWzBdICsgIiB7IGhlaWdodDogMTJweDsgfSIpOwogICAgICAgICAgfQogICAgICAgICAgLy8gTmV3IDEyLjA1LjIwMTQKICAgICAgICAgIC8vICsgYWJwIHJ1bGUgKGFsdGVybmF0aXZlIHNvbHV0aW9uKQogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRibG9ja3RyYXAgeyBoZWlnaHQ6IDEycHg7IH0iKTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHJlbW92ZSBhZHMKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcqW3NyY149Imh0dHA6Ly9hZHMudXB0b2JveC5jb20vIl0sKltocmVmXj0iaHR0cDovL2Fkcy51cHRvYm94LmNvbS8iXScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYW5pc3Vic2lhX2NvbSA6IHsKICAgICAgICBob3N0IDogWydhbmlzdWJzaWEuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vICsgYWJwIHJ1bGUgI0AjLmFkc2FudGlsb2sKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFkc2FudGlsb2sgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmpBbnRpQmxvY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5DZWtCbG9rID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBmcmVlZ2FtZXNlcnZlcmhvc3RfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTEyCiAgICAgICAgaG9zdCA6IFsnZnJlZWdhbWVzZXJ2ZXJob3N0LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNmYWIxMyB7IGhlaWdodDogMTFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZWxhaG1hZF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnZWxhaG1hZC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRibG9jayB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBtcnR6Y21wM19uZXQgOiB7CiAgICAgICAgaG9zdCA6IFsnbXJ0emNtcDMubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLnJ0bV9hZCB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBoZWlnaHRfbXlUZXN0QWQgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyNDEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTgzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI5MQogICAgICAgIGhvc3QgOiBbJ2JrbmltZS5jb20nLCAnZ280dXAuY29tJywgJ2RlYnJpZG8uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLm15VGVzdEFkIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJpZGZhc3RfbmV0d29yayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi9mb3J1bS9kaXNjdXNzaW9uLzk0MDYKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi9mb3J1bS9kaXNjdXNzaW9uLzcwMTMKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI3MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy83NjkKICAgICAgICBob3N0IDogWydkZWJyaWRmYXN0LmNvbScsICdnZXRkZWJyaWQuY29tJywgJ2RlYnJpZC51cycsICdsZWVjaGVyLnVzJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLm15VGVzdEFkLCAubXkyNEFkLCAubmFiaWwgeyBoZWlnaHQ6IDFweDsgfSIpOwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpbXBsZUFkJykuaW5uZXJIVE1MID0gJzxwIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij5kZWJyaWRmYXN0LmNvbTwvcD4nOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmdfZ2xlZGFpX3R2IDogewogICAgICAgIGhvc3QgOiBbJ2JnLWdsZWRhaS50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5teUFkIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRoZXBjc3B5X2NvbSA6IHsgLy8gaHR0cDovL3RoZXBjc3B5LmNvbS9yZWFkL2hvd190b19ibG9ja19hZGJsb2NrLwogICAgICAgIGhvc3QgOiBbJ3RoZXBjc3B5LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5teVRlc3RBZCB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5ibG9ja2VkIHsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJy5ibG9ja2VkJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2Z19lMjRfbm8gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI5MgogICAgICAgIGhvc3QgOiBbJ3ZnLm5vJywgJ2UyNC5ubyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBBZGQgdGhpcyBydWxlLCBiZWNhdXNlIEVhc3lMaXN0IGFsbG93IGFsbCBoaWRkZW4gZWxlbWVudHMuCiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5hZCB7IGRpc3BsYXk6IG5vbmU7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGF1dG9tb2JpbGVfc3BvcnRpdmVfY29tIDogewogICAgICAgIGhvc3QgOiBbJ2F1dG9tb2JpbGUtc3BvcnRpdmUuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLm15VGVzdEFkIHsgaGVpZ2h0OiA1MXB4OyBkaXNwbGF5OiBub25lOyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBzbnN3X3VzIDogewogICAgICAgIGhvc3QgOiBbJ3Nuc3cudXMnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRfMSB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB1cmxjaGVja2VyX25ldCA6IHsKICAgICAgICBob3N0IDogWyd1cmxjaGVja2VyLm5ldCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNhZGNoZWNrZXIgeyBoZWlnaHQ6IDIwcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNraXBsaW1pdGVfdHYgOiB7CiAgICAgICAgaG9zdCA6IFsnc2tpcGxpbWl0ZS50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoImRpdi5hZGR0aGlzX25hdGl2ZV90b29sYm94ICsgZGl2W2lkXSB7IGhlaWdodDogMTJweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmlsZWNvcmVfY29fbnogOiB7CiAgICAgICAgaG9zdCA6IFsnZmlsZWNvcmUuY28ubnonXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuYWRzZW5zZSB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB0aG9tYXNfbl9ydXRoX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTExMQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9mdTd2a1VBMQogICAgICAgIGhvc3QgOiBbJ3Rob21hcy1uLXJ1dGguY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLkdvb2dsZSB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbnRlcmZhbnNfb3JnIDogewogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly93d3cuaW50ZXJmYW5zLm9yZy9mb3J1bS8KICAgICAgICBob3N0IDogWydpbnRlcmZhbnMub3JnJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFkX2dsb2JhbF9oZWFkZXIgeyBoZWlnaHQ6IDFweDsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWF4ZGVicmlkZXVyX2NvbSA6IHsKICAgICAgICBob3N0IDogWydtYXhkZWJyaWRldXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmNsZWFyICsgZGl2W2lkXSB7IGhlaWdodDogMTJweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG9wem9uZV9pdCA6IHsKICAgICAgICBob3N0IDogWyd0b3B6b25lLmx0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmZvcnVtQWQgeyBoZWlnaHQ6IDFweDsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmFuYTEwX2NvX2lsIDogewogICAgICAgIGhvc3QgOiBbJy5uYW5hMTAuJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2FkdmVydC10cmFja2VyIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBsZWpfdHYgOiB7CiAgICAgICAgaG9zdCA6IFsncGxlai50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5hZHZlcnRfYm94IHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1hbmdhbWludF9jb20gOiB7CiAgICAgICAgLy8gbm90ZTogYWRkZWQgcnVsZSB0byBhbGxvdyAiLmFkNzI4IgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2lkL2ZvcnVtL2Rpc2N1c3Npb24vODUyNAogICAgICAgIGhvc3QgOiBbJ21hbmdhbWludC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuYWQ3MjggeyBoZWlnaHQ6IDMxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJpZGV1cnN0cmVhbV9mciA6IHsKICAgICAgICBob3N0IDogWydkZWJyaWRldXJzdHJlYW0uZnInXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjY29udGVudCBkaXZbaWRdW2FsaWduPWNlbnRlcl0geyBoZWlnaHQ6IDEycHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByZWVtbGlua3NfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3ByZWVtbGlua3MuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2RpdmFkcyB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBoZW50YWlfdG8gOiB7CiAgICAgICAgaG9zdCA6IFsnaGVudGFpLnRvJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2hlbnRhaXRvMTIzIHsgaGVpZ2h0OiAxMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBwcm90b3R1cmtfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3Byb3RvdHVyay5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjcmVrbGFtIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG11ZmFfZGUgOiB7CiAgICAgICAgaG9zdCA6IFsnbXVmYS5kZSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNsZWFkZXJib2FyZCB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNsYXJnZS1yZWN0YW5nbGUgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWQtaGVhZGVyLTQ2OHg2MCB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB3YXRjaGFyYWJfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3dhdGNoYXJhYi5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gKyBhZHAgcnVsZSB3YXRjaGFyYWIuY29tI0AjI2FkYmxvY2sKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2FkYmxvY2sgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZnJlZWRvbWlwX2NvbSA6IHsKICAgICAgICBob3N0IDogWydmcmVlZG9tLWlwLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5wdWJfdmVydGljYWwgaW5zLCAucHViX3ZlcnRpY2FsIGRpdiB7IGhlaWdodDogMTFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgd2FrYW5pbV90diA6IHsKICAgICAgICBob3N0IDogWyd3YWthbmltLnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2RldGVjdG9yIHsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjbm9wdWIgeyBkaXNwbGF5OiBibG9jazsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2ltcGx5X2RlYnJpZF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzMzMgogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9iN01BWVhzNAogICAgICAgIGhvc3QgOiBbJ3NpbXBseS1kZWJyaWQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZHNieWdvb2dsZSA9IHt9OwogICAgICAgICAgQWFrLnV3LmFkc2J5Z29vZ2xlLmxvYWRlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYW5nYTlfY29tIDogewogICAgICAgIGhvc3QgOiBbJ21hbmdhOS5jb20nLCAnbWFuZ2FiZWUuY28nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuYWRibG9jayB7IGhlaWdodDogMzFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25lbWFuZ2EyX2NvbSA6IHsKICAgICAgICBob3N0IDogWydvbmVtYW5nYTIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFmc19hZHMgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWFuZ2FiaXJkX2NvbSA6IHsKICAgICAgICBob3N0IDogWydtYW5nYWJpcmQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFmc19hZHMgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAga29kaWxpdmVfZXUgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1MjgKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vWnh2WEtxdGMKICAgICAgICBob3N0IDogWydrb2RpbGl2ZS5ldSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5BZCB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBiYWNraW5fbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWJhY2tpbi5uZXQKICAgICAgICBob3N0IDogWydiYWNraW4ubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2RpdmFkIHsgaGVpZ2h0OiAzMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBtb2JpbGVfdHJhY2tlcl9mcmVlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTA4MgogICAgICAgIGhvc3QgOiBbJ21vYmlsZS10cmFja2VyLWZyZWUuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI215QWRzIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdvcmt1cGxvYWRfY29tIDogewogICAgICAgIC8vIG5vdGU6IG9iZnVzY2F0ZWQKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMzNAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjkwCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0NQemQyU3d4CiAgICAgICAgaG9zdCA6IFsnd29ya3VwbG9hZC5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFkQmxvY2ssIC5hZHNieWdvb2dsZSwgI3NhZCB7IGhlaWdodDogMTFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG9kYXlfaW4gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9aW50b2RheS5pbgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWJ1c2luZXNzdG9kYXkuaW4KICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vZ3o1MzlHN20KICAgICAgICBob3N0IDogWyJpbnRvZGF5LmluIiwgImJ1c2luZXNzdG9kYXkuaW4iXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJyNhZGJvY2tlcl9hbHQgeyBkaXNwbGF5OiBub25lOyB9Jyk7CiAgICAgICAgICBBYWsudXcub3BlblBvcHVwID0gZnVuY3Rpb24oKXt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgamNfbXBfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTk3CiAgICAgICAgaG9zdCA6IFsiamMtbXAuY29tIl0sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcuYWRzZW5zZSB7d2lkdGg6IDFweDsgaGVpZ2h0OiAxcHg7IHZpc2liaWxpdHk6IGhpZGRlbjsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTt9Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYXJpYWdlX2ZyYW5jb19tYXJvY2Fpbl9uZXQgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bWFyaWFnZS1mcmFuY28tbWFyb2NhaW4ubmV0CiAgICAgICAgaG9zdCA6IFsibWFyaWFnZS1mcmFuY28tbWFyb2NhaW4ubmV0Il0sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcjbXlfYWRfZGl2IHtoZWlnaHQ6IDFweDt9Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBoYXBweV9oYWNrX3J1IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWhhcHB5LWhhY2sucnUKICAgICAgICBob3N0IDogWydoYXBweS1oYWNrLnJ1J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2Jsb2NrYmxvY2tGNCB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tGNCB0ZCB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tGNCB0ZCBwIHt2aXNpYmlsaXR5OmludmlzaWJsZTtkaXNwbGF5Om5vbmU7fSAjYmxvY2tibG9ja0QzIHt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTpibG9jazt9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBmb3JiZXNfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84NjUKICAgICAgICBob3N0IDogWydmb3JiZXMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3dlbGNvbWUnKSA+IC0xKSB7CiAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ3dlbGNvbWVBZCcsICd0cnVlJywgODY0MDAwMDAsICcvJyk7CiAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ2RhaWx5V2VsY29tZUNvb2tpZScsICd0cnVlJywgODY0MDAwMDAsICcvJyk7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IEFhay5nZXRDb29raWUoJ3RvVXJsJykgfHwgJ2h0dHA6Ly93d3cuZm9yYmVzLmNvbS8nOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFpdF9hZHNieWdvb2dsZSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTQ3CiAgICAgICAgaG9zdCA6IFsnYml0Y29pbmFsaWVucy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdpbnMuYWRzYnlnb29nbGUnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhaXRfdGVzdGVyIDogewogICAgICAgIGhvc3QgOiBbJ29zb2FyY2FkZS5jb20nLCAnZDNicmlkNHkwdS5pbmZvJywgJ2ZpbGVpY2UubmV0JywgJ25vc3RlYW0ucm8nLCAnb3BlbnJ1bm5lci5jb20nLCAnZWFzeWJpbGxldHMuY29tJywgJ3Nwb3guZnInLCAneW92b3lhZ2VzLmNvbScsICd0djMuY28ubnonLCAnZnJlZWFsbG11c2ljLmluZm8nLCAncHV0bG9ja2VyLmNvbScsICdzb2Nrc2hhcmUuY29tJywgJ2RyYW1hcGFzc2lvbi5jb20nLCAneW9vY2xpY2suY29tJywgJ29ubGluZS51YSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiN0ZXN0ZXInKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhaXRfYWRkIDogewogICAgICAgIGhvc3QgOiBbJ2ZpbGVjb20ubmV0JywgJ3Vwc2hhcmUub3JnJywgJ3NraXBweWZpbGUuY29tJywgJ213ZmlsZXMubmV0JywgJ3VwLWZsb3cub3JnJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkZCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFpdF9hZHBidGVzdCA6IHsKICAgICAgICBob3N0IDogWydsZWFndWVzZWNyZXRhcnkuY29tJywgJ3Rla25vZ29kcy5jb20nLCAnaGVsbHNtZWRpYS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjYWRwYnRlc3QnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhaXRfYWR0ZXN0ZXIgOiB7CiAgICAgICAgaG9zdCA6IFsnZnJlZXNwb3J0c2JldC5jb20nLCAnc3BvcnRzcGxheXMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkLXRlc3RlcicpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdGdvX3R2X2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMzAzCiAgICAgICAgaG9zdCA6IFsndGdvLXR2LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNhZGIsICNiYW5uZXJhZDEsIC5sb2FkX3N0cmVhbSB7IGRpc3BsYXk6IG5vbmU7IH0iKTsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I3Rlc3RlcicpOwogICAgICAgIH0sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcudGhyZXNob2xkID0gMTAwMDsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcuY2hhdF9mcmFtZScpOyAvLyBidWcgcmVsb2FkIGlmcmFtZQogICAgICAgIH0KICAgICAgfSwKICAgICAgZnJlZWdhbWVob3N0aW5nX25sIDogewogICAgICAgIGhvc3QgOiBbJ2ZyZWVnYW1laG9zdGluZy5ubCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZHRlc3QnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRoZXdlYXRoZXJzcGFjZV9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsndGhld2VhdGhlcnNwYWNlLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhYi1ibC1hZHZlcnRpc2VtZW50Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbGVvZGVza3RvcF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzcxMQogICAgICAgIGhvc3QgOiBbJ2NsZW9kZXNrdG9wLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNteVRlc3RBZCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1hZ2VyYWlkZXJfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MjYKICAgICAgICBob3N0IDogWydpbWFnZXJhaWRlci5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjbXlHQ29udGFpbmVyJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2b2ljaV9mciA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mci9mb3J1bS9kaXNjdXNzaW9uLzEwMDkzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzgyNgogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS96RVZRSFRpRAogICAgICAgIGhvc3QgOiBbJ3ZvaWNpLmZyJywgJ3Byb2dyYW1tZS10di5uZXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjc2FzX3NjcmlwdDInKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1pbF9pbmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE2NTIKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vNDc0Tlp6UEoKICAgICAgICBob3N0IDogWydtaWwuaW5rJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2Fkc19kaXYnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGN1YmV1cGxvYWRfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL2ZvcnVtL2Rpc2N1c3Npb24vNTkxOQogICAgICAgIGhvc3QgOiBbJ2N1YmV1cGxvYWQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5jcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgdGFnIDogJ2lmcmFtZScsCiAgICAgICAgICAgIG5hbWUgOiAnaWZyYW1lJywKICAgICAgICAgICAgc3JjIDogJ2Fib3V0OmJsYW5rJywKICAgICAgICAgICAgc3R5bGUgOiAnZGlzcGxheTpub25lOycsCiAgICAgICAgICAgIGFwcGVuZCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzdHJlYW00ZnJlZV9ldSA6IHsKICAgICAgICBob3N0IDogWydzdHJlYW00ZnJlZS5ldSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyArYWJwIGFsdCBzb2x1dGlvbgogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjanBheWRheScpOwogICAgICAgICAgQWFrLnV3LmpwYXlkYXlfYWxlcnQgPSAxOwogICAgICAgIH0KICAgICAgfSwKICAgICAgXzNkbmV3c19ydSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9ydS9mb3J1bS9kaXNjdXNzaW9uLzU3NTAKICAgICAgICBob3N0IDogWyczZG5ld3MucnUnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnYWRibG9ja3dhcm4nLCAxKTsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2VhckFkcyB7IHdpZHRoOiA0MDFweDsgfSIpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjZWFyQWRzJyk7CiAgICAgICAgICBBYWsudXcuX19BVF9kZXRlY3RlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBfM2RzdGhlbV9lcyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT0zZHN0aGVtCiAgICAgICAgaG9zdCA6IFsnM2RzdGhlbS5lcyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvL0Fhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLyoKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ21haW4uanMnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogdHJ1ZSwKICAgICAgICAgICAgICBvdmVycmlkZSA6ICcvL3Bhc3RlYmluLmNvbS9yYXcvMnlHUlBoUlonCiAgICAgICAgICAgIH0KICAgICAgICAgIF07CiAgICAgICAgKi8KICAgICAgICB9CiAgICAgIH0sCiAgICAgIF84bXVzZXNfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPThtdXNlcwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZvcnVtL2Rpc2N1c3Npb24vODUxNQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL2ZvcnVtL2Rpc2N1c3Npb24vNjQwNwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9iTU5EeGVjcwogICAgICAgIGhvc3QgOiBbJzhtdXNlcy5jb20nXSwKICAgICAgICBvbkJlZm9yZVNjcmlwdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgIGNvbnRhaW5zIDogInR5cGVvZiBleG8iLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaGFwcHl0cmlwc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9aGFwcHl0cmlwcwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9FV1NFYm52dgogICAgICAgIGhvc3QgOiBbJ2hhcHB5dHJpcHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnY2FuUnVuJywgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBsZ19maXJtd2FyZV9yb21fY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWxnLWZpcm13YXJlLXJvbS5jb20KICAgICAgICBob3N0IDogWydsZy1maXJtd2FyZS1yb20uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgna2lsbGFkcycsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwgICAgICAKICAgICAgbWlkX2RheV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bWlkLWRheS5jb20KICAgICAgICBob3N0IDogWydtaWQtZGF5LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2NhblJ1bicsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFkdHZfbmV0d29yayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1iYWR0di5pdAogICAgICAgIGhvc3QgOiBbJ2JhZHR2Lml0JywgJ2JhZHRhc3RlLml0JywgJ2JhZGdhbWVzLml0JywgJ2JhZGNvbWljcy5pdCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdhZEJsb2NrQ2hlY2tlZCcsICdkaXNhdHRpdm8nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGluZGVwZW5kZW50X2NvX3VrIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWluZGVwZW5kZW50LmNvLnVrCiAgICAgICAgaG9zdCA6IFsnaW5kZXBlbmRlbnQuY28udWsnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnYWRibG9ja19kZXRlY3RlZCcsICdpZ25vcmVkJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBlc21hc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZXNtYXMuY29tCiAgICAgICAgaG9zdCA6IFsnZXNtYXMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnb3BlbmVkX2FkYmJsb2NrJywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGlub3kxdHZfbmV0d29yayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1waW5veTF0dgogICAgICAgIGhvc3QgOiBbJ3Bpbm95MXR2LiddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2FsbG93YWRzJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBld2FsbHN0cmVldGVyX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1ld2FsbHN0cmVldGVyLmNvbQogICAgICAgIGhvc3QgOiBbJ2V3YWxsc3RyZWV0ZXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnT0FTX3JkbCcsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYnVzaW5lc3Nfc3RhbmRhcmRfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWJ1c2luZXNzLXN0YW5kYXJkLmNvbQogICAgICAgIGhvc3QgOiBbJ2J1c2luZXNzLXN0YW5kYXJkLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2Fkc0xvYWRlZCcsIDEpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnX3B3JywgJ3QnKTsgICAgICAgICAgCiAgICAgICAgfQogICAgICB9LAogICAgICBleHByZXNzX25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZmluYW5jaWFsZXhwcmVzcy5jb20KICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1pbmRpYW5leHByZXNzLmNvbQogICAgICAgIGhvc3QgOiBbJ2ZpbmFuY2lhbGV4cHJlc3MuY29tJywgJ2luZGlhbmV4cHJlc3MuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnUnVuQWRzJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbmRpYXRpbWVzX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1pbmRpYXRpbWVzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bWFsYXlhbGFtLnNhbWF5YW0uY29tCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL3p4dXN2eWYsIAogICAgICAgIGhvc3QgOiBbJ2luZGlhdGltZXMuY29tJywgJ3NhbWF5YW0uY29tJywgJ2JhbmdhbG9yZW1pcnJvci5jb20nXSwKICAgICAgICBvbkJlZm9yZVNjcmlwdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ1xcXFx4NjFcXFxceDY0XFxcXHg2MicsCiAgICAgICAgICAgICAgZXh0ZXJuYWwgOiBmYWxzZSwKICAgICAgICAgICAgICByZW1vdmUgOiB0cnVlCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBjb250YWlucyA6ICdmdW5jdGlvbiBpbml0QmxvY2snLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdGhlY2hpdmVfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNDUzCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1RkcFB5cmJiCiAgICAgICAgaG9zdCA6IFsndGhlY2hpdmUuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHsKICAgICAgICAgICAgICBzdGVwaGFuZURldGVjdG9yIDogewogICAgICAgICAgICAgICAgdmFsdWUgOiB7CiAgICAgICAgICAgICAgICAgIGhvb2sgOiBmdW5jdGlvbiAoY2IpIHsKICAgICAgICAgICAgICAgICAgICBjYihmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGluaXQgOiBmdW5jdGlvbiAoKSB7fSwKICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0UmVzdWx0IDogZnVuY3Rpb24gKCkge30KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmljaG9ucmFpbHNfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNDQ3CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0V3ZndnOEJHCiAgICAgICAgaG9zdCA6IFsncmljaG9ucmFpbHMuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBhZHNCeUdvb2dsZUh0bWwgPSAnIjxpbnMraWQ9ImFzd2lmdF8wX2V4cGFuZCIrc3R5bGU9ImRpc3BsYXk6aW5saW5lLXRhYmxlO2JvcmRlcjpub25lO2hlaWdodDo5MHB4O21hcmdpbjowO3BhZGRpbmc6MDtwb3NpdGlvbjpyZWxhdGl2ZTt2aXNpYmlsaXR5OnZpc2libGU7d2lkdGg6NzUwcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCI+PGlucytpZD0iYXN3aWZ0XzBfYW5jaG9yIitzdHlsZT0iZGlzcGxheTpibG9jaztib3JkZXI6bm9uZTtoZWlnaHQ6OTBweDttYXJnaW46MDtwYWRkaW5nOjA7cG9zaXRpb246cmVsYXRpdmU7dmlzaWJpbGl0eTp2aXNpYmxlO3dpZHRoOjc1MHB4O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQiPjxpZnJhbWUrbWFyZ2lud2lkdGg9IjAiK21hcmdpbmhlaWdodD0iMCIrdnNwYWNlPSIwIitoc3BhY2U9IjAiK2FsbG93dHJhbnNwYXJlbmN5PSJ0cnVlIitzY3JvbGxpbmc9Im5vIithbGxvd2Z1bGxzY3JlZW49InRydWUiK29ubG9hZD0idmFyK2k9dGhpcy5pZCxzPXdpbmRvdy5nb29nbGVfaWZyYW1lX29uY29weSxIPXMmYW1wOyZhbXA7cy5oYW5kbGVycyxoPUgmYW1wOyZhbXA7SFtpXSx3PXRoaXMuY29udGVudFdpbmRvdyxkO3RyeXtkPXcuZG9jdW1lbnR9Y2F0Y2goZSl7fWlmKGgmYW1wOyZhbXA7ZCZhbXA7JmFtcDsoIWQuYm9keXx8IWQuYm9keS5maXJzdENoaWxkKSl7aWYoaC5jYWxsKXtzZXRUaW1lb3V0KGgsMCl9ZWxzZStpZihoLm1hdGNoKXt0cnl7aD1zLnVwZChoLGkpfWNhdGNoKGUpe313LmxvY2F0aW9uLnJlcGxhY2UoaCl9fSIraWQ9ImFzd2lmdF8wIituYW1lPSJhc3dpZnRfMCIrc3R5bGU9ImxlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDsiK3dpZHRoPSI3NTAiK2ZyYW1lYm9yZGVyPSIwIitoZWlnaHQ9IjkwIj48L2lmcmFtZT48L2lucz48L2lucz4iJzsKICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICB1cmwgOiAkKCIuYXJ0aWNsZS1jb250ZW50IikuZGF0YSgidXJsIiksCiAgICAgICAgICAgICAgZGF0YVR5cGUgOiAic2NyaXB0IiwKICAgICAgICAgICAgICBtZXRob2QgOiAicG9zdCIsCiAgICAgICAgICAgICAgZGF0YSA6IHsKICAgICAgICAgICAgICAgIGh0bWwgOiBhZHNCeUdvb2dsZUh0bWwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICB2YXIgZXhlYyA9IHJlc3VsdC5yZXBsYWNlKCIkKCcuYXJ0aWNsZS1jb250ZW50JykiLCAiJCgnLmFydGljbGUtY29udGVudC0yJykiKTsKICAgICAgICAgICAgICAgIG5ldyBGdW5jdGlvbihleGVjKSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5hcnRpY2xlLWNvbnRlbnQiKS5hZnRlcignPGRpdiBjbGFzcz0iYXJ0aWNsZS1jb250ZW50LTIiPjwvZGl2PicpLnJlbW92ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBybXByZXB1c2JfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3JtcHJlcHVzYi5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnam90X3ZpZXdlcicsIDMpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmVvZHJpdmVfY28gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwMDEKICAgICAgICBob3N0IDogWyduZW9kcml2ZS5jbyddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gUHJldmVudCBwb3B1bmRlcgogICAgICAgICAgQWFrLnNldENvb2tpZSgnS2lmUG9wQ250JywgMSwgbnVsbCwgJy9lbWJlZC8nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGhlbnRhaWhhdmVuX29yZyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrL2lzc3Vlcy8xMzQwCiAgICAgICAgaG9zdCA6IFsnaGVudGFpaGF2ZW4ub3JnJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBQcmV2ZW50IHBvcHVuZGVyCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdoaF9wcG5kcjEnLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2hoX3BwbmRyMicsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJpbWVzaGFyZV90diA6IHsKICAgICAgICBob3N0IDogWydwcmltZXNoYXJlLnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkYmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJpZG5ldF9hbmRfbGl2ZWRlYnJpZCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1kZWJyaWRuZXQKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1saXZlZGVicmlkCiAgICAgICAgaG9zdCA6IFsnZGVicmlkbmV0LmNvbScsICdsaXZlZGVicmlkLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5teVRlc3RBZDIgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYubXlUZXN0QWQyJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBibHVlc2F0b3NoaV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg3MwogICAgICAgIGhvc3QgOiBbJ2JsdWVzYXRvc2hpLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiN0ZXN0IHsgaGVpZ2h0OiAyODBweDsgfSIpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjdGVzdCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmF6ZXJjcnlwdF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg3MAogICAgICAgIGhvc3QgOiBbJ3JhemVyY3J5cHQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI3Rlc3QgeyBoZWlnaHQ6IDI1MHB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiN0ZXN0Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzYXRvc2hpZW1waXJlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODcyCiAgICAgICAgaG9zdCA6IFsnc2F0b3NoaWVtcGlyZS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjdGVzdCB7IGhlaWdodDogMjUwcHg7IH0iKTsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I3Rlc3QnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uZWFkZmF1Y2V0X2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODcxCiAgICAgICAgaG9zdCA6IFsnb25lYWRmYXVjZXQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI3Rlc3QgeyBoZWlnaHQ6IDI1MHB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiN0ZXN0Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBqa2FuaW1lX25ldCA6IHsKICAgICAgICBob3N0IDogWydqa2FuaW1lLm5ldCddLAogICAgICAgIC8vIEBAfHxqa2FuaW1lLm5ldC9hc3NldHMvanMvYWR2ZXJ0aXNlbWVudDIuanMKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjcmVjbycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgXzcyMHBta3ZfY29tIDogewogICAgICAgIGhvc3QgOiBbJzcyMHBta3YuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkdmVydCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGFpZHZlcnRzX2NvbSA6IHsKICAgICAgICBob3N0IDogWydwYWlkdmVydHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2LmFmc19hZHMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGl0YWxpYXR2X29yZyA6IHsKICAgICAgICBob3N0IDogWydpdGFsaWF0di5vcmcnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjZmFiMTMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNocmlzc21vb3ZlX2NvbSA6IHsKICAgICAgICBob3N0IDogWydjaHJpc3Ntb292ZS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy9BYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZHNlcnZlcicpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXZlbnRodWJzX2NvbSA6IHsKICAgICAgICBob3N0IDogWydldmVudGh1YnMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2JsYWh5YmxhY2kxJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzdXBlcmFuaW1lc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyOTUKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vRkRQQUtqVFEKICAgICAgICBob3N0IDogWydzdXBlcmFuaW1lcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjYmFubmVyTG9qYScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZm9ydW1fcGFjX3JvbV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI0MwogICAgICAgIGhvc3QgOiBbJ2ZvcnVtLnBhYy1yb20uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2LmJhbm5lcl9hZHMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpdHZfdHYgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyOTkKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vemNkZHZUdUMKICAgICAgICBob3N0IDogWydsaXR2LnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2LnBsYXllcl9tYXNrJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBsZXZlbGRvd25fZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU5NQogICAgICAgIGhvc3QgOiBbJ2xldmVsZG93bi5mciddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZGJsb2NrJyk7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZGJsb2NrdGVzdCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2xvYmVzbG90X2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTI0CiAgICAgICAgaG9zdCA6IFsnZ2xvYmVzbG90LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZGQnKTsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkZDEnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFudGVubmVzcG9ydF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnYW50ZW5uZXNwb3J0LmNvbScsICdzZXJ2ZXJoZC5ldSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsgLy8gZm9yIGFudGVubmVzcG9ydAogICAgICAgICAgLy8gUmVtb3ZlIFB1YgogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoIiNwdWIgLnB1YmNsb3NlIik7CiAgICAgICAgICAvLyBSZWRpcmVjdCB0byBQbGF5ZXIKICAgICAgICAgIEFhay5zZXRFbGVtZW50KCcjcHViIC5lbWJlZCBpZnJhbWUnLCB7CiAgICAgICAgICAgIHNyYyA6ICcvZW1iZWQvZW1iZWQucGhwJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkaXNhYmxlQWxlcnRib3ggOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vZm9ydW0vZGlzY3Vzc2lvbi84NjExCiAgICAgICAgaG9zdCA6IFsnZHJpdmVhcmFiaWEuY29tJywgJ3B1dGxvY2tlci5jb20nLCAnZG9hdG9vbHNpdGEuYWx0ZXJ2aXN0YS5vcmcnLCAnc29ja3NoYXJlLmNvbScsICdmcmVlLW1vdmllLWhvbWUuY29tJywgJ3BjLm9ubGluZTE0My5jb20nLCAna29vb3JhLmNvbScsICdzdHIzYW10di5jby5ucicsICdzdHIzYW10di5hbHRlcnZpc3RhLm9yZycsICdzdHIzYW0uYWx0ZXJ2aXN0YS5vcmcnLCAnZmlsZWNvbS5uZXQnLCAncGlwb2Nhcy50dicsICdnZW5lcmF0dXByZW1pdW0uYml6JywgJ21lZ2EtZGVicmlkLmV1JywgJ3ByZW1pdW1zdDByZS5ibG9nc3BvdC5jb20nLCAnZGwtcHJvdGVjdC5jb20nLCAnbmV3c2lubGV2ZWxzLmNvbScsICd2aXByYWNpbmcuYml6JywgJ2J1c2luZXNzdG9kYXkuaW4nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hbGVydCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2VuZXJhdHVwcmVtaXVtX2JpeiA6IHsKICAgICAgICBob3N0IDogWydnZW5lcmF0dXByZW1pdW0uYml6J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIERpc2FibGUgQ29uZmlybSBCb3gKICAgICAgICAgIC8vQWFrLnV3LmNvbmZpcm0gPSBmdW5jdGlvbiAoKXt9OwogICAgICAgICAgQWFrLnNldENvb2tpZSgnZ2VuZXJhJywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmV3c3RhdGVzbWFuX2NvbSA6IHsKICAgICAgICBob3N0IDogWyduZXdzdGF0ZXNtYW4uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2RvbmF0aW9uUG9wdXAnLCAnaGlkZScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWRzd2l6el9jb20gOiB7CiAgICAgICAgLy8gYnk6IFNrcjR0Y2hHcjNhenlNb25raUJhbGxsbGxsWnp6egogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MDkKICAgICAgICBob3N0IDogWyd5ZXMuZm0nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHdpbmRvdy5jb21fYWRzd2l6el9zeW5jaHJvX2luaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVyc3RhbmRhcmRfYXQgOiB7CiAgICAgICAgLy8gYnk6IEFsZXhhbmRlcjI1NQogICAgICAgIC8vIHBhdGNoOiBodHRwOi8vcGFzdGViaW4uY29tL3Jhdy5waHA/aT1yN1E0RHJmQgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWRlcnN0YW5kYXJkCiAgICAgICAgaG9zdCA6IFsnZGVyc3RhbmRhcmQuYXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewoKICAgICAgICAgIHZhciBtYWtlSVNPVGltZXN0YW1wVVRDID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGFkID0gZnVuY3Rpb24gKGFtb3VudCwgd2lkdGgpIHsKICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9ICIiOwogICAgICAgICAgICAgIHdoaWxlIChwYWRkaW5nLmxlbmd0aCA8IHdpZHRoIC0gMSAmJiBhbW91bnQgPCBNYXRoLnBvdygxMCwgd2lkdGggLSBwYWRkaW5nLmxlbmd0aCAtIDEpKSB7CiAgICAgICAgICAgICAgICBwYWRkaW5nICs9ICIwIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIHBhZGRpbmcgKyBhbW91bnQudG9TdHJpbmcoKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgcmV0dXJuIFtwYWQoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCA0KSwgIi0iLAogICAgICAgICAgICAgIHBhZChkYXRlLmdldFVUQ01vbnRoKCkgKyAxLCAyKSwgIi0iLAogICAgICAgICAgICAgIHBhZChkYXRlLmdldFVUQ0RhdGUoKSwgMiksICJUIiwKICAgICAgICAgICAgICBwYWQoZGF0ZS5nZXRVVENIb3VycygpLCAyKSwgIjoiLAogICAgICAgICAgICAgIHBhZChkYXRlLmdldFVUQ01pbnV0ZXMoKSwgMiksICI6IiwKICAgICAgICAgICAgICBwYWQoZGF0ZS5nZXRVVENTZWNvbmRzKCksIDIpXS5qb2luKCk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjb29raWUpIHsKICAgICAgICAgICAgLy8gRmluZCBtYWluIHN0b3JhZ2UgY29va2llCiAgICAgICAgICAgIGlmIChjb29raWUuc3Vic3RyKDAsIDYpID09ICJNR1VJRD0iKSB7CiAgICAgICAgICAgICAgLy8gRGVjb21wb3NlIGluZm9ybWF0aW9uIGZyb20gbWFpbiBzdG9yYWdlIGNvb2tpZQogICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB7fTsKICAgICAgICAgICAgICBjb29raWUuc3Vic3RyKDYpLnNwbGl0KCImIikuZm9yRWFjaChmdW5jdGlvbiAoYXNzaWdubWVudCkgewogICAgICAgICAgICAgICAgdmFyIHBvcyA9IGFzc2lnbm1lbnQuaW5kZXhPZignPScpOwogICAgICAgICAgICAgICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgICAgICAgICAgICAgIHZhbHVlc1thc3NpZ25tZW50LnN1YnN0cigwLCBwb3MpXSA9IGFzc2lnbm1lbnQuc3Vic3RyKHBvcyArIDEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAvLyBVcGRhdGUgImZpcnN0IHZpZXdlZCIgdGltZXN0YW1wCiAgICAgICAgICAgICAgdmFsdWVzLlRpbWVzdGFtcCA9IG1ha2VJU09UaW1lc3RhbXBVVEMoKTsKCiAgICAgICAgICAgICAgLy8gUmVjb21wb3NlIGluZm9ybWF0aW9uIGluIG1haW4gc3RvcmFnZSBjb29raWUKICAgICAgICAgICAgICBjb29raWUgPSAiTUdVSUQ9IjsKICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWVzKSB7CiAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgICAgICAgICAgY29va2llICs9IGtleSArICI9IiArIHZhbHVlc1trZXldICsgIiYiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjb29raWUgPSBjb29raWUuc3Vic3RyKDAsIChjb29raWUubGVuZ3RoIC0gMSkpOwoKICAgICAgICAgICAgICAvLyBVcGRhdGUgY29va2llCiAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRla19kb21haW5zIDogewogICAgICAgIC8vIGJ5OiBSZWVrLCBBbGV4YW5kZXIyNTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzg4CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzUxMgogICAgICAgIGhvc3QgOiBbJ3Rlay5ubycsICdnYW1lci5ubycsICd0ZWtub2ZpbC5ubycsICdpbnNpZGV0ZWxlY29tLm5vJywgJ3ByaXNndWlkZS5ubycsICdkaXNrdXNqb24ubm8nLCAndGVrbm9qb2JiLm5vJywgJ2FrYW0ubm8nLCAnaGFyZHdhcmUubm8nLCAnYW1vYmlsLm5vJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewoKICAgICAgICAgIC8qCiAgICAgICAgICB2YXIgYWRfZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsKICAgICAgICAgIGFkX2ZyYW1lLm5hbWUgPSAiX2ZyYW1lIjsKICAgICAgICAgIGFkX2ZyYW1lLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFkX2ZyYW1lKTsKICAgICAgICAgIGFkX2ZyYW1lLmNvbnRlbnRXaW5kb3cud3JhcHBlZEpTT2JqZWN0LmluRklGID0gdHJ1ZTsKICAgICAgICAgICAqLwoKICAgICAgICAgIC8vIGZpeCAyNy4xMS4yMDE1CiAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgIHRhZyA6ICdkaXYnLAogICAgICAgICAgICBpZCA6ICdnb29nbGVfYWRzX2lmcmFtZV8nLAogICAgICAgICAgICBodG1sIDogJzxwPjwvcD4nLAogICAgICAgICAgICBhcHBlbmQgOiAnYm9keScKICAgICAgICAgIH0pOwoKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBsYW5ldGF0dm9ubGluZWhkX25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0NjcKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTU5CiAgICAgICAgaG9zdCA6IFsncGxhbmV0YXR2b25saW5laGQuYmxvZ3Nwb3QuJywgJ3BsYW5ldGF0dm9ubGluZWhkLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJy5hZHNhbnRpbG9rIHsgaGVpZ2h0OiAxcHg7IH0nKTsKICAgICAgICAgIC8vQWFrLnV3LmpRQW50aUFkc0Jsb2NrID0gZnVuY3Rpb24gKCl7fTsgLy8gZG9uJ3Qgd29yawogICAgICAgIH0KICAgICAgfSwKICAgICAgYmV0YV9zcGVlZHRlc3RfbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy82MjgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTYyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ4NAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlMi5vcmcvNTN5bWdoWDEKICAgICAgICBob3N0IDogWydiZXRhLnNwZWVkdGVzdC5uZXQnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZHNPb2tsYUNvbVJlYWNoYWJsZSA9IHRydWU7CiAgICAgICAgICBBYWsudXcuc2NyaXB0c0xvYWRlZCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmluYnVja3NfY29tIDogewogICAgICAgIC8vIGJ5OiBBbGV4YW5kZXIyNTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTQ1CiAgICAgICAgaG9zdCA6IFsnYmluYnVja3MuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LnRlc3RKdWljeVBheSA9IHRydWU7CiAgICAgICAgICBBYWsudXcudGVzdFNlbnNlUGF5ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdoaXNreXByaWNlc19kb21haW5zIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjg0CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0VwcjV0UkVMCiAgICAgICAgaG9zdCA6IFsnd2hpc2t5cHJpanplbi5jb20nLCAnd2hpc2t5cHJpY2VzLmNvLnVrJywgJ3doaXNreXByZWlzZS5jb20nLCAnd2hpc2t5cHJpeC5mciddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lk9BX3Nob3cgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmljb2Jsb2dfb3JnIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTg0CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL01OSHBMczJWCiAgICAgICAgaG9zdCA6IFsnbmljb2Jsb2cub3JnJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNyYycpOwogICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGlfc2UgOiB7CiAgICAgICAgLy8gbm90ZTogYWRkIHRoaXMgcnVsZSBmb3IgY2hyb21lIHVzZXIKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMxOQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS85YkRQUXpNWAogICAgICAgIGhvc3QgOiBbJ2RpLnNlJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNoZWFkZXJfb3ZlcmxheScpOwogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNtZXNzYWdlX21vZGFsJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtZWdvZ29fbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBQTQogICAgICAgIC8vIHNvdXJjZTE6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vY2NIUWczaG4KICAgICAgICAvLyBzb3VyY2UyOiBodHRwOi8vcGFzdGViaW4uY29tL2drMHZFUUhOCiAgICAgICAgLy8gbm90ZTogdHdvIGFkYmxvY2sgY2hlY2sKICAgICAgICBob3N0IDogWydtZWdvZ28ubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICJhZEJsb2NrIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAic2hvd0FkQmxvY2tNZXNzYWdlIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmdW5jdGlvbiAoKSB7fQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBsaWJlcnRhZGRpZ2l0YWxfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNjQyCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tLzZGenAwdnJFCiAgICAgICAgaG9zdCA6IFsnbGliZXJ0YWRkaWdpdGFsLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAiYWRfYWxyZWFkeV9wbGF5ZWQiLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZSA6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dywgInB1ZWRlTW9zdHJhckFkcyIsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCAgICAgCiAgICAgIGZvbGhhX3VvbF9jb21fYnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzOTYKICAgICAgICAvLyBzb3VyY2U6IGYoICggdHlwZW9mIHBheXdhbGxfYWNjZXNzID09ICJ1bmRlZmluZWQiIHx8IHBheXdhbGxfYWNjZXNzICE9IHRydWUgKSAmJiAoIHR5cGVvZiBmb2xoYV9hZHMgPT0gInVuZGVmaW5lZCIgfHwgZm9saGFfYWRzICE9IHRydWUgKSApIHsKICAgICAgICBob3N0IDogWydmb2xoYS51b2wuY29tLmJyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICJwYXl3YWxsX2FjY2VzcyIsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAiZm9saGFfYWRzIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdhbWVyX2NvbV90dyA6IHsKICAgICAgICAvLyBieTogbW1pczEwMDAKICAgICAgICAvLyB1c2Vyc2NyaXB0OiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL3NjcmlwdHMvMTY1MjUKICAgICAgICAvLyBpc3N1ZTogOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85NzUKICAgICAgICBob3N0IDogWydnYW1lci5jb20udHcnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dywgJ0FudGlBZCcsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhcm1vcmdhbWVzX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODQ1CiAgICAgICAgaG9zdCA6IFsnYXJtb3JnYW1lcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dywgJ2dhX2RldGVjdCcsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYW5nYWhvc3RfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85NTcKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTU4CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0dycGJKRU5BCiAgICAgICAgaG9zdCA6IFsnbWFuZ2Fob3N0LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAidGVzdERpc3BsYXkiLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZSA6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpZGVvd29vZF90diA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMzOQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3ZpZGVvd29vZC50di9idWlsZC9hc3NldHMvanMvcGVtYmVkLTk3YTY0MGY2MjUuanMKICAgICAgICBob3N0IDogWyd2aWRlb3dvb2QudHYnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lm9wZW4gPSBmdW5jdGlvbiAoKSB7fTsgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgQWFrLnV3LmNvbmZpZyA9IHt9OwogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dy5jb25maWcsICJhZGJfcmVtaW5kIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbmZvam9ic19jb21fYnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzMzkKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vTFBnNjA5M1UKICAgICAgICAvLyByZWRpcmVjdDogaHR0cDovL3d3dy5pbmZvam9icy5jb20uYnIvbm9wdWJsaWNpdHkuYXNweAogICAgICAgIGhvc3QgOiBbJ2luZm9qb2JzLmNvbS5iciddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHdlYlVJID0gd2ViVUkgfHwge307CiAgICAgICAgICAgIHdlYlVJLlV0aWxzID0gd2ViVUkuVXRpbHMgfHwge307CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3ZWJVSS5VdGlscywgIlN0b3BBZEJsb2NrIiwgewogICAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgICAgdmFsdWUgOiBmdW5jdGlvbiAoKSB7fQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNsb3Vkd2ViY29weV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzcxNAogICAgICAgIGhvc3QgOiBbJ2Nsb3Vkd2ViY29weS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHNldFRpbWVvdXRDbG9uZSA9IEFhay51dy5zZXRUaW1lb3V0OwogICAgICAgICAgQWFrLnV3LnNldFRpbWVvdXQgPSBudWxsOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEFhay51dy5zZXRUaW1lb3V0ID0gc2V0VGltZW91dENsb25lOwogICAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBuYXJraXZlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTY5CiAgICAgICAgaG9zdCA6IFsnbmFya2l2ZS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZGJsb2NrX3N0YXR1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByZWdlbl9uZXQgOiB7CiAgICAgICAgaG9zdCA6IFsncHJlZ2VuLm5ldCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBza2lwIHBhZ2UgaW5mbwogICAgICAgICAgQWFrLnNldENvb2tpZSgncGduJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBwaHlzX29yZyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzY4CiAgICAgICAgaG9zdCA6IFsncGh5cy5vcmcnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5jaGtBQiA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgb252YXNvcnRpcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9b252YXNvcnRpci5jb20KICAgICAgICBob3N0IDogWydvbnZhc29ydGlyLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gK2FicCBydWxlIGFsdCBzb2x1dGlvbgogICAgICAgICAgQWFrLnV3LkplQmxvcXVlID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBmdWxsaGR6ZXZraV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZnVsbGhkemV2a2kuY29tCiAgICAgICAgaG9zdCA6IFsnZnVsbGhkemV2a2kuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyArYWJwIHJ1bGUgYWx0IHNvbHV0aW9uCiAgICAgICAgICBBYWsudXcuY2hlY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpbGxlX2lkZWFsZV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI1OAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8xNm1ubWVNYwogICAgICAgIGhvc3QgOiBbJ3ZpbGxlLWlkZWFsZS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vICthYnAgcnVsZSBhbHQgc29sdXRpb24KICAgICAgICAgIEFhay51dy5leGVjc3AgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG5vdHJlX3BsYW5ldGVfaW5mbyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjU4CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL3FyUzZRR0dFCiAgICAgICAgaG9zdCA6IFsnbm90cmUtcGxhbmV0ZS5pbmZvJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyArYWJwIHJ1bGUgYWx0IHNvbHV0aW9uCiAgICAgICAgICBBYWsudXcucHVicG9wID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBhcGttaXJyb3JfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNzgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjI0CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzc4CiAgICAgICAgaG9zdCA6IFsnYXBrbWlycm9yLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmRvQ2hlY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG10bGJsb2dfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85NDgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mb3J1bS9kaXNjdXNzaW9uLzc3NTMKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vQkZyRFBNNmIKICAgICAgICBob3N0IDogWydtdGxibG9nLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAncHVhYnMnLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB2YWx1ZSA6IGZ1bmN0aW9uICgpIHt9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFuaXptX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydhbml6bS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5zdG9wQWRCbG9jayA9IHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGlhcmlvaW5mb3JtYWNpb25fY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTUwCiAgICAgICAgaG9zdCA6IFsnZGlhcmlvaW5mb3JtYWNpb24uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdwcl9va3ZhbGlkYScsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbmJldGFfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMzAxCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL3ZYTkN6dHd4CiAgICAgICAgaG9zdCA6IFsnY25iZXRhLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnSkInLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB2YWx1ZSA6IGZ1bmN0aW9uICgpIHt9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRoZW1hcmtlcl9oYWFyZXR6IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjkyCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL20wOGRrRFQ0CiAgICAgICAgaG9zdCA6IFsndGhlbWFya2VyLmNvbScsICdoYWFyZXR6LmNvLmlsJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdBZEJsb2NrVXRpbCcsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHZhbHVlIDoge30KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGlwb2Nhc190diA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydwaXBvY2FzLnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEFsc28gYWRkZWQgaW4gZGlzYWJsZUFsZXJ0Ym94CiAgICAgICAgICAvLyBObyBwb3B1cAogICAgICAgICAgQWFrLnNldENvb2tpZSgncG9wdXBfdXNlcl9sb2dpbicsICd5ZXMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF8xNW1pbl9sdCA6IHsKICAgICAgICAvLyBub3RlOiByZWd1bGFyeSB1cGRhdGUgc2NyaXB0CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9MTVtaW4uaXQKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vWVdmM0hUcXIKICAgICAgICAvLyB0ZXN0OiBodHRwOi8vdGlueXVybC5jb20vaDZjNDMzNgogICAgICAgIGhvc3QgOiBbJzE1bWluLmx0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdST1VURScsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogJ19iZV9yZWtsYW1vcycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2MyY2FzdHNfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTk5CiAgICAgICAgaG9zdCA6IFsnc2MyY2FzdHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbigpIHsKICAgICAgICAgICAgd2luZG93Ll9nYXEgPSB7IHB1c2g6ZnVuY3Rpb24oKSB7fSB9OwogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAic2hvd2RpYWxvZyIsIHsKICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7fSwKICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgInNob3dQb3B1cDIiLCB7CiAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge30sCiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZndW5ldHdvcmtfY29tIDogewogICAgICAgIC8vIGlzc3VlOgogICAgICAgIGhvc3QgOiBbJ3ZndW5ldHdvcmsuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnc3RvcEl0JywgMSk7CiAgICAgICAgICB2YXIgY2xvc2UgPSBBYWsuZ2V0RWxlbWVudCgnI3NvbWVfYWRfYmxvY2tfa2V5X2Nsb3NlJyk7CiAgICAgICAgICBpZiAoY2xvc2UpIHsKICAgICAgICAgICAgY2xvc2UuY2xpY2soKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtjcnlwdF93cyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjg2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvcHVsbC82NwogICAgICAgIGhvc3QgOiBbJ2xpbmtjcnlwdC53cyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRFbGVtZW50KCcjYWRfY29udCcsIHsKICAgICAgICAgICAgaWQgOiAnJywKICAgICAgICAgICAgc3R5bGUgOiAnZGlzcGxheTpibG9jazsnCiAgICAgICAgICB9KTsKICAgICAgICAgIEFhay5zZXRFbGVtZW50KCcjY29udGFpbmVyX2NoZWNrJywgewogICAgICAgICAgICBzdHlsZSA6ICdkaXNwbGF5Om5vbmU7JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBldmVudG9zcHB2X21lIDogewogICAgICAgIC8vIGlzc3VlOiAKICAgICAgICBob3N0IDogWydldmVudG9zcHB2Lm1lJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNuZjM3Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBib2xvcl90b2xpX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTUyCiAgICAgICAgaG9zdCA6IFsnYm9sb3ItdG9saS5jb20nXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdiYW5uZXInKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhZCA9IGFkc1tpXTsKICAgICAgICAgICAgYWQuaW5uZXJIVE1MID0gJzxicj4nOwogICAgICAgICAgICBhZC5zdHlsZS5oZWlnaHQgPSAnMXB4JzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpdm9fc3ggOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI4MAogICAgICAgIGhvc3QgOiBbJ3Zpdm8uc3gnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhbGVydCA9IEFhay5nZXRFbGVtZW50KCcjYWxlcnQtdGhyb3R0bGUnKTsKICAgICAgICAgIGlmIChhbGVydCkgewogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChhbGVydCk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYnV0dG9uID0gQWFrLmdldEVsZW1lbnQoJ2J1dHRvbiNhY2Nlc3MnKTsKICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTsKICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsKICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdDb250aW51ZSB0byB2aWRlbyc7CiAgICAgICAgICB9CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGlucHV0ID0gQWFrLmdldEVsZW1lbnQoJ2lucHV0W25hbWU9InRocm90dGxlIl0nKTsKICAgICAgICAgICAgaWYgKGlucHV0KSB7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoaW5wdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGx1eHlhZF9jb20gOiB7IC8vIHNraXAgcmVkaXJlY3QgbXlhbmltZXMubGkKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydsdXh5YWQuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCcvSW5mb3JtYXRpb24ucGhwJyA9PSBsb2NhdGlvbi5wYXRobmFtZSkgewogICAgICAgICAgICB2YXIgaHJlZiA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBocmVmLnN1YnN0cihocmVmLmluZGV4T2YoJ3VybD0nKSArIDQsIGhyZWYubGVuZ3RoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1ycGlyYWN5X2RvbWFpbnMgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0MDUKICAgICAgICBob3N0IDogWydtcnBpcmFjeS54eXonLCAnbXJwaXJhY3kuY2x1YiddLAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnRGVzYXRpdmEgbyBBZEJsb2NrIHBhcmEgY29udGludWFyJywKICAgICAgICAgICAgICBleHRlcm5hbCA6IGZhbHNlLAogICAgICAgICAgICAgIHJlbW92ZSA6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRicGxhbmV0X25ldCA6IHsKICAgICAgICAvLyBpc3N1ZTogUE0KICAgICAgICBob3N0IDogWydkYnBsYW5ldC5uZXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnbmV3bm9Nb3JlQWRzTm93JywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhaWRlbXVfZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6CiAgICAgICAgaG9zdCA6IFsnYWlkZW11LmZyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2FkYmxvY2tQb3B1cCcsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZWFtaV9pbiA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydlYW1pLmluJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdhZF9sb2NrZWQnLCAxKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJpZ2Rvd25sb2FkZXJfY29tIDogewogICAgICAgIC8vIGlzc3VlOgogICAgICAgIGhvc3QgOiBbJ2JpZ2Rvd25sb2FkZXIuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNhbnRpX2FkYmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZyZWVza2llcl9jb20gOiB7CiAgICAgICAgLy8gYnk6IEdvcmhpbGwKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNjM5CiAgICAgICAgLy8gbm90ZTogYWxzbyBhZGRlZCBsaXN0IHJ1bGUKICAgICAgICBob3N0IDogWydmcmVlc2tpZXIuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkYi1ub3QtZW5hYmxlZCIpOwogICAgICAgICAgaWYgKGVsICE9PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJkaXNwbGF5Iik7CiAgICAgICAgICB9CiAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aWRlb0NvbnRhaW5lciIpOwogICAgICAgICAgaWYgKGVsICE9PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJkaXNwbGF5Iik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBnYW1ldHJhaWxlcnNfY29tIDogewogICAgICAgIC8vIGlzc3VlOgogICAgICAgIGhvc3QgOiBbJ2dhbWV0cmFpbGVycy5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI2FkX2Jsb2NraW5nJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzY2FuX29uZXBpZWNlX25hcnV0b19teCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTgyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI3OQogICAgICAgIGhvc3QgOiBbJ3NjYW4tbXguY29tJywgJ29uZXBpZWNlLW14Lm5ldCcsICduYXJ1dG8tbXgubmV0J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRfYmxvY2tfdGVzdCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldEVsZW1lbnQoJyN5b3AnLCB7CiAgICAgICAgICAgIGlkIDogJycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gQml0Y29pbnMKICAgICAgYml0Y29pbmtlcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzIzMAogICAgICAgIGhvc3QgOiBbJ2JpdGNvaW5rZXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5jbGFpbSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNFMzNGQ0NjWDJmVycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbW9vbmRvZ2VfY29faW4gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzM4NAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yMzIKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjMzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzIzNgogICAgICAgIGhvc3QgOiBbJ21vb25kb2dlLmNvLmluJywgJ21vb25saXRlY28uaW4nLCAnbW9vbmJpdC5jby5pbicsICdiaXRjb2luemVicmEuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNBQiwgI0U0NDJEdiwgI2VDQzVoJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBiaXRjb2luZXJfbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNDkKICAgICAgICBob3N0IDogWydiaXRjb2luZXIubmV0JywgJ2xpdGVjb2luZXIubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I3Rlc3RlcicpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjYWQtdG9wJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBiaXRjb2luc19ueF90YyA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydmcmVlYml0Y29pbnMubngudGMnLCAnZ2V0Yml0Y29pbnMubngudGMnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZF9ibG9ja190ZXN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZnJlZWNvaW5zNF9tZSA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydmcmVlY29pbnM0Lm1lJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuY2hlY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9LAogICAgICB0b3JyZW50X3R2X3J1IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy81MzcKICAgICAgICBob3N0IDogWyd0b3JyZW50LXR2LnJ1J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuY19Pb19BZHZlcnRfU2hvd24gPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgY3d0dl9jb20gOiB7CiAgICAgICAgLy8gYnk6IEthbGJhc2l0CiAgICAgICAgLy8gcHVsbDogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9wdWxsLzc2MwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNDAKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzYyCiAgICAgICAgaG9zdCA6IFsnY3d0di5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5DV1RWSXNBZEJsb2NraW5nID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmlsZF9kZSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1iaWxkCiAgICAgICAgaG9zdCA6IFsnYmlsZC5kZSddLAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnaHR0cDovL3d3dy5iaWxkLmRlL3dhL2xsL2JpbGQtZGUvdW5hbmdlbWVsZGV0LTQyOTI1NTE2LmJpbGQuaHRtbCcsCiAgICAgICAgICAgICAgZXh0ZXJuYWwgOiBmYWxzZSwKICAgICAgICAgICAgICByZXBsYWNlIDogWydqYXZhc2NyaXB0JywgJ3ZvaWQoMCk7J10uam9pbignOicpCiAgICAgICAgICAgIH0KICAgICAgICAgIF07CiAgICAgICAgfQogICAgICB9LAogICAgICBpbm5fY29faWwgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzUzMgogICAgICAgIGhvc3QgOiBbJ2lubi5jby5pbCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIFRSQyA9IHt9OwogICAgICAgICAgICBUUkMuYmxvY2tlciA9IHsKICAgICAgICAgICAgICBzdGF0ZXMgOiB7CiAgICAgICAgICAgICAgICBBQlBfREVURUNUSU9OX0RJU0FCTEVEIDogLTIsCiAgICAgICAgICAgICAgICBBQlBfTk9UX0RFVEVDVEVEIDogMCwKICAgICAgICAgICAgICAgIEFCUF9ERVRFQ1RFRCA6IDEKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNyZWF0ZUJsb2NrRGV0ZWN0aW9uRGl2IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgaXNCbG9ja0RldGVjdGVkT25EaXYgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGlzQmxvY2tEZXRlY3RlZE9uQ2xhc3NOYW1lcyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZ2V0QmxvY2tlZFN0YXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBiaGFza2FyX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1iaGFza2FyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZGl2eWFiaGFza2FyLmNvLmluCiAgICAgICAgaG9zdCA6IFsnYmhhc2thci5jb20nLCAnZGl2eWFiaGFza2FyLmNvLmluJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcub3BlblBvcFVwRm9yQnJlYWtQYWdlID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICBBYWsudXcuY2FuQUJQID0gdHJ1ZTsKICAgICAgICAgIEFhay51dy5jYW5SdW5BZHMgPSB0cnVlOwogICAgICAgICAgQWFrLnV3LmNhbkNoZWNrQWRzID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR1cmthbmltZV90diA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNDQ2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzOQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL3RyL2ZvcnVtL2Rpc2N1c3Npb24vNDI4Mi8KICAgICAgICBob3N0IDogWyd0dXJrYW5pbWUudHYnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZGJsb2NrYmxvY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5CbG9rS29udHJvbCA9IHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgd3RmYml0X2NoIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy80MDcKICAgICAgICBob3N0IDogWyd3dGZiaXQuY2gnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy53cml0ZUhUTUxhc0pTID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBhcmFuenVsbGFfaXQgOiB7CiAgICAgICAgLy8gYnk6IFJvYm90ZXgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1hcmFuenVsbGEuaXQKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20veU1NNllneFcKICAgICAgICBob3N0IDogWydhcmFuenVsbGEuaXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJyNhYnQxICsgU1RZTEUgKyBkaXZbaWRdW2NsYXNzXSB7ZGlzcGxheTpub25lO30nKTsKICAgICAgICB9LAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnbmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhJywKICAgICAgICAgICAgICBleHRlcm5hbCA6IGZhbHNlLAogICAgICAgICAgICAgIHJlbW92ZSA6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG5kdHZfY29tIDogewogICAgICAgIC8vIG5vdGU6IGNhblJ1bkFkcyBpbnZlcnRlZCB2YWx1ZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPW5kdHYuY29tCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2hjZm5jZHYKICAgICAgICBob3N0IDogWyduZHR2LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ19fX3BfX3AnLCAxKTsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnZ2V0Tm9Ub3BMYXRlc3ROZXdzJywgZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbGVzZWNob3NfZnIgOiB7CiAgICAgICAgLy8gUmVlaywgR2l3YXl1bWUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1sZXNlY2hvcy5mcgogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9DTU04V0dMagogICAgICAgIGhvc3QgOiBbJ2xlc2VjaG9zLmZyJywgJ2xlc2VjaG9zLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbigpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICJjaGVja0FkQmxvY2siLCB7CiAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge30sCiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmNhbGxfQWQgPSAxOwogICAgICAgICAgQWFrLnV3LnBheXdhbGxfYWRibG9ja19hcnRpY2xlID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBiaXR2aXNpdHNfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yNjYKICAgICAgICBob3N0IDogWydiaXR2aXNpdHMuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYmxvY2tBZGJsb2NrVXNlciA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXhyYXBpZGxlZWNoX2luZm8gOiB7CiAgICAgICAgLy8gYnk6IEFsZXhhbmRlcjI1NSwgUmVlaywgR2l3YXl1bWUKICAgICAgICAvLyBwYXRjaDogaHR0cDovL3Bhc3RlYmluLmNvbS9RNjY0ZGlRMgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWV4cmFwaWRsZWVjaAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS81ZTI3c3lqQQogICAgICAgIGhvc3QgOiBbJ2V4cmFwaWRsZWVjaC5pbmZvJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICB2YXIgdG9tb3Jyb3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgdG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKTsKCiAgICAgICAgICAvLyBwcmV2ZW50IHBvcHVwCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwb3BjYXNocHVDYXAnLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ3BvcGNhc2hwdScsIDEpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnbm9wb3BhdGFsbCcsIHRvbW9ycm93LmdldFRpbWUoKS50b1N0cmluZygpKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ25vYWR2dGRheScsIDApOwogICAgICAgICAgLy9BYWsuc2V0Q29va2llKCdidl9EU0tza2Rja19zMWQnLCAnYnZEU0tza2Rja3MxZCcpOwoKICAgICAgICAgIC8vIGhpZGUgbm90aWNlCiAgICAgICAgICBBYWsuYWRkU3R5bGUoJ2Rpdi5hbGVydC5hbGVydC1kYW5nZXIubGVhZCB7b3BhY2l0eTowO30nKTsKICAgICAgICAgIAogICAgICAgICAgLy8gcHJldmVudCByZWRpcmVjdCB0byB2ZXJpZnkgcGFnZQogICAgICAgICAgQWFrLnNldFJlYWRPbmx5KCdiZHZibnJfcGlkJywgW10pOwogICAgICAgICAgQWFrLnNldFJlYWRPbmx5KCdQb3BBZHMnLCAxKTsKCiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBwcmV2ZW50IHBvcHVwCiAgICAgICAgICAgICAgd2luZG93Lm9wZW4gPSBmdW5jdGlvbiAoKSB7fTsKCiAgICAgICAgICAgICAgLy8gcHJldmVudCByZWRpcmVjdCB0byB2ZXJpZnkgcGFnZQogICAgICAgICAgICAgIHZhciBmcmFtZTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgICBmcmFtZTEuc3JjID0gJ2h0dHA6Ly9iZGZybS5iaWR2ZXJ0aXNlci5jb20vQmlkVmVydGlzZXIuZGJtP3BpZD0zODM4NjUmYmlkPTE3Mzc0MTgmUkQ9JzsKICAgICAgICAgICAgICBmcmFtZTEuaWQgPSAnYmR2aSc7CiAgICAgICAgICAgICAgZnJhbWUxLnN0eWxlID0gJ2Rpc3BsYXk6bm9uZSc7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGZyYW1lMSk7CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpcGxlYWd1ZV9kb21haW5zIDogewogICAgICAgIC8vIG5vdGU6IGFsc28ga2lsbGVkIGJ5IEFha0xpc3QKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT12aXBib3gKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT12aXBsZWFndWUKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vTkVSVnpIelMKICAgICAgICBob3N0IDogWyJ2aXBsZWFndWUuaXMiLCAidmlwbGVhZ3VlLndzIiwgInZpcGxlYWd1ZS50diIsICJ2aXBsZWFndWUuc2UiLCAidmlwbGVhZ3VlLnR2IiwgInZpcGxlYWd1ZS5tZSIsICJ2aXBsZWFndWUubW9iaSIsICJ2aXBsZWFndWUuY28iLCAidmlwbGVhZ3VlLnN4IiwgInZpcGxlYWd1ZS5jaCIsICJ2aXBib3gudHYiLCAidmlwYm94LmNvIiwgInZpcGJveC5iaXoiLCAidmlwYm94LnN4IiwgInZpcGJveC5ldSIsICJ2aXBib3guc28iLCAidmlwYm94Lm51IiwgInZpcGJveHNhLmNvIiwgInN0cmlrZW91dC5jbyIsICJzdHJpa2VvdXQubWUiLCAiaG9tZXJ1bi5yZSIsICJ2aXBib3h0di5jbyIsICJ2aXBhcHAubWUiXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmlFeGlzdCA9IHRydWU7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCd4Y2xzdmlwJywgMSk7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi52aXBfMDUyeDAwMyB7IGhlaWdodDogMjUwcHg7IH0iKTsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLnZpcF8wOXg4MjcgeyBoZWlnaHQ6IDI2cHg7IH0iKTsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI292ZXJsYXkgeyBkaXNwbGF5OiBub25lOyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB6b29tdHZfbWUgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9em9vbXR2Lm1lCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL200ekFYR2N3CiAgICAgICAgaG9zdCA6IFsnem9vbXR2Lm1lJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuaWF4cEVuYWJsZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdmdfbm8gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI5MgogICAgICAgIC8vICthYnAgcnVsZQogICAgICAgIGhvc3QgOiBbJ3ZnLm5vJywgJ2UyNC5ubyddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Ll9fQUJfXyA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgcG9ybnZlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTQ3CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tLzdUUFBrcTEyCiAgICAgICAgaG9zdCA6IFsncG9ybnZlLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmFkeGp3dXBkYXRlID0gMTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxvbF9tb2FfdHcgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzExMTQKICAgICAgICBob3N0IDogWydsb2wubW9hLnR3J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBNb2FPYmogPSBNb2FPYmogfHwge307CiAgICAgICAgICAgIE1vYU9iai5hZCA9IE1vYU9iai5hZCB8fCB7fTsJCQkKICAgICAgICAgICAgTW9hT2JqLmFkLmhhc0FkYmxvY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9OwogICAgICAgICAgICBNb2FPYmouYWQuY2hlY2tBQlAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtdWx0aXVwX29yZyA6IHsKICAgICAgICAvLyBieTogV2F0aWxpbgogICAgICAgIC8vIG5vdGU6IGFsdGVybmF0aXZlIHNvbHV0aW9uCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bXVsdGl1cC5vcmcKICAgICAgICBob3N0IDogWydtdWx0aXVwLm9yZyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aXNpdCcsIDEpOyAvLyBwcmV2ZW50IHBvcHVwCiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2hpJywgZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGFpbHliaXRjb2luc19vcmcgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwNwogICAgICAgIGhvc3QgOiBbJ2RhaWx5Yml0Y29pbnMub3JnJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJy5hZC1pbWcnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtvemFjemVrX3plYmVya2EgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQxNAogICAgICAgIGhvc3QgOiBbJ2tvemFjemVrLnBsJywgJ3plYmVya2EucGwnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnYWJsYycsIDEpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnY29va2llX3BvbGljeScsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc3Bhbmt3aXJlX3NpdGVzIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84ODcKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vVEZCMWR0Z2IKICAgICAgICBob3N0IDogWydzcGFua3dpcmUuY29tJywgJ2tlZXptb3ZpZXMuY29tJywgJ2V4dHJlbWV0dWJlLmNvbScsICdtb2Zvc2V4LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCJhYkNsb3NlZCIsICJ0cnVlIik7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCJoaWRlX2FkX21zZyIsICIxIik7CiAgICAgICAgfQogICAgICB9LAogICAgICB5b3Vwb3JuX25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg4NwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9URkIxZHRnYgogICAgICAgIGhvc3QgOiBbJ3lvdXBvcm4uY29tJywgJ3lvdXBvcm5nYXkuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoImFkYmxvY2tfbWVzc2FnZSIsICJjbG9zZWQiKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNpdGF0aW9ubWFjaGluZV9uZXQgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9Y2l0YXRpb25tYWNoaW5lLm5ldAogICAgICAgIGhvc3QgOiBbJ2NpdGF0aW9ubWFjaGluZS5uZXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgic2JtX2NtX2NpdGF0aW9ucyIsIDApOwogICAgICAgIH0KICAgICAgfSwgICAgICAKICAgICAgcHNhcmlwc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1MwogICAgICAgIGhvc3QgOiBbJ3BzYXJpcHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkdmVydCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXh0cmF0b3JyZW50X2RvbWFpbnMgOiB7CiAgICAgICAgaG9zdCA6IFsnZXh0cmF0b3JyZW50LmNjJywgJ2V4dHJhdG9ycmVudC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgLy8gc291cmNlIGFyZSBvYmZ1c2NhdGVkIGluIGV4dGVybmFsIGpzCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwcHVfZGVsYXknLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ3BwdV9tYWluJywgMSk7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwcHVfc3ViJywgMSk7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwcHVfc2hvd19vbicsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG55X2N6IDogewogICAgICAgIGhvc3QgOiBbJ3RueS5jeicsICdwYXN0ZWQuY28nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgQWFrLnNldENvb2tpZSgnX18ucG9wdW5kZXJDYXAnLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ19fLnBvcHVuZGVyJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbHViZWRvaGFyZHdhcmVfY29tX2JyIDogeyAvLyB0d28gYW50aWFkYmxvY2sKICAgICAgICBob3N0IDogWydjbHViZWRvaGFyZHdhcmUuY29tLmJyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChBYWsuY29udGFpbnMobG9jYXRpb24uaG9zdCwgJ2ZvcnVtJykpIHsKICAgICAgICAgICAgLy8gU29sdXRpb24gMQogICAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNiYW5uZXIsIHNjcmlwdCB7IGhlaWdodDogNTFweDsgfSIpOwogICAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNiYW5uZXInKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIFdlYnNpdGUKICAgICAgICAgICAgLy8gU29sdXRpb24gMQogICAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2Rpdi5iYW5uZXJfdG9wbycpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKEFhay5jb250YWlucyhsb2NhdGlvbi5ob3N0LCAnZm9ydW0nKSkgewogICAgICAgICAgICAvLyBTb2x1dGlvbiAyCiAgICAgICAgICAgIEFhay51dy5hZGRCbG9ja2luZy5oaWRlKCk7CiAgICAgICAgICAgIEFhay51dy5hZGRCbG9ja2luZy5raWxsKCk7CiAgICAgICAgICB9IGVsc2UgeyAvLyBXZWJzaXRlCiAgICAgICAgICAgIC8vIFNvbHV0aW9uIDIKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pZCA9ICcnOwogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnLmFkYmxvY2snKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJhc3RhZ2lfY29tIDogewogICAgICAgIGhvc3QgOiBbJ2RlYnJhc3RhZ2kuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNzdHAtbWFpbicpOwogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNzdHAtYmcnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRkbGZyZW5jaF9vcmcgOiB7CiAgICAgICAgaG9zdCA6IFsnZGRsZnJlbmNoLm9yZyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEZpeCBidWcgZGlzcGxheSBjb250ZW50CiAgICAgICAgICBBYWsuc2V0RWxlbWVudCgnI2RsZS1jb250ZW50IC5kLWNvbnRlbnQnLCB7CiAgICAgICAgICAgICdjbGFzcycgOiAnJwogICAgICAgICAgfSk7CiAgICAgICAgICBBYWsuc2V0RWxlbWVudCgnI2NvbnRlbnQnLCB7CiAgICAgICAgICAgICdpZCcgOiAnJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtZWdhZGVicmlkX2V1IDogewogICAgICAgIGhvc3QgOiBbJ21lZ2EtZGVicmlkLmV1J10sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBBY3RpdmF0ZSBidXR0b24gZGVicmlkCiAgICAgICAgICBBYWsuc2V0RWxlbWVudCgnLnJlYWxidXR0b24nLCB7CiAgICAgICAgICAgICdvbmNsaWNrJyA6ICcnLAogICAgICAgICAgICAndHlwZScgOiAnc3VibWl0JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzbGlkZXBsYXllcl9kb21haW5zIDogewogICAgICAgIC8vIGJ5OiBBbGV4YW5kZXIyNTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMzMwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy81MTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjk2CiAgICAgICAgLy8gZGVtbzogaHR0cDovL3NsaWRlcGxheWVyLmZyL3NsaWRlLzEzMDQwMjYvIwogICAgICAgIGhvc3QgOiBbJ3NsaWRlcGxheWVyLionXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAvLyBEaXNhYmxlIGFudGktYWRibG9ja2VyCiAgICAgICAgICBBYWsudXcuZm9yY2VfcmVtb3ZlX2FkcyA9IHRydWU7CgogICAgICAgICAgLy8gQ2lyY3VtdmVudCAic2hhcmUgdG8gZG93bmxvYWQiIHJ1bGUKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgc2xpZGVfaWQgPSB3aW5kb3cuZ2V0X2N1cnJlbnRfc2xpZGVfaWQoKTsKICAgICAgICAgICAgdmFyIHNsaWRlX3NydiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGF5ZXJfZnJhbWUiKS5zcmMuc3BsaXQoIi8iKVszXTsKICAgICAgICAgICAgdmFyIHRpbWUgPSA4NjQwMCArIE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApOwogICAgICAgICAgICB2YXIgc2VjcmV0ID0gZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5zdHJ0cih3aW5kb3cuTUQ1LmJhc2U2NCgic2VjcmV0X3ByZXZlZCBzbGlkZXBsYXllciBuZXZlciBzb2x2ZWQgIiArIHRpbWUgKyBzbGlkZV9pZCArICIucHB0IiksICIrLyIsICItICIpKTsKCiAgICAgICAgICAgIHZhciB1cmwgPSAiaHR0cDovL3BsYXllci5zbGlkZXBsYXllci5vcmcvZG93bmxvYWQvIiArIHNsaWRlX3NydiArICIvIiArIHNsaWRlX2lkICsgIi8iICsgc2VjcmV0ICsgIi8iICsgdGltZSArICIvIiArIHNsaWRlX2lkICsgIi5wcHQiOwogICAgICAgICAgICB2YXIgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJhLmRvd25sb2FkX2xpbmsiKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIC8qIFJlbW92ZSBvcmlnaW5hbCAic2hhcmUgdG8gZG93bmxvYWQiIHBvcHVwIGV2ZW50IGxpc3RlbmVyICovCiAgICAgICAgICAgICAgdmFyIGV2ZW50cyA9ICQuX2RhdGEobGlua3NbaV0pLmV2ZW50cy5jbGljazsKICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKDAsIGV2ZW50cy5sZW5ndGgpOwoKICAgICAgICAgICAgICAvKiBTZXQgbm9ybWFsIGxpbmsgaHJlZiBpbnN0ZWFkICovCiAgICAgICAgICAgICAgbGlua3NbaV0uaHJlZiA9IHVybDsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgIH0KICAgICAgfSwKICAgICAgYm9rZXBzcG90X2NvbSA6IHsKICAgICAgICBob3N0IDogWydib2tlcHNwb3QuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEhpZGUgRGlzY2xhaW1lcgogICAgICAgICAgQWFrLnNldENvb2tpZSgnaGlkZURpYWxvZycsICdoaWRlJyk7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBSZW1vdmUgRGlzYWJsZSBBZEJsb2NrCiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI3R1cGlrbGFuJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBwaWNsb2FkX2NvbSA6IHsKICAgICAgICBob3N0IDogWydwaWNsb2FkLm9yZyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwbF9hZGJsb2NrZXInLCBmYWxzZSk7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRzX2xvYWRlZCA9IHRydWU7CiAgICAgICAgICBBYWsudXcuaW1hZ2VBZHMgPSBmYWxzZTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdkaXZbb25jb250ZXh0bWVudT0icmV0dXJuIGZhbHNlOyJdJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmcmVlemVkb3dubG9hZF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnZnJlZXplZG93bmxvYWQuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKC9mcmVlemVkb3dubG9hZC5jb21cL2Rvd25sb2FkXC8vLnRlc3QobG9jYXRpb24uaHJlZikpIHsKICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJ2JvZHkgPiBkaXZbaWRdJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtb25uc3V0b2dhdHlhX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogUE0KICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vMUx3NjBoNmsKICAgICAgICBob3N0IDogWydtb25uc3V0b2dhdHlhLmNvbSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI3NpdGUtYm94IHtkaXNwbGF5OmJsb2NrO30iKTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjZm9yLWFkLWJsb2NrZXInKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJhcGlkOF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsncmFwaWQ4LmNvbSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdkaXYuYmFja2sgKyAjYmxjb2tNemcnKTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdkaXYuYmFja2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR1cmtkb3duX2NvbSA6IHsKICAgICAgICBob3N0IDogWyd0dXJrZG93bi5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyByZW1vdmUgZmFjZWJvb2sgYm94CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI2R1eXVydScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmlsbW92aXppamFfZG9tYWlucyA6IHsKICAgICAgICBob3N0IDogWydmaWxtb3ZpemlqYS5tZScsICdmaWxtb3ZpemlqYS5jb20nLCAnZmlsbW92aXppamEuaW4nLCAnZmlsbW92aXppamEubmV0J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLyoKICAgICAgICAgIHZhciBkID0gbmV3IERhdGUoKTsKICAgICAgICAgIHZhciB3ZWVrZGF5ID0gWyJTdW5kYXkiLCAiTW9uZGF5IiwgIlR1ZXNkYXkiLCAiV2VkbmVzZGF5IiwgIlRodXJzZGF5IiwgIkZyaWRheSIsICJTYXR1cmRheSJdOwogICAgICAgICAgdmFyIG4gPSB3ZWVrZGF5W2QuZ2V0RGF5KCldOwogICAgICAgICAgQWFrLnNldEVsZW1lbnQoJyMnICsgbiwgewogICAgICAgICAgaHRtbCA6ICcnCiAgICAgICAgICB9KTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjJyArIG4pOwogICAgICAgICAgICovCiAgICAgICAgfQogICAgICB9LAogICAgICBoYWNraW50b3NoX3pvbmUgOiB7CiAgICAgICAgLy8gYnk6IEFsZXhhbmRlcjI1NQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWhhY2tpbnRvc2guem9uZQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlMi5vcmcvRG5COU9qNGYKICAgICAgICBob3N0IDogWydoYWNraW50b3NoLnpvbmUnXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdOwogICAgICAgICAgLy8gRmFrZSBHb29nbGUgYWQgZnJhbWUgY29udGVudAogICAgICAgICAgdmFyIGFkMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucyIpOwogICAgICAgICAgYWQxLmNsYXNzTmFtZSA9ICJhZHNieWdvb2dsZSI7CiAgICAgICAgICBhZDEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIkFBSyIpKTsKICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKGFkMSwgaGVhZC5jaGlsZE5vZGVzWzBdKTsKCiAgICAgICAgICAvKgogICAgICAgICAgLy8gRmFrZSBDbGVhbk15TWFjIGFkIGZyYW1lIHNpemUKICAgICAgICAgIHZhciBhZDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIGFkMi5pZCAgPSAibnljdWhldmdxaSI7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYWQyLndyYXBwZWRKU09iamVjdCwgJ2NsaWVudEhlaWdodCcsIHt2YWx1ZTogMX0pOwogICAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoYWQyLCBoZWFkLmNoaWxkTm9kZXNbMF0pOwogICAgICAgICAgICovCgogICAgICAgICAgdmFyIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkc2Vuc2VncmV5Jyk7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgICAgICAgICAgIG5vZGUuc3JjID0gQWFrLmltZ0JhaXQ7CiAgICAgICAgICAgIGVsZW1zW2ldLmFwcGVuZENoaWxkKG5vZGUpOwogICAgICAgICAgfQoKICAgICAgICB9LAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnZGlzYWJsZSBBREJsb2NrIGNvbXBsZXRlbHknLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJpdmF0ZWluc3RhX2NvbSA6IHsKICAgICAgICBob3N0IDogWydwcml2YXRlaW5zdGEuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gKyBhYnAgcnVsZQogICAgICAgICAgQWFrLnV3LmRvbnRfc2Nyb2xsID0gZmFsc2U7CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgiI292ZXJsYXlfZGl2Iik7CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgiI292ZXJsYXlfbWFpbl9kaXYiKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJpc2lrb2dlc3VuZGhlaXRfZGUgOiB7CiAgICAgICAgaG9zdCA6IFsncmlzaWtvLWdlc3VuZGhlaXQuZGUnXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgd2luZG93LnN0b3AoKTsKICAgICAgICAgIH0sIDUwMDApOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25lcGxheWxpc3RfZXVfcG4gOiB7CiAgICAgICAgaG9zdCA6IFsnb25lcGxheWxpc3QuZXUucG4nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBraWxsIHBvcHVuZGVyCiAgICAgICAgICBBYWsudXcubWFrZVBvcHVuZGVyID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9LAogICAgICBvbm1lZGFfZGUgOiB7CiAgICAgICAgLy8gbm90ZTogc2NyaXB0IG9iZnVzY2F0ZWQgbGluZSAxMTEwCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi84NTc2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwNjcKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vcWY0NmJOM3oKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vUndIeUYwTkwKICAgICAgICBob3N0IDogWydvbm1lZGEuZGUnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy4kQURQID0gdHJ1ZTsKICAgICAgICAgIEFhay51dy5zYXNfY2FsbEFkID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICBBYWsudXcuc2FzX2NhbGxBZHMgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR1cmJvZGVicmlkZXVyX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTk5CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU2MwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy81MjYKICAgICAgICBob3N0IDogWyd0dXJib2RlYnJpZGV1ci5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgIHRhZyA6ICdkaXYnLAogICAgICAgICAgICBpZCA6ICdwdWJkaXJlY3RlJywKICAgICAgICAgICAgaHRtbCA6ICc8aW1nICBzcmM9IicgKyBBYWsuaW1nQmFpdCArICciLz48YSAgaHJlZj0iIyI+Jm5ic3A7PC9hPicsCiAgICAgICAgICAgIGFwcGVuZCA6ICdib2R5JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICByb2NrZmlsZV9ldSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI1NgogICAgICAgIGhvc3QgOiBbJ3JvY2tmaWxlLmV1J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmNyZWF0ZUVsZW1lbnQoewogICAgICAgICAgICB0YWcgOiAnaWZyYW1lJywKICAgICAgICAgICAgc3JjIDogJ2Fib3V0OmJsYW5rJywKICAgICAgICAgICAgc3R5bGUgOiAndmlzaWJpbGl0eTpoaWRkZW47JywKICAgICAgICAgICAgYXBwZW5kIDogJ2JvZHknCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtidWNrc19hbnRpYWRibG9jayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTMyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ2OQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yNzcKICAgICAgICAvLyB2MzogaHR0cDovL3Bhc3RlYmluLmNvbS8wZ2g4TE1HSAogICAgICAgIC8vIG5vdGU6IG5vIHNvbHV0aW9uLCBhbnRpLWFkYmxvY2sgZGlmZmljdWx0IHRvIGJ5cGFzcyAtLT4gaHR0cDovL3Bhc3RlYmluLmNvbS8xTlJxN1d2WgogICAgICAgIGhvc3QgOiBbJ2xpbmtidWNrcy5jb20nLCAnbWluaXVybHMuY28nLCAncGljYnVja3MuY29tJywgJ3BpY3R1cmVzZXRjLm5ldCcsICdwbGFjZXBpY3R1cmVzLmNvbScsICdwb29udG93bi5uZXQnLCAncXFjLmNvJywgJ3F2dm8uY29tJywgJ3JlYWxmaWxlcy5uZXQnLCAncnFxLmNvJywgJ3NlcmlvdXNkZWFscy5uZXQnLCAnc2VyaW91c2ZpbGVzLmNvbScsICdzZXJpb3VzdXJscy5jb20nLCAnc2V4cGFsYWNlLmdzJywgJ3RoZXNlYmxvZ3MuY29tJywgJ3RoZXNlZmlsZXMuY29tJywgJ3RoZXNlZm9ydW1zLmNvbScsICd0aG9zZWdhbGxlcmllcy5jb20nLCAndGlueWJ1Y2tzLm5ldCcsICd0aW55bGlua3MuY28nLCAndG5hYnVja3MuY29tJywgJ3R1YmV2aXJhbC5jb20nLCAndWJlcnBpY3ouY29tJywgJ3ViZXJ2aWR6LmNvbScsICd1YnVja3MubmV0JywgJ3VnYWxsZXJpZXMubmV0JywgJ3VsdHJhZmlsZXMubmV0JywgJ3VybGJlYXQubmV0JywgJ3VybHB1bHNlLm5ldCcsICd3aGFja3l2aWR6LmNvbScsICd5b3VmYXAubWUnLCAneXl2LmNvJywgJ3p4eG8ubmV0JywgJ3pmZi5jbycsICdsaW5rYnVja3NkbnMuY28nLCAnbWluaXVybHMuY29tJywgJ2R5by5ncycsICdnb25ldmlyYWwuY29tJywgJ2VhZnlmc3VoLm5ldCcsICdzYXNvbnRud2MubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIGRvIG5vdGhpbmcuLi4KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtidWNrc192aXNpdHNjcmlwdCA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydyZWZlcmVuY2VtZWdhLmNvbScsICdmcGFiZC5jb20nLCAnY3JhY2thY2MuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFNraXAgdmlzaXRTY3JpcHQgd2hlbiBzaXRlIHVzZSBDbG91ZEZsYXJlIFJvY2tldCBTY3JpcHQKICAgICAgICAgIEFhay5zZXRDb29raWUoJ19sYkdhdGVQYXNzZWQnLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtfdGwgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bGluay50bAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZyL2ZvcnVtL2Rpc2N1c3Npb24vODQzNwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8xTWtDbm1MNwogICAgICAgIGhvc3QgOiBbJ2xpbmsudGwnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcuYWRibG9jayB7IGhlaWdodDoxcHg7IH0nKTsKICAgICAgICAgIEFhay51dy5hZGJsb2NrZXIgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdzdHJlYW1fdmlkZW8gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzODIKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vRWlBUlZRWHQKICAgICAgICBob3N0IDogWyd3c3RyZWFtLnZpZGVvJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgnI2FkaXYgeyBoZWlnaHQ6NHB4OyB9Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBfNHNoYXJlZF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnNHNoYXJlZC5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBIaWRlICJEaXNhYmxlIEFkQmxvZGsiIG1lc3NhZ2VzCiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgianNCbG9ja0RldGVjdCIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJvX2RvbWFpbnMgOiB7CiAgICAgICAgaG9zdCA6IFsncHJvLXppay53cycsICdwcm8tdGVjdC53cycsICdwcm8tZGRsLndzJywgJ3Byby1zcG9ydC53cyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aXNpdGVkZicsIHRydWUpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgndmlzaXRlZGgnLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXB0b2lyaGFyZHdhcmVfY29tIDogewogICAgICAgIGhvc3QgOiBbJ2NvbXB0b2lyLWhhcmR3YXJlLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmFkYmxvY2sgPSAnbm9uJzsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJha2Vyc2ZpZWxkX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNjU3CiAgICAgICAgLy8gbm90ZTogYWxzbyBzb2x1dGlvbiB0byBBYWtMaXN0CiAgICAgICAgaG9zdCA6IFsnYmFrZXJzZmllbGQuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuQURfU0xPVF9SRU5ERVJFRCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBla3N0cmFibGFkZXRfZGsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZWtzdHJhYmxhZGV0CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1IwMjlYcENyCiAgICAgICAgaG9zdCA6IFsnZWtzdHJhYmxhZGV0LmRrJywgJ2ViLmRrJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuQURURUNIID0ge307CiAgICAgICAgfQogICAgICB9LAogICAgICBwY2dhbWVzX2Rvd25sb2FkX25ldCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTQ1MQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZvcnVtL2Rpc2N1c3Npb24vOTMyOAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9FQlZaZzNWQgogICAgICAgIGhvc3QgOiBbJ3BjZ2FtZXMtZG93bmxvYWQubmV0J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdub0FkYmxvY2tOaWNlTWVzc2FnZScsIDEpOwogICAgICAgICAgQWFrLnV3Lm1nQ2FuTG9hZDMwNTQ3ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxhY2hhaW5lbWV0ZW9fY29tIDogewogICAgICAgIC8vIG5vdGU6IGFsc28ga2lsbGVkIGJ5IEFha0xpc3QKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTkwCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI0NQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yMTUKICAgICAgICBob3N0IDogWydsYWNoYWluZW1ldGVvLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmpzX2xvYWRlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYWM0ZXZlcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzk5NwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9SUW5DRVlLNgogICAgICAgIGhvc3QgOiBbJ21hYzRldmVyLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmNvcXVpbm91ID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBfNTI3OGJic19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9NTI3OGJicy5jb20KICAgICAgICBob3N0IDogWyc1Mjc4YmJzLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lm15YWFicGZ1bjEyID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICB0aGVzaW1zcmVzb3VyY2VfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPXRoZXNpbXNyZXNvdXJjZS5jb20KICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vREU5cmJqeFkKICAgICAgICBob3N0IDogWyd0aGVzaW1zcmVzb3VyY2UuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuZ2Fkc2l6ZSA9IHRydWU7CiAgICAgICAgICBBYWsudXcuaUhhdmVMb2FkZWRBZHMgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgeWVsbG93YnJpZGdlX2NvbSA6IHsKICAgICAgICBob3N0IDogWyd5ZWxsb3dicmlkZ2UuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuZmluYWxpemVQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2FtZV9kZWJhdGVfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMzY2CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1V6c2lYMEZLCiAgICAgICAgaG9zdCA6IFsnZ2FtZS1kZWJhdGUuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRfYmxvY2tfdGVzdCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWRzY2VuZG1lZGlhIDogewogICAgICAgIGhvc3QgOiBbJ2Fkc2NlbmRtZWRpYS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gYWRzY2VuZG1lZGlhIC0gaHR0cHM6Ly93d3cuYWRzY2VuZG1lZGlhLmNvbS8KICAgICAgICAgIHZhciByZWYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykuaHJlZiA9IGRvY3VtZW50LnJlZmVycmVyOwogICAgICAgICAgdmFyIGhvc3QgPSBsb2NhdGlvbi5ob3N0OwogICAgICAgICAgdmFyIHBhdGggPSBsb2NhdGlvbi5wYXRobmFtZTsKICAgICAgICAgIGlmIChBYWsuY29udGFpbnMocGF0aCwgJy93aWRnZXRfYWRibG9jay5waHAnKSAmJiAhQWFrLmNvbnRhaW5zKHJlZi5ob3N0LCBob3N0KSkgewogICAgICAgICAgICAvLyBBdXRvIHJlcG9ydAogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0Fkc2NlbmRtZWRpYScsIHJlZi5ob3N0LCBob3N0KTsKICAgICAgICAgICAgLy8gTm90aWZpY2F0aW9uCiAgICAgICAgICAgIEFhay5ub3RpZmljYXRpb24oJ1lvdSBtdXN0IHN1YnNjcmliZSB0byA8Yj5BYWtMaXN0IChBbnRpLUFkYmxvY2sgS2lsbGVyICk8L2I+IDxhIGhyZWY9IicgKyBBYWsuc3Vic2NyaWJlVVJMICsgJyIgdGFyZ2V0PSJfYmxhbmsiPlN1YnNjcmliZTwvYT4nKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFkd29ya21lZGlhIDogewogICAgICAgIGhvc3QgOiBbJ2Fkd29ya21lZGlhLmNvbScsICdsb3h0ay5jb20nLCAnY29udGVudGxvY2tpbmduZXR3b3Jrcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gQWRXb3JrTWVkaWEgLSBodHRwczovL3d3dy5hZHdvcmttZWRpYS5jb20vCiAgICAgICAgICB2YXIgcmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpLmhyZWYgPSBkb2N1bWVudC5yZWZlcnJlcjsKICAgICAgICAgIHZhciBob3N0ID0gbG9jYXRpb24uaG9zdDsKICAgICAgICAgIHZhciBwYXRoID0gbG9jYXRpb24ucGF0aG5hbWU7CiAgICAgICAgICBpZiAoQWFrLmNvbnRhaW5zKHBhdGgsICcvaGVscC9yZW1vdmVBQi5waHAnKSAmJiAhQWFrLmNvbnRhaW5zKHJlZi5ob3N0LCBob3N0KSkgewogICAgICAgICAgICAvLyBBdXRvIHJlcG9ydAogICAgICAgICAgICBBYWsuaW5mbygnQWR3b3JrbWVkaWEnLCByZWYuaG9zdCwgaG9zdCk7CiAgICAgICAgICAgIC8vIE5vdGlmaWNhdGlvbgogICAgICAgICAgICBBYWsubm90aWZpY2F0aW9uKCdZb3UgbXVzdCBzdWJzY3JpYmUgdG8gPGI+QWFrTGlzdCAoQW50aS1BZGJsb2NrIEtpbGxlciApPC9iPiA8YSBocmVmPSInICsgQWFrLnN1YnNjcmliZVVSTCArICciIHRhcmdldD0iX2JsYW5rIj5TdWJzY3JpYmU8L2E+Jyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAvLyBQbGF5ZXJzCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgIGtpc3NhbmltZV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ1MQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zODEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMzAyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI1NwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNzgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTk2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU2CiAgICAgICAgaG9zdCA6IFsna2lzc2FuaW1lLmNvbScsICdraXNzYW5pbWUudG8nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gTWFza2luZyBhZHMKICAgICAgICAgIEFhay5hZGRTdHlsZSgnaWZyYW1lW2lkXj0iYWRzSWZybWUiXSwgLmRpdkNsb3NlQnV0IHsgZGlzcGxheTpub25lOyB9Jyk7CiAgICAgICAgICAvLyBTb2x1dGlvbiAxCiAgICAgICAgICBBYWsudXcuRG9EZXRlY3QyID0gbnVsbDsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAvLyBTb2x1dGlvbiAxIGFicCBydWxlCiAgICAgICAgICAvLyBAQHx8a2lzc2FuaW1lLmNvbV4kZWxlbWhpZGUKCiAgICAgICAgICB2YXIgZGl2Q29udGVudFZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RpdkNvbnRlbnRWaWRlbycpOwoKICAgICAgICAgIC8vIFNvbHV0aW9uIDIKICAgICAgICAgIGlmIChBYWsudXcuRG9EZXRlY3QyKSB7CiAgICAgICAgICAgIEFhay51dy5Eb0RldGVjdDIgPSBudWxsOwogICAgICAgICAgICBBYWsudXcuQ2hlY2tBZEltYWdlID0gbnVsbDsKICAgICAgICAgICAgQWFrLmluZm8oJ1NvbHV0aW9uIDInKTsKICAgICAgICAgIH0gLy9Tb2x1dGlvbiAzCiAgICAgICAgICBlbHNlIGlmIChkaXZDb250ZW50VmlkZW8pIHsKCiAgICAgICAgICAgIHZhciBkaXZEb3dubG9hZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXZEb3dubG9hZCcpLmNsb25lTm9kZSh0cnVlKTsKCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGRpdkNvbnRlbnRWaWRlby5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICBBYWsudXcuRG9IaWRlRmFrZSgpOwogICAgICAgICAgICAgIGRpdkNvbnRlbnRWaWRlby5hcHBlbmRDaGlsZChkaXZEb3dubG9hZCk7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJ2lmcmFtZVtpZF49ImFkc0lmcm1lIl0sIC5kaXZDbG9zZUJ1dCcpOwogICAgICAgICAgICAgIEFhay5pbmZvKCdTb2x1dGlvbiAzJyk7CiAgICAgICAgICAgIH0sIDU1MDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgS2lzc2NhcnRvb25fbWUgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ4OAogICAgICAgIGhvc3QgOiBbJ2tpc3NjYXJ0b29uLm1lJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcueGFabEUgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdpZnJhbWVbaWRePSJhZHNJZnJtZSJdJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBvcGVubG9hZF9kb21haW5zIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPW9wZW5sb2FkCiAgICAgICAgaG9zdCA6IFsnb3BlbmxvYWQuY28nLCAnb3BlbmxvYWQuaW8nLCAnb3BlbmxvYWQudHYnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmFkYmxvY2sgPSBmYWxzZTsKICAgICAgICAgIEFhay51dy5hZGJsb2NrMiA9IGZhbHNlOwogICAgICAgICAgQWFrLnV3LnBvcEFkc0xvYWRlZCA9IHRydWU7CiAgICAgICAgICAvLyBoaWRlIGZha2UgcGxheSBidXR0b24gdXNlZCB0byBvcGVuIHBvcHVuZGVyCiAgICAgICAgICAvL0Fhay5hZGRTdHlsZSgnI3ZpZGVvb3ZlcmxheSB7IGRpc3BsYXk6bm9uZTsgfScpCiAgICAgICAgfQogICAgICB9LAogICAgICB5b3V3YXRjaF9vcmcgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9eW91d2F0Y2gKICAgICAgICAvLyB0ZXN0OiBodHRwOi8veW91d2F0Y2gub3JnL2VtYmVkLTU5cDdpM2Nka3NlMC00NTN4MzIwLmh0bWwKICAgICAgICAvLyB0ZXN0OiBodHRwOi8veW91d2F0Y2gub3JnLzU5cDdpM2Nka3NlMAogICAgICAgIGhvc3QgOiBbJ3lvdXdhdGNoLm9yZycsICdjaG91aGFhLmluZm8nLCAnYWh6YWhnNm9oYi5jb20nLCAnYWh6YWhnNm9oYi5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gc2tpcCBhbnRpLWFkYmxvY2sKICAgICAgICAgIEFhay51dy5hZHNTaG93UG9wdXAxID0gMTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHJlbm92ZSBhZHMgKyBmYWtlIHBsYXkgYnV0dG9uCiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI3BsYXllcl9pbWosICNwbGF5ZXJfaW1qICsgZGl2W2lkXScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXhhc2hhcmVfY29tIDogewogICAgICAgIC8vIGJ5OiBXYXRpbGluCiAgICAgICAgLy8gcHVsbDogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9wdWxsLzUxOQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWV4YXNoYXJlLmNvbQogICAgICAgIC8vIHRlc3Q6ICBodHRwOi8vZXhhc2hhcmUuY29tL2dhbHcyZ2Uya3pzdgogICAgICAgIGhvc3QgOiBbJ2V4YXNoYXJlLmNvbScsICdjaGVmdGkuaW5mbycsICdib2plbTNhLmluZm8nLCAnYWppaGV6by5pbmZvJywgJ3lhaG1haWIzYWkuY29tJywgJ3lhaG1haWIzYWkuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHNraXAgYW50aS1hZGJsb2NrCiAgICAgICAgICBBYWsudXcuYWRzU2hvd1BvcHVwMSA9IDE7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyByZW5vdmUgYWRzICsgZmFrZSBwbGF5IGJ1dHRvbgogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNwbGF5ZXJfZ2F6LCAjcGxheWVyX2dheiArIGRpdltpZF0nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFuMW1lX3NlIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xOTAKICAgICAgICBob3N0IDogWydhbjFtZS5zZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBBYWsudXcuaXNCbG9ja0FkczIgPSBmYWxzZTsKICAgICAgICAgIH0sIDEwMDAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGhxcV90diA6IHsgLy8gcHV0bG9ja2VyLmlzCiAgICAgICAgaG9zdCA6IFsnaHFxLnR2J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gKyBhYnAgcnVsZQogICAgICAgICAgLy8gaHR0cDovL2hxcS50di9wbGF5ZXIvZW1iZWRfcGxheWVyLnBocD92aWQ9UjNER0hHM0dLWFg3JmF1dG9wbGF5PW5vCiAgICAgICAgICBpZiAoJy9wbGF5ZXIvZW1iZWRfcGxheWVyLnBocCcgPT0gbG9jYXRpb24ucGF0aG5hbWUpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtpZF49ImZvcm0tIl0nKS5zdWJtaXQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIFBvbGFuZAogICAgICB3cF9kb21haW5zIDogewogICAgICAgIC8vIE5vdGU6IGRpc2FibGUgRWFzeVByaXZhY3kKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTU2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzkwNQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zMDAKICAgICAgICBob3N0IDogWydiaXp0b2sucGwnLCAnd3AudHYnLCAnd3AucGwnLCAnc3BvcnRvd2VmYWt0eS5wbCcsICdrYWZldGVyaWEudHYnLCAna2FmZXRlcmlhLnBsJywgJy53cnp1dGEucGwnLCAncHVkZWxlay50dicsICdrb21lZGlvd28ucGwnLCAnc2ZvcmEucGwnLCAnYXV0b2tyYXRhLnBsJywgJ3Nwb3J0ZmFuLnBsJywgJ3dhd2Fsb3ZlLnBsJywgJ2hvdG1vbmV5LnBsJywgJ2FsZXNlcmlhbGUucGwnLCAnYmFib2wucGwnLCAnc25vYmthLnBsJywgJ25vY290eS5wbCcsICdtb25leS5wbCcsICdhYmN6ZHJvd2llLnBsJywgJ2dhZHpldG9tYW5pYS5wbCcsICdhdXRva3VsdC5wbCcsICdrb21vcmtvbWFuaWEucGwnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gcHJldmVudCBwb3B1cCBhbnRpLWFkYmxvY2sgZnJvbSBhYmN6ZHJvd2llLnBsCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdBQkNBQkMnLCB0cnVlKTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIAogICAgICAgICAgQWFrLmhhc0VsZW1lbnQoJy53cC1wbGF5ZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAKICAgICAgICAgICAgdmFyIHJlcGxhY2VQbGF5ZXJXUCA9IGZ1bmN0aW9uIChtaWQsIHBsYXllcikgewogICAgICAgICAgICAgIC8qIFJlcXVlc3QKICAgICAgICAgICAgICBodHRwOi8vZ2V0LndwLnR2Lz9taWQ9MTY2MTA1NgogICAgICAgICAgICAgIGh0dHA6Ly93cC50di9wbGF5ZXIvbWlkLDE2NjEwNTYsZW1iZWQuanNvbgogICAgICAgICAgICAgIGh0dHA6Ly9nZXQud3AudHYvP2Y9Mjg5NjQ2Mi4xNDI2MzI5MDU2OTA0Lmwud2VibSZybmQ9MQogICAgICAgICAgICAgIGh0dHBzOi8vd3AudHYvcGxheWVyL21pZCwxNzQ3MTE3LGVtYmVkLmpzb24KICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICBBYWsucmVxdWVzdCh7CiAgICAgICAgICAgICAgICB1cmwgOiAnaHR0cDovL3dwLnR2L3BsYXllci9taWQsJyArIG1pZCArICcsZW1iZWQuanNvbicsCiAgICAgICAgICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShyZXMpOwogICAgICAgICAgICAgICAgICBBYWsubG9nKG9iaik7CgogICAgICAgICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgICAgICAgUGxheWVyLnZpZGVvanMocGxheWVyLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogQWFrLmZpeFByb3RvY29sVVJMKG9iai5jbGlwLnVybFsxXS51cmwpLCAvLyBIRAogICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdmFyIHJlcGxhY2VQbGF5ZXJXcnp1dGEgPSBmdW5jdGlvbiAoa2V5LCBjaGFubmVsLCBlbGVtKSB7CiAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53cnp1dGEucGwvbnBwL2VtYmVkL3dvbG5hcG9sc2thMi8wSTBIUTJtdXRKYwogICAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly93d3cud3J6dXRhLnBsL25wcC9lbWJlZC8nICsgY2hhbm5lbCArICcvJyArIGtleSwKICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICAgICAgICAgIEFhay5sb2cob2JqKTsKCiAgICAgICAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICAgICAgICBQbGF5ZXIudmlkZW9qcyhlbGVtLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogQWFrLmZpeFByb3RvY29sVVJMKG9iai51cmxbMF0udXJsKSwgLy9IRAogICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8gVXNpbmcgYW4gZXh0ZXJuYWwgZmxhc2ggcGxheWVyIGlzIGltcG9zc2libGUgYmVjYXVzZSBwcm90ZWN0ZWQgYnkgY3Jvc3Nkb21haW4ueG1sCiAgICAgICAgICAgIHZhciBwbGF5ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndwLXBsYXllcicpOyAvLyAgI1BsYXllcjAsICNQbGF5ZXIxLCAjbWFpblBsYXllcgogICAgICAgICAgICBpZiAocGxheWVycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAvLyBmaXhidWcgZ21feGhyIGxvb3AgcmVxdWVzdCAtIGh0dHA6Ly90aW55dXJsLmNvbS9wcWE5aHRxCiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbGF5ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgbWlkID0gbnVsbDsKICAgICAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBwbGF5ZXJzW2ldOwogICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHBsYXllci5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IHBsYXllci5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcignLnRpdGxlQ29udCBhLnRpdGxlJyk7CiAgICAgICAgICAgICAgICB2YXIgZW1iZWR2aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHRbc3JjKj0iL2VtYmVkX3ZpZGVvLmpzIl0nKTsKICAgICAgICAgICAgICAgIEFhay5sb2cocGxheWVyLCBwYXJlbnQsIHNjcmlwdCwgdGl0bGUpOwoKICAgICAgICAgICAgICAgIGlmIChlbWJlZHZpZGVvcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgLy8gcHVkZWxlay53cnp1dGEucGw6IGh0dHA6Ly90aW55dXJsLmNvbS9sOGpvNXYyCiAgICAgICAgICAgICAgICAgIC8vIHB1ZGVsZWsudHY6IGh0dHA6Ly90aW55dXJsLmNvbS9rbHl6aDZyLCBodHRwOi8vdGlueXVybC5jb20vejdmcjg5dgogICAgICAgICAgICAgICAgICAvLyBwdWRlbGVrLnR2ICh0cmlwbGUpOiBodHRwOi8vdGlueXVybC5jb20vbjliMjdvMgogICAgICAgICAgICAgICAgICAvLyBmaWxtLndwLnBsOiBodHRwOi8vdGlueXVybC5jb20vcTdrNWJ4cAogICAgICAgICAgICAgICAgICB2YXIgZW1iZWR2aWRlbyA9IGVtYmVkdmlkZW9zW2ldOwogICAgICAgICAgICAgICAgICB2YXIga2V5ID0gL2tleT0oXHcrKS8uZXhlYyhlbWJlZHZpZGVvLnNyYylbMV07CiAgICAgICAgICAgICAgICAgIHZhciBjaGFubmVsID0gL2xvZ2luPShcdyspLy5leGVjKGVtYmVkdmlkZW8uc3JjKVsxXTsKICAgICAgICAgICAgICAgICAgdmFyIGF1dG9zdGFydCA9IC9hdXRvcGxheS8udGVzdChlbWJlZHZpZGVvLnNyYyk7CiAgICAgICAgICAgICAgICAgIHJlcGxhY2VQbGF5ZXJXcnp1dGEoa2V5LCBjaGFubmVsLCBwbGF5ZXIsIGF1dG9zdGFydCk7CiAgICAgICAgICAgICAgICAgIEFhay5sb2coJ2VtYmVkX3ZpZGVvLmpzJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRpdGxlICYmIC9taWQvLnRlc3QodGl0bGUuaHJlZikpIHsKICAgICAgICAgICAgICAgICAgLy8gc3BvcnRvd2VmYWt0eS5wbDogaHR0cDovL3Rpbnl1cmwuY29tL2w2emFiY3gKICAgICAgICAgICAgICAgICAgbWlkID0gdGl0bGUuaHJlZi5tYXRjaCgvbWlkWz0sXShbMC05XSspLyk7CiAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3RpdGxlLmhyZWYnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50LmlkKSB7CiAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuZGF0YXNldC51cmwpIHsKICAgICAgICAgICAgICAgICAgICAvLyB3cC50djogaHR0cDovL3Rpbnl1cmwuY29tL3B6ZGUyOXQKICAgICAgICAgICAgICAgICAgICBtaWQgPSBwYXJlbnQuZGF0YXNldC51cmwubWF0Y2goL21pZFs9LF0oWzAtOV0rKS8pOwogICAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3BhcmVudC5kYXRhc2V0LnVybCcpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQucHJldmlvdXNTaWJsaW5nLmlubmVySFRNTCkgewogICAgICAgICAgICAgICAgICAgICAgLy8gd2lhZG9tb3NjaS53cC5wbDogaHR0cDovL3Rpbnl1cmwuY29tL2dxdHQ5Y2EKICAgICAgICAgICAgICAgICAgICAgIG1pZCA9IHBhcmVudC5wcmV2aW91c1NpYmxpbmcuaW5uZXJIVE1MLm1hdGNoKC9taWRbPSxdKFswLTldKykvKTsKICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3NjcmlwdC5pbmxpbmUuaW5uZXJIVE1MJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGthZmV0ZXJpYS50djogaHR0cDovL3Rpbnl1cmwuY29tL25vZnA1OGEKICAgICAgICAgICAgICAgICAgICAgIC8vIGFiY3pkcm93aWUucGw6IGh0dHA6Ly90aW55dXJsLmNvbS9oeDZzNWV0CiAgICAgICAgICAgICAgICAgICAgICBtaWQgPSBwYXJlbnQuaW5uZXJIVE1MLm1hdGNoKC9taWRbPSxdKFswLTldKykvKTsKICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3BhcmVudC5pbm5lckhUTUwnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NyaXB0ICYmIHNjcmlwdC50YWdOYW1lID09ICdTQ1JJUFQnKSB7CiAgICAgICAgICAgICAgICAgIC8vIGZpbG0ud3AucGw6IGh0dHA6Ly90aW55dXJsLmNvbS9taDlvbmZ3CiAgICAgICAgICAgICAgICAgIC8vIHB1ZGVsZWsudHYgKGRvdWJsZSk6IGh0dHA6Ly90aW55dXJsLmNvbS9sZWZ2d3R4CiAgICAgICAgICAgICAgICAgIG1pZCA9IHNjcmlwdC5pbm5lckhUTUwubWF0Y2goL21pZFs9LF0oWzAtOV0rKS8pOwogICAgICAgICAgICAgICAgICBBYWsubG9nKCdzY3JpcHQuc3JjLmlubmVySFRNTCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG1pZCAhPT0gbnVsbCAmJiBtaWQubGVuZ3RoID09IDIpIHsKICAgICAgICAgICAgICAgICAgcmVwbGFjZVBsYXllcldQKG1pZFsxXSwgcGxheWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbW9qZV9maWxteV9uZXR3b3JrOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwMTAKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vN0cyUkJucXEKICAgICAgICBob3N0IDogWydtb2plLWZpbG15LnRrJywgJ21vamUtZmlsbXkubGl2ZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBzZWFyY2h2YWx1ZSA9IFsndmFyIHBsYXllckluc3RhbmNlJywgJ30pOyddOwogICAgICAgICAgdmFyIHNjcmlwdCA9IEFhay5oYXNTY3JpcHQoc2VhcmNodmFsdWVbMF0pOwoKICAgICAgICAgIGlmIChzY3JpcHQpIHsKICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHNjcmlwdC5pbm5lckhUTUw7CiAgICAgICAgICAgIHZhciBzdHIgPSBzb3VyY2Uuc3Vic3RyaW5nKHNvdXJjZS5sYXN0SW5kZXhPZihzZWFyY2h2YWx1ZVswXSksIHNvdXJjZS5sYXN0SW5kZXhPZihzZWFyY2h2YWx1ZVsxXSkgKyBzZWFyY2h2YWx1ZVsxXS5sZW5ndGgpOwogICAgICAgICAgICBBYWsuYWRkU2NyaXB0KHN0cik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICB0dm5fcGwgOiB7CiAgICAgICAgLy8gYnk6IFJlZWssIE1hcmVrCiAgICAgICAgLy8gc29sdXRpb246IGh0dHA6Ly90aW55dXJsLmNvbS9vaGJ2ejRyLCBodHRwOi8vdGlueXVybC5jb20vanE4czQ2MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPXR2bi5wbAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPXR2bjI0LnBsCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9cGxheWVyLnBsCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL282ZDloNjYsIGh0dHA6Ly90aW55dXJsLmNvbS96NzdtNHpoCiAgICAgICAgaG9zdCA6IFsndHZuLnBsJywgJ3R2bjI0LnBsJywgJ3BsYXllci5wbCddLAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmhhc0VsZW1lbnQoJ2hlYWRlci5kZXRhaWxJbWFnZScsIGZ1bmN0aW9uICh0aGlzRWxlbWVudCkgewogICAgICAgICAgICBpZiAoQWFrLmdldENvb2tpZSgnY291bnRyeV9jb2RlJykgJiYgQWFrLmdldFNlc3Npb24oJ2dlbmVyYXRlVG9rZW4nKSkgewogICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgvWy4sXS8pOwogICAgICAgICAgICAgICAgdmFyIGlkID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMl07CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBwbGF0Zm9ybSA6ICJNb2JpbGUiLAogICAgICAgICAgICAgICAgICB0ZXJtaW5hbCA6ICJBbmRyb2lkIiwKICAgICAgICAgICAgICAgICAgZm9ybWF0IDogImpzb24iLAogICAgICAgICAgICAgICAgICB2IDogIjIuMCIsCiAgICAgICAgICAgICAgICAgIGF1dGhLZXkgOiAiYjRiYzk3MTg0MGRlNjNkMTA1YjMxNjY0MDNhYTFiZWEiLAogICAgICAgICAgICAgICAgICB0eXBlIDogImVwaXNvZGUiLAogICAgICAgICAgICAgICAgICBpZCA6IGlkLAogICAgICAgICAgICAgICAgICBzb3J0IDogIm5ld2VzdCIsCiAgICAgICAgICAgICAgICAgIG0gOiAiZ2V0SXRlbSIsCiAgICAgICAgICAgICAgICAgIGRldmljZVNjcmVlbkhlaWdodCA6IDE2MDAsCiAgICAgICAgICAgICAgICAgIGRldmljZVNjcmVlbldpZHRoIDogMjU2MAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciBhcGkgPSAnaHR0cHM6Ly9hcGkudHZucGxheWVyLnBsL2FwaS8/JyArIEFhay5zZXJpYWxpemUocGFyYW1zKTsKICAgICAgICAgICAgICAgIHZhciBwcm94eSA9ICdodHRwOi8vd3d3LnByb3h5LnhtYy5wbC9pbmRleC5waHA/aGw9M2U1JnE9JzsJCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEdldCB2aWRlb1VybAogICAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgICB1cmwgOiBBYWsuZ2V0Q29va2llKCdjb3VudHJ5X2NvZGUnKSAhPSAnUEwnID8gcHJveHkgKyBBYWsuZW5jb2RlVVJJKGFwaSkgOiBhcGksCiAgICAgICAgICAgICAgICAgIGhlYWRlcnMgOiB7CiAgICAgICAgICAgICAgICAgICAgIlVzZXItQWdlbnQiIDogIk1vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjI7IGVuLXVzOyBOZXh1cyAxMCBCdWlsZC9KVlAxNUkpIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIFNhZmFyaS81MzQuMzAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gcmVzdWx0LnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICBBYWsubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvVXJsID0gby5pdGVtLnZpZGVvcy5tYWluLnZpZGVvX2NvbnRlbnRbTnVtYmVyKEFhay5vcHRzLnZpZGVvSEQpXS51cmw7CiAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlVG9rZW4gPSBuZXcgRnVuY3Rpb24oJ3ZpZGVvVXJsJywgQWFrLmdldFNlc3Npb24oJ2dlbmVyYXRlVG9rZW4nKSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvVXJsV2l0aFNlZWQgPSBnZW5lcmF0ZVRva2VuKHZpZGVvVXJsKTsKICAgICAgICAgICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgICAgICAgICBQbGF5ZXIudmlkZW9qcyh0aGlzRWxlbWVudCwgewogICAgICAgICAgICAgICAgICAgICAgc291cmNlIDogdmlkZW9VcmxXaXRoU2VlZCwKICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0sIHt9LCB7aW5zZXJ0Oidpbm5lcid9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoeyAvLyBnZXQgYW5kIHN0b3JlIGdlbmVyYXRlVG9rZW4gZnVuY3Rpb24KICAgICAgICAgICAgICAgIHVybCA6ICdodHRwOi8vcGFzdGViaW4uY29tL3Jhdy9EOXFNNERSMycsCiAgICAgICAgICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgQWFrLnNldFNlc3Npb24oJ2dlbmVyYXRlVG9rZW4nLCByZXMpOwogICAgICAgICAgICAgICAgICBBYWsucmVxdWVzdCh7IC8vIGdldCB1c2VyIGlwCiAgICAgICAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly9pcC1hcGkuY29tL2pzb24nLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXMpOwogICAgICAgICAgICAgICAgICAgICAgQWFrLnNldENvb2tpZSgnY291bnRyeV9jb2RlJywganNvbi5jb3VudHJ5Q29kZSk7CiAgICAgICAgICAgICAgICAgICAgICBBYWsucmVmcmVzaCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaXBsYV90diA6IHsKICAgICAgICAvLyBieTogTWFyZWsKICAgICAgICAvLyBzb2x1dGlvbjogaHR0cDovL3Rpbnl1cmwuY29tL3B0YjR5YmcKICAgICAgICAvLyBpc3N1ZS4gaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTIyCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2h6N2dweHgKICAgICAgICBob3N0IDogWydpcGxhLnR2J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcuaHRtbDUtcGxheWVyLXdyYXBwZXIgeyBkaXNwbGF5Om5vbmU7IH0nKTsgLy8gY2hyb21lL29wZXJhCiAgICAgICAgICB2YXIgb2xkUGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh0bWw1LXBsYXllci13cmFwcGVyLCAjdm9kLXBsYXllcicpOwogICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICB1cmwgOiAnL1ZPRC9wbGF5LWluLWlwbGEvJyArIGxvY2F0aW9uLmhyZWYubWF0Y2goL1wvdm9kLShcZCspLylbMV0sCiAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICB2YXIgdmlkZW9VUkw7CiAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgdmFyIGlkbiA9IHJlcy5tYXRjaCgvaXBsYTpcL1wvcGxheXZvZC0xXHwoW2EtejAtOV0rKS8pWzFdOwogICAgICAgICAgICAgIEFhay5sb2coaWRuKTsKICAgICAgICAgICAgICBBYWsucmVxdWVzdCh7CiAgICAgICAgICAgICAgICB1cmwgOiAnaHR0cDovL2dldG1lZGlhLnJlZGVmaW5lLnBsL3ZvZHMvZ2V0X3ZvZC8/Y3BpZD0xJnVhPW1pcGxhLzIzJm1lZGlhX2lkPScgKyBpZG4sCiAgICAgICAgICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgICB2YXIgbyA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgICAgICAgICAgICAgQWFrLmxvZyhvKTsKICAgICAgICAgICAgICAgICAgaWYgKG8udm9kLnZpZGVvX2hkKSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9VUkwgPSBvLnZvZC52aWRlb19oZDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvLnZvZC52aWRlbykgewogICAgICAgICAgICAgICAgICAgIHZpZGVvVVJMID0gby52b2QudmlkZW87CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9VUkwgPSBvLnZvZC5jb3BpZXNbMF0udXJsOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgICAgICAgUGxheWVyLnZpZGVvanMob2xkUGxheWVyLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogdmlkZW9VUkwsCiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdtcDQnLAogICAgICAgICAgICAgICAgICAgIHdpZHRoIDogODIwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IDQ1MCwKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtvc2NpYW5fbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85MTQKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20veUdTUEJScWUKICAgICAgICBob3N0IDogWydrb3NjaWFuLm5ldCddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYW4nKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZWxlbXNbaV0ucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vZWxlbXNbaV0uaW5uZXJIVE1MID0gJzxicj4nOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gRnJhbmNlCiAgICAgIHBsYXl0dl9mciA6IHsgLy8gcmVzZWFyY2ggc29sdXRpb24KICAgICAgICBob3N0IDogWydwbGF5LnR2JywgJ3BsYXl0di5mciddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkge30sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7fQogICAgICB9LAogICAgICBybWNzcG9ydGJmbXR2X2NvbSA6IHsgLy8gd2VicmFkaW8KICAgICAgICBob3N0IDogWydybWNzcG9ydC5iZm10di5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgdmFyIGZsYXNodmFycyA9IHsKICAgICAgICAgICAgdXJsUmFkaW8gOiAiaHR0cDovL21wM2xnNC50ZGYtY2RuLmNvbS8xMDE2MC9ybWMubXAzIiwKICAgICAgICAgICAgbm9tIDogImxpdmUiLAogICAgICAgICAgICBjYXRlZ29yaWUgOiAibGl2ZSIsCiAgICAgICAgICAgIHVybFNtYXJ0IDogIiIgLy8gc2V0IGVtcHR5IHRvIHJlbW92ZSBhdWRpbyBhZAogICAgICAgICAgfTsKICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgIHdtb2RlIDogInRyYW5zcGFyZW50IgogICAgICAgICAgfTsKCiAgICAgICAgICBBYWsudXcuc3dmb2JqZWN0LmVtYmVkU1dGKCIvc3dmL1JNQ0xJVkUuc3dmIiwgImxpdmVwbGF5ZXIiLCAiNzAiLCAiOTAiLCAiMTAuMC4wIiwgIiIsIGZsYXNodmFycywgcGFyYW1zKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVjbHlwc2lhX2NvbSA6IHsKICAgICAgICBob3N0IDogWydlY2x5cHNpYS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFNvbHV0aW9uIDEKICAgICAgICAgIC8vIGFicCBydWxlcwoKICAgICAgICAgIC8vIFNvbHV0aW9uIDIKICAgICAgICAgIEFhay51dy5pc0FCQWN0aXZhdGVkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9OyAvLyBLaWxsIGFudGlhZGJsb2NrCiAgICAgICAgICBBYWsudXcucmVmcmVzaF9pZnJhbWUgPSBmdW5jdGlvbiAoKSB7fTsgLy8gU3RvcCBhZHMgdG8gYmUgbG9hZGVkCiAgICAgICAgfSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFNvbHV0aW9uIDMKICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2W2lkXj0id2VidHZfaWZyYW1lXyJdJyk7CiAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCkgewogICAgICAgICAgICB2YXIgdmlkZW9JZCA9IGVsZW1lbnQuaWQuc3BsaXQoJ18nKVsyXTsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnPGlmcmFtZSBmcmFtZWJvcmRlcj0iMCIgd2lkdGg9IjgxMiIgaGVpZ2h0PSI1MDAiIHNyYz0iaHR0cDovL3d3dy5kYWlseW1vdGlvbi5jb20vZW1iZWQvdmlkZW8vJyArIHZpZGVvSWQgKyAnP2xvZ289MCZhdXRvUGxheT0xJmF1dG9NdXRlPTAiPjwvaWZyYW1lPic7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbTZ3ZWJfZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ2MQogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly90aW55dXJsLmNvbS9wdG4ydnJsCiAgICAgICAgaG9zdCA6IFsnbTZ3ZWIuZnInXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBwbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdvYmplY3RbaWQkPSJfZmxhc2hfYXBpIl0nKTsKICAgICAgICAgIHZhciBzY3JpcHQgPSBBYWsuaGFzU2NyaXB0KCdNNi5QbGF5ZXIuY29uZmlnJyk7CgogICAgICAgICAgaWYgKHBsYXllciAhPT0gbnVsbCAmJiBzY3JpcHQgIT09IG51bGwpIHsKICAgICAgICAgICAgdmFyIGZvdW5kID0gc2NyaXB0LmlubmVySFRNTC5tYXRjaCgvTTYuUGxheWVyLmNvbmZpZyA9IChcey4rXH0pOy8pOwogICAgICAgICAgICB2YXIgY29uZmlnID0gSlNPTi5wYXJzZShmb3VuZC5wb3AoKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSZXBsYWNlIHBsYXllcgogICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgUGxheWVyLnZpZGVvanMocGxheWVyLnBhcmVudE5vZGUsIHsKICAgICAgICAgICAgICBzb3VyY2UgOiBjb25maWcuc291cmNlc1sxXS5zcmMsCiAgICAgICAgICAgICAgdHlwZSA6ICdtcDQnLAogICAgICAgICAgICAgIGF1dG9wbGF5IDogZmFsc2UKICAgICAgICAgICAgfSk7CgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2FtaW5ncm9vbV90diA6IHsKICAgICAgICBob3N0IDogWydnYW1pbmdyb29tLnR2J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRibG9ja19kZXRlY3QgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5HUl9hZGJsb2NrX2hpZGVfdmlkZW8gPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5hZGJsb2NrX3ZpZGVvX21zZ19zdGFydCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgICAgQWFrLnV3LmFkYmxvY2tfdmlkZW9fbXNnX3N0b3AgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5kaXNhYmxlX2NoYXQgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIEdlcm1hbnkKICAgICAgbm93X2RvbWFpbnMgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzMzNgogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly90aW55dXJsLmNvbS9wZWVvYm91CiAgICAgICAgLy8gdGVzdDogaHR0cDovL2pzYmluLmNvbS92dWNvYmVqb2ZvCiAgICAgICAgaG9zdCA6IFsndm94bm93LmRlJywgJ3J0bC1ub3cucnRsLmRlJywgJ3J0bDJub3cucnRsMi5kZScsICduLXR2bm93LmRlJywgJ3N1cGVycnRsbm93LmRlJywgJ3J0bG5pdHJvbm93LmRlJywgJ25vd3R2LmRlJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLyoKICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgUGxheWVyLmVkaXRpbmcoJyN2aWRlb3BsYXllcicsIHsKICAgICAgICAgIHVuc2V0Rmxhc2h2YXJzIDogJ2FiY2hlY2tfZW5hYmxlZCxhZGNhbGwsYWRjbGFzc2VzLGFkY29uZmlnLGFkbWV0YSxhZHNsb2csYWdvZixhbWEsYW5nZWJvdCxhcyxhc3BhcnRzLGJyZWFrYWQsY29ubmVjdGlvbmNoZWNrLGNzbG9nLGRldixkaW1tZXIsZXJyb3Jsb2csZmVlZGJhY2ssZm1zaWRlbnQsZ3R2LGhpZ2hsaWdodHMsaXZ3LGl2d19wbGF5LGpzLGpzX2V2ZW50X2Z1bmN0aW9uLGxvZ28sbG9nb19iYXNld2lkdGgsbG9nb3BvcyxuaWVsc2VuLG9yZCxvc21mLHN2bSx0aWxlLHZpZGVvcGxhemEsdmlkZW9wbGF6YV9iYXNlX3VybCx2aWRlb3BsYXphX3NoYXJlLHZpZGVvcGxhemFfdGFnLHZwRW52aXJvbm1lbnRVUkwseGwnCiAgICAgICAgICB9KTsKICAgICAgICAgICAqLwogICAgICAgIH0KICAgICAgfSwKICAgICAgcnRsX2RlIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTQxCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2g3Y2N2cXEKICAgICAgICBob3N0IDogWydydGwuZGUnXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbZGF0YS13aWRnZXQ9InZpZGVvIl0nKSkubWFwKGZ1bmN0aW9uICh2aWRlbykgewogICAgICAgICAgICB2YXIgY2ZnID0gQWFrLmludG9PYmplY3QodmlkZW8uZGF0YXNldC5wbGF5ZXJMYXllckNmZyk7CiAgICAgICAgICAgIHZhciBmaWxlID0gY2ZnLnZpZGVvaW5mby5tcDR1cmw7CiAgICAgICAgICAgIEFhay5sb2codmlkZW8sIGNmZywgZmlsZSk7CgogICAgICAgICAgICAvLyBSZXBsYWNlIHBsYXllcgogICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgUGxheWVyLnZpZGVvanModmlkZW8sIHsKICAgICAgICAgICAgICBzb3VyY2UgOiBmaWxlLAogICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBteXNwYXNzX2RlIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy83NgogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly90aW55dXJsLmNvbS9sdG85cHlkCiAgICAgICAgaG9zdCA6IFsnbXlzcGFzcy5kZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB2aWRlb2lkID0gbG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1wvKFxkKylcLyQvKTsKCiAgICAgICAgICBpZiAodmlkZW9pZCAhPT0gbnVsbCkgewogICAgICAgICAgICBBYWsucmVxdWVzdCh7CiAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly93d3cubXlzcGFzcy5kZS9teXNwYXNzL2luY2x1ZGVzL2FwcHMvdmlkZW8vZ2V0dmlkZW9tZXRhZGF0YXhtbC5waHA/aWQ9JyArIHZpZGVvaWRbMV0sCiAgICAgICAgICAgICAgb25sb2FkIDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICBBYWsubG9nKHJlcyk7CgogICAgICAgICAgICAgICAgLy8gR2V0IHZpZGVvCiAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgIHZhciBkb20gPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlcywgImFwcGxpY2F0aW9uL3htbCIpOwogICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBkb20uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInVybF9mbHYiKS5pdGVtKDApLnRleHRDb250ZW50OwoKICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlbGVtZW50cwogICAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJ2Rpdi5sb2FkaW5nR2lmJyk7CgogICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBwbGF5ZXIKICAgICAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICAgICAgUGxheWVyLnZpZGVvanMoJyNwbGF5ZXInLCB7CiAgICAgICAgICAgICAgICAgIHNvdXJjZSA6IGZpbGUsCiAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiBmYWxzZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBOZWRlcmxhbmQKICAgICAgcnRseGxfbmwgOiB7CiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2wyemt2M2QKICAgICAgICBob3N0IDogWydydGx4bC5ubCcsICdydGxuaWV1d3MubmwnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgUGxheWVyLmVkaXRpbmcoJyNfcnRsb3NtZjAnLCB7CiAgICAgICAgICAgIHNldEZsYXNodmFycyA6IHsKICAgICAgICAgICAgICBhZGJsb2NrIDogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBOb3J3YXkKICAgICAgdmd0dl9uZXR3b3JrIDogewogICAgICAgIC8vIG5vdGU6IHNraXAgdmlkZW8gYWRzICsgYW50aS1hZGJsb2NrCiAgICAgICAgLy8gandwbGF5ZXI6IGh0dHA6Ly90aW55dXJsLmNvbS96eXY3OWhnCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0MDIKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMzY3CiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL253cDg1dCwgaHR0cDovL3Rpbnl1cmwuY29tL253cDg1dAogICAgICAgIGhvc3QgOiBbJ3ZndHYubm8nLCAndmcubm8nXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBvbGRIYXNoID0gbnVsbDsKICAgICAgICAgIHZhciB2aWRlb0lkID0gbnVsbDsKICAgICAgICAgIHZhciB2aWRlb0lkUmVnZXggPSAvI1whXC92aWRlb1wvKFxkKylcLy87CgogICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGxvY2F0aW9uIGhhc2ggY2hhbmdlcwogICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGxheWVyID0gQWFrLmdldEVsZW1lbnQoJy52aWRlby1wbGF5ZXInKTsKCiAgICAgICAgICAgIGlmIChwbGF5ZXIgJiYgbG9jYXRpb24uaGFzaCAhPSBvbGRIYXNoICYmIHZpZGVvSWRSZWdleC50ZXN0KGxvY2F0aW9uLmhhc2gpKSB7CiAgICAgICAgICAgICAgb2xkSGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgICAgdmlkZW9JZCA9IG9sZEhhc2gubWF0Y2godmlkZW9JZFJlZ2V4KVsxXTsKLyoKICAgICAgICAgICAgICB2YXIgaGxzdXJsID0gJ2h0dHBzOi8vc3Zwc2VjdXJlaGR2b2QtdmguYWthbWFpaGQubmV0L2kvMjAxNi8wMy8yMDE2MDMxMl81NmU0MjFmODZhZjQ1X3ZnMDEvLDEyODBfNzIwXzM1MDAsOTYwXzU0MF8xNTAwLDY0MF8zNjBfODAwLDQ4MF8yNzBfNTAwLC5tcDQuY3NtaWwvbWFzdGVyLm0zdTgnOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYXllcikKCiAgICAgICAgICAgICAgLy8gZG9uJ3Qgd29yayB3aXRoIGNocm9tZQogICAgICAgICAgICAgIC8vIHBsYXllci5pbm5lckhUTUwgPSAnPGRpdiBpZD0ibm9BZFBsYXllciI+VGhpcyB0ZXh0IHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIHBsYXllci48L2Rpdj4nOwoKCiAgICAgICAgICAgICAgLy8gY2FuJ3QgbG9hZCBtM3U4IDQwMzIgc3RhdHVzIGNvZGUKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHVuc2FmZVdpbmRvdy5qd3BsYXllcikKCiAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly9zdnAudmcubm8vc3ZwL2FwaS92MS92Z3R2L2Fzc2V0cy8nICsgdmlkZW9JZCArICc/YWRkaXRpb25hbD1zZXR0aW5nc3xjaGFwdGVyc3xjdWVQb2ludHN8ZXh0ZXJuYWxJZHxiYXJyZWxzfGV4dGVybmFsQ2F0ZWdvcnlJZHxuZXh0QXNzZXQmYXBwTmFtZT12Z3R2LXdlYnNpdGUnLAogICAgICAgICAgICAgICAgb25sb2FkIDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICB2YXIgcmVzID0gcmVzdWx0LnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgICAgICAgICAgICAgQWFrLmxvZyhvYmopOwoKICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBwbGF5ZXIKICAgICAgICAgICAgICAgICAgdmFyIFBsYXllciA9IG5ldyBBYWsucGxheWVyKCk7CiAgICAgICAgICAgICAgICAgIFBsYXllci52bGMocGxheWVyLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogb2JqLnN0cmVhbVVybHMuaGxzLCAvLyBtM3U4CiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdobHMnLAogICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5IDogZmFsc2UKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwge30sIHsKICAgICAgICAgICAgICAgIGluc2VydCA6ICdpbm5lcicKICAgICAgICAgICAgICB9KTsKKi8KICAgICAgICAgICAgfQogICAgICAgICAgfSwgMWUzKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG10Z19yYWRpbyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTQ5NQogICAgICAgIGhvc3QgOiBbJ3BsYXkucmFkaW8xLnNlJywgJ3BsYXkuYmFuZGl0LnNlJywgJ3BsYXkubHVnbmFmYXZvcml0ZXIuY29tJywgJ3BsYXkucml4Zm0uc2UnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB3aW5kb3cucGxheWVyX2xvYWRfbGl2ZSh3aW5kb3cuc3RyZWFtX2lkKTsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRwbGF5X25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0NjMKICAgICAgICBob3N0IDogWydkcGxheS5jb20nLCAnZHBsYXkuZGsnLCAnZHBsYXkuc2UnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMzY1KTsKICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKS50b1N0cmluZygpOwogICAgICAgICAgdmFyIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICJub3RpZmljYXRpb25TdWJtaXNzaW9uIiA6ICJzdWJtaXR0ZWQiLAogICAgICAgICAgICAgICJyZXBvcnRpbmdFeHBpcnkiIDogdGltZXN0YW1wLAogICAgICAgICAgICAgICJub3RpZmljYXRpb25FeHBpcnkiIDogdGltZXN0YW1wCiAgICAgICAgICAgIH0pOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnZHNjLWFkYmxvY2snLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2aWFzYXRfdHYgOiB7CiAgICAgICAgLy8gbm90ZTogc2tpcCB2aWRlbyBhZHMgKyBhbnRpLWFkYmxvY2sKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT10djNwbGF5CiAgICAgICAgLyogdGVzdDogaHR0cDovL3d3dy50djNwbGF5Lm5vL3Byb2dyYW1tZXIvcmVkbmluZ3Nza295dGEgaGRzL2hscwogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy50djNwbGF5LmRrL3Byb2dyYW1tZXIvbGluc2Utb2ctZGlkZGUtZWtzdHJhIGhkcy9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly93d3cudHYzcGxheS5zZS9wcm9ncmFtL2dsYW1vdXJhbWEgaGRzL2hscwogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy50djZwbGF5LnNlL3Byb2dyYW0vOTktc2FrZXItbWFuLW1hc3RlLWdvcmEtaW5uYW4tbWFuLWRvciBoZHMvaGxzCiAgICAgICAgICAgICAgICAgICBodHRwOi8vd3d3LnR2OHBsYXkuc2UvcHJvZ3JhbS9lZnRlcmx5c3QtLTEgaGRzL2hscwogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy50djEwcGxheS5zZS9wcm9ncmFtL2dhcnBlbnMtZXVyb3BhIGhkcy9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly90dnBsYXkuc2thdGllcy5sdi9wYXJyYWlkZXMvdHYzLXppbmFzIGhkcy9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9wbGF5LnR2My5sdC9wcm9ncmFtb3MvYmVhdG9zLXZpcnR1dmUgcnRtcC9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly90djNwbGF5LnR2My5lZS9zaXN1L3B1aGFwYWV2LXNlcG9nYSBydG1wL2hscyAqLwogICAgICAgIGhvc3QgOiBbJ3R2M3BsYXkubm8nLCAndHYzcGxheS5kaycsICd0djNwbGF5LnNlJywgJ3R2NnBsYXkuc2UnLCAndHY4cGxheS5zZScsICd0djEwcGxheS5zZScsICd0dnBsYXkuc2thdGllcy5sdicsICdwbGF5LnR2My5sdCcsICd0djNwbGF5LnR2My5lZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5oYXNFbGVtZW50KCcjdmlkZW8tcGxheWVyJywgZnVuY3Rpb24gKHRoaXNFbGVtZW50KSB7CiAgICAgICAgICAgIHRoaXNFbGVtZW50LmlkID0gJyc7CiAgICAgICAgICAgIC8vdmFyIHZpZGVvSWQgPSBsb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpLnBvcCgpOwogICAgICAgICAgICB2YXIgdmlkZW9JZCA9IHRoaXNFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS12aWRlby1pZCcpOwogICAgICAgICAgICBBYWsubG9nKHRoaXNFbGVtZW50LCB2aWRlb0lkKTsKCiAgICAgICAgICAgIC8vIGdldCB2aWRlbyBzb3VyY2VzCiAgICAgICAgICAgIEFhay5yZXF1ZXN0KHsKICAgICAgICAgICAgICB1cmwgOiAnaHR0cDovL3BsYXlhcGkubXRneC50di92My92aWRlb3Mvc3RyZWFtLycgKyB2aWRlb0lkLAogICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgICAgICAgICAgIEFhay5sb2cob2JqKTsKCiAgICAgICAgICAgICAgICAvKiBJbm5ob2xkZXQgZHUgcHLDuHZlciDDpSBzZSBlciBrdW4gdGlsZ2plbmdlbGlnIGZvciBicnVrZXJlIGkgTm9yZ2UKICAgICAgICAgICAgICAgIFByb2dyYW1tZXQgZXIgYmxva2VyZXQgZm9yIHZpc25pbmcgZnJhIGRlbm5lIGdlb2dyYWZpc2tlIHBvc2l0aW9uLgogICAgICAgICAgICAgICAgUHJvZ3JhbcSFIGdhbGl0ZSBtYXR5dGkgdGlrIGp1bmdkYW1pZXNpIGnFoSBMaWV0dXZvcyBpbnRlcm5ldG8gdGlla8SXasWzIHRpbmtsxbMgKi8KICAgICAgICAgICAgICAgIGlmIChvYmoubXNnKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzRWxlbWVudC5pbm5lckhUTUwgPSBvYmoubXNnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAndHYzcGxheS50djMuZWUnKSB7CiAgICAgICAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICAgICAgICBQbGF5ZXIuZ3JpbmRwbGF5ZXIodGhpc0VsZW1lbnQsIHsKICAgICAgICAgICAgICAgICAgICBzb3VyY2UgOiBvYmouc3RyZWFtcy5tZWRpdW0sCiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdydG1wL21wNCcsCiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHZpZGVvIHRhZyBmb3IgbmV3IHBsYXllcgogICAgICAgICAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgICAgICAgICAgdGFnIDogJ3ZpZGVvJywKICAgICAgICAgICAgICAgICAgICBpZCA6ICdub0FkUGxheWVyJywKICAgICAgICAgICAgICAgICAgICBjbGFzc2lkIDogJ3ZpZGVvLWpzIHZqcy1kZWZhdWx0LXNraW4nLAogICAgICAgICAgICAgICAgICAgIHdpZHRoIDogdGhpc0VsZW1lbnQuY2xpZW50V2lkdGggfHwgNzMwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IHRoaXNFbGVtZW50LmNsaWVudEhlaWdodCB8fCA0MTAsCiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZCA6ICdhdXRvJywKICAgICAgICAgICAgICAgICAgICBjb250cm9scyA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2UgOiB0aGlzRWxlbWVudAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIC8vIHBhcnNlIHNvdXJjZXMKICAgICAgICAgICAgICAgICAgdmFyIHNyY0FycmF5ID0gW107CiAgICAgICAgICAgICAgICAgIGlmIChvYmouc3RyZWFtcy5oaWdoICYmIG9iai5zdHJlYW1zLmhpZ2ggIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgc3JjQXJyYXkucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogInZpZGVvL21wNCIsIC8vIG1wNAogICAgICAgICAgICAgICAgICAgICAgc3JjIDogb2JqLnN0cmVhbXMuaGlnaAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9ICBpZiAob2JqLnN0cmVhbXMuaGxzICYmIG9iai5zdHJlYW1zLmhscyAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBzcmNBcnJheS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiAiYXBwbGljYXRpb24veC1tcGVnVVJMIiwgLy8gbTN1OAogICAgICAgICAgICAgICAgICAgICAgc3JjIDogb2JqLnN0cmVhbXMuaGxzCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gIGlmIChvYmouc3RyZWFtcy5tZWRpdW0gJiYgb2JqLnN0cmVhbXMubWVkaXVtICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gb2JqLnN0cmVhbXMubWVkaXVtLmluZGV4T2YoJ3J0bXAnKSA9PT0gMCA/ICdydG1wL21wNCcgOiAnYXBwbGljYXRpb24vZjRtK3htbCc7CiAgICAgICAgICAgICAgICAgICAgc3JjQXJyYXkucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogdHlwZSwKICAgICAgICAgICAgICAgICAgICAgIHNyYyA6IG9iai5zdHJlYW1zLm1lZGl1bQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIEFhay5sb2coc3JjQXJyYXksIEpTT04uc3RyaW5naWZ5KHNyY0FycmF5KSk7CiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIG5ldyBwbGF5ZXIKICAgICAgICAgICAgICAgICAgQWFrLmFkZFNjcmlwdChBYWsuaW50b1N0cmluZyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvblZqc1JlYWR5KCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LnZpZGVvanMgIT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVmpzUmVhZHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnZpZGVvanMoIm5vQWRQbGF5ZXIiKS5zcmMoL19TT1VSQ0VTXy8pOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBvblZqc1JlYWR5KCk7CiAgICAgICAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICAgICAgICAgIH0pLnJlcGxhY2UoIi9fU09VUkNFU18vIiwgSlNPTi5zdHJpbmdpZnkoc3JjQXJyYXkpKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gUnVzc2lhCiAgICAgIHJ1dHViZV9ydSA6IHsgLy8gcmVzZWFyY2ggc29sdXRpb24KICAgICAgICAvKiB0ZXN0OiBodHRwOi8vcnV0dWJlLnJ1L3ZpZGVvL2JkNWY2MDQ3NjU3ZjBiZGNiZmJiMGVkYWQyYmI3YzYxLyAqLwogICAgICAgIGhvc3QgOiBbJ3J1dHViZS5ydSddLAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmhhc0VsZW1lbnQoJyNydXR1YmVQbGF5ZXJIb2xkZXInLCBmdW5jdGlvbiAoKSB7ICAgICAgICAgICAgLy9kbUZ5SUc5d2RITWdQU0JCWVdzdVoyVjBSV3hsYldWdWRDZ2lJMjl3ZEdsdmJuTWlLVHNOQ2lBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJ2SUQwZ1FXRnJMbWx1ZEc5UFltcGxZM1FvYjNCMGN5NWtZWFJoYzJWMExuWmhiSFZsS1RzTkNpQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCdE0zVTRWWEpzSUQwZ2J5NTJhV1JsYjE5aVlXeGhibU5sY2k1dE0zVTRPdzBLSUNBZ0lDQWdJQ0FnSUNBZ1kyOXVjMjlzWlM1c2IyY29iVE4xT0ZWeWJDazdEUW9OQ2lBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJRYkdGNVpYSWdQU0J1WlhjZ1FXRnJMbkJzWVhsbGNpZ3BPdzBLSUNBZ0lDQWdJQ0FnSUNBZ1VHeGhlV1Z5TG5acFpHVnZhbk1vSnlOeWRYUjFZbVZRYkdGNVpYSkliMnhrWlhJbkxDQjdEUW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjMjkxY21ObElEb2diVE4xT0ZWeWJDd05DaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBlWEJsSURvZ0oyaHNjeWNzRFFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnTHk5d2NtOTRlVG9nZEhKMVpTd05DaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmhkWFJ2Y0d4aGVTQTZJSFJ5ZFdVTkNpQWdJQ0FnSUNBZ0lDQWdJQ0FnZlRzZ0tUcz0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gSXRhbHkKICAgICAgcmFpX3R2IDogeyAvLyByZXNlYXJjaCBzb2x1dGlvbgogICAgICAgIGhvc3QgOiBbJ3JhaS50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7fSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7fQogICAgICB9LAogICAgICAvLyBUViBTdHJlYW0KICAgICAgYmxvY2tfc3RyZWFtc190diA6IHsKICAgICAgICAvLyBub3RlOiByZWRpcmVjdCB0byBodHRwOi8vYmxvY2suc3RyZWFtcy50di8KICAgICAgICBob3N0IDogWydmaXJzdHJvdy5jbycsICdmaXJzdHJvd3MucnUnLCAnZmlyc3Ryb3dzLnR2JywgJ2ZpcnN0cm93cy5vcmcnLCAnZmlyc3Ryb3dzLmNvJywgJ2ZpcnN0cm93cy5iaXonLCAnZmlyc3Ryb3d1cy5ldScsICdmaXJzdHJvdzF1cy5ldScsICdmaXJzdHNyb3dzcG9ydHMuZXUnLCAnZmlyc3Ryb3dzcG9ydGVzLnR2JywgJ2ZpcnN0cm93c3BvcnRlcy5jb20nLCAnanVzdGZpcnN0cm93c3BvcnRzLmNvbScsICdoYWhhc3BvcnQubWUnLCAnd2l6aXdpZy5ydScsICd3aXppd2lnLnN4JywgJ3dpeml3aWcudG8nLCAnd2l6aXdpZy50dicsICdteXAycC5iaXonLCAnbXlwMnAudHYnLCAnbXlwMnAubGEnLCAnbXlwMnAuZWMnLCAnbXlwMnAuZXUnLCAnbXlwMnAuc3gnLCAnbXlwMnAud3MnLCAnbXlwMnAuY29tJywgJ2F0ZGhlLnJ1JywgJ2F0ZGhlLnNlJywgJ2F0ZGhlLmJ6JywgJ2F0ZGhlLnRvcCcsICdhdGRoZS50bycsICdhdGRoZS5tZScsICdhdGRoZS5teCcsICcgYXRkaGUubGknLCAnYXRkaGUuYWwnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoImFkYiIsIDEpOyAvLyBwcmV2ZW50IGFudGktYWRibG9jawogICAgICAgICAgQWFrLnV3Lm9wZW4gPSBmdW5jdGlvbiAoKSB7fTsgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYmFubmVySW5DZW50ZXIsICNoaWRkZW5CYW5uZXJDYW52YXMgeyBkaXNwbGF5OiBub25lOyB9Iik7IC8vIGhpZGUgYWRzCiAgICAgICAgfQogICAgICB9LAogICAgICBidXppbmFfeHl6IDogewogICAgICAgIC8vIG5vdGU6IGRpc2FibGUgcmVmY29udHJvbCwgdXNlZCBieSBmaXJzdHJvd3Nwb3J0cwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjY4CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyNDMKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODg5CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi84OTc1CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tLzhWVHJrdlM5CiAgICAgICAgaG9zdCA6IFsnYnV6aW5hLnh5eicsICdmYXJtZXQuaW5mbycsICdyaW1sYWRpLmNvbScsICdraXRvcmVsby5jb20nLCAnb21uaXBvbGEuY29tJywgJ3Bvcm9zaW4uY28udWsnLCAncmltbGVuby5jb20nLCAnc2ltcGxlNGFsbHMuY29tJywgJ2Fyc29wby5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRzZnJhbWUgeyBoZWlnaHQ6IDE1MXB4OyB9Iik7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL2J1emluYS54eXovLnRlc3QobG9jYXRpb24uaG9zdCkpIHsgLy8ga2VlcHMgc2FtZSBob3N0IHN0cmVhbQogICAgICAgICAgICBBYWsuaGFzRWxlbWVudCgnaWZyYW1lW3NyYyo9Ii5waHA/aGFzaD0iXScsIGZ1bmN0aW9uICh0aGlzRWxlbWVudCkgewogICAgICAgICAgICAgIC8vIGh0dHA6Ly9hcnNvcG8uY29tL3cyLnBocD9oYXNoPXBhbmRhNTgKICAgICAgICAgICAgICAvLyBodHRwOi8vd3d3LmJ1emluYS54eXovbmFuYTF2MS5waHA/b250aGV0b3AKICAgICAgICAgICAgICB2YXIgcGFydHMgPSB0aGlzRWxlbWVudC5zcmMuc3BsaXQoJy8nKTsKICAgICAgICAgICAgICBwYXJ0c1syXSA9IEFhay5ydWxlcy5idXppbmFfeHl6Lmhvc3QucG9wKCk7CiAgICAgICAgICAgICAgQWFrLmxvZyh0aGlzRWxlbWVudCwgcGFydHMpOwogICAgICAgICAgICAgIHRoaXNFbGVtZW50LnNyYyA9IHBhcnRzLmpvaW4oJy8nKTsKCiAgICAgICAgICAgICAgICAvKglkbUZ5SUc4Z1BTQjdDZ2tKQ1NBZ0lDQWljR3hoZVd4cGMzUWlJRG9nVzNzS0NRa0pJQ0FnSUNBZ0lDQWljSEp2ZG1sa1pYSWlJRG9nSW5KMGJYQWlMQW9KQ1FrZ0lDQWdJQ0FnSUNKMWNtd2lJRG9nSW5CaGJtUmhNVDlsSlRORU1UUTJOVEEzTURNeU5pVXlObk4wSlRORVVISjBTRmw1ZGtKNlpEbGFaRGRvUkY5bVVraFVaekV4TVRFek1DSUtDUWtKSUNBZ0lDQWdmUW9KQ1FrZ0lDQWdYU3dLQ1FrSklDQWdJQ0p3YkhWbmFXNXpJaUE2SUhzS0NRa0pJQ0FnSUNBZ0luSjBiWEFpSURvZ2V3b0pDUWtnSUNBZ0lDQWdJQ0oxY213aUlEb2dJbVpzYjNkd2JHRjVaWEl1Y25SdGNDMHpMakl1TVRFdWMzZG1JaXdnQ2drSkNRa0pMeThpZFhKc0lqb2dJbWgwZEhBNkx5OXlaV3hsWVhObGN5NW1iRzkzY0d4aGVXVnlMbTl5Wnk5emQyWXZabXh2ZDNCc1lYbGxjaTV5ZEcxd0xUTXVNaTR4TVM1emQyWWlMQW9KQ1FrZ0lDQWdJQ0FnSUNKdVpYUkRiMjV1WldOMGFXOXVWWEpzSWlBNklDSnlkRzF3T2k4dk1UZzFMamd5TGpJeE5TNDBOVG96TlRjNUwzWnZaQzhpQ2drSkNTQWdJQ0FnSUgwc0Nna0pDU0FnSUNBZ0lDSmpiMjUwY205c2N5SWdPaUI3Q2drSkNRa2dJQ0FnSW5WeWJDSTZJQ0pvZEhSd09pOHZjbVZzWldGelpYTXVabXh2ZDNCc1lYbGxjaTV2Y21jdmMzZG1MMlpzYjNkd2JHRjVaWEl1WTI5dWRISnZiSE10TXk0eUxqRTJMbk4zWmlJc0lDOHZJR0ZrWkdWa0lHSmxZMkYxYzJVZ2JXbHpjMmx1WndvSkNRa2dJQ0FnSUNBZ0lDSndiR0Y1SWlBNklHWmhiSE5sTEFvSkNRa2dJQ0FnSUNBZ0lDSnpZM0oxWW1KbGNpSWdPaUJtWVd4elpRb0pDUWtnSUNBZ0lDQjlDZ2tKQ1NBZ0lDQjlMQW9KQ1FrZ0lDQWdJbkJzWVhsbGNrbGtJaUE2SUNKd2JHRjVaWElpTEFvSkNRa2dJQ0FnSW1Oc2FYQWlJRG9nZXdvSkNRa2dJQ0FnSUNBaWRYSnNJaUE2SUNKd1lXNWtZVEUvWlNVelJERTBOalV3TnpBek1qWWxNalp6ZENVelJGQnlkRWhaZVhaQ2VtUTVXbVEzYUVSZlpsSklWR2N4TVRFeE16QWlDZ2tKQ1NBZ0lDQjlDZ2tKQ1NBZ2ZRb0tDUWtKSUNCMllYSWdibVYzVlhKc0lEMGdjR0Z5ZEhNdWMyeHBZMlVvTUN3Z015a3VhbTlwYmlnbkx5Y3BJQ3NnSnk5bWJHOTNjR3hoZVdWeUxUTXVNaTR4Tmk1emQyWS9ZMjl1Wm1sblBTY2dLeUJsYzJOaGNHVW9TbE5QVGk1emRISnBibWRwWm5rb2J5a3BPd29KQ1FrZ0lDOHZkbUZ5SUc1bGQxVnliQ0E5SUNkb2RIUndPaTh2Y21Wc1pXRnpaWE11Wm14dmQzQnNZWGxsY2k1dmNtY3ZjM2RtTDJac2IzZHdiR0Y1WlhJdE15NHlMakUyTG5OM1pqOWpiMjVtYVdjOUp5QXJJR1Z6WTJGd1pTaEtVMDlPTG5OMGNtbHVaMmxtZVNodktTazdDZ2tKQ1NBZ1kyOXVjMjlzWlM1c2IyY29ibVYzVlhKc0tUc0tDUWtKSUNCMGFHbHpSV3hsYldWdWRDNXpjbU1nUFNCdVpYZFZjbXc3CiAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNraXAgYW50aS1hZGJsb2NrCiAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjYWRzZnJhbWUnKTsKICAgICAgICAgICAgQWFrLmdldEVsZW1lbnQoJyNyZW1vdmUtb3ZlcicpLmNsaWNrKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBhbGxteXZpZGVvc19uZXQgOiB7CiAgICAgICAgLy8gbm90ZTogb2JmdXNjYXRlZAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yNzQKICAgICAgICBob3N0IDogWydhbGxteXZpZGVvcy5uZXQnLCAnYW12dHYubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHNraXAgZmFrZSBwbGF5IGJ1dHRvbgogICAgICAgICAgQWFrLnNldENvb2tpZSgnX2ZhdmJ0MzMnLCAxKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlsaXZlX2RvbWFpbnMgOiB7CiAgICAgICAgaG9zdCA6IFsnaWxpdmUudG8nLCAnc3RyZWFtbGl2ZS50byddLAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKC9eXC9lbWJlZHBsYXllci5waHAvaS50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBTa2lwIHRpbWVyCiAgICAgICAgICAgICAgQWFrLnV3LnJlbW92ZU92ZXJsYXlIVE1MKCk7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbWljYXN0X3R2IDogewogICAgICAgIGhvc3QgOiBbJ21pY2FzdC50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBwcmV2ZW50IHBvcHVuZGVyCiAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfbWFpbicsIHRydWUpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgndmlkX3N1YicsIHRydWUpOwogICAgICAgICAgLy8gcmVtb3ZlIG92ZXJsYXkKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGlmICh3aW5kb3cucmVtb3ZlT3ZlcmxheUhUTUwpCiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlT3ZlcmxheUhUTUwoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHhzdHJlYW1fdHYgOiB7CiAgICAgICAgaG9zdCA6IFsncHhzdHJlYW0udHYnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICgvXlwvZW1iZWRyb3V0ZXIucGhwLy50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBTa2lwIHRpbWVyIGFuZCBjbG9zZSBhZHMKICAgICAgICAgICAgICBBYWsudXcuY2xvc2VBZCgpOwogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNhd2xpdmVfdHYgOiB7CiAgICAgICAgaG9zdCA6IFsnc2F3bGl2ZS50diddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICgvXlwvZW1iZWRcL3dhdGNoXC8vaS50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICAvLyBTa2lwIHRpbWVyIGFuZCBjbG9zZSBhZHMKICAgICAgICAgICAgQWFrLnV3LmRpc3BsYXkgPSBmYWxzZTsKICAgICAgICAgICAgQWFrLnV3LmNsb3NlTXlBZCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgZ29vZGNhc3RfY28gOiB7CiAgICAgICAgaG9zdCA6IFsnZ29vZGNhc3QuY28nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL15cL3N0cmVhbS5waHAvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIC8vIHJlbW92ZSBhZHMgYWxsb3dlZCBieSBlYXN5bGlzdAogICAgICAgICAgICBBYWsudXcuJCgiLmFkdmVydGlzZW1lbnQiKS5oaWRlKCk7CiAgICAgICAgICAgIEFhay51dy4kKCcuYWRza3kgaWZyYW1lJykuYXR0cigic3JjIiwgImFib3V0OmJsYW5rIik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBzaG93c3BvcnRfdHZfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3Nob3dzcG9ydC10di5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL15cL2NoLnBocC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgLy8gcmVtb3ZlIGFkcyBhbGxvd2VkIGJ5IGVhc3lsaXN0CiAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjYWR2ZXJ0aXNlbWVudCwgLmFkdmVydGlzZW1lbnQnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNoYXJlY2FzdF90byA6IHsKICAgICAgICBob3N0IDogWydzaGFyZWNhc3QudG8nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL15cL2VtYmVkLnBocC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKCiAgICAgICAgICAgIC8vIERpc2FibGUgcG9wdW5kZXJzCiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ3ZpZF9tYWluJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfc3ViJywgMik7CiAgICAgICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfZGVsYXknLCB0cnVlKTsKICAgICAgICAgICAgICB9LCAxMDApOwoKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgIH0sIDUwMDApOwoKICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYW5zcGFyZW50IG92ZXJsYXkKICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyN0YWJsZTEnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpZGVvbWVnYV90diA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT12aWRlb21lZ2EKICAgICAgICBob3N0IDogWyd2aWRlb21lZ2EudHYnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKC9eXC92aWV3LnBocC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgLy8gcHJldmVudCBwb3B1bmRlcgogICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfbWFpbnB1JywgdHJ1ZSk7CiAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ3ZpZF9zdWJwdScsIHRydWUpOwogICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfZGVsYXknLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8ga2lsbCBhYmMKICAgICAgICAgIC8vIGZpeCBidWcgb24gZmlyZWZveDogVGhlIHZpZGVvIGNvdWxkIG5vdCBiZSBsb2FkZWQsIGVpdGhlciBiZWNhdXNlIHRoZSBzZXJ2ZXIgb3IgbmV0d29yayBmYWlsZWQgb3IgYmVjYXVzZSB0aGUgZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWQuCiAgICAgICAgICB2YXIgc2NyaXB0ID0gQWFrLmhhc1NjcmlwdCgnUGxlYXNlIGRpc2FibGUgQWRCbG9jayBQbHVnaW4gdG8gd2F0Y2ggdGhlIHZpZGVvJyk7CiAgICAgICAgICBpZiAoc2NyaXB0KSB7CiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBzY3JpcHQuaW5uZXJIVE1MOwogICAgICAgICAgICB2YXIgc3Vic3RyaW5nID0gc291cmNlLnN1YnN0cmluZyhzb3VyY2UubGFzdEluZGV4T2YoJ2V2YWwoJyksIHNvdXJjZS5sYXN0SW5kZXhPZignKScpICsgMSk7CiAgICAgICAgICAgIHZhciBkZW9iZnVzY2F0ZWQgPSBBYWsudW5wYWNrU2NyaXB0KHN1YnN0cmluZyk7CiAgICAgICAgICAgIHZhciBuZXdTY3JpcHQgPSAnaWYoJytkZW9iZnVzY2F0ZWQuc3Vic3RyaW5nKGRlb2JmdXNjYXRlZC5pbmRleE9mKCd0cnVlJykpOwogICAgICAgICAgICBBYWsuYWRkU2NyaXB0KG5ld1NjcmlwdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBmbG93cGxheWVyX2FudGlhZGJsb2NrIDogewogICAgICAgIGhvc3QgOiBbJ3ZpZGVvZnVuLm1lJywgJ3ZpZGVvYnVnLm5ldCcsICd2aWRlbzQ0Lm5ldCcsICdwbGF5NDQubmV0JywgJ2J5em9vLm9yZycsICdwbGF5YmIubWUnLCAndmlkZW93aW5nLm1lJywgJ3ZpZGVvem9vLm1lJywgJ2Vhc3l2aWRlby5tZScsICdwbGF5cGFuZGEubmV0J10sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgCiAgICAgICAgICAvKgogICAgICAgICAgaHR0cDovL3d3dy5hbmltZXRvb24udHYvYmxhY2stbGFnb29uLWVwaXNvZGUtMQogICAgICAgICAgaHR0cDovL3ZpZGVvd2luZy5tZS9lbWJlZD93PTcxOCZoPTQzOCZ2aWRlbz1vbmdvaW5nL3l1LWdpLW9oX2FyYy12Xy1fNTMubXA0CiAgICAgICAgICBodHRwOi8vcGxheWJiLm1lL2VtYmVkLnBocD93PTcxOCZoPTQzOCZ2aWQ9YXQvbncveXUtZ2ktb2hfYXJjLXZfLV81My5tcDQKICAgICAgICAgIGh0dHA6Ly92aWRlb3pvby5tZS9lbWJlZC5waHA/dz03MTgmaD00MzgmdmlkPWF0L253L3l1LWdpLW9oX2FyYy12Xy1fNTMubXA0CiAgICAgICAgICBodHRwOi8vd3d3LmVhc3l2aWRlby5tZS9nb2dvLz93PTcxOCZoPTQzOCZmaWxlPXl1LWdpLW9oX2FyYy12Xy1fNTMubXA0JnN2PTEKICAgICAgICAgIGh0dHA6Ly9wbGF5cGFuZGEubmV0L2VtYmVkLnBocD93PTcxOCZoPTQzOCZ2aWQ9YXQvbncveXUtZ2ktb2hfYXJjLXZfLV81My5tcDQKICAgICAgICAgICAqLwoKICAgICAgICAgIC8vIGFsbG93IGZ1bGxzY3JlZW4gd2hlbiBhYnAgaXMgZW5hYmxlZCBhbmQgcmVtb3ZlIGFkIGxheWVyCiAgICAgICAgICAvLyBhZHMgYmxvY2tlZCBieSBhYnAgcnVsZQogICAgICAgICAgaWYgKC9eXC8oZW1iZWR8Z29nb3xncGx1cykvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICBQbGF5ZXIuZWRpdGluZygnI2Zsb3dwbGF5ZXJfYXBpJywgewogICAgICAgICAgICAgIHNldEF0dHJpYnV0ZXMgOiB7CiAgICAgICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW4gOiB0cnVlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHIzeiA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1sYWJlbDpSM1oKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vQzE1OWtldm4KICAgICAgICBob3N0IDogWydjaXR5YW0uY29tJywgJ2NvbXB1dGVyd29ybGR1ay5jb20nLCAndGVjaHdvcmxkLmNvbScsICd2My5jby51ayddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvKiBkb24ndCB3b3JrIHdpdGggY2hyb21lCiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnX3IzeicsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDoge30KICAgICAgICAgIH0pOwogICAgICAgICAgKi8KICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy4kKCIjcjN6LXdhaXQiKS5yZW1vdmUoKTsKICAgICAgICAgIEFhay51dy4kKCIucjN6LWhpZGUiKS5yZW1vdmVDbGFzcygicjN6LWhpZGUiKTsKICAgICAgICAgIEFhay51dy5fcjN6ID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdvb2dsZV9qb2JydW5uZXIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vZm9ydW0vbWVzc2FnZXMvNDA1CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzNDMKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTM0MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MzEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI3NAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjYyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU2MQogICAgICAgIGhvc3QgOiBbJ25leHQtZXBpc29kZS5uZXQnLCAna2luZ21ha2VyLm5ld3MnLCAnZ2FtZXNwb3dlcml0YS5jb20nLCAndG9kYXlpZG9sLmNvbScsICdyZWNlaXZlLWEtc21zLmNvbScsICd3YWtldXBjYWxsbWUuY29tJywgJ3JpbmdteWNlbGxwaG9uZS5jb20nLCAnZmFxbW96aWxsYS5vcmcnLCAndGhlbWVteXBjLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lmdvb2dsZV9qb2JydW5uZXIgPSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIGZ1Y2thZGJvY2sgY3VzdG9taXplZAogICAgICBmYWJfZGF3bl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE3NDcKICAgICAgICBob3N0IDogWydkYXduLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdkZXRlY3RBZEJsb2NrJywgJ0RldGVjdEFkQmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl9zcG9ydHNfZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyMTcKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vU3BFTjVkdVMKICAgICAgICBob3N0IDogWydzcG9ydHMuZnInXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnZmFiSW5zdGFuY2UnLCAnRmFiSW5zdGFuY2UnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl9ldXJvcGUxX2ZyIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTg4CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1VMZTF2elFSCiAgICAgICAgaG9zdCA6IFsnZXVyb3BlMS5mciddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdmYWJJbnN0YW5jZScsICdGYWJJbnN0YW5jZScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX25ld3lvcmtlcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzExNzcKICAgICAgICBob3N0IDogWyduZXd5b3JrZXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5mYWtlRnVja0FkQmxvY2soJ3NuaWZmQWRCbG9jaycsICdTbmlmZkFkQmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl93aXJlZF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwNjEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mci9mb3J1bS9kaXNjdXNzaW9uLzgyMzUKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vUHExNHY0RkMKICAgICAgICBob3N0IDogWyd3aXJlZC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnc25pZmZBZEJsb2NrJywgJ1NuaWZmQWRCbG9jaycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX21hbmdhc3Byb2plY3RfZG9tYWlucyA6IHsKICAgICAgICAvLyBub3RlOiBmdWNrYWRibG9jayB3aXRoIGN1c3RvbSBpbnN0YW5jZSBuYW1lCiAgICAgICAgLy8gbm90ZTogYWxzbyBhZGRlZCBhYnAgcnVsZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTI3CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZnIvZm9ydW0vZGlzY3Vzc2lvbi80MTMyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg1OAogICAgICAgIC8vIHNvdXJjZTogaHR0cHM6Ly9tYW5nYXMuemx4LmNvbS5ici9tYW5nYXpvcmRfbGliL2pzL2xpYi9jb250cm9sbGVycy9MZWl0b3IvTGVpdG9yLm1pbi5qcwogICAgICAgIGhvc3QgOiBbJ21hbmdhc3Byb2plY3QuY29tLmJyJywgJ21hbmdhc3Byb2plY3QubmV0LmJyJywgJ21hbmdhcy56bHguY29tLmJyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5mYWtlRnVja0FkQmxvY2soJ21hbmdhc0xlaXRvclNsaWRlcicsIEFhay5nZW5lcmF0ZUlEKCkpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX3FuaW1hdGVfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy83MzkKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzA1CiAgICAgICAgLy8gbm90ZTogZnVja2FkYmxvY2sgY3VzdG9taXplZAogICAgICAgIGhvc3QgOiBbJ3FuaW1hdGUuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRCbG9ja0RldGVjdGVkID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBmYWJfZXVyb3RyYW5zcG9ydF9kZSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODU4CiAgICAgICAgLy8gbm90ZTogZnVja2FkYmxvY2sgd2l0aCBjdXN0b20gaW5zdGFuY2UgbmFtZQogICAgICAgIGhvc3QgOiBbJ2V1cm90cmFuc3BvcnQuZGUnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnYW50aUFkQmxvY2snLCBBYWsuZ2VuZXJhdGVJRCgpKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl9jYWRldGVjdCA6IHsKICAgICAgICAvLyBieTogU2tyNHRjaEdyM2F6eU1vbmtpQmFsbGxsbGxaenp6CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzc4NAogICAgICAgIC8vIG5vdGU6IGZ1Y2thZGJsb2NrIHdpdGggY3VzdG9tIGluc3RhbmNlIG5hbWUKICAgICAgICBob3N0IDogWyd0emV0emUuaXQnLCAnYmVwcGVncmlsbG8uaXQnLCAnbGEtY29zYS5pdCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdjYWRldGVjdCcsICdDQURldGVjdCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX2FnYXJfZ2FtZSA6IHsKICAgICAgICAvLyBub3RlOiBmdWNrYWRibG9jayB3aXRoIGN1c3RvbSBpbnN0YW5jZSBuYW1lCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyNTcKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTEzNQogICAgICAgIGhvc3QgOiBbJ2FnYXJpby5zeCcsICdhZ2FyYWJpLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdhZ2FyaW9fU1hfYWRzJywgQWFrLmdlbmVyYXRlSUQoKSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmYWJfZmlsZXNwYWNlX2NvbSA6IHsKICAgICAgICAvLyBub3RlOiBmdWNrYWRibG9jayB3aXRoIGN1c3RvbSBpbnN0YW5jZSBuYW1lCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1lBUzBBczg3CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwMzcKICAgICAgICBob3N0IDogWydmaWxlc3BhY2UuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5mYWtlRnVja0FkQmxvY2soJ2ZBQicsIEFhay5nZW5lcmF0ZUlEKCkpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX3RvcHNlcmlhbHlfc2sgOiB7CiAgICAgICAgLy8gbm90ZTogZnVja2FkYmxvY2sgd2l0aCBjdXN0b20gaW5zdGFuY2UgbmFtZQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS80MnRVUTlhVgogICAgICAgIGhvc3QgOiBbJ3RvcHNlcmlhbHkuc2snXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnc3JhdE5hVmFzJywgQWFrLmdlbmVyYXRlSUQoKSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmYWJfY3VzdG9taXplZCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTQ1NQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNjU3CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL040MmE1QmpFCiAgICAgICAgaG9zdCA6IFsnZXBpY3VyaW91cy5jb20nLCAnZGVza3RvcHNvbHV0aW9uLm9yZycsICdpbmRpYXRpbWVzLmNvbScsICdoaW5kdXN0YW50aW1lcy5jb20nLCAnaGFwcHl0cmlwcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfc2V0QXR0cmlidXRlID0gd2luZG93LkVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZTsKICAgICAgICAgICAgICB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSAnY2xhc3MnICYmIHZhbHVlLmluZGV4T2YoJ3RleHRfYWRzJykgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKHRoaXMsICdmYWIgaW50ZXJjZXB0ZWQgOi0pJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfc2V0QXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSwgdmFsdWUpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGQzeHQzZXJfYW50aWFkYmxvY2sgOiB7CiAgICAgICAgLy8gc2l0ZTogaHR0cDovL2QzeHQzci5jb20vYW50aS1hZGJsb2NrCiAgICAgICAgLy8gY2FzZTogaHR0cDovL3Nwb3J0LXNob3cuZnIvanMvYWR2ZXJ0aXNlbWVudC1BZEJsb2NrLmpzCiAgICAgICAgLy8gY2FzZTogaHR0cDovL3d3dy4yc2l0ZS5tZS9hZHZlcnRpc2VtZW50LUFkQmxvY2suanMKICAgICAgICBob3N0IDogWydzcG9ydC1zaG93LmZyJywgJ3ZpcGZsYXNoLm5ldCcsICcyc2l0ZS5tZSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNibG9ja2Jsb2NrQSB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tBIHRkIHt2aXNpYmlsaXR5OmludmlzaWJsZTtkaXNwbGF5Om5vbmU7fSAjYmxvY2tibG9ja0EgdGQgcCB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tCIHt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTpibG9jazt9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBhZGJsb2NrX25vdGlmeSA6IHsKICAgICAgICAvLyBieTogU2tyNHRjaEdyM2F6eU1vbmtpQmFsbGxsbGxaenp6CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE3NjYKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTM5MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMDM5CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU5MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MTMKICAgICAgICBob3N0IDogWydnYW1ldHJhbnNmZXJzLmNvbScsICd3aW5hbmRtYWMuY29tJywgJ2ZyZWUtc3RlYW0tZ2l2ZWF3YXlzLmNvbScsICdjYW5hbHdwLmNvbScsICdhbHBoYWhpc3RvcnkuY29tJywgJ25vcmRwcmVzc2UuYmUnLCAnc29zcGMubmFtZScsICdiYWJvby5jb20uYnInXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2FuQ29va2llJywgdHJ1ZSk7CiAgICAgICAgICBBYWsudXcuYW5PcHRpb25zID0ge307CiAgICAgICAgfQogICAgICB9LAogICAgICBsdXR0ZV9hZGJsb2NrIDogewogICAgICAgIC8vIHNpdGU6IGh0dHA6Ly9sdXR0ZWFkYmxvY2suYmxvZ3Nwb3QuY29tLzIwMTQvMTEvbGUtc2NyaXB0Lmh0bWwKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTM4CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU4MAogICAgICAgIGhvc3QgOiBbJ2xld2VidHZib3VxdWV0ZnJhbmNvcGhvbmUub3ZlcmJsb2cuY29tJywgJ3dlYnR2LmJsb2d1ZXouY29tJywgJ2xhdGVsZWdyYXR1aXRlLmJsb2dzcG90LmNvbScsICd0b3RhbGRlYnJpZC5vcmcnLCAnMzcuMTg3LjE3My4yMDUnLCAndHZncmF0dWl0ZS5ibG9nc3BvdC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjbXlfYWRfZGl2Jyk7CiAgICAgICAgICBBYWsudXcuamFiYmFodWQgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFudGlibG9jayA6IHsKICAgICAgICAvLyBzaXRlOiBhbnRpYmxvY2sub3JnCiAgICAgICAgLy8gbm90ZTogY3VzdG9taXplZAogICAgICAgIC8vIGlzc3VlOiAKICAgICAgICBob3N0IDogWydteWJhbmsucGwnLCAncmFwaWRncmFiLnBsJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfYWRkRXZlbnRMaXN0ZW5lciA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyOwogICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIudG9TdHJpbmcoKS5pbmRleE9mKCcubmV4dEZ1bmN0aW9uKCl9JykgPiAtMSkgewogICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oWydBbnRpQWRiS2lsbGVyJywgbG9jYXRpb24uaG9zdCwgJ0FudGlCbG9ja3tjdXN0b21pemVkfSddKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9hZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJsb2NrYWRibG9jayA6IHsKICAgICAgICAvLyBzaXRlOiBibG9ja2FkYmxvY2suY29tCiAgICAgICAgLy8gbm90ZTogcmFuZG9tIGluc3RhbmNlIG5hbWUKICAgICAgICAvLyBzb3VyY2U6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1dhdGlsaW4vYWY3NWUwYTJlODJhMmVmYjM4NGJkZTljN2I0MWRlYzgKICAgICAgICAvLyBpc3N1ZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bGFiZWw6QmxvY2tBZEJsb2NrCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi84MjczCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi83NjI1CiAgICAgICAgaG9zdCA6IFsnYmxvY2thZGJsb2NrLmNvbScsICdsaW5rZHJvcC5uZXQnLCAncmV2Y2xvdWRzLmNvbScsICdsZXBvcm5vLm9yZycsICd1cGxvYWRzaHViLmNvbScsICdkYXNvbG8ub3JnJywgJ2Z1bGxzdHVmZi5uZXQnLCAnemV1c25ld3MuaXQnLCAnY2hlbWlub3RzLm5ldCcsICdsb2xzeS50dicsICdhbmltZXMtbWFuZ2FzLWRkbC5jb20nLCAnbm90aWNpYXNhdXRvbW90aXZhcy5jb20uYnInLCAnZGFya3N0YXJzLm9yZycsICdjb3JlcGFja3MuY29tJywgJ25hdHVyYWxiZC5jb20nLCAnY29vbHNvZnQuYWx0ZXJ2aXN0YS5vcmcnLCAnb3BlbmxvYWQudXMnLCAnY2RhLW9ubGluZS5wbCcsICd1cmJhbnBsYW5ldC5vcmcnLCAnbWFtYWhkLmNvbScsICdzYWRlZW1wYy5jb20nLCAnYXZtb28uY29tJywgJ3RoYWlsYW5kZS1mci5jb20nLCAnYnRhaWEuY29tJywgJ3R1c29mdC5vcmcnLCAnaGlzc2UubmV0JywgJ2V1cm9wZXVwLmNvbScsICducmouZnInLCAnc3Juay5jbycsICdhbmltbWV4LmNvJywgJ3NvY2tldGxvb3AuY29tJywgJ2NyYWNraGV4LmNvbScsICdyZXZlYWxlZHRyaWNrczR1LmNvbScsICdwaXp6YW1ha2luZy5jb20nLCAnY29tcHV0ZXJ3b3JtLm5ldCcsICd5b3VybGlmZXVwZGF0ZWQubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyB2YXJpYW50IDEKICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgX3NldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dDsKICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCA9IGZ1bmN0aW9uIChmbiwgZGVsYXkpIHsKICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZuLnRvU3RyaW5nKCkpCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnc3RyaW5nJyAmJiBmbi5pbmRleE9mKCdiYWJfZWxlbWVudGlkJykgPiAtMSkgewogICAgICAgICAgICAgICAgICBmbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oWydBbnRpQWRiS2lsbGVyJywgbG9jYXRpb24uaG9zdCwgJ0Jsb2NrQWRCbG9jayddKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9zZXRUaW1lb3V0LmNhbGwodGhpcywgZm4sIGRlbGF5KTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBncHRfc3AgOiB7CiAgICAgICAgLy8gYnk6IFJlZWssIEdpd2F5dW1lCiAgICAgICAgLy8gbm90ZTogd2hlbiBhZGJsb2NrIGRldGVjdGVkIGluamVjdCBuZXcgYWRzLCByZWRpcmVjdCB0byBodHRwOi8vdGlueXVybC5jb20venEyejVvNgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNjM2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1OTYKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI5NwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTQ0CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1NDIKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vOEFqaXRmYjIKICAgICAgICBob3N0IDogWydtYXJrZXR3YXRjaC5jb20nLCAnZGVhZGxpbmUuY29tJywgJ3R3ZWFrdG93bi5jb20nLCAnbnlwb3N0LmNvbScsICdyZWFsZ20uY29tJywgJ25hc2RhcS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuY29udGFpbmVyLS1iYW5uZXJBZCwgLmNvbC0tYWQgeyBkaXNwbGF5OiBub25lOyB9Iik7CiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBHaXdheXVtZSAKICAgICAgICAgICAgICB3aW5kb3cuX3NwXyA9IHdpbmRvdy5fc3BfIHx8IHt9OwogICAgICAgICAgICAgIHdpbmRvdy5fc3BfLmNvbmZpZyA9IHdpbmRvdy5fc3BfLmNvbmZpZyB8fCB7fTsKICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93Ll9zcF8uY29uZmlnLCAiY29udGVudF9jb250cm9sX2NhbGxiYWNrIiwgewogICAgICAgICAgICAgICAgdmFsdWUgOiBmdW5jdGlvbiAoKSB7fSwKICAgICAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgICAgICBjb25maWd1cmFibGUgOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIC8vIFJlZWsKICAgICAgICAgICAgICB2YXIgX2FkZEV2ZW50TGlzdGVuZXIgPSB3aW5kb3cuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI7CiAgICAgICAgICAgICAgd2luZG93LkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnc3AuYmxvY2tpbmcnKSB7CiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhbJ0FudGlBZGJLaWxsZXInLCBsb2NhdGlvbi5ob3N0LCAnR1BUe3NwLWJsb2NraW5nfSddKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9hZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtydXhfYXNsIDogewogICAgICAgIC8vIG5vdGU6IHdoZW4gYWRibG9jayBkZXRlY3RlZCBpbmplY3QgbmV3IGFkcwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8wSEQ3Tjg0aQogICAgICAgIGhvc3QgOiBbJ2NvbW1lbnRjYW1hcmNoZS5uZXQnLCAnam91cm5hbGRlc2ZlbW1lcy5jb20nLCAnbGludGVybmF1dGUuY29tJ10sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW3sKICAgICAgICAgICAgICBkZXRlY3RlZCA6ICdLcnV4e2FzbH0nLAogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ0FzbC5wcm90b3R5cGUuaW5qZWN0JywKICAgICAgICAgICAgICBleHRlcm5hbCA6IGZhbHNlLAogICAgICAgICAgICAgIHJlbW92ZSA6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtydXhfYWRwIDogewogICAgICAgIC8vIG5vdGU6IHdoZW4gYWRibG9jayBkZXRlY3RlZCBpbmplY3QgbmV3IGFkcwogICAgICAgIC8vIHNvdXJjZTogCiAgICAgICAgaG9zdCA6IFsnZm91cmNoZXR0ZS1ldC1iaWtpbmkuZnInLCAnbWV0ZW9jaXR5LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRQcm90ZWN0ID0gMTsKICAgICAgICB9CiAgICAgIH0sCSAKICAgICAgcGhvZW5peF9nb3lhdmVsYWIgOiB7CiAgICAgICAgLy8gbm90ZTogd2hlbiBhZGJsb2NrIGRldGVjdGVkIGluamVjdCBuZXcgYWRzCiAgICAgICAgLy8gbm90ZTogc2NyaXB0IGFudGktYWRibG9jayBvYmZ1c2NhdGVkLAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8KICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS9nbDNnaHEyCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL2hzQW1kU3VmCiAgICAgICAgaG9zdCA6IFsnZGVtby1waG9lbml4LmNvbScsICdkcHN0cmVhbS5uZXQnLCAnZ3VtLWd1bS1zdHJlYW1pbmcuY29tJywgJ2pldS5pbmZvJywgJ3NvZm9vdC5jb20nLCAnZ2FhcmEtZnIuY29tJywgJ2dheXR1YmUuY29tJywgJ3R1eGJvYXJkLmNvbScsICd4c3RvcnktZnIuY29tJywgJ2hlbnRhaWZyLm5ldCcsICdmaWxtc3RyZWFtaW5nLWhkLmNvbScsICdmaWxtdmYubmV0JywgJ2hlbnRhaWhhdmVuLm9yZycsICduYXJ1dG9zaGlwcHVkZW52Zi5jb20nLCAndGhlYmFkYnV6ei5jb20nLCAnbWFuZ2EtbmV3cy5jb20nLCAnamV1LnZpZGVvJywgJ21hbmdhcy1mci5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vQWFrLnV3Ll9fJGRjID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJ2JvZHkge3Zpc2liaWxpdHk6IHZpc2libGU7fScpOwogICAgICAgIH0sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW3sgCiAgICAgICAgICAgICAgZGV0ZWN0ZWQgOiAnUGhvZW5peEdveWF2ZWxhYicsCiAgICAgICAgICAgICAgY29udGFpbnMgOiAnUEhFTlYnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIF07CiAgICAgICAgfQogICAgICB9LAogICAgICBhZF9kZWZlbmRfdWFicCA6IHsKICAgICAgICAvLyBub3RlOiB3aGVuIGFkYmxvY2sgZGV0ZWN0ZWQgaW5qZWN0IG5ldyBhZHMKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vY0ZRQ3A4MFcKICAgICAgICBob3N0IDogWyd0dnNwaWVsZmlsbS5kZScsICdmaW5hbnplbi5jaCddLAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgZGV0ZWN0ZWQgOiAnQWREZWZlbmR7VUFCUEluamVjdH0nLAogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ1VBQlBJbmplY3QnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWRfZGVmZW5kX3VhYiA6IHsKICAgICAgICAvLyBub3RlOiB3aGVuIGFkYmxvY2sgZGV0ZWN0ZWQgaW5qZWN0IG5ldyBhZHMKICAgICAgICAvLyB1c2Vyc2NyaXB0OiBodHRwczovL29wZW51c2VyanMub3JnL3NjcmlwdHMvc2Nod2FyenRlZS9BZERlZmVuZF9LbGF0c2NoZQogICAgICAgIC8vIHVzZXJzY3JpcHQ6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2Fub255bW91cy9hOWI5OTU2YmFmMWQ1OWExMDdjNQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8xVnlXMHU5bSwgaHR0cDovL3Bhc3RlYmluLmNvbS9BWnFoUnhXVQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWxhYmVsOkFkRGVmZW5kCiAgICAgICAgLy8gcHVsbDogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9wdWxsLzQ2NwogICAgICAgIGhvc3QgOiBbJ3dhdGNoZ2VuZXJhdGlvbi5mcicsICd0dXJiby5mcicsICcyNG1hdGlucy5mcicsICdmb290MDEuY29tJywgJ2NsdWJpYy5jb20nLCAnbWFjZy5jbycsICdiZWdlZWsuZnInLCAnaWdlbi5mcicsICdnYW1lc3Rhci5kZScsICdmb2N1cy5kZScsICdzdGVybi5kZScsICdzYXQxLicsICdwcm9zaWViZW4uJywgJ2thYmVsZWlucy4nLCAnc2F0MWdvbGQuJywgJ3NpeHguJywgJ3Byb3NpZWJlbm1heHguJywgJ2ZlbS5jb20nLCAndGhlLXZvaWNlLW9mLWdlcm1hbnkuJywgJ3dldHRlci5jb20nLCAnd2V0dGVyb25saW5lLmRlJywgJ3Bjd2VsdC5kZScsICdib2Vyc2Utb25saW5lLmRlJywgJ3Nwb3J0YXV0by5kZScsICdhdXRvLW1vdG9yLXVuZC1zcG9ydC5kZScsICdtb3Rvci1rbGFzc2lrLmRlJywgJzR3aGVlbGZ1bi5kZScsICdhdXRvc3RyYXNzZW52ZXJrZWhyLmRlJywgJ2x1c3RpY2guZGUnLCAnc3BveC5jb20nLCAnc2h6LmRlJywgJ3RyYW5zZmVybWFya3QuZGUnLCAncnAtb25saW5lLmRlJywgJ21vdG9ycmFkb25saW5lLmRlJywgJzIwbWluLmNoJywgJ21haW4tc3BpdHplLmRlJywgJ3dvcm1zZXItemVpdHVuZy5kZScsICdsYW1wZXJ0aGVpbWVyLXplaXR1bmcuZGUnLCAnd2llc2JkZW5lci10YWdibGF0dC5kZScsICdidWVyc3RhZWR0ZXItemVpdHVuZy5kZScsICd3aWVzYmRlbmVyLWt1cmllci5kZScsICdyaGVpbi1tYWluLXByZXNzZS5kZScsICdhbGxnZW1laW5lLXplaXR1bmcuZGUnLCAnYXJpdmEuZGUnLCAnc3BpZWdlbC5kZScsICdicmlnaXR0ZS5kZScsICdkc2hpbmkubmV0JywgJ2dhbGEuZGUnLCAnZ2FtZXByby5kZScsICdnYW1vbmEuZGUnLCAncG5uLmRlJywgJ3Byb21vYmlsLmRlJywgJ3Nwb3J0YWwuZGUnLCAnd2ViZmFpbC5jb20nLCAnY29tcHV0ZXJiaWxkLmRlJywgJ2ZpbmFuemVuLm5ldCcsICdjb211bmlvLmRlJywgJ21lZGlzaXRlLmZyJ10sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW3sKICAgICAgICAgICAgICBkZXRlY3RlZCA6ICdBZERlZmVuZHt1YWJJbmplY3R9JywKICAgICAgICAgICAgICBjb250YWlucyA6ICd1YWJJbmplY3QnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLyogc29sdmVkIGJ5IEFha0xJc3QKICAgICAgdGlzb29taV9pbmRpcmVrdCA6IHsKICAgICAgLy8gaW5saW5lOiBodHRwOi8vcGFzdGViaW4uY29tL25wbVhUVUh3CiAgICAgIC8vIGV4dGVybmFsOiBodHRwOi8vcGFzdGViaW4uY29tL2h2V25DdUR3CiAgICAgIGhvc3QgOiBbJ2VuZXJneS5kZScsICdnZXR2aWRzLmRlJywgJ2dld2luZGUtbm9ybWVuLmRlJywgJ3BvZGNhc3QuZGUnLCAnc3BpZWxlc3BpZWxlbjI0LmRlJywgJ2RpYWxvLmRlJ10sCiAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDsKICAgICAgdmFyIHRleHQgPSB0YXJnZXQudGV4dDsKICAgICAgaWYgKEFhay5jb250YWlucyh0ZXh0LCAnbj0iYWJjZGVmZ2hpamtsbSIscj0ibm9wcXJzdHV2d3h5eiIsaT0iMDEyMzQ1Njc4OSI7dmFyIHM9dD09MD9pOnQ9PTE/bicpKSB7CiAgICAgIEFhay5zdG9wU2NyaXB0KGUpOwogICAgICBBYWsubG9nKCdUaXNvb21pIEluZGlyZWt0Jyk7CiAgICAgIH0KICAgICAgfQogICAgICB9LAogICAgICAgKi8KICAgICAgLyogc29sdmVkIGJ5IEFha0xJc3QKICAgICAgdGlzb29taV9kaXJla3QgOiB7CiAgICAgIC8vIGlubGluZTogaHR0cDovL3Bhc3RlYmluLmNvbS8ydnEzOEpYWQogICAgICBob3N0IDogWydhdXRvemVpdHVuZy5kZScsICdmb3JtZWwxLmRlJywgJ2ZyZW1kd29ydC5kZScsICdpbnNpZGUtaGFuZHkuZGUnLCAnbW90b3JzcG9ydC10b3RhbC5jb20nLCAnYXVzc2Vud2lydHNjaGFmdHNsdXBlLmRlJywgJ2Rvbm5lcndldHRlci5kZScsICd3aW50b3RhbC5kZSddLAogICAgICBvbkJlZm9yZVNjcmlwdCA6IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7CiAgICAgIHZhciB0ZXh0ID0gdGFyZ2V0LnRleHQ7CiAgICAgIGlmIChBYWsuY29udGFpbnModGV4dCwgJ2Z1bmN0aW9uIGRldGVjdCgpJykpIHsKICAgICAgQWFrLnN0b3BTY3JpcHQoZSk7CiAgICAgIEFhay5sb2coJ1Rpc29vbWkgRGlyZWt0Jyk7CiAgICAgIH0KICAgICAgfQogICAgICB9LAogICAgICAgKi8KICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgLy8gR2VuZXJpYwogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBnZW5lcmljIDogewogICAgICAgIGhvc3QgOiBbJy4qPyddLAogICAgICAgIG9uUmVtb3ZlIDogZnVuY3Rpb24gKHJlbW92ZWROb2RlKSB7CiAgICAgICAgICBpZiAoQWFrLm9wdHMucmVtb3ZlZCkgewogICAgICAgICAgICBpZiAocmVtb3ZlZE5vZGUuc3JjIHx8CiAgICAgICAgICAgICAgcmVtb3ZlZE5vZGUuaWQgfHwKICAgICAgICAgICAgICByZW1vdmVkTm9kZS5jbGFzc05hbWUgJiYKICAgICAgICAgICAgICAhL15maXJlYnVnLy50ZXN0KHJlbW92ZWROb2RlLmNsYXNzTmFtZSkpIHsKICAgICAgICAgICAgICAvLyBOb2RlIHJlbW92ZWQKICAgICAgICAgICAgICBBYWsubG9nKHJlbW92ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAvLyBGdWNrQWRCbG9jayAmIEJsb2NrQWRCbG9jayB2MyBhbmQgdjQKICAgICAgICAgIC8vIHNpdGU6IGh0dHA6Ly93d3cuc2l0ZXh3LmZyL2Z1Y2thZGJsb2NrLwogICAgICAgICAgLy8gcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL3NpdGV4dy9GdWNrQWRCbG9jawogICAgICAgICAgLy8gcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL3NpdGV4dy9CbG9ja0FkQmxvY2sKICAgICAgICAgIC8vIG5vdGU6IHdoZW4gZnVja2FkYmxvY2suanMgb3IgYmxvY2thZGJsb2NrLmpzIGlzIGJsb2NrZWQKICAgICAgICAgIC8vIGRlbW8gdjM6IGh0dHA6Ly9zaC5zdC92b3ZIRQogICAgICAgICAgLy8gZGVtbyB2NDogaHR0cDovL2FsLmx5L3FCYlhICiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODg4CiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODI0CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdmdWNrQWRCbG9jaycsICdGdWNrQWRCbG9jaycpOwogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnYmxvY2tBZEJsb2NrJywgJ0Jsb2NrQWRCbG9jaycpOwoKICAgICAgICAgIC8vIGNhblJ1bkFkcwogICAgICAgICAgLy8gcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL01hdHRoZXdHcm9zcy9DYW5SdW5BZHMKICAgICAgICAgIC8vIG5vdGU6IHVzZSBleHRlcm5hbGwgc2NyaXB0ICIvanMvYWRzLmpzIiAtPiB2YXIgY2FuUnVuQWRzID0gdHJ1ZTsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdjYW5SdW5BZHMnLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZSA6IHRydWUKICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIGNhblNob3dBZHMKICAgICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTk3CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnY2FuU2hvd0FkcycsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CgogICAgICAgICAgLy8gQWRibG9ja2VyIERldGVjdGluZyBTY3JpcHRzOiBNZXRob2QgMgogICAgICAgICAgLy8gZ2lzdDogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vaXJhemFzeWVkLzNkMjQ3ZDNkMTIxZTc4MWEzODcyCiAgICAgICAgICAvLyBub3RlOiB1c2UgZXh0ZXJuYWxsIHNjcmlwdCAiL2pzL2Fkcy5qcyIgLT4gaXNBZEJsb2NrQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnaXNBZEJsb2NrQWN0aXZlJywgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmYWxzZQogICAgICAgICAgfSk7CgogICAgICAgICAgLyoKICAgICAgICAgIHdpbmRvdy5pSGF2ZUxvYWRlZEFkcyA9IHRydWU7CiAgICAgICAgICB2YXIgbmljZUFkc0NoZWNrPXRydWU7CiAgICAgICAgICBhZGJsb2NrID0gZmFsc2UKICAgICAgICAgIGlzX2Jsb2NrZXIgPSBmYWxzZTsKICAgICAgICAgICAqLwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewoKICAgICAgICAgIC8vIEFkQmxvY2sgRGV0ZWN0b3IgKFhlbkZvcm8gUmVsbGVjdCkKICAgICAgICAgIC8vIHNpdGU6IGh0dHA6Ly90aW55dXJsLmNvbS9wYTI4eGRuCiAgICAgICAgICAvLyBjbG9uZUludG86IGh0dHA6Ly90aW55dXJsLmNvbS9rNnFwaG1lCiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODA1CiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODA0CiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTkxCiAgICAgICAgICBpZiAoQWFrLnV3LlhlbkZvcm8gJiYgdHlwZW9mIEFhay51dy5YZW5Gb3JvLnJlbGxlY3QgPT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgQWFrLnV3LlhlbkZvcm8ucmVsbGVjdCA9IHsKICAgICAgICAgICAgICBBZEJsb2NrRGV0ZWN0b3IgOiB7CiAgICAgICAgICAgICAgICBzdGFydCA6IGZ1bmN0aW9uICgpIHt9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FkQmxvY2sgRGV0ZWN0b3IgKFhlbkZvcm8gUmVsbGVjdCknKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvKgogICAgICAgICAgLy8gQWR1bmJsb2NrIC0gaHR0cDovL2FkdW5ibG9jay5jb20vCiAgICAgICAgICBpZiAoQWFrLmdldENvb2tpZSgnYWRibG9jaycpID09IDEpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2FkYmxvY2snLCAwKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2Jhcl9jbG9zZWQnLCAxKTsKICAgICAgICAgIH0KICAgICAgICAgICAqLwoKICAgICAgICAgIC8vIEFkYmxvY2sgQmxvY2tlcgogICAgICAgICAgLy8gaHR0cHM6Ly93b3JkcHJlc3Mub3JnL3BsdWdpbnMvYWRkYmxvY2tibG9ja2VyLwogICAgICAgICAgLy8gaHR0cDovL3Rpbnl1cmwuY29tL25zd242ZnoKICAgICAgICAgIC8vIGh0dHA6Ly9wYXN0ZWJpbi5jb20vZDY1enIzN20KICAgICAgICAgIC8qIGNhbiBjYXVzZSBhIGJ1ZwogICAgICAgICAgdmFyIGFkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Fmc19hZHMnKTsKICAgICAgICAgIHZhciBhZCA9IGFkcy5sZW5ndGggJiYgYWRzW2Fkcy5sZW5ndGggLSAxXTsKICAgICAgICAgIGlmIChhZCAmJiBhZC5pbm5lckhUTUwubGVuZ3RoID09PSAwIHx8IGFkLmNsaWVudEhlaWdodCA9PT0gMCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lTmF0aXZlID0gSFRNTERvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lOwogICAgICAgICAgSFRNTERvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkgewogICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PSAnYWZzX2FkcycpIHsKICAgICAgICAgIGNvbnNvbGUuaW5mbyhbJ0FudGlBZGJLaWxsZXInLCBsb2NhdGlvbi5ob3N0LCAnQWRibG9ja0Jsb2NrZXInLCBjbGFzc05hbWVdKTsKICAgICAgICAgIHZhciB1bmlxaWQgPSBEYXRlLm5vdygpOwogICAgICAgICAgdmFyIGJhaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIGJhaXQuaW5uZXJIVE1MID0gJzxicj4nOwogICAgICAgICAgYmFpdC5jbGFzc05hbWUgPSB1bmlxaWQ7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhaXQpOwogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUodW5pcWlkKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lTmF0aXZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICAgKi8KCiAgICAgICAgICAvLyBBZGJ1ZGR5CiAgICAgICAgICBpZiAodHlwZW9mIEFhay51dy5jbG9zZUFkYnVkZHkgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgQWFrLnV3LmNsb3NlQWRidWRkeSgpOwogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FkYnVkZHknKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBZEJsb2NrIEFsZXJ0ZXIgKFdQKQogICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dwLXBsdWdpbnMvYWRibG9jay1hbGVydGVyCiAgICAgICAgICAvLwogICAgICAgICAgaWYgKEFhay5nZXRFbGVtZW50KCdkaXYuYWRiX292ZXJsYXkgPiBkaXYuYWRiX21vZGFsX2ltZycpKSB7CiAgICAgICAgICAgIC8vIFJlbW92ZSBBbGVydCArIEFsbG93IFNjcm9sbAogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnZGl2LmFkYl9vdmVybGF5Jyk7CiAgICAgICAgICAgIEFhay5hZGRTdHlsZSgnaHRtbCxib2R5IHtoZWlnaHQ6YXV0bzsgb3ZlcmZsb3c6IGF1dG87fScpOwogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FkQmxvY2tBbGVydGVyJyk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVW5rbm93IEFudGkgQWRCbG9jayBzeXN0ZW0KICAgICAgICAgIGlmIChBYWsuZ2V0RWxlbWVudCgnI2Jsb2NrZGl2JykgJiYgQWFrLmNvbnRhaW5zKEFhay5nZXRFbGVtZW50KCcjYmxvY2tkaXYnKS5pbm5lckhUTUwsICdkaXNhYmxlIGFkIGJsb2NraW5nIG9yIHVzZSBhbm90aGVyIGJyb3dzZXIgd2l0aG91dCBhbnkgYWRibG9ja2VyIHdoZW4geW91IHZpc2l0JykpIHsKICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNibG9ja2RpdicpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIEFudGlibG9jay5vcmcgdjIKICAgICAgICAgIC8vIG5vdGU6IGRldGVjdCBhbmQgc3RvcmUgYmxvY2sgaWQKICAgICAgICAgIC8vIGRlbW86IGh0dHA6Ly90aW55dXJsLmNvbS9uaHlocHprCiAgICAgICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBzdHlsZSA9IHN0eWxlc1tpXTsKICAgICAgICAgICAgdmFyIGNzc1J1bGVzID0gc3R5bGUuc2hlZXQuY3NzUnVsZXM7CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3NzUnVsZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICB2YXIgY3NzUnVsZSA9IGNzc1J1bGVzW2pdOwogICAgICAgICAgICAgIHZhciBjc3NUZXh0ID0gY3NzUnVsZS5jc3NUZXh0OwogICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL14jKFthLXowLTldezQsMTB9KSB+IFwqIFx7IGRpc3BsYXk6IG5vbmU7IFx9LzsKICAgICAgICAgICAgICBpZiAocGF0dGVybi50ZXN0KGNzc1RleHQpKSB7CiAgICAgICAgICAgICAgICB2YXIgaWQgPSBwYXR0ZXJuLmV4ZWMoY3NzVGV4dClbMV07CiAgICAgICAgICAgICAgICBpZiAoQWFrLmhhc1NjcmlwdCgidy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywiICsgaWQgKyAiLGZhbHNlKSIpKSB7CiAgICAgICAgICAgICAgICAgIEFhay5hYWJzLmFibzIgPSBpZDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHdpbiA9IEFhay51dzsKICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gd2luKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgaWYgKCEvXndlYmtpdC8udGVzdChwcm9wKSAmJiAvXlthLXowLTldezQsMTJ9JC9pLnRlc3QocHJvcCkgJiYgcHJvcCAhPT0gJ2RvY3VtZW50JyAmJiAod2luW3Byb3BdaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQpID09PSBmYWxzZSAmJiB3aW4uaGFzT3duUHJvcGVydHkocHJvcCkgJiYgdHlwZW9mIHdpbltwcm9wXSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIHZhciBtZXRob2QgPSB3aW5bcHJvcF07CgogICAgICAgICAgICAgICAgLy8gQW50aWJsb2NrLm9yZyB2MyAmIEJldHRlclN0b3BBZGJsb2NrCiAgICAgICAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODMzCiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmRlZmVyRXhlY3V0aW9uICYmCiAgICAgICAgICAgICAgICAgIG1ldGhvZC5kaXNwbGF5TWVzc2FnZSAmJgogICAgICAgICAgICAgICAgICBtZXRob2QuZ2V0RWxlbWVudEJ5ICYmCiAgICAgICAgICAgICAgICAgIG1ldGhvZC5nZXRTdHlsZSAmJgogICAgICAgICAgICAgICAgICBtZXRob2QuaW5zZXJ0ICYmCiAgICAgICAgICAgICAgICAgIG1ldGhvZC5uZXh0RnVuY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZC50b2dnbGUpIHsKICAgICAgICAgICAgICAgICAgICBBYWsuYWFicy5ic2EgPSBwcm9wOwogICAgICAgICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgnQmV0dGVyU3RvcEFkYmxvY2t7ZG9tfScpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIEFhay5hYWJzLmFibzMgPSBwcm9wOwogICAgICAgICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgnQW50aWJsb2NrM3tkb219Jyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgd2luW3Byb3BdID0gbnVsbDsgLy8ga2lsbCBpbnN0YW5jZQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEJsb2NrQWRCbG9jawogICAgICAgICAgICAgICAgLy8gc2l0ZTogYmxvY2thZGJsb2NrLmNvbQogICAgICAgICAgICAgICAgLy8gbm90ZTogcmFuZG9tIGluc3RhbmNlIG5hbWUKICAgICAgICAgICAgICAgIC8vIHNvdXJjZTogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vV2F0aWxpbi9hZjc1ZTBhMmU4MmEyZWZiMzg0YmRlOWM3YjQxZGVjOAogICAgICAgICAgICAgICAgLy8gaXNzdWVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWxhYmVsJTNBQmxvY2tBZEJsb2NrCiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmJhYikgeyAvLyB2YXJpYW50IDEKICAgICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdCbG9ja0FkQmxvY2t7ZG9tOnZhcmlhbnQxfScpOwogICAgICAgICAgICAgICAgICB3aW5bcHJvcF0gPSBudWxsOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhtZXRob2QpLmxlbmd0aCA9PT0gMyAmJiBPYmplY3Qua2V5cyhtZXRob2QpLm1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgICAgICAgICAgICB9KS5qb2luKCkubGVuZ3RoID09PSAzMikgeyAvLyB2YXJpYW50IDIKICAgICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdCbG9ja0FkQmxvY2t7ZG9tOnZhcmlhbnQyfScpOwogICAgICAgICAgICAgICAgICB3aW5bcHJvcF0gPSBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2Vycm9yJywgcHJvcCkKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIEFudGktQWRibG9ja2VycwogICAgICAgICAgdmFyIGFhYnMgPSB7CiAgICAgICAgICAgIC8vIFBsdWdpbnMgV29yZFByZXNzCiAgICAgICAgICAgIE5vQWRCbG9jayA6ICcoL3BsdWdpbnMvbm8tYWRibG9jay98L2Jsb2NrQmxvY2svYmxvY2tCbG9jay5qcXVlcnkuanMpJywKICAgICAgICAgICAgQmV0dGVyU3RvcEFkYmxvY2sgOiAnKC9wbHVnaW5zL2JldHRlci1zdG9wLWFkYmxvY2svfGJzYS1zY3JpcHQtZG9jdHlwZS5qc3xic2Etc2NyaXB0LW5vLWRvY3R5cGUuanMpJywKICAgICAgICAgICAgQWRCbG9ja0Jsb2NrZXIgOiAnL3BsdWdpbnMvd29yZHByZXNzLWFkYmxvY2stYmxvY2tlci8nLAogICAgICAgICAgICBBbnRpQmxvY2tCdWtzc2FBeW1hbiA6ICcvcGx1Z2lucy9hbnRpLWJsb2NrLycsCiAgICAgICAgICAgIEJsb2NrQWx5emVyIDogJy9wbHVnaW5zL2Jsb2NrYWx5emVyLWFkYmxvY2stY291bnRlci8nLAogICAgICAgICAgICBBZEJsb2NraW5nRGV0ZWN0b3IgOiAnL3BsdWdpbnMvYWQtYmxvY2tpbmctZGV0ZWN0b3IvJywKICAgICAgICAgICAgLy8gUGx1Z2lucyBXZWJzaXRlCiAgICAgICAgICAgIEFkd29ya21lZGlhIDogJyhhZHdvcmttZWRpYXxsb3h0a3xjb250ZW50bG9ja2luZ25ldHdvcmtzKS5jb20vZ0xvYWRlci5waHAnLAogICAgICAgICAgICBBZHNjZW5kbWVkaWEgOiAnYWRzY2VuZG1lZGlhLmNvbS9nd2pzLnBocCcsCiAgICAgICAgICAgIEZ1Y2tBZEJsb2NrIDogJygvZnVja2FkYmxvY2suanN8L2Jsb2NrYWRibG9jay5qcyknLAogICAgICAgICAgICBqUXVlcnlBZEJsb2NrIDogJy9qcXVlcnkuYWRibG9jay5qcycsCiAgICAgICAgICAgIGpRdWVyeUFkYmxvY2tEZXRlY3RvciA6ICcvanF1ZXJ5LmFkYmxvY2stZGV0ZWN0b3IuanMnLAogICAgICAgICAgICBBZEJsb2NrQWR2ZXJ0aXNlbWVudCA6ICcvYWR2ZXJ0aXNlbWVudC5qcycsCiAgICAgICAgICAgIEFkQmxvY2tBZHZlcnQgOiAnL2FkdmVydC5qcycsCiAgICAgICAgICAgIEFkQmxvY2tBZHZDdXN0b20gOiAnL2FkdmVydGlzZW1lbnQoLispLmpzJywKICAgICAgICAgICAgQWRCbG9ja0FkZnJhbWUgOiAnL2FkZnJhbWUuanMnLAogICAgICAgICAgICBBbnRpQWRCdXN0ZXIgOiAnL2FudGktYWQtYnVzdGVyLmpzJywKICAgICAgICAgICAgUlRLQW50aUFkYmxvY2sgOiAnL2Jsb2NrY2FrZS5qcycsCiAgICAgICAgICAgIEFkYmxvY2tEZXRlY3RvciA6ICcvQWRibG9ja0RldGVjdG9yL2hhbmRsZXIubWluLmpzJywKICAgICAgICAgICAgalF1ZXJ5QW50aUFkc0Jsb2NrIDogJy9qcXVlcnkuYW50aWFkc2Jsb2NrLmpzJywKICAgICAgICAgICAgQWRidWRkeSA6ICcvanMvYWRidWRkeS5taW4uanMnLAogICAgICAgICAgICBBbnRpQURzQmxvY2tlciA6ICcvYWFkYi9zY3JpcHQuanMnCiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciBzY3JpcHRzID0gZG9jdW1lbnQuc2NyaXB0czsKICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc2NyaXB0cy5sZW5ndGg7IHkrKykgewogICAgICAgICAgICB2YXIgc2NyaXB0ID0gc2NyaXB0c1t5XTsKICAgICAgICAgICAgaWYgKHNjcmlwdC5zcmMpIHsKICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYWFicykgewogICAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoYWFic1trZXldLCAnaScpLnRlc3Qoc2NyaXB0LnNyYykpIHsKICAgICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKFtrZXksIHNjcmlwdC5zcmNdKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgb25JbnNlcnQgOiBmdW5jdGlvbiAoaW5zZXJ0ZWROb2RlKSB7CgogICAgICAgICAgLy8gQWxsIE5vZGVzCiAgICAgICAgICBpZiAoQWFrLm9wdHMuaW5zZXJ0ZWQpIHsKICAgICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5zcmMgfHwKICAgICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQgfHwKICAgICAgICAgICAgICBpbnNlcnRlZE5vZGUuY2xhc3NOYW1lICYmCiAgICAgICAgICAgICAgIS9maXJlYnVnLy50ZXN0KGluc2VydGVkTm9kZS5pbm5lckhUTUwpKSB7CiAgICAgICAgICAgICAgLy8gTm9kZSBpbnNlcnRlZAogICAgICAgICAgICAgIEFhay5sb2coaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIE5vLUFkYmxvY2sgLSBodHRwOi8vd3d3Lm5vLWFkYmxvY2suY29tLwogICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQubGVuZ3RoID09IDQgJiYKICAgICAgICAgICAgL15bYS16MC05XXs0fSQvLnRlc3QoaW5zZXJ0ZWROb2RlLmlkKSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUubm9kZU5hbWUgPT0gJ0RJVicgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQuaWQgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQuaWQgPT0gaW5zZXJ0ZWROb2RlLmlkICYmCiAgICAgICAgICAgIEFhay5jb250YWlucyhpbnNlcnRlZE5vZGUuaW5uZXJIVE1MLCAnbm8tYWRibG9jay5jb20nKSkgewogICAgICAgICAgICAvLyBSZW1vdmUKICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdOby1BZGJsb2NrJywgZmFsc2UsIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChpbnNlcnRlZE5vZGUpOwogICAgICAgICAgICAvL0Fhay5sb2coaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBTdG9wQWRibG9jayAtIGh0dHA6Ly9zdG9wYWRibG9jay5vcmcvZG93bmxvYWRzLwogICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQubGVuZ3RoID09IDcgJiYKICAgICAgICAgICAgL15hW2EtejAtOV17Nn0kLy50ZXN0KGluc2VydGVkTm9kZS5pZCkgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5vZGVOYW1lID09ICdESVYnICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5wYXJlbnROb2RlICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5wYXJlbnROb2RlLmlkICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5wYXJlbnROb2RlLmlkID09IGluc2VydGVkTm9kZS5pZCArICcyJyAmJgogICAgICAgICAgICBBYWsuY29udGFpbnMoaW5zZXJ0ZWROb2RlLmlubmVySFRNTCwgJ3N0b3BhZGJsb2NrLm9yZycpKSB7CiAgICAgICAgICAgIC8vIFJlbW92ZQogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ1N0b3BBZEJsb2NrJywgZmFsc2UsIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChpbnNlcnRlZE5vZGUpOwogICAgICAgICAgICAvL0Fhay5sb2coaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBbnRpQWRibG9jayAoUGFja2VyKQogICAgICAgICAgdmFyIHJlSWZyYW1lSWQgPSAvXih6ZHx3ZCkkLzsKICAgICAgICAgIHZhciByZUltZ0lkID0gL14oeGR8Z2QpJC87CiAgICAgICAgICB2YXIgcmVJbWdTcmMgPSAvXC9hZHNcL2Jhbm5lci5qcGcvOwogICAgICAgICAgdmFyIHJlSWZyYW1lU3JjID0gLyhcL2FkaGFuZGxlclwvfFwvYWRpbWFnZXNcL3xhZC5odG1sKS87CgogICAgICAgICAgLy8gQ29tbXVucwogICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICByZUltZ0lkLnRlc3QoaW5zZXJ0ZWROb2RlLmlkKSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUubm9kZU5hbWUgPT0gJ0lNRycgJiYKICAgICAgICAgICAgcmVJbWdTcmMudGVzdChpbnNlcnRlZE5vZGUuc3JjKSB8fAogICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQgJiYKICAgICAgICAgICAgcmVJZnJhbWVJZC50ZXN0KGluc2VydGVkTm9kZS5pZCkgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5vZGVOYW1lID09ICdJRlJBTUUnICYmCiAgICAgICAgICAgIHJlSWZyYW1lU3JjLnRlc3QoaW5zZXJ0ZWROb2RlLnNyYykpIHsKCiAgICAgICAgICAgIC8vIFZhcmlhbnQgMQogICAgICAgICAgICBpZiAoaW5zZXJ0ZWROb2RlLmlkID09ICd4ZCcpIHsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FudGlBZGJsb2NrUGFja2VyWmR4ZCcsIGZhbHNlLCBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfSAvLyBWYXJpYW50IDIKICAgICAgICAgICAgZWxzZSBpZiAoaW5zZXJ0ZWROb2RlLmlkID09ICdnZCcpIHsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FudGlBZGJsb2NrUGFja2VyV2RnZCcsIGZhbHNlLCBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBSZW1vdmUKICAgICAgICAgICAgLy9BYWsubG9nKGluc2VydGVkTm9kZSk7CiAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gQWR1bmJsb2NrIC0gaHR0cDovL2FkdW5ibG9jay5jb20vCiAgICAgICAgICB2YXIgcmVJZCA9IC9eW2Etel17OH0kLzsKICAgICAgICAgIHZhciByZUNsYXNzID0gL15bYS16XXs4fSBbYS16XXs4fS87CiAgICAgICAgICB2YXIgcmVCZyA9IC9eW2Etel17OH0tYmckLzsKICAgICAgICAgIHZhciByZU1lc3NhZ2UgPSAvSWwgc2VtYmxlcmFpdCBxdWUgdm91cyB1dGlsaXNpZXogdW4gYmxvcXVldXIgZGUgcHVibGljaXTDqSAhLzsKCiAgICAgICAgICAvLyBDb21tdW5zCiAgICAgICAgICBpZiAodHlwZW9mIEFhay51dy52dGZhYiAhPSAndW5kZWZpbmVkJyAmJgogICAgICAgICAgICB0eXBlb2YgQWFrLnV3LmFkYmxvY2tfYW50aWIgIT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLnBhcmVudE5vZGUgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLnBhcmVudE5vZGUubm9kZU5hbWUgPT0gJ0JPRFknICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICByZUlkLnRlc3QoaW5zZXJ0ZWROb2RlLmlkKSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUubm9kZU5hbWUgPT0gJ0RJVicgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5uZXh0U2libGluZy5jbGFzc05hbWUgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLm5vZGVOYW1lID09ICdESVYnKSB7CgogICAgICAgICAgICAvLyBGdWxsIFNjcmVlbiBNZXNzYWdlIChQcmVtaXVtKQogICAgICAgICAgICAvLyA8ZGl2IGlkPSJsZnloc3ZkcSIgY2xhc3M9InR2d25vcWRmIHN2b25leHJrIiBzdHlsZT0idG9wOiAxMDBweDsgb3BhY2l0eTogMTsgdmlzaWJpbGl0eTogdmlzaWJsZTsiPgogICAgICAgICAgICAvLyA8ZGl2IGNsYXNzPSJ0dndub3FkZi1iZyIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyI+PC9kaXY+CiAgICAgICAgICAgIGlmIChpbnNlcnRlZE5vZGUuY2xhc3NOYW1lICYmCiAgICAgICAgICAgICAgcmVDbGFzcy50ZXN0KGluc2VydGVkTm9kZS5jbGFzc05hbWUpICYmCiAgICAgICAgICAgICAgcmVCZy50ZXN0KGluc2VydGVkTm9kZS5uZXh0U2libGluZy5jbGFzc05hbWUpICYmCiAgICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLnN0eWxlICYmCiAgICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7CgogICAgICAgICAgICAgIC8vIFJlbW92ZSBNZXNzYWdlCiAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCJBZFVuQmxvY2tQcmVtaXVtIik7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nKTsgLy8gb3ZlcmxheQogICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7IC8vIGJveAogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIFRvcCBiYXIgTWVzc2FnZSAoRnJlZSkKICAgICAgICAgICAgLy8gPGRpdiBpZD0idml4bWdybHkiPgogICAgICAgICAgICAvLyA8ZGl2IGlkPSJtZm5oYWl5eCIgY2xhc3M9Imxrcm52Ynl0Ij4KICAgICAgICAgICAgZWxzZSBpZiAoaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLmlkICYmCiAgICAgICAgICAgICAgcmVJZC50ZXN0KGluc2VydGVkTm9kZS5uZXh0U2libGluZy5pZCkgJiYKICAgICAgICAgICAgICByZU1lc3NhZ2UudGVzdChpbnNlcnRlZE5vZGUuaW5uZXJIVE1MKSkgewoKICAgICAgICAgICAgICAvLyBSZW1vdmUgTWVzc2FnZQogICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgiQWRVbkJsb2NrRnJlZSIpOwogICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBbnRpYmxvY2sgLSBodHRwOi8vYW50aWJsb2NrLm9yZy8KICAgICAgICAgIHZhciByZU1zZ0lkID0gL15bYS16MC05XXs0LDEwfSQvaTsKICAgICAgICAgIHZhciByZVRhZzEgPSAvXihkaXZ8c3BhbnxifGl8Zm9udHxzdHJvbmd8Y2VudGVyKSQvaTsKICAgICAgICAgIHZhciByZVRhZzIgPSAvXihhfGJ8aXxzfHV8cXxwfHN0cm9uZ3xjZW50ZXIpJC9pOwogICAgICAgICAgdmFyIHJlV29yZHMxID0gL2FkIGJsb2NrZXJ8YWQgYmxvY2t8YWQtYmxvY2t8YWRibG9ja2VyfGFkLWJsb2NrZXJ8YWRibG9ja3xibG9xdWV1cnxibG9xdWVhZG9yfFdlcmJlYmxvY2tlcnxhZGJsb2NrZXJ0fCYjMTU3MDsmIzE1ODM7JiMxNTc2OyYjMTYwNDsmIzE2MDg7JiMxNjAzOyAmIzE1NzY7JiMxNjA0OyYjMTU4Nzt80LHQu9C+0LrQuNGA0L7QstGJ0LjQutC+0LwvaTsKICAgICAgICAgIHZhciByZVdvcmRzMiA9IC9rYXBhdHxkaXNhYmxlfGTDqXNhY3RpdmV6fGTDqXNhY3RpdmVyfGRlc2FjdGl2ZXp8ZGVzYWN0aXZlcnxkZXNhdGl2ZXxkZXNhY3RpdmFyfGRlc2FjdGl2ZXxkZXNhY3RpdmF8ZGVha3RpdmllcmV8ZGlzYWJpbGl0YXJlfCYjOTQ1OyYjOTYwOyYjOTQ5OyYjOTU3OyYjOTQ5OyYjOTYxOyYjOTQ3OyYjOTU5OyYjOTYwOyYjOTU5OyYjOTQzOyYjOTUxOyYjOTYzOyYjOTUxO3wmIzEwNzk7JiMxMDcyOyYjMTA4NzsmIzEwODg7JiMxMDc3OyYjMTA5NzsmIzEwNzI7JiMxMDkwOyYjMTEwMDt8w6FsbMOtdHNkIGxlfHB1YmxpY2l0w6lzfNGA0LXQutC70LDQvNC1fHZlcmhpbmRlcnR8YWR2ZXJ0fGthcGF0xLFuxLF6L2k7CgogICAgICAgICAgLy8gQW50aWJsb2NrLm9yZyAoYWxsIHZlcnNpb24pCiAgICAgICAgICBpZiAoaW5zZXJ0ZWROb2RlLnBhcmVudE5vZGUgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmlkICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5zdHlsZSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUuY2hpbGROb2Rlcy5sZW5ndGggJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQgJiYKICAgICAgICAgICAgIWluc2VydGVkTm9kZS5maXJzdENoaWxkLmlkICYmCiAgICAgICAgICAgICFpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5jbGFzc05hbWUgJiYKICAgICAgICAgICAgcmVNc2dJZC50ZXN0KGluc2VydGVkTm9kZS5pZCkgJiYKICAgICAgICAgICAgcmVUYWcxLnRlc3QoaW5zZXJ0ZWROb2RlLm5vZGVOYW1lKSAmJgogICAgICAgICAgICByZVRhZzIudGVzdChpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgLy9BYWsubG9nKGluc2VydGVkTm9kZSk7CgogICAgICAgICAgICAvLyBLaWxsIGF1ZGlvIG1lc3NhZ2UKICAgICAgICAgICAgdmFyIGF1ZGlvID0gaW5zZXJ0ZWROb2RlLnF1ZXJ5U2VsZWN0b3IoImF1ZGlvW2xvb3BdIik7CiAgICAgICAgICAgIGlmIChhdWRpbykgewogICAgICAgICAgICAgIGF1ZGlvLnBhdXNlKCk7CiAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdBbnRpYmxvY2t7YXVkaW99Jyk7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoYXVkaW8pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEFudGlibG9jay5vcmcgdjIKICAgICAgICAgICAgLy8gZGVtbzogaHR0cDovL3Rpbnl1cmwuY29tL2gzbXd0YTQKICAgICAgICAgICAgZWxzZSBpZiAoKEFhay5hYWJzLmFibzIgJiYgaW5zZXJ0ZWROb2RlLmlkID09IEFhay5hYWJzLmFibzIpIHx8CiAgICAgICAgICAgICAgKGluc2VydGVkTm9kZS5maXJzdENoaWxkLmhhc0NoaWxkTm9kZXMoKSAmJiByZVdvcmRzMS50ZXN0KGluc2VydGVkTm9kZS5maXJzdENoaWxkLmlubmVySFRNTCkgJiYgcmVXb3JkczIudGVzdChpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5pbm5lckhUTUwpKSkgewogICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgnQW50aWJsb2NrMntpbnNlcnR9Jyk7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBBbnRpYmxvY2sub3JnIHYzCiAgICAgICAgICAgIC8vIGRlbW86IGh0dHA6Ly90aW55dXJsLmNvbS9xZWNmYTd3CiAgICAgICAgICAgIC8vIGNhc2U6IGh0dHA6Ly90aW55dXJsLmNvbS96YnJscjNhIC8qIGZvcmsgKi8KICAgICAgICAgICAgZWxzZSBpZiAoKEFhay5hYWJzLmFibzMgJiYgaW5zZXJ0ZWROb2RlLmlkID09IEFhay5hYWJzLmFibzMpIHx8CiAgICAgICAgICAgICAgKGluc2VydGVkTm9kZS5maXJzdENoaWxkLmhhc0NoaWxkTm9kZXMoKSAmJiBpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5maXJzdENoaWxkLm5vZGVOYW1lID09ICdJTUcnICYmIC9eZGF0YTppbWFnZVwvcG5nO2Jhc2U2NC8udGVzdChpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5maXJzdENoaWxkLnNyYykpKSB7CiAgICAgICAgICAgICAgQWFrLnV3W0Fhay5hYWJzLmFibzNdID0gbnVsbDsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FudGlibG9jazN7aW5zZXJ0fScpOwogICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gQmV0dGVyU3RvcEFkYmxvY2sKICAgICAgICAgICAgLy8gZGVtbzogaHR0cDovL3Rpbnl1cmwuY29tL2pzOXphdDQKICAgICAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1lpbWtydEtCCiAgICAgICAgICAgIC8vIGlzc3VlOiBodHRwOi8vdGlueXVybC5jb20vemV0Z2J0eAogICAgICAgICAgICBlbHNlIGlmIChBYWsuYWFicy5ic2EgJiYgaW5zZXJ0ZWROb2RlLmlkID09IEFhay5hYWJzLmJzYSkgewogICAgICAgICAgICAgIEFhay51d1tBYWsuYWFicy5ic2FdID0gbnVsbDsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0JldHRlclN0b3BBZGJsb2Nre2luc2VydH0nKTsKICAgICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChpbnNlcnRlZE5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICBNYW55IGZhbHNlIHBvc2l0aXZlCiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIC8vQWFrLnJlbW92ZUVsZW1lbnQoaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGJsb2NrRGV0ZWN0IDogZnVuY3Rpb24gKCkgewoKICAgICAgLy8gRXhjbHVkZSBkb21haW5zCiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNDY2CiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjYzCiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL2ZvcnVtL2Rpc2N1c3Npb24vODQyMi8KICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzk4NgogICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODU3CiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy82MTcKICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZnIvZm9ydW0vZGlzY3Vzc2lvbi81NDI2CiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy80MTkKICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzM3NwogICAgICB2YXIgZXhjbHVkZXMgPSBbIjM2MC5jbiIsICJhbWF6b24uIiwgImFwcGxlLmNvbSIsICJhc2suY29tIiwgImJhaWR1LmNvbSIsICJiaW5nLmNvbSIsICJidWZmZXJhcHAuY29tIiwgImNoYXRhbmdvLmNvbSIsICJjaHJvbWVhY3Rpb25zLmNvbSIsICJlYXN5aW5wbGF5Lm5ldCIsICJlYmF5LmNvbSIsICJmYWNlYm9vay5jb20iLCAiZmxhdHRyLmNvbSIsICJmbGlja3IuY29tIiwgImdoYWNrcy5uZXQiLCAiZ29vZ2xlLiIsICJpbWRiLmNvbSIsICJpbWdib3guY29tIiwgImltZ3VyLmNvbSIsICJpbnN0YWdyYW0uY29tIiwgImpzYmluLmNvbSIsICJqc2ZpZGRsZS5uZXQiLCAibGlua2VkaW4uY29tIiwgImxpdmUuY29tIiwgIm1haWwucnUiLCAibWljcm9zb2Z0LmNvbSIsICJtc24uY29tIiwgInBheXBhbC5jb20iLCAicGludGVyZXN0LmNvbSIsICJwcmVsb2FkZXJzLm5ldCIsICJxcS5jb20iLCAicmVkZGl0LmNvbSIsICJzdGFja292ZXJmbG93LmNvbSIsICJ0YW1wZXJtb25rZXkubmV0IiwgInR3aXR0ZXIuY29tIiwgInZpbWVvLmNvbSIsICJ3aWtpcGVkaWEub3JnIiwgInczc2Nob29scy5jb20iLCAieWFob28uIiwgInlhbmRleC5ydSIsICJ5b3V0dS5iZSIsICJ5b3V0dWJlLmNvbSIsICJ4ZW12dHYubmV0IiwgInZvZC5wbCIsICJhZ2FyLmlvIiwgInBhbmRvb24uaW5mbyIsICJmc2Yub3JnIiwgImFkYmxvY2twbHVzLm9yZyIsICJwbG5rci5jbyIsICJleGFjdHRhcmdldC5jb20iLCAiZG9sbGRpdmluZS5jb20iLCAicG9wbWVjaC5ydSIsICJjYWxtLmNvbSJdOwogICAgICB2YXIgaG9zdCA9IGxvY2F0aW9uLmhvc3Q7CiAgICAgIHZhciBleGNsdWRlZCA9IGZhbHNlOwogICAgICBleGNsdWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChleGNsdWRlKSB7CiAgICAgICAgaWYgKG5ldyBSZWdFeHAoZXhjbHVkZSkudGVzdChob3N0KSkgewogICAgICAgICAgZXhjbHVkZWQgPSB0cnVlOwogICAgICAgICAgaWYgKEFhay5vcHRzLmxvZ0V4Y2x1ZGVkKSB7CiAgICAgICAgICAgIEFhay53YXJuKCdFeGNsdWRlZCcpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICAvLyBJbmNsdWRlIGRvbWFpbnMKICAgICAgLy8gSXNFdmVudHVwcG9ydGVkOiBodHRwOi8vdGlueXVybC5jb20vb2VlejhjNwogICAgICBpZiAoIWV4Y2x1ZGVkKSB7CgogICAgICAgIHZhciBoYW5kbGVyRXZlbnRzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHJ1bGUgPSBBYWsucnVsZXNbbmFtZV07CgogICAgICAgICAgcnVsZS5ob3N0LmZvckVhY2goZnVuY3Rpb24gKGhvc3QpIHsKICAgICAgICAgICAgLy8gQ2hlY2sgaG9zdAogICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChob3N0KS50ZXN0KGxvY2F0aW9uLmhvc3QpKSB7CgogICAgICAgICAgICAgIC8vIE5hdGl2ZSBtb2RlCiAgICAgICAgICAgICAgaWYgKCFBYWsudXNlR00gJiYgQWFrLmlzVG9wZnJhbWUpIHsKICAgICAgICAgICAgICAgIEFhay53YXJuKCdSdW4gbmF0aXZlbHkuJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBMb2cgcnVsZSB1c2VkCiAgICAgICAgICAgICAgaWYgKHJ1bGUuaG9zdFswXSAhPSAnLio/JykgewogICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdydWxlJywgcnVsZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vIEJlZm9yZSBET00gbG9hZAogICAgICAgICAgICAgIGlmIChydWxlLm9uU3RhcnQpIHsKICAgICAgICAgICAgICAgIHJ1bGUub25TdGFydCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBPbiBhbGwgc3RhdGVtZW50cwogICAgICAgICAgICAgIGlmIChydWxlLm9uQWx3YXlzKSB7CiAgICAgICAgICAgICAgICBydWxlLm9uQWx3YXlzKCk7IC8vIHN0YXJ0CiAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdET01Db250ZW50TG9hZGVkJywgcnVsZS5vbkFsd2F5cyk7IC8vIGlkbGUKICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ2xvYWQnLCBydWxlLm9uQWx3YXlzKTsgLy8gZW5kCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIEJlZm9yZSBTY3JpcHQgRXhlY3V0ZWQKICAgICAgICAgICAgICBpZiAocnVsZS5vbkJlZm9yZVNjcmlwdCkgewoKICAgICAgICAgICAgICAgIC8vIG9wdGlvbnM6IGNvbnRhaW5zLCBzZWFyY2gsIHJlcGxhY2UsIG92ZXJyaWRlLCByZW1vdmUsIGV4dGVybmFsCiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uc0JlZm9yZVNjcmlwdCA9IHJ1bGUub25CZWZvcmVTY3JpcHQoKTsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc0JlZm9yZVNjcmlwdCA9PSAib2JqZWN0IikgewoKICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXJCZWZvcmVTY3JpcHQgPSBmdW5jdGlvbiAoZSwgb3B0aW9ucykgewogICAgICAgICAgICAgICAgICAgIHZhciBpc0V2ZW50ID0gZSBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudDsKICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1NjcmlwdCA9IChlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpIHx8IGU7CgogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobykgeyAvLyBoYXNBdHRyaWJ1dGUKICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSBvLmV4dGVybmFsID8gJ3NyYycgOiAnaW5uZXJIVE1MJzsKICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWFyY2ggPSBuZXcgUmVnRXhwKG8uY29udGFpbnMsIG8uZmxhZ3MgfHwgJycpOwoKICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2NyaXB0W3NyY10gJiYgdGhpc1NjcmlwdFtzcmNdLmxlbmd0aCAmJiBzZWFyY2gudGVzdCh0aGlzU2NyaXB0W3NyY10pKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIHNjcmlwdCBleGVjdXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBzY3JpcHQKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXNTY3JpcHQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBhIHBhcnQgb2YgdGhlIHNjcmlwdAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5yZXBsYWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NyaXB0W3NyY10gPSB0aGlzU2NyaXB0W3NyY10ucmVwbGFjZShzZWFyY2gsIG8ucmVwbGFjZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdTY3JpcHQsIHRoaXNTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9IC8vIE92ZXJyaWRlIHNjcmlwdAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvLm92ZXJyaWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NyaXB0W3NyY10gPSBvLm92ZXJyaWRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3U2NyaXB0LCB0aGlzU2NyaXB0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBSZW1vdmUgc2NyaXB0CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG8ucmVtb3ZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXNTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5kZXRlY3RlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIEFhay5kZXRlY3RlZChvLmRldGVjdGVkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQkJCQkJCQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFhay5vcHRzLmxvZ0ludGVyY2VwdGVkU2NyaXB0cykgewogICAgICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coc3JjLCBvLCB0aGlzU2NyaXB0LCBuZXdTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAvLyBCcm93c2VyIHN1cHBvcnRpbmcgZXZlbnQgYmVmb3Jlc2NyaXB0ZXhlY3V0ZQogICAgICAgICAgICAgICAgICBpZiAoJ29uYmVmb3Jlc2NyaXB0ZXhlY3V0ZScgaW4gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdiZWZvcmVzY3JpcHRleGVjdXRlJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJCZWZvcmVTY3JpcHQoZSwgb3B0aW9uc0JlZm9yZVNjcmlwdCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIEJyb3dzZXIgbm90IHN1cHBvdGluZyBiZWZvcmVzY3JpcHRleGVjdXRlCgogICAgICAgICAgICAgICAgICAgIHZhciBsb2FkRG9jdW1lbnQgPSBmdW5jdGlvbiAob3B0aW9uc0JlZm9yZVNjcmlwdCkgewogICAgICAgICAgICAgICAgICAgICAgLy9pZiAoZG9jdW1lbnQucmVmZXJyZXIgPT09ICcnKQogICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm47CgogICAgICAgICAgICAgICAgICAgICAgQWFrLndhcm4oJ29uYmVmb3Jlc2NyaXB0LWNvbXBhdGlibGUnKTsKCiAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIGxvYWRpbmcKICAgICAgICAgICAgICAgICAgICAgIEFhay5hZGRTY3JpcHQoJ3dpbmRvdy5zdG9wKCk7Jyk7IC8vIGNocm9tZS9vcGVyYQogICAgICAgICAgICAgICAgICAgICAgLy9BYWsuYWRkU2NyaXB0KCdkb2N1bWVudC5vcGVuKCk7Jyk7IC8vIGZpcmVmb3gKCiAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgY29udGVudAogICAgICAgICAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICB1cmwgOiBsb2NhdGlvbi5ocmVmLAogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzIDogewogICAgICAgICAgICAgICAgICAgICAgICAgICJSZWZlcmVyIiA6IGRvY3VtZW50LnJlZmVycmVyCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbCwgInRleHQvaHRtbCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JpcHRzID0gZG9jLnNjcmlwdHM7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTY3JpcHQgPSBzY3JpcHRzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlckJlZm9yZVNjcmlwdCh0aGlzU2NyaXB0LCBvcHRpb25zQmVmb3JlU2NyaXB0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdG8gc3RyaW5nCiAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXcml0ZSBuZXcgY29udGVudCB0byBIVE1MIGRvY3VtZW50OgogICAgICAgICAgICAgICAgICAgICAgICAgIEFhay5hZGRTY3JpcHQoJ2RvY3VtZW50Lm9wZW4oKTsgZG9jdW1lbnQud3JpdGUodW5lc2NhcGUoIicgKyB3aW5kb3cuZXNjYXBlKGh0bWwpICsgJyIpKTsgZG9jdW1lbnQuY2xvc2UoKTsnKTsgLy8gY2hyb21lL29wZXJhCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy9BYWsuYWRkU2NyaXB0KCdkb2N1bWVudC53cml0ZSh1bmVzY2FwZSgiJyArIGVzY2FwZShodG1sKSArICciKSk7IGRvY3VtZW50LmNsb3NlKCk7Jyk7IC8vIGZpcmVmb3gKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBsb2FkRG9jdW1lbnQob3B0aW9uc0JlZm9yZVNjcmlwdCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIEFmdGVyIFNjcmlwdCBFeGVjdXRlZAogICAgICAgICAgICAgIGlmIChydWxlLm9uQWZ0ZXJTY3JpcHQpIHsKICAgICAgICAgICAgICAgIGlmICgnb25hZnRlcnNjcmlwdGV4ZWN1dGUnIGluIGRvY3VtZW50KSB7IC8vIE1vemlsbGEgRmlyZWZveAogICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdhZnRlcnNjcmlwdGV4ZWN1dGUnLCBydWxlLm9uQWZ0ZXJTY3JpcHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBXaGVuIERPTSBMb2FkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25JZGxlKSB7CiAgICAgICAgICAgICAgICBpZiAoIUFhay51c2VHTSkgeyAvLyBOYXRpdmUgbW9kZQogICAgICAgICAgICAgICAgICBydWxlLm9uSWRsZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy9BYWsub25FdmVudCh3aW5kb3csICdET01Db250ZW50TG9hZGVkJywgcnVsZS5vbklkbGUpOwogICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdET01Db250ZW50TG9hZGVkJywgcnVsZS5vbklkbGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBXaGVuIFdpbmRvdyBMb2FkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25FbmQpIHsKICAgICAgICAgICAgICAgIGlmICghQWFrLnVzZUdNKSB7IC8vIE5hdGl2ZSBtb2RlCiAgICAgICAgICAgICAgICAgIHJ1bGUub25FbmQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ2xvYWQnLCBydWxlLm9uRW5kKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gQXR0ck1vZGlmaWVkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25BdHRyTW9kaWZpZWQpIHsKICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ0RPTUF0dHJNb2RpZmllZCcsIHJ1bGUub25BdHRyTW9kaWZpZWQsIGZhbHNlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gU3VidHJlZU1vZGlmaWVkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25TdWJ0cmVlTW9kaWZpZWQpIHsKICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHJ1bGUub25TdWJ0cmVlTW9kaWZpZWQsIGZhbHNlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gRWxlbWVudHMgYXJlIEluc2VydGVkIGluIERvY3VtZW50CiAgICAgICAgICAgICAgaWYgKHJ1bGUub25JbnNlcnQpIHsKCiAgICAgICAgICAgICAgICAvLyBNdXRhdGlvbiBPYnNlcnZlcgogICAgICAgICAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vbXh4emVlNAogICAgICAgICAgICAgICAgLy8gc3VwcG9ydDogaHR0cDovL3Rpbnl1cmwuY29tL25lcG43dnkKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgIT0gJ3VuZGVmaW5lZCcgfHwKICAgICAgICAgICAgICAgICAgdHlwZW9mIFdlYktpdE11dGF0aW9uT2JzZXJ2ZXIgIT0gJ3VuZGVmaW5lZCcpIHsKCiAgICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uIE9ic2VydmVyCiAgICAgICAgICAgICAgICAgIHZhciBNdXRhdGlvbk9ic2VydmVyMSA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyOwoKICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlCiAgICAgICAgICAgICAgICAgIHZhciBvYnMxID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIxKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBzYWZlbHkgdXNlIGBmb3JFYWNoYCBiZWNhdXNlIHdlIGFscmVhZHkgdXNlIG11dGF0aW9uCiAgICAgICAgICAgICAgICAgICAgICAvLyBvYnNlcnZlcnMgdGhhdCBhcmUgbW9yZSByZWNlbnQgdGhhbiBgZm9yRWFjaGAuIChzb3VyY2U6IE1ETikKICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSB3YW50IG9ubHkgYWRkZWQgbm9kZXMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChtdXRhdGlvbi5hZGRlZE5vZGVzLCBmdW5jdGlvbiAoYWRkZWROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQWFrLm9wdHMubG9nSW5zZXJ0ZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBYWsubG9nKGFkZGVkTm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlLm9uSW5zZXJ0KGFkZGVkTm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAvLyBPYnNlcnZlcgogICAgICAgICAgICAgICAgICBvYnMxLm9ic2VydmUoZG9jdW1lbnQsIHsKICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3QgOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHN1YnRyZWUgOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gTXV0YXRpb24gRXZlbnRzIChBbHRlcm5hdGl2ZSBTb2x1dGlvbikKICAgICAgICAgICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL29wOTVyZnkKICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICJET01Ob2RlSW5zZXJ0ZWQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChBYWsub3B0cy5sb2dJbnNlcnRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBBYWsubG9nKGUudGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcnVsZS5vbkluc2VydChlLnRhcmdldCk7CiAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gRWxlbWVudHMgYXJlIFJlbW92ZWQgaW4gRG9jdW1lbnQKICAgICAgICAgICAgICBpZiAocnVsZS5vblJlbW92ZSkgewoKICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uIE9ic2VydmVyCiAgICAgICAgICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS9teHh6ZWU0CiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0OiBodHRwOi8vdGlueXVybC5jb20vbmVwbjd2eQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciAhPSAndW5kZWZpbmVkJyB8fAogICAgICAgICAgICAgICAgICB0eXBlb2YgV2ViS2l0TXV0YXRpb25PYnNlcnZlciAhPSAndW5kZWZpbmVkJykgewoKICAgICAgICAgICAgICAgICAgLy8gTXV0YXRpb24gT2JzZXJ2ZXIKICAgICAgICAgICAgICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7CgogICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UKICAgICAgICAgICAgICAgICAgdmFyIG9iczIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcjIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIHNhZmVseSB1c2UgYGZvckVhY2hgIGJlY2F1c2Ugd2UgYWxyZWFkeSB1c2UgbXV0YXRpb24KICAgICAgICAgICAgICAgICAgICAgIC8vIG9ic2VydmVycyB0aGF0IGFyZSBtb3JlIHJlY2VudCB0aGFuIGBmb3JFYWNoYC4gKHNvdXJjZTogTUROKQogICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHdhbnQgb25seSByZW1vdmVkIG5vZGVzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi5yZW1vdmVkTm9kZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChtdXRhdGlvbi5yZW1vdmVkTm9kZXMsIGZ1bmN0aW9uIChyZW1vdmVkTm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFhay5vcHRzLmxvZ1JlbW92ZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBYWsubG9nKHJlbW92ZWROb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUub25SZW1vdmUocmVtb3ZlZE5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgLy8gT2JzZXJ2ZXIKICAgICAgICAgICAgICAgICAgb2JzMi5vYnNlcnZlKGRvY3VtZW50LCB7CiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0IDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlIDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uIEV2ZW50cyAoQWx0ZXJuYXRpdmUgU29sdXRpb24pCiAgICAgICAgICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS9vcDk1cmZ5CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgQWFrLm9uRXZlbnQod2luZG93LCAiRE9NTm9kZVJlbW92ZWQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChBYWsub3B0cy5sb2dSZW1vdmVkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coZS50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBydWxlLm9uUmVtb3ZlKGUudGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAKICAgICAgICAgICAgICAvLyBBYWsgRXZlbnRzCiAgICAgICAgICAgICAgQWFrLm9uRXZlbnQod2luZG93LCAnZGV0ZWN0ZWQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgQWFrLmluZm8oWydBbnRpQWRiS2lsbGVyJywgQWFrLmlzVG9wZnJhbWUgPyAndG9wZnJhbWUnIDogJ3N1YmZyYW1lJywgbG9jYXRpb24uaG9zdCwgZS5kZXRhaWxdKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLy8gQXBwbHkgcnVsZXMKICAgICAgICBmb3IgKHZhciBuYW1lIGluIEFhay5ydWxlcykgewogICAgICAgICAgaWYgKEFhay5ydWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgICAgICBoYW5kbGVyRXZlbnRzKEFhaywgbmFtZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgQWFrLmluaXRpYWxpemUoKTsKCn0pKHdpbmRvdyk7"},{"name":"addlessphotopea","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.photopea.com/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671028985101,"data":{}},"enabled":true,"position":9,"file_url":"https://greasyfork.org/scripts/389215-addlessphotopea/code/addlessphotopea.user.js","uuid":"097879ae-1065-425f-884a-383892b7bcb2","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBhZGRsZXNzcGhvdG9wZWEKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjIKLy8gQGRlc2NyaXB0aW9uICBBZGRsZXNzIFBob3RvcGVhIG9ubHkgZm9yIHlvdSEKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy5waG90b3BlYS5jb20vKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIgYmFyOwoKZnVuY3Rpb24gZ2V0QmFyKCkgewogICAgaWYgKGJhcikgewogICAgICAgIHJldHVybiBiYXI7CiAgICB9OwogICAgYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhbmVsYmxvY2subWFpbmJsb2NrIC5ibG9jayAucGFuZWxoZWFkJyk7Cn0KCmZ1bmN0aW9uIGdldEJhck1heFdpdGR0aCgpIHsKICAgIGdldEJhcigpOwogICAgcmV0dXJuIGJhci5zdHlsZS5tYXhXaWR0aDsKfQoKZnVuY3Rpb24gc2V0QmFyTWF4V2l0ZHRoKHZhbHVlKSB7CiAgICBnZXRCYXIoKTsKICAgIGJhci5zdHlsZS5tYXhXaWR0aCA9IHZhbHVlOwp9CgooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGFkZHJlbW92ZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdmFyIG1haW5TZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZsZXhyb3cucGhvdG9wZWEnKS5jaGlsZE5vZGVzOwogICAgICAgIHZhciBtYWlucGFydCA9IG1haW5TZWN0aW9uWzBdOwogICAgICAgIHZhciBhZGRwYXJ0ID0gbWFpblNlY3Rpb25bMV07CiAgICAgICAgaWYgKGFkZHBhcnQpIHsKICAgICAgICAgICAgYWRkcGFydC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBtYWlucGFydC5zdHlsZS53aWR0aCA9ICcxMDAlJzsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhbmVsYmxvY2subWFpbmJsb2NrJykuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKb2IgZG9uZSwgc2NyaXB0IHF1aXQuJykKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhZGRyZW1vdmVyKTsKICAgICAgICB9CiAgICB9LCAxMDApOwoKICAgIHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoZ2V0QmFyTWF4V2l0ZHRoKCkgIT09ICcxMDAlJykgewogICAgICAgICAgICBzZXRCYXJNYXhXaXRkdGgoJzEwMCUnKTsKICAgICAgICB9CiAgICB9LCAxMDApCn0pKCk7Cg=="},{"name":"Photopea.com - Insomniac Dark","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http://photopea.com/*","https://photopea.com/*","http://*.photopea.com/*","https://*.photopea.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671029015814,"data":{}},"enabled":true,"position":10,"file_url":"https://userstyles.org/styles/userjs/172315/photopea-com-insomniac-dark.user.js","uuid":"33f141d8-6b82-41f8-ba75-8c0c18e92005","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgUGhvdG9wZWEuY29tIC0gSW5zb21uaWFjIERhcmsKLy8gQG5hbWVzcGFjZSAgICAgaHR0cDovL3VzZXJzdHlsZXMub3JnCi8vIEBkZXNjcmlwdGlvbgkgIEluY2x1ZGVzIGFuIG9wdGlvbmFsIHNldHRpbmcgdG8gaGlkZSB0aGUgYnV0dG9ucyBvbiB0aGUgdG9wYmFyLgovLyBAYXV0aG9yICAgICAgICBjYWxpY28KLy8gQGhvbWVwYWdlICAgICAgaHR0cHM6Ly91c2Vyc3R5bGVzLm9yZy9zdHlsZXMvMTcyMzE1Ci8vIEBpbmNsdWRlICAgICAgIGh0dHA6Ly9waG90b3BlYS5jb20vKgovLyBAaW5jbHVkZSAgICAgICBodHRwczovL3Bob3RvcGVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgIGh0dHA6Ly8qLnBob3RvcGVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgIGh0dHBzOi8vKi5waG90b3BlYS5jb20vKgovLyBAcnVuLWF0ICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAdmVyc2lvbiAgICAgICAwLjIwMjAwODA2MTc1MjQzCi8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24oKSB7dmFyIGNzcyA9IFsKCSJodG1sIHsiLAoJIiAgYmFja2dyb3VuZDogaHNsKDAsIDAlLCAxNSUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiOmZvY3VzIHsiLAoJIiAgb3V0bGluZS1jb2xvcjogaHNsKDAsIDAlLCA3MCUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkic2VsZWN0IHsiLAoJIiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQW9BQUFBS0NBTUFBQUM2N0QrUEFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFBRnpVa2RDQUs3T0hPa0FBQUFWVUV4VVJRQUFBUC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vMGpQYlFRQUFBQUhkRkpPVXdDL21pWmdQeUg4ZDNYcEFBQUFLRWxFUVZRSTEzWEdRUklBTUFRQXNTM2wvMDgyU20va0ZCalpiWWJLZVVUcDUrcTEvQis0c3dvYTJ3QnJCdW9pZUFBQUFBQkpSVTVFcmtKZ2dnPT0pIWltcG9ydGFudDsiLAoJIiAgYmFja2dyb3VuZC1zaXplOiAxMHB4IDEwcHghaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgcmlnaHQgNHB4IWltcG9ydGFudDsiLAoJIiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGNvbG9yIC4ycywgYmFja2dyb3VuZC1jb2xvciAuMnMsIGJvcmRlci1jb2xvciAuMnMsIGJhY2tncm91bmQtaW1hZ2UgLjJzIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkic2VsZWN0OmhvdmVyLCIsCgkic2VsZWN0OmZvY3VzIHsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgMTAwJSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDQyJSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBb0FBQUFLQ0FNQUFBQzY3RCtQQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUFGelVrZENBSzdPSE9rQUFBQWJVRXhVUlFBQUFQLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyt0TlBzSUFBQUFJZEZKT1V3RE5nRE15VkN4L0tnRExJUUFBQUM5SlJFRlVDTmQxeWtFT0FDQU1Ba0d3dFBYL0x6YlVxODZKYkFDZXN0Zm9SSEFQQnFEWmxDL3ViaWJlWmxYNE9pMElBTFh5Y3VjakFBQUFBRWxGVGtTdVFtQ0MpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmJidG46aG92ZXIsIiwKCSIuYmJ0bjpmb2N1cyB7IiwKCSIgIG91dGxpbmU6IG5vbmUhaW1wb3J0YW50OyIsCgkiICBib3JkZXItdG9wLWNvbG9yOiBoc2xhKDAsIDAlLCAxMDAlLCAuNCkhaW1wb3J0YW50OyIsCgkiICBib3JkZXItYm90dG9tLWNvbG9yOiBoc2xhKDAsIDAlLCAwJSwgLjg1KSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIm9wdGlvbiB7IiwKCSIgIGNvbG9yOiBoc2woMCwgMCUsIDg2JSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kOiBoc2woMCwgMCUsIDMwJSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSJpbnB1dCB7IiwKCSIgIGNvbG9yOiBoc2woMCwgMCUsIDg2JSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDIyJSkhaW1wb3J0YW50OyIsCgkiICBib3gtc2hhZG93OiAwIDAgMCAxcHggaHNsKDAsIDAlLCA0MCUpIWltcG9ydGFudDsiLAoJIiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuMnMsIGJveC1zaGFkb3cgLjJzIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiaW5wdXQ6Zm9jdXMgeyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDE2JSkhaW1wb3J0YW50OyIsCgkiICBib3gtc2hhZG93OiAwIDAgMCAxcHggaHNsKDAsIDAlLCA1NCUpIWltcG9ydGFudDsiLAoJIiAgb3V0bGluZTogbm9uZSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImlucHV0W3R5cGU9XCJjb2xvclwiXSB7IiwKCSIgIHBhZGRpbmc6IDAhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSJ0ZXh0YXJlYSB7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgMTklKSFpbXBvcnRhbnQ7IiwKCSIgIGJvcmRlcjogMXB4IHNvbGlkIGhzbCgwLCAwJSwgMzYlKSFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjJzLCBib3JkZXItY29sb3IgLjJzIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkidGV4dGFyZWE6Zm9jdXMgeyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDE3JSkhaW1wb3J0YW50OyIsCgkiICBib3JkZXItY29sb3I6IGhzbCgwLCAwJSwgNDIlKSFpbXBvcnRhbnQ7IiwKCSIgIG91dGxpbmU6IG5vbmUhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSJpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0geyIsCgkiICAtbW96LWFwcGVhcmFuY2U6IG5vbmUhaW1wb3J0YW50OyIsCgkiICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmUhaW1wb3J0YW50OyIsCgkiICBwb3NpdGlvbjogcmVsYXRpdmUhaW1wb3J0YW50OyIsCgkiICBvcGFjaXR5OiAxIWltcG9ydGFudDsiLAoJIiAgbWFyZ2luLXJpZ2h0OiAwIWltcG9ydGFudDsiLAoJIiAgbWFyZ2luLXRvcDogMCFpbXBvcnRhbnQ7IiwKCSIgIG1hcmdpbi1ib3R0b206IDAhaW1wb3J0YW50OyIsCgkiICBib3gtc2hhZG93OiBub25lIWltcG9ydGFudDsiLAoJIiAgYm9yZGVyOiAxcHggc29saWQgaHNsKDAsIDAlLCA1MCUpIWltcG9ydGFudDsiLAoJIiAgaGVpZ2h0OiAxMnB4IWltcG9ydGFudDsiLAoJIiAgd2lkdGg6IDEycHghaW1wb3J0YW50OyIsCgkiICBib3JkZXItcmFkaXVzOiAxcHghaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDIwJSkhaW1wb3J0YW50OyIsCgkiICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4ycywgYm9yZGVyLWNvbG9yIC4ycyFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpob3ZlciB7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgMjYlKSFpbXBvcnRhbnQ7IiwKCSIgIGJvcmRlci1jb2xvcjogaHNsKDAsIDAlLCA3MCUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQ6YmVmb3JlIHsiLAoJIiAgY29udGVudDogXCJcIjsiLAoJIiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQW9BQUFBS0NBWUFBQUNOTXMrOUFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBQjNSSlRVVUg0UWdURndFc1VibzVZQUFBQUhSSlJFRlVHTk90a0xFTndsQU1CYyswdjJjQWx1RDNvV1lKbEo1c2dqSkYraXdSQmtwOU5BNEtGRUdLZU5McnptZkw4SStvclZvQkRodFFCYTdBWmN0VTFDRmJQb3pxY2NWMlFBRWVFVEcvUWJVRmV2V1VLOC9BTXlLbVpUSVNiSUE3TUsrc3Q4WDJmVmVqanRuNjZ4MDF6OWlmRnhzQ1ExYW1saXBHQUFBQUFFbEZUa1N1UW1DQyluby1yZXBlYXQ7IiwKCSIgIHBvc2l0aW9uOiBhYnNvbHV0ZTsiLAoJIiAgaGVpZ2h0OiAxMHB4OyIsCgkiICB3aWR0aDogMTBweDsiLAoJIiAgdG9wOiAwOyIsCgkiICBsZWZ0OiAwOyIsCgkiICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIC4yczsiLAoJIn0iLAoJIiIsCgkiaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQ6aG92ZXI6YmVmb3JlIHsiLAoJIiAgY29udGVudDogXCJcIjsiLAoJIiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQW9BQUFBS0NBWUFBQUNOTXMrOUFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBQjNSSlRVVUg0UWdURmlVUitmais0QUFBQUZOSlJFRlVHTk5qWUtBRytQLy8vNFQvLy84SEVGSVU4QjhDTnVCVEpQRC8vLy8zLy8vLy8vRC8vMzhCZEVrRkpQWUdxR2tCMk56eS92Ly8vd1o0cmZ6Ly8zOENWUEk5VGl1eEtQNVByRThuVUJTbUFMalhieHJDNTZtUUFBQUFBRWxGVGtTdVFtQ0Mpbm8tcmVwZWF0OyIsCgkifSIsCgkiIiwKCSJpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0gKyBsYWJlbCB7IiwKCSIgIHBhZGRpbmctbGVmdDogLjNlbSFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGNvbG9yIC4ycyFpbXBvcnRhbnQ7IiwKCSIgIGZvbnQtc2l6ZTogMTNweCFpbXBvcnRhbnQ7IiwKCSIgIGhlaWdodDogMTJweCFpbXBvcnRhbnQ7IiwKCSIgIGxpbmUtaGVpZ2h0OiAxMnB4IWltcG9ydGFudDsiLAoJIiAgZGlzcGxheTogaW5saW5lLWJsb2NrIWltcG9ydGFudDsiLAoJIiAgdmVydGljYWwtYWxpZ246IG1pZGRsZSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpob3ZlciArIGxhYmVsLCIsCgkiaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdICsgbGFiZWw6aG92ZXIgeyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCAxMDAlKSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi50b29sY29uZiAuY2JveCA+IGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSwiLAoJIi50b29sY29uZiAuY2JveCA+IGxhYmVsIHsiLAoJIiAgcG9zaXRpb246IHJlbGF0aXZlIWltcG9ydGFudDsiLAoJIiAgbWFyZ2luLXRvcDogLTNweCFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5hbGVydGNvbnQgPiBkaXYgeyIsCgkiICBiYWNrZ3JvdW5kOiBoc2woMCwgMCUsIDE1JSkhaW1wb3J0YW50OyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCA4NiUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmNvbnRleHRwYW5lbCB7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgMTglKSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5jb250ZXh0cGFuZWwgLmVuYWIgeyIsCgkiICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4ycyFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5jb250ZXh0cGFuZWwgLmVuYWI6aG92ZXIgeyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDIyJSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIuY29udGV4dHBhbmVsIC5lbmFiIHNwYW4geyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCA3NSUpIWltcG9ydGFudDsiLAoJIiAgdHJhbnNpdGlvbjogY29sb3IgLjJzIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmNvbnRleHRwYW5lbCAuZW5hYjpob3ZlciBzcGFuIHsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgMTAwJSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIuY29udGV4dHBhbmVsIC5lbmFiIGltZywiLAoJIi5nc2ljb24sIiwKCSIuYmxvY2sgLnBhbmVsaGVhZCBkaXYgLmNyb3NzLCIsCgkiLndpbmRvdyAuaGVhZCAuY3Jvc3MgeyIsCgkiICAtd2Via2l0LWZpbHRlcjogaW52ZXJ0KDEpIWltcG9ydGFudDsiLAoJIiAgZmlsdGVyOiBpbnZlcnQoMSkhaW1wb3J0YW50OyIsCgkiICBvcGFjaXR5OiAuNzUhaW1wb3J0YW50OyIsCgkiICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycyFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5jb250ZXh0cGFuZWwgLmVuYWI6aG92ZXIgaW1nLCIsCgkiYnV0dG9uOmhvdmVyIC5nc2ljb24sIiwKCSJidXR0b246Zm9jdXMgLmdzaWNvbiwiLAoJImJ1dHRvbjphY3RpdmUgLmdzaWNvbiwiLAoJIi5hY3RpdmU6bm90KC5maXRlbSkgLmdzaWNvbiwiLAoJIi5ibG9jayAucGFuZWxoZWFkIGRpdiAuY3Jvc3M6aG92ZXIsIiwKCSIud2luZG93IC5oZWFkIC5jcm9zczpob3ZlciB7IiwKCSIgIG9wYWNpdHk6IDEhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIuY29udGV4dHBhbmVsIGhyIHsiLAoJIiAgYmFja2dyb3VuZDogaHNsKDAsIDAlLCAyNyUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiYnV0dG9uIHsiLAoJIiAgdHJhbnNpdGlvbjogY29sb3IgLjJzLCBiYWNrZ3JvdW5kLWNvbG9yIC4ycywgYm9yZGVyLWNvbG9yIC4ycyFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImJ1dHRvbjpob3ZlciwiLAoJImJ1dHRvbjpmb2N1cywiLAoJImJ1dHRvbjphY3RpdmUgeyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCAxMDAlKSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5wYW5lbGJsb2NrIGJ1dHRvbiwiLAoJIi50b29sYnRuIHsiLAoJIiAgb3V0bGluZTogbm9uZSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5wYW5lbGJsb2NrIGJ1dHRvbjpob3ZlciwiLAoJIi5wYW5lbGJsb2NrIGJ1dHRvbjpmb2N1cywiLAoJIi5wYW5lbGJsb2NrIGJ1dHRvbi5hY3RpdmUgeyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCAxMDAlKSFpbXBvcnRhbnQ7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbGEoMCwgMCUsIDAlLCAuMjUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLnBhbmVsYmxvY2sgYnV0dG9uOm5vdCguYWN0aXZlKTpub3QoOmhvdmVyKTpmb2N1cyB7IiwKCSIgIGNvbG9yOiBoc2woMCwgMCUsIDg0JSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi50b3BmbG9hdCA+IGEsIiwKCSIudG9wYmFyID4gYnV0dG9uIHsiLAoJIiAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDAsIDAlLCAzOCUpIWltcG9ydGFudDsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgODQlKSFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGNvbG9yIC4ycywgYmFja2dyb3VuZC1jb2xvciAuMnMsIGJvcmRlci1jb2xvciAuMnMhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIudG9wZmxvYXQgPiBhOmhvdmVyLCIsCgkiLnRvcGJhciA+IGJ1dHRvbjpob3ZlciB7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgNDIlKSFpbXBvcnRhbnQ7IiwKCSIgIGNvbG9yOiBoc2woMCwgMCUsIDEwMCUpIWltcG9ydGFudDsiLAoJIiAgYm9yZGVyLXRvcC1jb2xvcjogaHNsYSgwLCAwJSwgMTAwJSwgLjQpIWltcG9ydGFudDsiLAoJIiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogaHNsYSgwLCAwJSwgMCUsIC44NSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIudG9wZmxvYXQgeyIsCgkiICByaWdodDogNHB4IWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmJsb2NrIC5wYW5lbGhlYWQgZGl2IHsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgNjYlKSFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGNvbG9yIC4ycywgYmFja2dyb3VuZC1jb2xvciAuMnMsIGJvcmRlci1jb2xvciAuMnMhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIuYmxvY2sgLnBhbmVsaGVhZCBkaXYuYWN0aXZlLCIsCgkiLmJsb2NrIC5wYW5lbGhlYWQgZGl2OmhvdmVyIHsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgOTAlKSFpbXBvcnRhbnQ7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgMjYlKSFpbXBvcnRhbnQ7IiwKCSIgIGJvcmRlci10b3AtY29sb3I6IGhzbGEoMCwgMCUsIDEwMCUsIC4zKSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5yYW5nZWNvbnQgeyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDQwJSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIjY2FwLCIsCgkiYm9keSA+IC5hcHAgPiBkaXZbc3R5bGUqPVwiei1pbmRleDogMVwiXSB7IiwKCSIgIGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIubWFpbmJsb2NrID4gLmJsb2NrID4gZGl2LCIsCgkiYm9keSA+IC5hcHAgPiBkaXYgPiBkaXZbc3R5bGUqPVwid2lkdGhcIl0geyIsCgkiICB3aWR0aDogdW5zZXQhaW1wb3J0YW50OyIsCgkiICBtYXgtd2lkdGg6IHVuc2V0IWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiYm9keSA+IC5hcHAgPiBkaXYgPiBkaXZbc3R5bGUqPVwid2lkdGhcIl0gPiBkaXZbc3R5bGUqPVwibGVmdFwiXSB7IiwKCSIgIGxlZnQ6IDAhaW1wb3J0YW50OyIsCgkiICByaWdodDogMCFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImJvZHkgPiAuYXBwID4gZGl2IHsiLAoJIiAgZmxleC1iYXNpczogMTAwJSFpbXBvcnRhbnQiLAoJIn0iLAoJIiIsCgkiYm9keSA+IC5hcHAgPiBkaXYgPiAuY21hbmFnZXIgLmNvbnRleHRwYW5lbFtzdHlsZSo9XCJ0b3A6IDE2M1wiXSB7IiwKCSIgIGxlZnQ6IHVuc2V0IWltcG9ydGFudDsiLAoJIiAgcmlnaHQ6IDMycHghaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIubWFpbmJsb2NrIHsiLAoJIiAgZmxleC1ncm93OiAxIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLm1haW5ibG9jayA+IC5ibG9jayA+IGRpdiA+IGRpdi5wYm9keSB7IiwKCSIgIHdpZHRoOiBtYXgtY29udGVudDsiLAoJIiAgbWFyZ2luOiBhdXRvIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmludHJvIHsiLAoJIiAgcG9zaXRpb246IGFic29sdXRlIWltcG9ydGFudDsiLAoJIiAgdG9wOiAwIWltcG9ydGFudDsiLAoJIiAgYm90dG9tOiAwIWltcG9ydGFudDsiLAoJIiAgbGVmdDogMCFpbXBvcnRhbnQ7IiwKCSIgIHJpZ2h0OiAwIWltcG9ydGFudDsiLAoJIiAgbWFyZ2luOiBhdXRvIWltcG9ydGFudDsiLAoJIn0iCl0uam9pbigiXG4iKTsKaWYgKHR5cGVvZiBHTV9hZGRTdHlsZSAhPSAidW5kZWZpbmVkIikgewoJR01fYWRkU3R5bGUoY3NzKTsKfSBlbHNlIGlmICh0eXBlb2YgUFJPX2FkZFN0eWxlICE9ICJ1bmRlZmluZWQiKSB7CglQUk9fYWRkU3R5bGUoY3NzKTsKfSBlbHNlIGlmICh0eXBlb2YgYWRkU3R5bGUgIT0gInVuZGVmaW5lZCIpIHsKCWFkZFN0eWxlKGNzcyk7Cn0gZWxzZSB7Cgl2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Cglub2RlLnR5cGUgPSAidGV4dC9jc3MiOwoJbm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTsKCXZhciBoZWFkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIik7CglpZiAoaGVhZHMubGVuZ3RoID4gMCkgewoJCWhlYWRzWzBdLmFwcGVuZENoaWxkKG5vZGUpOwoJfSBlbHNlIHsKCQkvLyBubyBoZWFkIHlldCwgc3RpY2sgaXQgd2hlcmVldmVyCgkJZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKG5vZGUpOwoJfQp9Cn0pKCk7Cg=="}],"settings":{"scriptUpdateCheckDisabled":true,"script_blacklist_server":[{"rules":["/https?:\\/\\/userscripts\\.org\\/scripts\\/(source|version)/(102614).*\\.user\\.js/"],"severity":2},{"name":"SaveFrom.net helper","reason":"Shows advertisements","rules":["/https?:\\/\\/sf-addon\\.com\\/.*\\/.*\\.user\\.js/","/https?:\\/\\/.*\\.sf-helper\\.com\\/.*\\.user\\.js/"],"severity":3},{"reasons":{"en":"Used for a phishing compain to compromise users of baon-nutrition.com"},"rules":["/https?:\\/\\/files\\.ulysse\\.travel\\/.*\\.user\\.js/"],"severity":8},{"name":"Local YouTube Downloader","reasons":{"en":"Shows a disturbing alert message at every page with a youtube frame or iframe"},"rules":["/https?:\\/\\/greasyfork\\.org\\/scripts\\/369400-.*\\.user\\.js.*/"],"severity":8}],"userscript_search_mode":"badge"}}