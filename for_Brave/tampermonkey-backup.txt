{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"R10 AdFck","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://www.r10.net/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671066989332,"data":{}},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/442192-r10-adfck/code/R10%20AdFck.user.js","uuid":"3d544001-f7bb-4ab4-b72b-5763d59126c7","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBSMTAgQWRGY2sKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL0tla2lrQWthZGVtaS5vcmcvS2FodmUKLy8gQGRlc2NyaXB0aW9uICBSMTAuTmV0IFJla2xhbSBFbmdlbGxleWljaQovLyBAY29weXJpZ2h0ICAgIDIwMjIsIGtleWlmbGVyb2xzdW4sIGh0dHBzOi8vdC5tZS9LZWtpa0FrYWRlbWkKLy8gQHZlcnNpb24gICAgICAxLjMxCi8vIEBsaWNlbnNlICAgICAgR1BMdjMKLy8gQGF1dGhvciAgICAgICBAS2VraWtBa2FkZW1pCi8vIEBtYXRjaCAgICAgICAgKjovL3d3dy5yMTAubmV0LyoKLy8gQGljb24gICAgICAgICBodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2Zhdmljb25zP3N6PTY0JmRvbWFpbj1yMTAubmV0Ci8vIEBncmFudCAgICAgICAgbm9uZQovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9hamF4Lmdvb2dsZWFwaXMuY29tL2FqYXgvbGlicy9qcXVlcnkvMy42LjAvanF1ZXJ5Lm1pbi5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCgovLyAhIEVsZW1hbiBWYXJzYSBTaWwKZnVuY3Rpb24gaWNpbmRlbl9nZWMoc2VjaWNpKSB7CiAgICBsZXQgZWxlbWFuID0galF1ZXJ5KHNlY2ljaSkKCiAgICBpZiAoZWxlbWFuLmxlbmd0aCkgewogICAgICAgIGVsZW1hblswXS5yZW1vdmUoKQogICAgfQoKICAgIHJldHVybiBqUXVlcnkoc2VjaWNpKQp9CgovLyAhIFhQYXRoIFNlw6dpY2kKZnVuY3Rpb24geF9wYXRoKFNUUl9YUEFUSCkgewogICAgdmFyIHhyZXN1bHQgPSBkb2N1bWVudC5ldmFsdWF0ZShTVFJfWFBBVEgsIGRvY3VtZW50LCBudWxsLCBYUGF0aFJlc3VsdC5BTllfVFlQRSwgbnVsbCk7CiAgICB2YXIgeG5vZGVzID0gW107CiAgICB2YXIgeHJlczsKICAgIHdoaWxlICh4cmVzID0geHJlc3VsdC5pdGVyYXRlTmV4dCgpKSB7CiAgICAgICAgeG5vZGVzLnB1c2goeHJlcyk7CiAgICB9CgogICAgcmV0dXJuIHhub2RlczsKfQoKLy8gISBYUEFUSCBWYXJzYSBTaWwKZnVuY3Rpb24geF9kZWwoc2VjaWNpKSB7CiAgICBsZXQgZWxlbWFuID0geF9wYXRoKHNlY2ljaSkKCiAgICBpZiAoZWxlbWFuLmxlbmd0aCkgewogICAgICAgIGVsZW1hblswXS5yZW1vdmUoKQogICAgfQoKICAgIHJldHVybiB4X3BhdGgoc2VjaWNpKQp9CgovLyAhIExpbmsgWcO2bmxlbmRpcm1lIMSwcHRhbGkKZnVuY3Rpb24geW9ubGVuZGlybWVfc2lsKCkgewogICAgbGV0IF95b25sZW5kaXIgPSAnaHR0cHM6Ly93d3cucjEwLm5ldC95b25sZW5kaXIvP2FkcmVzPScKICAgIGpRdWVyeShgYVtocmVmXj0iJHtfeW9ubGVuZGlyfSJdYCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5ocmVmID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuaHJlZi5yZXBsYWNlKF95b25sZW5kaXIsICIiKS5zcGxpdCgnJnRva2VuJylbMF0pCiAgICB9KQp9CgoKLy8gKiBLYXluYWsgS29kIFnDvGtsZW5pbmNlCmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgewoKICAgIC8vICEgw5xzdHRla2kgUmVrbGFtIFNpbAogICAgaWNpbmRlbl9nZWMoJ3NlY3Rpb246Y29udGFpbnMoInRvcGJhciIpJykKCiAgICAvLyAhIFNvbCBUYXJhZnRha2kgUmVrbGFtxLEgU2lsCiAgICBpY2luZGVuX2dlYygnLmhlYWQ6Y29udGFpbnMoIlJla2xhbSIpJykKICAgIGpRdWVyeSgnbWFpbicpLmNzcygncGFkZGluZy1sZWZ0JywgMCkKCiAgICAvLyAhIEhlZGVmIExpbmtsZXJpbiBSZWtsYW1sYXLEsW7EsSBTaWwKICAgIGljaW5kZW5fZ2VjKCdhW2hyZWYqPSJqZXR0ZWtub2xvamkiXScpCiAgICBpY2luZGVuX2dlYygnYVtocmVmKj0idGljaW1heCJdJykKICAgIGljaW5kZW5fZ2VjKCdhW2hyZWYqPSJpa2FzLmNvbSJdJykKICAgIGljaW5kZW5fZ2VjKCdhW2hyZWYqPSIzNDQ5NDA5LWlrYXMtZS10aWNhcmV0Il0nKQoKICAgIC8vICEgS2F0ZWdvcmkgxLDDp2kgU3BvbnNvcmx1CiAgICBpY2luZGVuX2dlYygnYVtyZWwqPSJzcG9uc29yZWQiXScpCgogICAgLy8gISBCbG9nIFJla2xhbSBTaWwKICAgIGljaW5kZW5fZ2VjKCdkaXZbY2xhc3M9ImJsb2dwb3N0cyJdJykKCiAgICAvLyAhIExpbmsgWcO2bmxlbmRpcm1lIMSwcHRhbGkKICAgIHlvbmxlbmRpcm1lX3NpbCgpCgogICAgLy8gISBCbG9nIFNwb25zb3JsdQogICAgeF9kZWwoIi8vc3Bhbltjb250YWlucyh0ZXh0KCksICdTUE9OU09STFUnKV0vYW5jZXN0b3I6OmRpdltjb250YWlucyhAY2xhc3MsICdwb3N0JyldIikKCn0pCgoKLy8gKiBTYXlmYSBZw7xrbGVuaW5jZQpqUXVlcnkod2luZG93KS5vbigibG9hZCIsIGZ1bmN0aW9uICgpIHsKCiAgICAvLyAhIFBNIEFsYW7EsSBGaXgKICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT0gJy9wcml2YXRlLnBocCcpIHsKICAgICAgICBqUXVlcnkoJ2Rpdi5jb252ZXJzYXRpb24nKVswXS5zdHlsZS53aWR0aCA9IG51bGwKICAgICAgICBqUXVlcnkoJ2Rpdi5jb252ZXJzYXRpb24nKVswXS5zdHlsZS5oZWlnaHQgPSBudWxsCiAgICAgICAgalF1ZXJ5KCdkaXYuY29udmVyc2F0aW9uIGRpdicpWzBdLnN0eWxlLndpZHRoID0gbnVsbAogICAgICAgIGpRdWVyeSgnZGl2LmNvbnZlcnNhdGlvbiBkaXYgZGl2JylbMF0uc3R5bGUud2lkdGggPSBudWxsCiAgICB9Cgp9KQoKCgovLyAqIEhlciBTYW5peWUKZnVuY3Rpb24ga29udHJvbEV0KCkgewoKICAgIC8vICEgS2F0ZWdvcmkgU3BvbnNvciBSZWtsYW0KICAgIGpRdWVyeSgnbGknKS5maWx0ZXIoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmlkLm1hdGNoKC9zcG9uc29yUmVrbGFtLykKICAgIH0pLnJlbW92ZSgpCgoKICAgIC8vICogVVJMIERlxJ9pxZ9pbmNlCiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYgIT0gZWxkZWtpVVJMKSB7CgogICAgICAgIC8vICEgTGluayBZw7ZubGVuZGlybWUgxLBwdGFsaQogICAgICAgIHlvbmxlbmRpcm1lX3NpbCgpCgogICAgICAgIGVsZGVraVVSTCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmCiAgICB9Cn0KCnZhciBlbGRla2lVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZgpzZXRJbnRlcnZhbChrb250cm9sRXQsIDEwMDAp","requires":[{"meta":{"name":"jquery.min.js","url":"http://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js","ts":1671066989328,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="}]},{"name":"YouTube™ Multi Downloader 🚀💯 - yt1s.com (MP3, FHD, MP4, HD, SD, 3GP / NO ADS 🚫)","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.youtube.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671066989332,"data":{}},"enabled":true,"position":2,"file_url":"https://greasyfork.org/scripts/34613-youtube-multi-downloader-yt1s-com-mp3-fhd-mp4-hd-sd-3gp-no-ads/code/YouTube%E2%84%A2%20Multi%20Downloader%20%F0%9F%9A%80%F0%9F%92%AF%20-%20yt1scom%20(MP3,%20FHD,%20MP4,%20HD,%20SD,%203GP%20%20NO%20ADS%20%F0%9F%9A%AB).user.js","uuid":"4885dfee-70c7-48de-b5af-1406ae1d4b71","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnB0LUJSIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIFNFTSBBTsOaTkNJT1Mg8J+aqykKLy8gQG5hbWU6YXIgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmJnIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpjcyBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6ZGEgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmRlIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTplbCBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6ZW8gWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmVzIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpmaSBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6ZnIgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmZyLUNBIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpoZSBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6aHUgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmlkIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTppdCBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6amEgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOmtvIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpuYiBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6bmwgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnBsIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpybyBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6cnUgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnNrIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTpzciBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6c3YgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnRoIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTp0ciBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6dWsgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnVnIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAbmFtZTp2aSBZb3VUdWJl4oSiIE11bHRpIERvd25sb2FkZXIg8J+agPCfkq8gLSB5dDFzLmNvbSAoTVAzLCBGSEQsIE1QNCwgSEQsIFNELCAzR1AgLyBOTyBBRFMg8J+aqykKLy8gQG5hbWU6emgtQ04gWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIPCfmoDwn5KvIC0geXQxcy5jb20gKE1QMywgRkhELCBNUDQsIEhELCBTRCwgM0dQIC8gTk8gQURTIPCfmqspCi8vIEBuYW1lOnpoLVRXIFlvdVR1YmXihKIgTXVsdGkgRG93bmxvYWRlciDwn5qA8J+SryAtIHl0MXMuY29tIChNUDMsIEZIRCwgTVA0LCBIRCwgU0QsIDNHUCAvIE5PIEFEUyDwn5qrKQovLyBAZGVzY3JpcHRpb24gQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpwdC1CUiBDb21wYXTDrXZlbCBjb20gWW91VHViZSBNUDMgRG93bmxvYWRlciEgRXNzZSBzY3JpcHQgYWRpY2lvbmEgdW0gYm90w6NvIGRlIGRvd25sb2FkLCB1bWEgbWFuZWlyYSBtYWlzIHLDoXBpZGEgZGUgYmFpeGFyIMOhdWRpbyBkbyBZb3VUdWJlIGUgY29tIHF1YWxpZGFkZSBnYXJhbnRpZGEuIEVzdGUgc2l0ZSDDqSBtdWl0byBzaW1wbGVzLCByw6FwaWRvIGUgZWZpY2F6IHBhcmEgYmFpeGFyISBNZWxob3IgZGUgdG9kb3MhCi8vIEBkZXNjcmlwdGlvbjphciBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmJnIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246Y3MgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpkYSBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmRlIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246ZWwgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjplbyBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmVzIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246ZmkgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpmciBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmZyLUNBIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246aGUgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpodSBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmlkIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246aXQgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpqYSBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOmtvIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246bmIgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpubCBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnBsIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246cm8gQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpydSBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnNrIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246c3IgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjpzdiBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnRoIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246dHIgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjp1ayBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnVnIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAZGVzY3JpcHRpb246dmkgQ29tcGF0aWJsZSB3aXRoIFlvdVR1YmUgTVAzIERvd25sb2FkZXIhIFRoaXMgc2NyaXB0IGFkZHMgYSBkb3dubG9hZCBidXR0b24sIGEgZmFzdGVyIHdheSB0byBkb3dubG9hZCBhdWRpbyBmcm9tIFlvdVR1YmUgYW5kIHdpdGggZ3VhcmFudGVlZCBxdWFsaXR5LiBUaGlzIHNpdGUgaXMgdmVyeSBzaW1wbGUsIGZhc3QgYW5kIGVmZmVjdGl2ZSB0byBkb3dubG9hZCEgQmVzdCBvZiBhbGwhCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiBDb21wYXRpYmxlIHdpdGggWW91VHViZSBNUDMgRG93bmxvYWRlciEgVGhpcyBzY3JpcHQgYWRkcyBhIGRvd25sb2FkIGJ1dHRvbiwgYSBmYXN0ZXIgd2F5IHRvIGRvd25sb2FkIGF1ZGlvIGZyb20gWW91VHViZSBhbmQgd2l0aCBndWFyYW50ZWVkIHF1YWxpdHkuIFRoaXMgc2l0ZSBpcyB2ZXJ5IHNpbXBsZSwgZmFzdCBhbmQgZWZmZWN0aXZlIHRvIGRvd25sb2FkISBCZXN0IG9mIGFsbCEKLy8gQGRlc2NyaXB0aW9uOnpoLVRXIENvbXBhdGlibGUgd2l0aCBZb3VUdWJlIE1QMyBEb3dubG9hZGVyISBUaGlzIHNjcmlwdCBhZGRzIGEgZG93bmxvYWQgYnV0dG9uLCBhIGZhc3RlciB3YXkgdG8gZG93bmxvYWQgYXVkaW8gZnJvbSBZb3VUdWJlIGFuZCB3aXRoIGd1YXJhbnRlZWQgcXVhbGl0eS4gVGhpcyBzaXRlIGlzIHZlcnkgc2ltcGxlLCBmYXN0IGFuZCBlZmZlY3RpdmUgdG8gZG93bmxvYWQhIEJlc3Qgb2YgYWxsIQovLyBAbmFtZXNwYWNlIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvdXNlcnMvMTUyOTI0Ci8vIEBob21lcGFnZVVSTCBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMzQ2MTMKLy8gQHN1cHBvcnRVUkwgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzM0NjEzL2ZlZWRiYWNrCi8vIEBhdXRob3IgUHVuaXNoZXIKLy8gQHZlcnNpb24gRmluYWwKLy8gQGRhdGUgMjAyMi0wNS0yMQovLyBAaWNvbiBodHRwczovL2kuaW1ndXIuY29tL0ludUREVksucG5nCi8vIEBjb21wYXRpYmxlIGNocm9tZQovLyBAY29tcGF0aWJsZSBmaXJlZm94Ci8vIEBjb21wYXRpYmxlIG9wZXJhCi8vIEBjb21wYXRpYmxlIHNhZmFyaQovLyBAY29tcGF0aWJsZSBlZGdlCi8vIEBhbnRpZmVhdHVyZSByZWZlcnJhbC1saW5rCi8vIEBsaWNlbnNlIENDLUJZLU5DLU5ELTQuMAovLyBAbWF0Y2ggKjovLyoueW91dHViZS5jb20vKgovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnJvd3Nlci1hcHAiKSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFzdGhlYWQiKSB8fCB3aW5kb3cuUG9seW1lcikgewogICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIndhdGNoP3Y9IikgPCAwKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZXRhLWNvbnRlbnRzIikgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInB1bmlzaGVyIikgPT09IG51bGwpIHsKICAgICAgICAgICAgQWRkWVQoKTsKICAgICAgICB9CiAgICB9LCAxKTsKCiAgICBzZXRFbGVtZW50ID0gZnVuY3Rpb24odXJsKSB7CiAgICAgICB2YXIgcmVnRXhwID0gL14uKigoeW91dHUuYmVcLyl8KHZcLyl8KFwvdVwvXHdcLyl8KGVtYmVkXC8pfCh3YXRjaFw/KSlcPz92Pz0/KFteI1wmXD9dKikuKi87CiAgICAgICB2YXIgbWF0Y2ggPSBTdHJpbmcodXJsKS5tYXRjaChyZWdFeHApOwogICAgICAgcmV0dXJuIChtYXRjaCYmbWF0Y2hbN10ubGVuZ3RoPT0xMSk/IG1hdGNoWzddOiBmYWxzZTsKICAgIH07Cn0KCmZ1bmN0aW9uIEFkZFlUKCkgewogICAgdmFyIGJ1dHRvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgIGJ1dHRvbkRpdi5pZCA9ICJwdW5pc2hlciI7CiAgICBidXR0b25EaXYuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICBidXR0b25EaXYuc3R5bGUubWFyZ2luVG9wID0gIjNweCI7CiAgICBidXR0b25EaXYuc3R5bGUucGFkZGluZyA9ICIxMHB4IDAiOwogICAgdmFyIGFkZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgIGFkZEJ1dHRvbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiRE9XTkxPQUQiKSk7CiAgICBhZGRCdXR0b24uc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICBhZGRCdXR0b24uc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwogICAgYWRkQnV0dG9uLnN0eWxlLmhlaWdodCA9ICJpbmhlcml0IjsKICAgIGFkZEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzM5MzkzOSI7CiAgICBhZGRCdXR0b24uc3R5bGUuY29sb3IgPSAiI2ZmZmZmZiI7CiAgICBhZGRCdXR0b24uc3R5bGUucGFkZGluZyA9ICIxMHB4IDIycHgiOwogICAgYWRkQnV0dG9uLnN0eWxlLm1hcmdpbiA9ICIwcHggMHB4IjsKICAgIGFkZEJ1dHRvbi5zdHlsZS5ib3JkZXIgPSAiMCI7CiAgICBhZGRCdXR0b24uc3R5bGUuYm9yZGVyUmFkaXVzID0gIjJweCI7CiAgICBhZGRCdXR0b24uc3R5bGUuZm9udFNpemUgPSAiMS40cmVtIjsKICAgIGFkZEJ1dHRvbi5zdHlsZS5mb250RmFtaWx5ID0gImluaGVyaXQiOwogICAgYWRkQnV0dG9uLnN0eWxlLnRleHRBbGlnbiA9ICJjZW50ZXIiOwogICAgYWRkQnV0dG9uLnN0eWxlLnRleHREZWNvcmF0aW9uID0gIm5vbmUiOwogICAgYWRkQnV0dG9uLmhyZWYgPSAiLy95dDFzLmNvbS9lbi95b3V0dWJlLXRvLW1wMz9xPSIgKyBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZik7CiAgICBhZGRCdXR0b24udGFyZ2V0ID0gIl9ibGFuayI7CiAgICBidXR0b25EaXYuYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKTsKICAgIHZhciB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiW2lkPSdzdWJzY3JpYmUtYnV0dG9uJ10iKTsKICAgIGlmKHRhcmdldEVsZW1lbnQpewogICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGFyZ2V0RWxlbWVudC5sZW5ndGg7IGkrKyl7CiAgICAgICAgaWYodGFyZ2V0RWxlbWVudFtpXS5jbGFzc05hbWUuaW5kZXhPZigieXRkLXZpZGVvLXNlY29uZGFyeS1pbmZvLXJlbmRlcmVyIikgPiAtMSl7CiAgICAgICAgICAgIHRhcmdldEVsZW1lbnRbaV0uYXBwZW5kQ2hpbGQoYnV0dG9uRGl2KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHZhciBkZXNjcmlwdGlvbkJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInl0ZC12aWRlby1zZWNvbmRhcnktaW5mby1yZW5kZXJlciIpOwogICAgaWYoZGVzY3JpcHRpb25Cb3hbMF0uY2xhc3NOYW1lLmluZGV4T2YoImxvYWRpbmciKSA+IC0xKXsKICAgICAgICBkZXNjcmlwdGlvbkJveFswXS5jbGFzc0xpc3QucmVtb3ZlKCJsb2FkaW5nIik7CiAgICB9Cn0KfSkoKTs="},{"name":"AdsBypasser","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["*"],"orig_excludes":[],"orig_includes":["http://*","https://*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671066989336,"data":{"version":"n3"}},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/4881-adsbypasser/code/AdsBypasser.user.js","uuid":"03b66547-fc45-4e3f-bbcc-611c1d7d172b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIEFkc0J5cGFzc2VyCi8vIEBuYW1lc3BhY2UgICAgICBBZHNCeXBhc3NlcgovLyBAZGVzY3JpcHRpb24gICAgQnlwYXNzIEFkcwovLyBAY29weXJpZ2h0ICAgICAgMjAxMissIFdlaS1DaGVuZyBQYW4gKGxlZ25hbGV1cmMpCi8vIEB2ZXJzaW9uICAgICAgICA1LjczLjAKLy8gQGxpY2Vuc2UgICAgICAgIEJTRAovLyBAaG9tZXBhZ2VVUkwgICAgaHR0cHM6Ly9hZHNieXBhc3Nlci5naXRodWIuaW8vCi8vIEBzdXBwb3J0VVJMICAgICBodHRwczovL2dpdGh1Yi5jb20vYWRzYnlwYXNzZXIvYWRzYnlwYXNzZXIvaXNzdWVzCi8vIEBpY29uICAgICAgICAgICBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWRzYnlwYXNzZXIvYWRzYnlwYXNzZXIvdjUuNzMuMC9pbWcvbG9nby5wbmcKLy8gQGdyYW50ICAgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRSZXNvdXJjZVRleHQKLy8gQGdyYW50ICAgICAgICAgIEdNX2dldFJlc291cmNlVVJMCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAcnVuLWF0ICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQHJlc291cmNlICAgICAgIGFsaWduQ2VudGVyIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZHNieXBhc3Nlci9hZHNieXBhc3Nlci92NS43My4wL2Nzcy9hbGlnbl9jZW50ZXIuY3NzCi8vIEByZXNvdXJjZSAgICAgICBzY2FsZUltYWdlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZHNieXBhc3Nlci9hZHNieXBhc3Nlci92NS43My4wL2Nzcy9zY2FsZV9pbWFnZS5jc3MKLy8gQHJlc291cmNlICAgICAgIGJnSW1hZ2UgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Fkc2J5cGFzc2VyL2Fkc2J5cGFzc2VyL3Y1LjczLjAvaW1nL2ltYWdlZG9jLWRhcmtub2lzZS5wbmcKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwczovLyoKLy8gQGNvbm5lY3QgICAgICAgICoKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoY29udGV4dCwgUHJvbWlzZSk7CiAgfSBlbHNlIHsKICAgIHZhciBQID0gbnVsbDsKICAgIGlmIChjb250ZXh0LnVuc2FmZVdpbmRvdy5GdXR1cmUpIHsKICAgICAgUCA9IGZ1bmN0aW9uIChmbikgewogICAgICAgIHJldHVybiBjb250ZXh0LnVuc2FmZVdpbmRvdy5GdXR1cmUuY2FsbCh0aGlzLCBmdW5jdGlvbiAoZnIpIHsKICAgICAgICAgIGZuKGZyLnJlc29sdmUuYmluZChmciksIGZyLnJlamVjdC5iaW5kKGZyKSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9IGVsc2UgaWYgKGNvbnRleHQuUHJvbWlzZVJlc29sdmVyKSB7CiAgICAgIFAgPSBmdW5jdGlvbiAoZm4pIHsKICAgICAgICByZXR1cm4gbmV3IGNvbnRleHQuUHJvbWlzZShmdW5jdGlvbiAocHIpIHsKICAgICAgICAgIGZuKHByLnJlc29sdmUuYmluZChwciksIHByLnJlamVjdC5iaW5kKHByKSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZXh0LlByb21pc2UgPT09ICdmdW5jdGlvbicpIHsKICAgICAgUCA9IGNvbnRleHQuUHJvbWlzZTsKICAgIH0gZWxzZSB7CiAgICAgIFAgPSB0aGlzLlByb21pc2U7CiAgICB9CiAgICBmYWN0b3J5KGNvbnRleHQsIFApOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoY29udGV4dCwgUHJvbWlzZSkgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgXyA9IGNvbnRleHQuXyA9IHt9OwogIGZ1bmN0aW9uIHNldHVwU3RhY2sgKCkgewogICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7CiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpOwogICAgfSBlbHNlIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgnc3RhY2snKSkgewogICAgICB2YXIgc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrLnNwbGl0KCdcbicpLnNsaWNlKDIpOwogICAgICB2YXIgZSA9IHN0YWNrWzBdLm1hdGNoKC9eLipAKC4qKTooXGQqKSQvKTsKICAgICAgdGhpcy5maWxlTmFtZSA9IGVbMV07CiAgICAgIHRoaXMubGluZU51bWJlciA9IHBhcnNlSW50KGVbMl0sIDEwKTsKICAgICAgdGhpcy5zdGFjayA9IHN0YWNrLmpvaW4oJ1xuJyk7CiAgICB9CiAgfQogIGZ1bmN0aW9uIEFkc0J5cGFzc2VyRXJyb3IgKG1lc3NhZ2UpIHsKICAgIHNldHVwU3RhY2suY2FsbCh0aGlzKTsKICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7CiAgfQogIEFkc0J5cGFzc2VyRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpOwogIEFkc0J5cGFzc2VyRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWRzQnlwYXNzZXJFcnJvcjsKICBBZHNCeXBhc3NlckVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0Fkc0J5cGFzc2VyRXJyb3InOwogIEFkc0J5cGFzc2VyRXJyb3IuZXh0ZW5kID0gZnVuY3Rpb24gKHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgICB2YXIgcGFyZW50ID0gdGhpcywgY2hpbGQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHNldHVwU3RhY2suY2FsbCh0aGlzKTsKICAgICAgcHJvdG9Qcm9wcy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICAgIGV4dGVuZChjaGlsZCwgcGFyZW50LCBzdGF0aWNQcm9wcyk7CiAgICBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpOwogICAgZXh0ZW5kKGNoaWxkLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgICBjaGlsZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjaGlsZDsKICAgIGNoaWxkLnN1cGVyID0gcGFyZW50LnByb3RvdHlwZTsKICAgIHJldHVybiBjaGlsZDsKICB9OwogIEFkc0J5cGFzc2VyRXJyb3Iuc3VwZXIgPSBudWxsOwogIF8uQWRzQnlwYXNzZXJFcnJvciA9IEFkc0J5cGFzc2VyRXJyb3I7CiAgZnVuY3Rpb24gYW55IChjLCBmbikgewogICAgaWYgKGMuc29tZSkgewogICAgICByZXR1cm4gYy5zb21lKGZuKTsKICAgIH0KICAgIGlmICh0eXBlb2YgYy5sZW5ndGggPT09ICdudW1iZXInKSB7CiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGMsIGZuKTsKICAgIH0KICAgIHJldHVybiBPYmplY3Qua2V5cyhjKS5zb21lKGZ1bmN0aW9uIChrKSB7CiAgICAgIHJldHVybiBmbihjW2tdLCBrLCBjKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBhbGwgKGMsIGZuKSB7CiAgICBpZiAoYy5ldmVyeSkgewogICAgICByZXR1cm4gYy5ldmVyeShmbik7CiAgICB9CiAgICBpZiAodHlwZW9mIGMubGVuZ3RoID09PSAnbnVtYmVyJykgewogICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoYywgZm4pOwogICAgfQogICAgcmV0dXJuIE9iamVjdC5rZXlzKGMpLmV2ZXJ5KGZ1bmN0aW9uIChrKSB7CiAgICAgIHJldHVybiBmbihjW2tdLCBrLCBjKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBlYWNoIChjLCBmbikgewogICAgaWYgKGMuZm9yRWFjaCkgewogICAgICBjLmZvckVhY2goZm4pOwogICAgfSBlbHNlIGlmICh0eXBlb2YgYy5sZW5ndGggPT09ICdudW1iZXInKSB7CiAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYywgZm4pOwogICAgfSBlbHNlIHsKICAgICAgT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgIGZuKGNba10sIGssIGMpOwogICAgICB9KTsKICAgIH0KICB9CiAgZnVuY3Rpb24gbWFwIChjLCBmbikgewogICAgaWYgKGMubWFwKSB7CiAgICAgIHJldHVybiBjLm1hcChmbik7CiAgICB9CiAgICBpZiAodHlwZW9mIGMubGVuZ3RoID09PSAnbnVtYmVyJykgewogICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGMsIGZuKTsKICAgIH0KICAgIHJldHVybiBPYmplY3Qua2V5cyhjKS5tYXAoZnVuY3Rpb24gKGspIHsKICAgICAgcmV0dXJuIGZuKGNba10sIGssIGMpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGV4dGVuZChjKSB7CiAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkgewogICAgICBpZiAoIXNvdXJjZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBfLkMoc291cmNlKS5lYWNoKGZ1bmN0aW9uICh2LCBrKSB7CiAgICAgICAgY1trXSA9IHY7CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gQ29sbGVjdGlvblByb3h5IChjb2xsZWN0aW9uKSB7CiAgICB0aGlzLl9jID0gY29sbGVjdGlvbjsKICB9CiAgQ29sbGVjdGlvblByb3h5LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9jLmxlbmd0aCA9PT0gJ251bWJlcicpIHsKICAgICAgcmV0dXJuIHRoaXMuX2MubGVuZ3RoOwogICAgfQogICAgcmV0dXJuIE9iamVjdC5rZXlzKGMpLmxlbmd0aDsKICB9OwogIENvbGxlY3Rpb25Qcm94eS5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbiAoaykgewogICAgcmV0dXJuIHRoaXMuX2Nba107CiAgfTsKICBDb2xsZWN0aW9uUHJveHkucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbiAoZm4pIHsKICAgIGVhY2godGhpcy5fYywgZm4pOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBDb2xsZWN0aW9uUHJveHkucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoZm4pIHsKICAgIHZhciByZXN1bHQ7CiAgICBhbnkodGhpcy5fYywgZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgc2VsZikgewogICAgICB2YXIgdG1wID0gZm4odmFsdWUsIGluZGV4LCBzZWxmKTsKICAgICAgaWYgKHRtcCAhPT0gXy5ub25lKSB7CiAgICAgICAgcmVzdWx0ID0gewogICAgICAgICAga2V5OiBpbmRleCwKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIHBheWxvYWQ6IHRtcCwKICAgICAgICB9OwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9OwogIENvbGxlY3Rpb25Qcm94eS5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKGZuKSB7CiAgICByZXR1cm4gYWxsKHRoaXMuX2MsIGZuKTsKICB9OwogIENvbGxlY3Rpb25Qcm94eS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuKSB7CiAgICByZXR1cm4gbWFwKHRoaXMuX2MsIGZuKTsKICB9OwogIF8uQyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7CiAgICByZXR1cm4gbmV3IENvbGxlY3Rpb25Qcm94eShjb2xsZWN0aW9uKTsKICB9OwogIF8uVCA9IGZ1bmN0aW9uIChzKSB7CiAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7CiAgICB9IGVsc2UgaWYgKHMgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgcyA9IHMudG9TdHJpbmcoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBBZHNCeXBhc3NlckVycm9yKCd0ZW1wbGF0ZSBtdXN0IGJlIGEgc3RyaW5nJyk7CiAgICB9CiAgICB2YXIgVCA9IHsKICAgICAgJ3t7JzogJ3snLAogICAgICAnfX0nOiAnfScsCiAgICB9OwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgICB2YXIga3dhcmdzID0gYXJnc1thcmdzLmxlbmd0aC0xXTsKICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXHtce3xcfVx9fFx7KFteXH1dKylcfS9nLCBmdW5jdGlvbiAobSwga2V5KSB7CiAgICAgICAgaWYgKFQuaGFzT3duUHJvcGVydHkobSkpIHsKICAgICAgICAgIHJldHVybiBUW21dOwogICAgICAgIH0KICAgICAgICBpZiAoYXJncy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICByZXR1cm4gYXJnc1trZXldOwogICAgICAgIH0KICAgICAgICBpZiAoa3dhcmdzLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgIHJldHVybiBrd2FyZ3Nba2V5XTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG07CiAgICAgIH0pOwogICAgfTsKICB9OwogIF8uUCA9IGZ1bmN0aW9uIChmbikgewogICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdtdXN0IGdpdmUgYSBmdW5jdGlvbicpOwogICAgfQogICAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwogICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7CiAgICB9OwogIH07CiAgXy5EID0gZnVuY3Rpb24gKGZuKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZm4pOwogIH07CiAgXy5wYXJzZUpTT04gPSBmdW5jdGlvbiAoanNvbikgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIF8ud2FybihlLCBqc29uKTsKICAgIH0KICAgIHJldHVybiBfLm5vbmU7CiAgfTsKICBfLmlzU3RyaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHx8ICh2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZyk7CiAgfTsKICBfLm5vcCA9IGZ1bmN0aW9uICgpIHsKICB9OwogIF8ubm9uZSA9IF8ubm9wOwogIF8ud2FpdCA9IGZ1bmN0aW9uIChtc0RlbGF5KSB7CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBtc0RlbGF5KTsKICAgIH0pOwogIH07CiAgXy50cnkgPSBmdW5jdGlvbiAobXNJbnRlcnZhbCwgZm4pIHsKICAgIHJldHVybiBfLkQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgaGFuZGxlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciByZXN1bHQgPSBmbigpOwogICAgICAgIGlmIChyZXN1bHQgIT09IF8ubm9uZSkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChoYW5kbGUpOwogICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgIH0KICAgICAgfSwgbXNJbnRlcnZhbCk7CiAgICB9KTsKICB9OwogIGZ1bmN0aW9uIGxvZyAobWV0aG9kLCBhcmdzKSB7CiAgICBpZiAoXy5fcXVpZXQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpOwogICAgaWYgKF8uaXNTdHJpbmcoYXJnc1swXSkpIHsKICAgICAgYXJnc1swXSA9ICdBZHNCeXBhc3NlcjogJyArIGFyZ3NbMF07CiAgICB9IGVsc2UgewogICAgICBhcmdzLnVuc2hpZnQoJ0Fkc0J5cGFzc2VyOicpOwogICAgfQogICAgdmFyIGYgPSBjb25zb2xlW21ldGhvZF07CiAgICBpZiAodHlwZW9mIGYgPT09ICdmdW5jdGlvbicpIHsKICAgICAgZi5hcHBseShjb25zb2xlLCBhcmdzKTsKICAgIH0KICB9CiAgXy5fcXVpZXQgPSBmYWxzZTsKICBfLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICBsb2coJ2luZm8nLCBhcmd1bWVudHMpOwogIH07CiAgXy53YXJuID0gZnVuY3Rpb24gKCkgewogICAgbG9nKCd3YXJuJywgYXJndW1lbnRzKTsKICB9OwogIHJldHVybiBfOwp9KSk7CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICAgIHZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIGNvcmUpOwogICAgfTsKICB9IGVsc2UgewogICAgY29udGV4dC4kID0gZmFjdG9yeShjb250ZXh0LCBjb250ZXh0Ll8pOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoY29udGV4dCwgXykgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciBEb21Ob3RGb3VuZEVycm9yID0gXy5BZHNCeXBhc3NlckVycm9yLmV4dGVuZCh7CiAgICBuYW1lOiAnRG9tTm90Rm91bmRFcnJvcicsCiAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIERvbU5vdEZvdW5kRXJyb3Iuc3VwZXIuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBfLlQoJ2B7MH1gIG5vdCBmb3VuZCcpKHNlbGVjdG9yKSk7CiAgICB9LAogIH0pOwogIHZhciAkID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7CiAgICBpZiAoIWNvbnRleHQgfHwgIWNvbnRleHQucXVlcnlTZWxlY3RvcikgewogICAgICBjb250ZXh0ID0gZG9jdW1lbnQ7CiAgICB9CiAgICB2YXIgbiA9IGNvbnRleHQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBpZiAoIW4pIHsKICAgICAgdGhyb3cgbmV3IERvbU5vdEZvdW5kRXJyb3Ioc2VsZWN0b3IpOwogICAgfQogICAgcmV0dXJuIG47CiAgfTsKICAkLiQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiAkKHNlbGVjdG9yLCBjb250ZXh0KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKICAkLiQkID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7CiAgICBpZiAoIWNvbnRleHQgfHwgIWNvbnRleHQucXVlcnlTZWxlY3RvckFsbCkgewogICAgICBjb250ZXh0ID0gZG9jdW1lbnQ7CiAgICB9CiAgICB2YXIgbnMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgcmV0dXJuIF8uQyhucyk7CiAgfTsKICAkLnRvRE9NID0gZnVuY3Rpb24ocmF3SFRNTCkgewogICAgdHJ5IHsKICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgdmFyIERPTUhUTUwgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJhd0hUTUwsICJ0ZXh0L2h0bWwiKTsKICAgICAgcmV0dXJuIERPTUhUTUw7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ2NvdWxkIG5vdCBwYXJzZSBIVE1MIHRvIERPTScpOwogICAgfQogIH07CiAgJC5yZW1vdmVOb2RlcyA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkgewogICAgJC4kJChzZWxlY3RvciwgY29udGV4dCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7CiAgICB9KTsKICB9OwogIGZ1bmN0aW9uIHNlYXJjaFNjcmlwdHNCeVJlZ0V4cCAocGF0dGVybiwgY29udGV4dCkgewogICAgdmFyIG0gPSAkLiQkKCdzY3JpcHQnLCBjb250ZXh0KS5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgIHZhciBtID0gcy5pbm5lckhUTUwubWF0Y2gocGF0dGVybik7CiAgICAgIGlmICghbSkgewogICAgICAgIHJldHVybiBfLm5vbmU7CiAgICAgIH0KICAgICAgcmV0dXJuIG07CiAgICB9KTsKICAgIGlmICghbSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiBtLnBheWxvYWQ7CiAgfQogIGZ1bmN0aW9uIHNlYXJjaFNjcmlwdHNCeVN0cmluZyAocGF0dGVybiwgY29udGV4dCkgewogICAgdmFyIG0gPSAkLiQkKCdzY3JpcHQnLCBjb250ZXh0KS5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgIHZhciBtID0gcy5pbm5lckhUTUwuaW5kZXhPZihwYXR0ZXJuKTsKICAgICAgaWYgKG0gPCAwKSB7CiAgICAgICAgcmV0dXJuIF8ubm9uZTsKICAgICAgfQogICAgICByZXR1cm4gbTsKICAgIH0pOwogICAgaWYgKCFtKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgcmV0dXJuIG0udmFsdWUuaW5uZXJIVE1MOwogIH0KICAkLnNlYXJjaFNjcmlwdHMgPSBmdW5jdGlvbiAocGF0dGVybiwgY29udGV4dCkgewogICAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgcmV0dXJuIHNlYXJjaFNjcmlwdHNCeVJlZ0V4cChwYXR0ZXJuLCBjb250ZXh0KTsKICAgIH0gZWxzZSBpZiAoXy5pc1N0cmluZyhwYXR0ZXJuKSkgewogICAgICByZXR1cm4gc2VhcmNoU2NyaXB0c0J5U3RyaW5nKHBhdHRlcm4sIGNvbnRleHQpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKICByZXR1cm4gJDsKfSkpOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCwgR00pIHsKICAgICAgdmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUuanMnKTsKICAgICAgcmV0dXJuIGZhY3RvcnkoY29udGV4dCwgR00sIGNvcmUpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCB7CiAgICAgIHhtbGh0dHBSZXF1ZXN0OiBHTV94bWxodHRwUmVxdWVzdCwKICAgIH0sIGNvbnRleHQuXyk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBHTSwgXykgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciAkID0gY29udGV4dC4kIHx8IHt9OwogIGZ1bmN0aW9uIGRlZXBKb2luIChwcmVmaXgsIG9iamVjdCkgewogICAgcmV0dXJuIF8uQyhvYmplY3QpLm1hcChmdW5jdGlvbiAodiwgaykgewogICAgICB2YXIga2V5ID0gXy5UKCd7MH1bezF9XScpKHByZWZpeCwgayk7CiAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gZGVlcEpvaW4oa2V5LCB2KTsKICAgICAgfQogICAgICByZXR1cm4gXy5UKCd7MH09ezF9JykuYXBwbHkodGhpcywgW2tleSwgdl0ubWFwKGVuY29kZVVSSUNvbXBvbmVudCkpOwogICAgfSkuam9pbignJicpOwogIH0KICBmdW5jdGlvbiB0b1F1ZXJ5IChkYXRhKSB7CiAgICB2YXIgdHlwZSA9IHR5cGVvZiBkYXRhOwogICAgaWYgKGRhdGEgPT09IG51bGwgfHwgKHR5cGUgIT09ICdzdHJpbmcnICYmIHR5cGUgIT09ICdvYmplY3QnKSkgewogICAgICByZXR1cm4gJyc7CiAgICB9CiAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpOwogICAgfQogICAgcmV0dXJuIF8uQyhkYXRhKS5tYXAoZnVuY3Rpb24gKHYsIGspIHsKICAgICAgaWYgKHR5cGVvZiB2ID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBkZWVwSm9pbihrLCB2KTsKICAgICAgfQogICAgICByZXR1cm4gXy5UKCd7MH09ezF9JykuYXBwbHkodGhpcywgW2ssIHZdLm1hcChlbmNvZGVVUklDb21wb25lbnQpKTsKICAgIH0pLmpvaW4oJyYnKTsKICB9CiAgZnVuY3Rpb24gYWpheCAobWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMpIHsKICAgIHZhciBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgbC5ocmVmID0gdXJsOwogICAgdmFyIHJlcUhvc3QgPSBsLmhvc3RuYW1lOwogICAgdmFyIG92ZXJyaWRlSGVhZGVycyA9IHsKICAgICAgSG9zdDogcmVxSG9zdCB8fCB3aW5kb3cubG9jYXRpb24uaG9zdCwKICAgICAgT3JpZ2luOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luLAogICAgICBSZWZlcmVyOiB3aW5kb3cubG9jYXRpb24uaHJlZiwKICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLAogICAgfTsKICAgIF8uQyhvdmVycmlkZUhlYWRlcnMpLmVhY2goZnVuY3Rpb24gKHYsIGssIGMpIHsKICAgICAgaWYgKGhlYWRlcnNba10gPT09IF8ubm9uZSkgewogICAgICAgIGRlbGV0ZSBoZWFkZXJzW2tdOwogICAgICB9IGVsc2UgewogICAgICAgIGhlYWRlcnNba10gPSB2OwogICAgICB9CiAgICB9KTsKICAgIGlmIChkYXRhKSB7CiAgICAgIGlmIChoZWFkZXJzWydDb250ZW50LVR5cGUnXS5pbmRleE9mKCdqc29uJykgPj0gMCkgewogICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhID0gdG9RdWVyeShkYXRhKTsKICAgICAgfQogICAgICBoZWFkZXJzWydDb250ZW50LUxlbmd0aCddID0gZGF0YS5sZW5ndGg7CiAgICB9CiAgICB2YXIgeGhyID0gbnVsbDsKICAgIHZhciBwcm9taXNlID0gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgeGhyID0gR00ueG1saHR0cFJlcXVlc3QoewogICAgICAgIG1ldGhvZDogbWV0aG9kLAogICAgICAgIHVybDogdXJsLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVzcG9uc2UgPSAodHlwZW9mIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCAhPT0gJ3VuZGVmaW5lZCcpID8gcmVzcG9uc2UgOiB0aGlzOwogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgIHJlamVjdChyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXNwb25zZSA9ICh0eXBlb2YgcmVzcG9uc2UucmVzcG9uc2VUZXh0ICE9PSAndW5kZWZpbmVkJykgPyByZXNwb25zZSA6IHRoaXM7CiAgICAgICAgICByZWplY3QocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICB9LAogICAgICB9KTsKICAgIH0pOwogICAgcHJvbWlzZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHsKICAgICAgeGhyLmFib3J0KCk7CiAgICB9OwogICAgcmV0dXJuIHByb21pc2U7CiAgfQogICQuZ2V0ID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgaGVhZGVycykgewogICAgZGF0YSA9IHRvUXVlcnkoZGF0YSk7CiAgICBkYXRhID0gZGF0YSA/ICc/JyArIGRhdGEgOiAnJzsKICAgIGhlYWRlcnMgPSBoZWFkZXJzIHx8IHt9OwogICAgcmV0dXJuIGFqYXgoJ0dFVCcsIHVybCArIGRhdGEsICcnLCBoZWFkZXJzKTsKICB9OwogICQucG9zdCA9IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGhlYWRlcnMpIHsKICAgIHZhciBoID0gewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsCiAgICB9OwogICAgaWYgKGhlYWRlcnMpIHsKICAgICAgXy5DKGhlYWRlcnMpLmVhY2goZnVuY3Rpb24gKHYsIGspIHsKICAgICAgICBoW2tdID0gdjsKICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gYWpheCgnUE9TVCcsIHVybCwgZGF0YSwgaCk7CiAgfTsKICByZXR1cm4gJDsKfSkpOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCkgewogICAgICB2YXIgY29yZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpOwogICAgICByZXR1cm4gZmFjdG9yeShjb250ZXh0LCBjb3JlKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIGZhY3RvcnkoY29udGV4dCwgY29udGV4dC5fKTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKGNvbnRleHQsIF8pIHsKICAndXNlIHN0cmljdCc7CiAgdmFyIHdpbmRvdyA9IGNvbnRleHQud2luZG93OwogIHZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDsKICB2YXIgJCA9IGNvbnRleHQuJCB8fCB7fTsKICAkLnNldENvb2tpZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7CiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgIG5vdy5zZXRUaW1lKG5vdy5nZXRUaW1lKCkgKyAzNjAwICogMTAwMCk7CiAgICB2YXIgdHBsID0gXy5UKCd7MH09ezF9O3BhdGg9ezJ9OycpOwogICAgZG9jdW1lbnQuY29va2llID0gdHBsKGtleSwgdmFsdWUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgbm93LnRvVVRDU3RyaW5nKCkpOwogIH07CiAgJC5nZXRDb29raWUgPSBmdW5jdGlvbiAoa2V5KSB7CiAgICB2YXIgYyA9IF8uQyhkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKSkuZmluZChmdW5jdGlvbiAodikgewogICAgICB2YXIgayA9IHYucmVwbGFjZSgvXlxzKihbYS16QS1aMC05LV9dKyk9LiskLywgJyQxJyk7CiAgICAgIGlmIChrICE9PSBrZXkpIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICB9KTsKICAgIGlmICghYykgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGMgPSBjLnZhbHVlLnJlcGxhY2UoL15ccypbYS16QS1aMC05LV9dKz0oW147XSspLj8kLywgJyQxJyk7CiAgICBpZiAoIWMpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICByZXR1cm4gYzsKICB9OwogICQucmVzZXRDb29raWVzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSBkb2N1bWVudC5kb21haW47CiAgICB2YXIgYiA9IGRvY3VtZW50LmRvbWFpbi5yZXBsYWNlKC9ed3d3XC4vLCAnJyk7CiAgICB2YXIgYyA9IGRvY3VtZW50LmRvbWFpbi5yZXBsYWNlKC9eKFx3K1wuKSs/KFx3K1wuXHcrKSQvLCAnJDInKTsKICAgIHZhciBkID0gKG5ldyBEYXRlKDFlMykpLnRvVVRDU3RyaW5nKCk7CiAgICBfLkMoZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykpLmVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgdmFyIGsgPSB2LnJlcGxhY2UoL15ccyooXHcrKT0uKyQvLCAnJDEnKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gXy5UKCd7MH09O2V4cGlyZXM9ezF9OycpKGssIGQpOwogICAgICBkb2N1bWVudC5jb29raWUgPSBfLlQoJ3swfT07cGF0aD0vO2V4cGlyZXM9ezF9OycpKGssIGQpOwogICAgICB2YXIgZSA9IF8uVCgnezB9PTtwYXRoPS87ZG9tYWluPXsxfTtleHBpcmVzPXsyfTsnKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gZShrLCBhLCBkKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gZShrLCBiLCBkKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gZShrLCBjLCBkKTsKICAgIH0pOwogIH07CiAgcmV0dXJuICQ7Cn0pKTsKKGZ1bmN0aW9uIChjb250ZXh0LCBmYWN0b3J5KSB7CiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbnRleHQpIHsKICAgICAgdmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUuanMnKTsKICAgICAgcmV0dXJuIGZhY3RvcnkoY29udGV4dCwgY29yZSk7CiAgICB9OwogIH0gZWxzZSB7CiAgICBmYWN0b3J5KGNvbnRleHQsIGNvbnRleHQuXyk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBfKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICB2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7CiAgdmFyICQgPSBjb250ZXh0LiQgfHwge307CiAgdmFyIHBhdHRlcm5zID0gW107CiAgJC5yZWdpc3RlciA9IGZ1bmN0aW9uIChwYXR0ZXJuKSB7CiAgICBwYXR0ZXJucy5wdXNoKHBhdHRlcm4pOwogIH07CiAgZnVuY3Rpb24gZGlzcGF0Y2hCeU9iamVjdCAocnVsZSwgdXJsXzYpIHsKICAgIHZhciBtYXRjaGVkID0ge307CiAgICB2YXIgcGFzc2VkID0gXy5DKHJ1bGUpLmFsbChmdW5jdGlvbiAocGF0dGVybiwgcGFydCkgewogICAgICBpZiAocGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICAgIG1hdGNoZWRbcGFydF0gPSB1cmxfNltwYXJ0XS5tYXRjaChwYXR0ZXJuKTsKICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICB2YXIgciA9IF8uQyhwYXR0ZXJuKS5maW5kKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICB2YXIgbSA9IHVybF82W3BhcnRdLm1hdGNoKHApOwogICAgICAgICAgcmV0dXJuIG0gfHwgXy5ub25lOwogICAgICAgIH0pOwogICAgICAgIG1hdGNoZWRbcGFydF0gPSByID8gci5wYXlsb2FkIDogbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gISFtYXRjaGVkW3BhcnRdOwogICAgfSk7CiAgICByZXR1cm4gcGFzc2VkID8gbWF0Y2hlZCA6IG51bGw7CiAgfQogIGZ1bmN0aW9uIGRpc3BhdGNoQnlSZWdFeHAgKHJ1bGUsIHVybF8xKSB7CiAgICByZXR1cm4gdXJsXzEubWF0Y2gocnVsZSk7CiAgfQogIGZ1bmN0aW9uIGRpc3BhdGNoQnlBcnJheSAocnVsZXMsIHVybF8xLCB1cmxfMywgdXJsXzYpIHsKICAgIHZhciB0bXAgPSBfLkMocnVsZXMpLmZpbmQoZnVuY3Rpb24gKHJ1bGUpIHsKICAgICAgdmFyIG0gPSBkaXNwYXRjaChydWxlLCB1cmxfMSwgdXJsXzMsIHVybF82KTsKICAgICAgaWYgKCFtKSB7CiAgICAgICAgcmV0dXJuIF8ubm9uZTsKICAgICAgfQogICAgICByZXR1cm4gbTsKICAgIH0pOwogICAgcmV0dXJuIHRtcCA/IHRtcC5wYXlsb2FkIDogbnVsbDsKICB9CiAgZnVuY3Rpb24gZGlzcGF0Y2hCeVN0cmluZyAocnVsZSwgdXJsXzMpIHsKICAgIHZhciBzY2hlbWUgPSAvXCp8aHR0cHM/fGZpbGV8ZnRwfGNocm9tZS1leHRlbnNpb24vOwogICAgdmFyIGhvc3QgPSAvXCp8KFwqXC4pPyhbXlwvKl0rKS87CiAgICB2YXIgcGF0aCA9IC9cLy4qLzsKICAgIHZhciB1cCA9IG5ldyBSZWdFeHAoXy5UKCdeKHtzY2hlbWV9KTovLyh7aG9zdH0pPyh7cGF0aH0pJCcpKHsKICAgICAgc2NoZW1lOiBzY2hlbWUuc291cmNlLAogICAgICBob3N0OiBob3N0LnNvdXJjZSwKICAgICAgcGF0aDogcGF0aC5zb3VyY2UsCiAgICB9KSk7CiAgICB2YXIgbWF0Y2hlZCA9IHJ1bGUubWF0Y2godXApOwogICAgaWYgKCFtYXRjaGVkKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgc2NoZW1lID0gbWF0Y2hlZFsxXTsKICAgIGhvc3QgPSBtYXRjaGVkWzJdOwogICAgdmFyIHdjID0gbWF0Y2hlZFszXTsKICAgIHZhciBzZCA9IG1hdGNoZWRbNF07CiAgICBwYXRoID0gbWF0Y2hlZFs1XTsKICAgIGlmIChzY2hlbWUgPT09ICcqJyAmJiAhL2h0dHBzPy8udGVzdCh1cmxfMy5zY2hlbWUpKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfSBlbHNlIGlmIChzY2hlbWUgIT09IHVybF8zLnNjaGVtZSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGlmIChzY2hlbWUgIT09ICdmaWxlJyAmJiBob3N0ICE9PSAnKicpIHsKICAgICAgaWYgKHdjKSB7CiAgICAgICAgdXAgPSB1cmxfMy5ob3N0LmluZGV4T2Yoc2QpOwogICAgICAgIGlmICh1cCA8IDAgfHwgdXAgKyBzZC5sZW5ndGggIT09IHVybF8zLmhvc3QubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaG9zdCAhPT0gdXJsXzMuaG9zdCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9CiAgICBwYXRoID0gbmV3IFJlZ0V4cChfLlQoJ157MH0kJykocGF0aC5yZXBsYWNlKC9bKi5cW1xdPysjXS9nLCBmdW5jdGlvbiAoYykgewogICAgICBpZiAoYyA9PT0gJyonKSB7CiAgICAgICAgcmV0dXJuICcuKic7CiAgICAgIH0KICAgICAgcmV0dXJuICdcXCcgKyBjOwogICAgfSkpKTsKICAgIGlmICghcGF0aC50ZXN0KHVybF8zLnBhdGgpKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgcmV0dXJuIHVybF8zOwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaEJ5RnVuY3Rpb24gKHJ1bGUsIHVybF8xLCB1cmxfMywgdXJsXzYpIHsKICAgIHJldHVybiBydWxlKHVybF8xLCB1cmxfMywgdXJsXzYpOwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaCAocnVsZSwgdXJsXzEsIHVybF8zLCB1cmxfNikgewogICAgaWYgKHJ1bGUgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICByZXR1cm4gZGlzcGF0Y2hCeUFycmF5KHJ1bGUsIHVybF8xLCB1cmxfMywgdXJsXzYpOwogICAgfQogICAgaWYgKHR5cGVvZiBydWxlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaEJ5RnVuY3Rpb24ocnVsZSwgdXJsXzEsIHVybF8zLCB1cmxfNik7CiAgICB9CiAgICBpZiAocnVsZSBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICByZXR1cm4gZGlzcGF0Y2hCeVJlZ0V4cChydWxlLCB1cmxfMSk7CiAgICB9CiAgICBpZiAoXy5pc1N0cmluZyhydWxlKSkgewogICAgICByZXR1cm4gZGlzcGF0Y2hCeVN0cmluZyhydWxlLCB1cmxfMyk7CiAgICB9CiAgICByZXR1cm4gZGlzcGF0Y2hCeU9iamVjdChydWxlLCB1cmxfNik7CiAgfQogICQuX2ZpbmRIYW5kbGVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHVybF8xID0gd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCk7CiAgICB2YXIgdXJsXzMgPSB7CiAgICAgIHNjaGVtZTogd2luZG93LmxvY2F0aW9uLnByb3RvY29sLnNsaWNlKDAsIC0xKSwKICAgICAgaG9zdDogd2luZG93LmxvY2F0aW9uLmhvc3QsCiAgICAgIHBhdGg6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyB3aW5kb3cubG9jYXRpb24uaGFzaCwKICAgIH07CiAgICB2YXIgdXJsXzYgPSB7CiAgICAgIHNjaGVtZTogd2luZG93LmxvY2F0aW9uLnByb3RvY29sLAogICAgICBob3N0OiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsCiAgICAgIHBvcnQ6IHdpbmRvdy5sb2NhdGlvbi5wb3J0LAogICAgICBwYXRoOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsCiAgICAgIHF1ZXJ5OiB3aW5kb3cubG9jYXRpb24uc2VhcmNoLAogICAgICBoYXNoOiB3aW5kb3cubG9jYXRpb24uaGFzaCwKICAgIH07CiAgICB2YXIgcGF0dGVybiA9IF8uQyhwYXR0ZXJucykuZmluZChmdW5jdGlvbiAocGF0dGVybikgewogICAgICB2YXIgbSA9IGRpc3BhdGNoKHBhdHRlcm4ucnVsZSwgdXJsXzEsIHVybF8zLCB1cmxfNik7CiAgICAgIGlmICghbSkgewogICAgICAgIHJldHVybiBfLm5vbmU7CiAgICAgIH0KICAgICAgcmV0dXJuIG07CiAgICB9KTsKICAgIGlmICghcGF0dGVybikgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHZhciBtYXRjaGVkID0gcGF0dGVybi5wYXlsb2FkOwogICAgcGF0dGVybiA9IHBhdHRlcm4udmFsdWU7CiAgICBpZiAoIXBhdHRlcm4uc3RhcnQgJiYgIXBhdHRlcm4ucmVhZHkpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICByZXR1cm4gewogICAgICBzdGFydDogcGF0dGVybi5zdGFydCA/IF8uUChwYXR0ZXJuLnN0YXJ0LCBtYXRjaGVkKSA6IF8ubm9wLAogICAgICByZWFkeTogcGF0dGVybi5yZWFkeSA/IF8uUChwYXR0ZXJuLnJlYWR5LCBtYXRjaGVkKSA6IF8ubm9wLAogICAgfTsKICB9OwogIHJldHVybiAkOwp9KSk7CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICAgIHZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIGNvcmUpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCBjb250ZXh0Ll8pOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoY29udGV4dCwgXykgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciAkID0gY29udGV4dC4kIHx8IHt9OwogIGZ1bmN0aW9uIHByZXBhcmUgKGUpIHsKICAgIGlmICghZG9jdW1lbnQuYm9keSkgewogICAgICBkb2N1bWVudC5ib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpOwogICAgfQogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKTsKICAgIHJldHVybiBfLndhaXQoMCk7CiAgfQogIGZ1bmN0aW9uIGdldCAodXJsKSB7CiAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIGEuaHJlZiA9IHVybDsKICAgIHZhciBjbGlja2VkID0gZmFsc2U7CiAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICBjbGlja2VkID0gdHJ1ZTsKICAgIH0pOwogICAgcHJlcGFyZShhKS50aGVuKCgpID0+IHsKICAgICAgYS5jbGljaygpOwogICAgICB2YXIgdGljayA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY2xpY2tlZCkgewogICAgICAgICAgXy5pbmZvKCdhbHJlYWR5IGNsaWNrZWQnKTsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGljayk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIF8uaW5mbygndHJ5IGFnYWluJyk7CiAgICAgICAgYS5jbGljaygpOwogICAgICB9LCA1MCk7CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcG9zdCAocGF0aCwgcGFyYW1zKSB7CiAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307CiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTsKICAgIGZvcm0ubWV0aG9kID0gJ3Bvc3QnOwogICAgZm9ybS5hY3Rpb24gPSBwYXRoOwogICAgXy5DKHBhcmFtcykuZWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgaW5wdXQudHlwZSA9ICdoaWRkZW4nOwogICAgICAgIGlucHV0Lm5hbWUgPSBrZXk7CiAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZTsKICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTsKICAgIH0pOwogICAgcHJlcGFyZShmb3JtKTsKICAgIGZvcm0uc3VibWl0KCk7CiAgfQogICQub3BlbkxpbmsgPSBmdW5jdGlvbiAodG8sIG9wdGlvbnMpIHsKICAgIGlmICghXy5pc1N0cmluZyh0bykgJiYgIXRvKSB7CiAgICAgIF8ud2FybignZmFsc2UgVVJMJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgdmFyIHdpdGhSZWZlcmVyID0gdHlwZW9mIG9wdGlvbnMucmVmZXJlciA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5yZWZlcmVyOwogICAgdmFyIHBvc3REYXRhID0gb3B0aW9ucy5wb3N0OwogICAgdmFyIGZyb20gPSB3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKTsKICAgIF8uaW5mbyhfLlQoJ3swfSAtPiB7MX0nKShmcm9tLCB0bykpOwogICAgaWYgKHBvc3REYXRhKSB7CiAgICAgIHBvc3QodG8sIHBvc3REYXRhKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKHdpdGhSZWZlcmVyKSB7CiAgICAgIGdldCh0byk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHdpbmRvdy50b3AubG9jYXRpb24ucmVwbGFjZSh0byk7CiAgfTsKICByZXR1cm4gJDsKfSkpOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCkgewogICAgICB2YXIgY29yZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpOwogICAgICB2YXIgYWpheCA9IHJlcXVpcmUoJy4vYWpheC5qcycpOwogICAgICB2YXIgJCA9IGFqYXgoY29udGV4dCk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIGNvcmUsICQpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCBjb250ZXh0Ll8sIGNvbnRleHQuJCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBfLCAkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICB2YXIgdW5zYWZlV2luZG93ID0gY29udGV4dC51bnNhZmVXaW5kb3cgfHwgKDAsIGV2YWwpKCd0aGlzJykud2luZG93OwogIHZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDsKICAkLnJlbW92ZUFsbFRpbWVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGhhbmRsZSA9IHdpbmRvdy5zZXRJbnRlcnZhbChfLm5vcCwgMTApOwogICAgd2hpbGUgKGhhbmRsZSA+IDApIHsKICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaGFuZGxlLS0pOwogICAgfQogICAgaGFuZGxlID0gd2luZG93LnNldFRpbWVvdXQoXy5ub3AsIDEwKTsKICAgIHdoaWxlIChoYW5kbGUgPiAwKSB7CiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGFuZGxlLS0pOwogICAgfQogIH07CiAgJC5udWtlID0gZnVuY3Rpb24gKHVybCkgewogICAgdHJ5IHsKICAgICAgJC53aW5kb3cuZG9jdW1lbnQud3JpdGUoJ251a2VkIGJ5IEFkc0J5cGFzc2VyLCBsZWFkaW5nIHRvIC4uLjxici8+Jyk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIF8ud2FybignbnVrZSBmYWlsZWQnLCBlKTsKICAgIH0KICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgYS5ocmVmID0gdXJsOwogICAgYS50ZXh0Q29udGVudCA9IHVybDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgfTsKICAkLmdlbmVyYXRlUmFuZG9tSVAgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gWzAsMCwwLDBdLm1hcChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpOwogICAgfSkuam9pbignLicpOwogIH07CiAgJC5jYXB0Y2hhID0gZnVuY3Rpb24gKGltZ1NyYywgY2IpIHsKICAgIGlmICghJC5jb25maWcuZXh0ZXJuYWxTZXJ2ZXJTdXBwb3J0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICB2YXIgYiA9IGEuZ2V0Q29udGV4dCgnMmQnKTsKICAgIHZhciBjID0gbmV3IEltYWdlKCk7CiAgICBjLnNyYyA9IGltZ1NyYzsKICAgIGMub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICBhLndpZHRoID0gYy53aWR0aDsKICAgICAgYS5oZWlnaHQgPSBjLmhlaWdodDsKICAgICAgYi5kcmF3SW1hZ2UoYywgMCwgMCk7CiAgICAgIHZhciBkID0gYS50b0RhdGFVUkwoKTsKICAgICAgdmFyIGUgPSBkLnN1YnN0cihkLmluZGV4T2YoJywnKSArIDEpOwogICAgICAkLnBvc3QoJ2h0dHA6Ly93d3cud2NwYW4uaW5mby9jZ2ktYmluL2NhcHRjaGEuY2dpJywgewogICAgICAgIGk6IGUsCiAgICAgIH0sIGNiKTsKICAgIH07CiAgfTsKICBmdW5jdGlvbiBjbG9uZSAoc2FmZSkgewogICAgaWYgKHNhZmUgPT09IG51bGwgfHwgIShzYWZlIGluc3RhbmNlb2YgT2JqZWN0KSkgewogICAgICByZXR1cm4gc2FmZTsKICAgIH0KICAgIGlmIChzYWZlID09PSB1bnNhZmVXaW5kb3cpIHsKICAgICAgcmV0dXJuIHNhZmU7CiAgICB9CiAgICBpZiAoc2FmZSBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICByZXR1cm4gc2FmZS50b1N0cmluZygpOwogICAgfQogICAgaWYgKHNhZmUgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICByZXR1cm4gZXhwb3J0RnVuY3Rpb24oc2FmZSwgdW5zYWZlV2luZG93LCB7CiAgICAgICAgYWxsb3dDcm9zc09yaWdpbkFyZ3VtZW50czogdHJ1ZSwKICAgICAgfSk7CiAgICB9CiAgICBpZiAoc2FmZSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgIHZhciB1bnNhZmUgPSBuZXcgdW5zYWZlV2luZG93LkFycmF5KCk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FmZS5sZW5ndGg7ICsraSkgewogICAgICAgIHVuc2FmZS5wdXNoKGNsb25lKHNhZmVbaV0pKTsKICAgICAgfQogICAgICByZXR1cm4gdW5zYWZlOwogICAgfQogICAgdmFyIHVuc2FmZSA9IG5ldyB1bnNhZmVXaW5kb3cuT2JqZWN0KCk7CiAgICBfLkMoc2FmZSkuZWFjaChmdW5jdGlvbiAodiwgaykgewogICAgICB1bnNhZmVba10gPSBjbG9uZSh2KTsKICAgIH0pOwogICAgcmV0dXJuIHVuc2FmZTsKICB9CiAgdmFyIE1BR0lDX0tFWSA9ICdfX2Fkc2J5cGFzc2VyX3JldmVyc2VfcHJveHlfXyc7CiAgJC53aW5kb3cgPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIGlzRmlyZWZveCA9IHR5cGVvZiBJbnN0YWxsVHJpZ2dlciAhPT0gJ3VuZGVmaW5lZCc7CiAgICBpZiAoIWlzRmlyZWZveCkgewogICAgICByZXR1cm4gdW5zYWZlV2luZG93OwogICAgfQogICAgdmFyIGRlY29yYXRvciA9IHsKICAgICAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gTUFHSUNfS0VZKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmICh0YXJnZXQgPT09IHVuc2FmZVdpbmRvdyAmJiBrZXkgPT09ICdvcGVuJykgewogICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KTsKICAgICAgICAgIGQudmFsdWUgPSBjbG9uZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBydiA9IHZhbHVlKCk7CiAgICAgICAgICAgIHJldHVybiBjbG9uZUludG8ocnYsIHVuc2FmZVdpbmRvdyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRhcmdldFtrZXldID0gY2xvbmUodmFsdWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSwKICAgICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsKICAgICAgICBpZiAoa2V5ID09PSBNQUdJQ19LRVkpIHsKICAgICAgICAgIHJldHVybiB0YXJnZXQ7CiAgICAgICAgfQogICAgICAgIHZhciB2YWx1ZSA9IHRhcmdldFtrZXldOwogICAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlOwogICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCAodHlwZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICE9PSAnb2JqZWN0JykpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgZGVjb3JhdG9yKTsKICAgICAgfSwKICAgICAgYXBwbHk6IGZ1bmN0aW9uICh0YXJnZXQsIHNlbGYsIGFyZ3MpIHsKICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5zYWZlV2luZG93Lk9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgewogICAgICAgICAgYXJnc1swXSA9IGFyZ3NbMF1bTUFHSUNfS0VZXTsKICAgICAgICB9CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5zYWZlV2luZG93LkZ1bmN0aW9uLmFwcGx5KSB7CiAgICAgICAgICBzZWxmID0gc2VsZltNQUdJQ19LRVldOwogICAgICAgICAgYXJnc1sxXSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3NbMV0pOwogICAgICAgIH0KICAgICAgICBpZiAodGFyZ2V0ID09PSB1bnNhZmVXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcikgewogICAgICAgICAgc2VsZiA9IHNlbGZbTUFHSUNfS0VZXTsKICAgICAgICB9CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5zYWZlV2luZG93LmRvY3VtZW50LndyaXRlKSB7CiAgICAgICAgICBzZWxmID0gc2VsZltNQUdJQ19LRVldOwogICAgICAgIH0KICAgICAgICB2YXIgdXNhcmdzID0gY2xvbmUoYXJncyk7CiAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseShzZWxmLCB1c2FyZ3MpOwogICAgICB9LAogICAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uICh0YXJnZXQsIGFyZ3MpIHsKICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7CiAgICAgICAgYXJncy51bnNoaWZ0KHVuZGVmaW5lZCk7CiAgICAgICAgdmFyIHVzYXJncyA9IGNsb25lKGFyZ3MpOwogICAgICAgIHZhciBiaW5kID0gdW5zYWZlV2luZG93LkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kOwogICAgICAgIHJldHVybiBuZXcgKGJpbmQuYXBwbHkodGFyZ2V0LCB1c2FyZ3MpKTsKICAgICAgfSwKICAgIH07CiAgICByZXR1cm4gbmV3IFByb3h5KHVuc2FmZVdpbmRvdywgZGVjb3JhdG9yKTsKICB9KSgpOwogIHJldHVybiAkOwp9KSk7CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZXh0LCBHTSkgewogICAgICB2YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpOwogICAgICB2YXIgY29yZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpOwogICAgICB2YXIgbWlzYyA9IHJlcXVpcmUoJy4vbWlzYy5qcycpOwogICAgICB2YXIgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hlci5qcycpOwogICAgICB2YXIgbW9kdWxlcyA9IFttaXNjLCBkaXNwYXRjaGVyXS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdi5jYWxsKG51bGwsIGNvbnRleHQsIEdNKTsKICAgICAgfSk7CiAgICAgIHZhciAkID0gXy5hc3NpZ24uYXBwbHkobnVsbCwgbW9kdWxlcyk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIEdNLCBjb3JlLCAkKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIGZhY3RvcnkoY29udGV4dCwgewogICAgICBnZXRWYWx1ZTogR01fZ2V0VmFsdWUsCiAgICAgIHNldFZhbHVlOiBHTV9zZXRWYWx1ZSwKICAgIH0sIGNvbnRleHQuXywgY29udGV4dC4kKTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKGNvbnRleHQsIEdNLCBfLCAkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBNQU5JRkVTVCA9IFsKICAgIHsKICAgICAgbmFtZTogJ3ZlcnNpb24nLAogICAgICBrZXk6ICd2ZXJzaW9uJywKICAgICAgZGVmYXVsdF86IDAsCiAgICAgIHZlcmlmeTogZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdudW1iZXInICYmIHYgPj0gMDsKICAgICAgfSwKICAgICAgbm9ybWFsaXplOiB0b051bWJlciwKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICdhbGlnbkNlbnRlcicsCiAgICAgIGtleTogJ2FsaWduX2NlbnRlcicsCiAgICAgIGRlZmF1bHRfOiB0cnVlLAogICAgICB2ZXJpZnk6IGlzQm9vbGVhbiwKICAgICAgbm9ybWFsaXplOiB0b0Jvb2xlYW4sCiAgICB9LAogICAgewogICAgICBuYW1lOiAnY2hhbmdlQmFja2dyb3VuZCcsCiAgICAgIGtleTogJ2NoYW5nZV9iYWNrZ3JvdW5kJywKICAgICAgZGVmYXVsdF86IHRydWUsCiAgICAgIHZlcmlmeTogaXNCb29sZWFuLAogICAgICBub3JtYWxpemU6IHRvQm9vbGVhbiwKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICdleHRlcm5hbFNlcnZlclN1cHBvcnQnLAogICAgICBrZXk6ICdleHRlcm5hbF9zZXJ2ZXJfc3VwcG9ydCcsCiAgICAgIGRlZmF1bHRfOiBmYWxzZSwKICAgICAgdmVyaWZ5OiBpc0Jvb2xlYW4sCiAgICAgIG5vcm1hbGl6ZTogdG9Cb29sZWFuLAogICAgfSwKICAgIHsKICAgICAgbmFtZTogJ3JlZGlyZWN0SW1hZ2UnLAogICAgICBrZXk6ICdyZWRpcmVjdF9pbWFnZScsCiAgICAgIGRlZmF1bHRfOiB0cnVlLAogICAgICB2ZXJpZnk6IGlzQm9vbGVhbiwKICAgICAgbm9ybWFsaXplOiB0b0Jvb2xlYW4sCiAgICB9LAogICAgewogICAgICBuYW1lOiAnc2NhbGVJbWFnZScsCiAgICAgIGtleTogJ3NjYWxlX2ltYWdlJywKICAgICAgZGVmYXVsdF86IHRydWUsCiAgICAgIHZlcmlmeTogaXNCb29sZWFuLAogICAgICBub3JtYWxpemU6IHRvQm9vbGVhbiwKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICdsb2dMZXZlbCcsCiAgICAgIGtleTogJ2xvZ19sZXZlbCcsCiAgICAgIGRlZmF1bHRfOiAxLAogICAgICB2ZXJpZnk6IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnbnVtYmVyJyAmJiB2ID49IDAgJiYgdiA8PSAyOwogICAgICB9LAogICAgICBub3JtYWxpemU6IHRvTnVtYmVyLAogICAgfSwKICBdOwogIHZhciBQQVRDSEVTID0gWwogICAgZnVuY3Rpb24gKGMpIHsKICAgICAgdmFyIGFjID0gdHlwZW9mIGMuYWxpZ25DZW50ZXIgPT09ICdib29sZWFuJzsKICAgICAgaWYgKHR5cGVvZiBjLmNoYW5nZUJhY2tncm91bmQgIT09ICdib29sZWFuJykgewogICAgICAgIGMuY2hhbmdlQmFja2dyb3VuZCA9IGFjID8gYy5hbGlnbkNlbnRlciA6IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBjLnNjYWxlSW1hZ2UgIT09ICdib29sZWFuJykgewogICAgICAgIGMuc2NhbGVJbWFnZSA9IGFjID8gYy5hbGlnbkNlbnRlciA6IHRydWU7CiAgICAgIH0KICAgICAgaWYgKCFhYykgewogICAgICAgIGMuYWxpZ25DZW50ZXIgPSB0cnVlOwogICAgICB9CiAgICAgIGlmICh0eXBlb2YgYy5yZWRpcmVjdEltYWdlICE9PSAnYm9vbGVhbicpIHsKICAgICAgICBjLnJlZGlyZWN0SW1hZ2UgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgZnVuY3Rpb24gKGMpIHsKICAgICAgaWYgKHR5cGVvZiBjLmV4dGVybmFsU2VydmVyU3VwcG9ydCAhPT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgYy5leHRlcm5hbFNlcnZlclN1cHBvcnQgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGZ1bmN0aW9uIChjKSB7CiAgICAgIGlmICh0eXBlb2YgYy5sb2dMZXZlbCAhPT0gJ251bWJlcicpIHsKICAgICAgICBjLmxvZ0xldmVsID0gMTsKICAgICAgfQogICAgfSwKICBdOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICBmdW5jdGlvbiBpc0Jvb2xlYW4gKHYpIHsKICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nOwogIH0KICBmdW5jdGlvbiB0b0Jvb2xlYW4gKHYpIHsKICAgIHJldHVybiAhIXY7CiAgfQogIGZ1bmN0aW9uIHRvTnVtYmVyICh2KSB7CiAgICByZXR1cm4gcGFyc2VJbnQodiwgMTApOwogIH0KICBmdW5jdGlvbiBjcmVhdGVDb25maWcgKCkgewogICAgdmFyIGMgPSB7fTsKICAgIF8uQyhNQU5JRkVTVCkuZWFjaChmdW5jdGlvbiAobSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYywgbS5uYW1lLCB7CiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gR00uZ2V0VmFsdWUobS5rZXksIG0uZGVmYXVsdF8pOwogICAgICAgIH0sCiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikgewogICAgICAgICAgR00uc2V0VmFsdWUobS5rZXksIHYpOwogICAgICAgICAgdmFyIG52ID0gR00uZ2V0VmFsdWUobS5rZXksIG0uZGVmYXVsdF8pOwogICAgICAgICAgaWYgKG52ICE9PSB2KSB7CiAgICAgICAgICAgIHZhciBzID0gXy5UKCdmYWlsZWQgdG8gd3JpdGUgY29uZmlnLCBrZXk6IHswfSwgdmFsdWU6IHsxfSwgbmV3OiB7Mn0nKTsKICAgICAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcihzKHMua2V5LCBudiwgdikpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gc2VuaXR5Q2hlY2sgKGMpIHsKICAgIHZhciBvayA9IF8uQyhNQU5JRkVTVCkuYWxsKGZ1bmN0aW9uIChtKSB7CiAgICAgIHJldHVybiBtLnZlcmlmeShjW20ubmFtZV0pOwogICAgfSk7CiAgICBpZiAoIW9rKSB7CiAgICAgIGMudmVyc2lvbiA9IDA7CiAgICB9CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gbWlncmF0ZSAoYykgewogICAgaWYgKHR5cGVvZiBjLnZlcnNpb24gIT09ICdudW1iZXInIHx8IGMudmVyc2lvbiA8IDApIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignd3JvbmcgY29uZmlnIHZlcnNpb246ICcgKyBjLnZlcnNpb24pOwogICAgfQogICAgd2hpbGUgKGMudmVyc2lvbiA8IFBBVENIRVMubGVuZ3RoKSB7CiAgICAgIFBBVENIRVNbYy52ZXJzaW9uXShjKTsKICAgICAgKytjLnZlcnNpb247CiAgICB9CiAgICByZXR1cm4gYzsKICB9CiAgJC5jb25maWcgPSBtaWdyYXRlKHNlbml0eUNoZWNrKGNyZWF0ZUNvbmZpZygpKSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eYWRzYnlwYXNzZXJcLmdpdGh1YlwuaW8kLywKICAgICAgcGF0aDogL15cL2NvbmZpZ3VyZVwuaHRtbCQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICQud2luZG93LmNvbW1pdCA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgZGF0YS52ZXJzaW9uID0gJC5jb25maWcudmVyc2lvbjsKICAgICAgICBfLkMoZGF0YSkuZWFjaChmdW5jdGlvbiAodiwgaykgewogICAgICAgICAgJC5jb25maWdba10gPSB2OwogICAgICAgIH0pOwogICAgICB9OwogICAgICAkLndpbmRvdy5yZW5kZXIoewogICAgICAgIHZlcnNpb246ICQuY29uZmlnLnZlcnNpb24sCiAgICAgICAgb3B0aW9uczogewogICAgICAgICAgYWxpZ25DZW50ZXI6IHsKICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgICAgdmFsdWU6ICQuY29uZmlnLmFsaWduQ2VudGVyLAogICAgICAgICAgICBsYWJlbDogJ0FsaWduIENlbnRlcicsCiAgICAgICAgICAgIGhlbHA6ICdBbGlnbiBpbWFnZSB0byB0aGUgY2VudGVyIGlmIHBvc3NpYmxlLiAoZGVmYXVsdDogZW5hYmxlZCknLAogICAgICAgICAgfSwKICAgICAgICAgIGNoYW5nZUJhY2tncm91bmQ6IHsKICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgICAgdmFsdWU6ICQuY29uZmlnLmNoYW5nZUJhY2tncm91bmQsCiAgICAgICAgICAgIGxhYmVsOiAnQ2hhbmdlIEJhY2tncm91bmQnLAogICAgICAgICAgICBoZWxwOiAnVXNlIEZpcmVmb3gtbGlrZSBpbWFnZSBiYWNrZ3JvdW5kIGlmIHBvc3NpYmxlLiAoZGVmYXVsdDogZW5hYmxlZCknLAogICAgICAgICAgfSwKICAgICAgICAgIHJlZGlyZWN0SW1hZ2U6IHsKICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgICAgdmFsdWU6ICQuY29uZmlnLnJlZGlyZWN0SW1hZ2UsCiAgICAgICAgICAgIGxhYmVsOiAnUmVkaXJlY3QgSW1hZ2UnLAogICAgICAgICAgICBoZWxwOiBbCiAgICAgICAgICAgICAgJ0RpcmVjdGx5IG9wZW4gaW1hZ2UgbGluayBpZiBwb3NzaWJsZS4gKGRlZmF1bHQ6IGVuYWJsZWQpJywKICAgICAgICAgICAgICAnSWYgZGlzYWJsZWQsIHJlZGlyZWN0aW9uIHdpbGwgb25seSB3b3JrcyBvbiBsaW5rIHNob3J0ZW5lciBzaXRlcy4nLAogICAgICAgICAgICBdLmpvaW4oJzxici8+XG4nKSwKICAgICAgICAgIH0sCiAgICAgICAgICBzY2FsZUltYWdlOiB7CiAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsCiAgICAgICAgICAgIHZhbHVlOiAkLmNvbmZpZy5zY2FsZUltYWdlLAogICAgICAgICAgICBsYWJlbDogJ1NjYWxlIEltYWdlJywKICAgICAgICAgICAgaGVscDogJ1doZW4gaW1hZ2UgbG9hZGVkLCBzY2FsZSBpdCB0byBmaXQgd2luZG93IGlmIHBvc3NpYmxlLiAoZGVmYXVsdDogZW5hYmxlZCknLAogICAgICAgICAgfSwKICAgICAgICAgIGV4dGVybmFsU2VydmVyU3VwcG9ydDogewogICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLAogICAgICAgICAgICB2YWx1ZTogJC5jb25maWcuZXh0ZXJuYWxTZXJ2ZXJTdXBwb3J0LAogICAgICAgICAgICBsYWJlbDogJ0V4dGVybmFsIFNlcnZlciBTdXBwb3J0JywKICAgICAgICAgICAgaGVscDogWwogICAgICAgICAgICAgICdTZW5kIFVSTCBpbmZvcm1hdGlvbiB0byBleHRlcm5hbCBzZXJ2ZXIgdG8gZW5oYW5jZSBmZWF0dXJlcyAoZS5nLjogY2FwdGNoYSByZXNvbHZpbmcpLiAoZGVmYXVsdDogZGlzYWJsZWQpJywKICAgICAgICAgICAgICAnQWZmZWN0ZWQgc2l0ZXM6JywKICAgICAgICAgICAgICAnc2V0bGlua3MudXMgKGNhcHRjaGEpJywKICAgICAgICAgICAgXS5qb2luKCc8YnIvPlxuJyksCiAgICAgICAgICB9LAogICAgICAgICAgbG9nTGV2ZWw6IHsKICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICAgIHZhbHVlOiAkLmNvbmZpZy5sb2dMZXZlbCwKICAgICAgICAgICAgbWVudTogWwogICAgICAgICAgICAgIFswLCAnMCAocXVpZXQpJ10sCiAgICAgICAgICAgICAgWzEsICcxIChkZWZhdWx0KSddLAogICAgICAgICAgICAgIFsyLCAnMiAodmVyYm9zZSknXSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgbGFiZWw6ICdMb2cgTGV2ZWwnLAogICAgICAgICAgICBoZWxwOiBbCiAgICAgICAgICAgICAgJ0xvZyBsZXZlbCBpbiBkZXZlbG9wZXIgY29uc29sZS4gKGRlZmF1bHQ6IDEpJywKICAgICAgICAgICAgICAnMCB3aWxsIG5vdCBwcmludCBhbnl0aGluZyBpbiBjb25zb2xlLicsCiAgICAgICAgICAgICAgJzEgd2lsbCBvbmx5IHByaW50IGxvZ3Mgb24gYWZmZWN0ZWQgc2l0ZXMuJywKICAgICAgICAgICAgICAnMiB3aWxsIHByaW50IG9uIGFueSBzaXRlcy4nLAogICAgICAgICAgICBdLmpvaW4oJzxici8+XG4nKSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9LAogIH0pOwogIHJldHVybiAkOwp9KSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eMDFcLm5sJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCdpZnJhbWUjcmVkaXJlY3RmcmFtZScpOwogICAgJC5vcGVuTGluayhmLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eMTBjb1wuKGJpenx4eXp8Y298bWUpJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGQgPSAkKCcuZ28nKTsKICAgICQub3BlbkxpbmsoZC5kYXRhc2V0LmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/MWJlXC5iaXokLywKICAgIHBhdGg6IC9eXC9zXC5waHAkLywKICAgIHF1ZXJ5OiAvXlw/KC4rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsobS5xdWVyeVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT8xdGlueVwubmV0JC8sCiAgICBwYXRoOiAvXC9cdysvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGRpcmVjdFVybCA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5sb2NhdGlvbj0nKFteJ10rKSc7Lyk7CiAgICBpZiAoIWRpcmVjdFVybCkgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdzY3JpcHQgY29udGVudCBjaGFuZ2VkJyk7CiAgICB9CiAgICAkLm9wZW5MaW5rKGRpcmVjdFVybFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eMnR5XC5jYyQvLAogICAgcGF0aDogL15cLy4rLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBhID0gJCgnI2Nsb3NlJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT8zcmFcLmJlJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgZiA9ICQud2luZG93LmZjOwogICAgaWYgKCFmKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3dpbmRvdy5mYyBpcyB1bmRlZmluZWQnKTsKICAgIH0KICAgIGYgPSBmLnRvU3RyaW5nKCk7CiAgICBmID0gZi5tYXRjaCgvaHJlZj0iKFteIl0qKS8pOwogICAgaWYgKCFmKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3VybCBwYXR0ZXJuIG91dGRhdGVkJyk7CiAgICB9CiAgICAkLm9wZW5MaW5rKGZbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/NGZ1blwudHckLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNvcmlnaW5hbF91cmwnKTsKICAgICQub3BlbkxpbmsoaS52YWx1ZSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYWQybGlua3NcLmNvbSQvLAogICAgcGF0aDogL15cL1x3LS4rJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rQnlQb3N0KHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpLCB7CiAgICAgIHBvc3Q6IHsKICAgICAgICBpbWFnZTogJ1NraXAgQWQuJywKICAgICAgfSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmFkNFwuZnIkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC8ic3JjIiwgIihbXiJdKykiLyk7CiAgICBpZiAoIXMpIHsKICAgICAgXy53YXJuKCdjaGFuZ2VkJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgICQub3Blbkxpbmsoc1sxXSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmFkN1wuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cZCtcLyguKikkLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgIHZhciByZWRpcmVjdExpbmsgPSBtLnBhdGhbMV07CiAgICAgIGlmICghcmVkaXJlY3RMaW5rLm1hdGNoKC9eaHR0cHM/OlwvXC8vKSkgewogICAgICAgIHJlZGlyZWN0TGluayA9ICJodHRwOi8vIiArIHJlZGlyZWN0TGluazsKICAgICAgfQogICAgICAkLm9wZW5MaW5rKHJlZGlyZWN0TGluayk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmFkN1wuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cdyskLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIHNjcmlwdCA9ICQuc2VhcmNoU2NyaXB0cygndmFyIHJfdXJsJyk7CiAgICAgIHZhciB1cmwgPSBzY3JpcHQubWF0Y2goLyZ1cmw9KFteJl0rKS8pOwogICAgICB1cmwgPSB1cmxbMV07CiAgICAgICQub3BlbkxpbmsodXJsKTsKICAgIH0sCiAgfSk7Cn0pKCk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL14od3d3XC4pP2FkYlwudWckLywKICAgICAgICAvXih3d3dcLik/bHlua1wubXkkLywKICAgICAgICAvXmFkeW91XC5tZSQvLAogICAgICBdLAogICAgICBwYXRoOiAvXig/IVwvKD86cHJpdmFjeXx0ZXJtc3xjb250YWN0KFwvLiopP3wjLiopPyQpLiokLwogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICd1c2Ugc3RyaWN0JzsKICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgIHZhciBtID0gJC5zZWFyY2hTY3JpcHRzKC90b3BcLmxvY2F0aW9uXC5ocmVmPSIoW14iXSspIi8pOwogICAgICBpZiAobSkgewogICAgICAgICQub3BlbkxpbmsobVsxXSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGdldEFyZ3VtZW50cygpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHsKICAgICAgICB0cnlMaW5rKGFyZ3MpOwogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgZnVuY3Rpb24gZ2V0QXJndW1lbnRzICgpIHsKICAgIHZhciBQQVRURVJOID0gL1x7XHMqX2FyZ3NbXn1dK1x9W159XStcfS87CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoUEFUVEVSTik7CiAgICAgIGlmIChtKSB7CiAgICAgICAgcmVzb2x2ZShtKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgIGlmIChub2RlLmxvY2FsTmFtZSA9PT0gJ3NjcmlwdCcpIHsKICAgICAgICAgICAgICB2YXIgbSA9IG5vZGUudGV4dENvbnRlbnQubWF0Y2goUEFUVEVSTik7CiAgICAgICAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgICAgIHJlc29sdmUobSk7CiAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewogICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgfSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChtKSB7CiAgICAgIHJldHVybiBldmFsKCcoJyArIG1bMF0gKyAnKScpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHRyeUxpbmsgKGFyZ3MpIHsKICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnL3NraXBfdGltZXInOwogICAgdmFyIGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICQucG9zdCh1cmwsIGFyZ3MpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgamogPSBfLnBhcnNlSlNPTih0ZXh0KTsKICAgICAgICBpZiAoIWpqLmVycm9ycyAmJiBqai5tZXNzYWdlcykgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChpKTsKICAgICAgICAgICQub3BlbkxpbmsoamoubWVzc2FnZXMudXJsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwgMTAwMCk7CiAgfQp9KSgpOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBnZXRUb2tlbkZyb21Sb2NrZXRTY3JpcHQgKCkgewogICAgdmFyIGEgPSAkLnNlYXJjaFNjcmlwdHMoL3ZhciBldSA9ICcoPyFmYWxzZSkoLiopJy8pOwogICAgcmV0dXJuIGEgPyBhWzFdIDogbnVsbDsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eYWRmXC5seSQvLAogICAgICBwYXRoOiAvXlwvcmVkaXJlY3RpbmdcLyguKykkLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgdmFyIHVybCA9IGF0b2IobS5wYXRoWzFdKTsKICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgcGF0aDogL1wvbG9ja2VkJC8sCiAgICAgIHF1ZXJ5OiAvdXJsPShbXiZdKykvLAogICAgfSwKICAgIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgICAkLnJlc2V0Q29va2llcygpOwogICAgICB2YXIgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KG0ucXVlcnlbMV0pOwogICAgICBpZiAodXJsLm1hdGNoKC9eaHR0cC8pKSB7CiAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICB9IGVsc2UgewogICAgICAgICQub3BlbkxpbmsoJy8nICsgdXJsKTsKICAgICAgfQogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGggPSAkLiQoJ2h0bWxbaWQ9Im1haW5faHRtbCJdJyk7CiAgICAgIGlmIChoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAkLndpbmRvdy5kb2N1bWVudC53cml0ZSA9IF8ubm9wOwogICAgICAkLndpbmRvdy5idG9hID0gXy5ub3A7CiAgICAgIHdhaXRUb2tlbigpLnRoZW4oZnVuY3Rpb24gKHRva2VuKSB7CiAgICAgICAgdmFyIHVybCA9IGRlY29kZVRva2VuKHRva2VuKTsKICAgICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgXy53YXJuKGUpOwogICAgICB9KTsKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgaCA9ICQuJCgnI21haW5faHRtbCcpLCBiID0gJC4kKCcjaG9tZScpOwogICAgICBpZiAoIWggfHwgIWIgfHwgaC5ub2RlTmFtZSAhPT0gJ0hUTUwnIHx8IGIubm9kZU5hbWUgIT09ICdCT0RZJykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgJC53aW5kb3cuY29va2llQ2hlY2sgPSBfLm5vcDsKICAgICAgaCA9IGdldFRva2VuRnJvbVJvY2tldFNjcmlwdCgpOwogICAgICBpZiAoIWgpIHsKICAgICAgICBoID0gJCgnI2FkZmx5X2JhcicpOwogICAgICAgICQud2luZG93LmNsb3NlX2JhcigpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBoID0gZGVjb2RlVG9rZW4oaCk7CiAgICAgICQub3BlbkxpbmsoaCk7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIHdhaXRUb2tlbiAoKSB7CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHZhciBvID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgICAgXy5DKG11dGF0aW9uLmFkZGVkTm9kZXMpLmVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgaWYgKG5vZGUubG9jYWxOYW1lID09PSAnc2NyaXB0JykgewogICAgICAgICAgICAgIHZhciBtID0gbm9kZS50ZXh0Q29udGVudC5tYXRjaCgvdmFyIHlzbW0gPSAnKFteJ10rKScvKTsKICAgICAgICAgICAgICBpZiAobSkgewogICAgICAgICAgICAgICAgby5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICByZXNvbHZlKG1bMV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvLm9ic2VydmUoZG9jdW1lbnQuaGVhZCwgewogICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgfSk7CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gZGVjb2RlVG9rZW4gKHRva2VuKSB7CiAgICB2YXIgYSA9IHRva2VuLmluZGV4T2YoJyFIaVRvbW15Jyk7CiAgICBpZiAoYSA+PSAwKSB7CiAgICAgIHRva2VuID0gdG9rZW4uc3Vic3RyaW5nKDAsIGEpOwogICAgfQogICAgYSA9ICcnOwogICAgdmFyIGIgPSAnJzsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKGkgJSAyID09PSAwKSB7CiAgICAgICAgYSA9IGEgKyB0b2tlbi5jaGFyQXQoaSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYiA9IHRva2VuLmNoYXJBdChpKSArIGI7CiAgICAgIH0KICAgIH0KICAgIHRva2VuID0gYXRvYihhICsgYik7CiAgICB0b2tlbiA9IHRva2VuLnN1YnN0cigyKTsKICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7CiAgICAgIHRva2VuICs9IGxvY2F0aW9uLmhhc2g7CiAgICB9CiAgICByZXR1cm4gdG9rZW47CiAgfQp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/YWRmZVwuZXMkLywKICAgIHBhdGg6IC9eXC9cdyskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJyNmcm12aWRlbycpOwogICAgaWYgKCFmLlNURVA0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGYuc3VibWl0KCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vYWRmb2MudXMvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciByb290ID0gZG9jdW1lbnQuYm9keTsKICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgdmFyIG8gPSAkLiQoJyNzaG93U2tpcCcpOwogICAgICBpZiAobykgewogICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgICBvID0gby5xdWVyeVNlbGVjdG9yKCdhJyk7CiAgICAgICAgJC5vcGVuTGluayhvLmhyZWYpOwogICAgICB9CiAgICB9KTsKICAgIG9ic2VydmVyLm9ic2VydmUocm9vdCwgewogICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgIHN1YnRyZWU6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2FkamV0XC5iaXokLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvaHJlZj0oXFMrKS8pOwogICAgaWYgKCFtKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgJC5vcGVuTGluayhtWzFdKTsKICB9LAp9KTsKKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmFkbGlua1wuZ3VydSQvLAogICAgICAgIC9eY3lwdFwuZ2EkLywKICAgICAgICAvXihmaWxlc2J1Y2tzfHRtZWFybnxjdXQtdXJscylcLmNvbSQvLAogICAgICAgIC9eZWxpbmtcLmxpbmskLywKICAgICAgICAvXihwYXl1cmx8dXJsc3QpXC5tZSQvLAogICAgICAgIC9edXJsXC5odCQvLAogICAgICAgIC9edXJsZVwuY28kLywKICAgICAgICAvXihoYXNoZXx0cmxpbmt8YWRzaG9ydClcLmluJC8sCiAgICAgICAgL153d3dcLndvcmxkaGFja1wubmV0JC8sCiAgICAgICAgL14xMjNsaW5rXC50b3AkLywKICAgICAgICAvXnBpclwuaW0kLywKICAgICAgICAvXmJvbFwudGwkLywKICAgICAgICAvXih0bHxhZGZseSlcLnRjJC8sCiAgICAgICAgL14oYWRmdXxsaW5raGl0cylcLnVzJC8sCiAgICAgICAgL15zaG9ydFwucGFzdGV3bWFcLmNvbSQvLAogICAgICAgIC9ebGlua2ZseVwuZ2Fvc21lZGlhXC5jb20kLywKICAgICAgXSwKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnLCAnLkJKUFBvcEFkc092ZXJsYXknKTsKICAgICAgZmlyc3RTdGFnZSgpLnRoZW4oZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgICByZXR1cm4gc2Vjb25kU3RhZ2UocGFnZSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICQubnVrZSh1cmwpOwogICAgICAgICQub3BlbkxpbmsodXJsKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfLndhcm4oZSk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICBmdW5jdGlvbiBmaXJzdFN0YWdlICgpIHsKICAgIHJldHVybiBfLkQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZiA9ICQuJCgnI2xpbmstdmlldycpOwogICAgICBpZiAoIWYpIHsKICAgICAgICByZXNvbHZlKGRvY3VtZW50KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGFyZ3MgPSBleHRyYWN0QXJndW1lbnQoZik7CiAgICAgIHZhciB1cmwgPSBmLmdldEF0dHJpYnV0ZSgnYWN0aW9uJyk7CiAgICAgIHZhciBwID0gJC5wb3N0KHVybCwgYXJncykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiAkLnRvRE9NKGRhdGEpOwogICAgICB9KTsKICAgICAgcmVzb2x2ZShwKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBzZWNvbmRTdGFnZSAocGFnZSkgewogICAgdmFyIGYgPSAkKCcjZ28tbGluaycsIHBhZ2UpOwogICAgdmFyIGFyZ3MgPSBleHRyYWN0QXJndW1lbnQoZik7CiAgICB2YXIgdXJsID0gZi5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpOwogICAgcmV0dXJuICQucG9zdCh1cmwsIGFyZ3MpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7CiAgICAgIGlmIChkYXRhICYmIGRhdGEudXJsKSB7CiAgICAgICAgcmV0dXJuIGRhdGEudXJsOwogICAgICB9CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3dyb25nIGRhdGEnKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBleHRyYWN0QXJndW1lbnQgKGZvcm0pIHsKICAgIHZhciBhcmdzID0ge307CiAgICAkLiQkKCdpbnB1dCcsIGZvcm0pLmVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgYXJnc1t2Lm5hbWVdID0gdi52YWx1ZTsKICAgIH0pOwogICAgcmV0dXJuIGFyZ3M7CiAgfQp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmFkbG9ja1wub3JnJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkLiQoJyN4cmUgYS54eHIsICNkb3dubG9hZEJ1dHRvbjEnKTsKICAgIGlmIChhKSB7CiAgICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgYSA9ICQud2luZG93LmZpbGVMb2NhdGlvbjsKICAgIGlmIChhKSB7CiAgICAgICQub3BlbkxpbmsoYSk7CiAgICB9CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9hZGxvdFwudXMkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBzY3JpcHQgPSAkLnNlYXJjaFNjcmlwdHMoJ2Zvcm0nKTsKICAgIHZhciBwID0gL25hbWU9JyhbXiddKyknIHZhbHVlPScoW14nXSspJy9nOwogICAgdmFyIG9wdCA9IHsKICAgICAgaW1hZ2U6ICcgJywKICAgIH07CiAgICB2YXIgdG1wID0gbnVsbDsKICAgIHdoaWxlICh0bXAgPSBwLmV4ZWMoc2NyaXB0KSkgewogICAgICBvcHRbdG1wWzFdXSA9IHRtcFsyXTsKICAgIH0KICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgcGF0aDogb3B0LAogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYWRteVwubGluayQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJCgnZm9ybS5lZGl0X2xpbmsnKTsKICAgIGYuc3VibWl0KCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9haC1pbmZvcm1hdGlxdWVcLmNvbSQvLAogICAgcGF0aDogL15cL1ppcFVybC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjemlwMyBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIGRlY29kZVNjcmlwdCAoZW5jb2RlZCkgewogICAgdmFyIGEgPSBlbmNvZGVkLm1hdGNoKC9eXHMqO2V2YWxcKCguKylcKTtccyokLyk7CiAgICBhID0gYVsxXTsKICAgIHZhciBiID0gYS5tYXRjaCgvXiguKylcKCcoW14nXSspJywnKFteJ10rKScsJyhbXiddKyknLCcoW14nXSspJ1wpJC8pOwogICAgdmFyIGMgPSBldmFsKCcoJyArIGJbMV0gKyAnKScpOwogICAgcmV0dXJuIGMoYlsyXSwgYlszXSwgYls0XSwgYls1XSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmFoXC5wZSQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY3JpcHQgPSAkLnNlYXJjaFNjcmlwdHMoJ2V2YWwnKTsKICAgICAgc2NyaXB0ID0gZGVjb2RlU2NyaXB0KHNjcmlwdCk7CiAgICAgIHNjcmlwdCA9IGRlY29kZVNjcmlwdChzY3JpcHQpOwogICAgICBzY3JpcHQgPSBkZWNvZGVTY3JpcHQoc2NyaXB0KTsKICAgICAgdmFyIHBhdGggPSBzY3JpcHQubWF0Y2goLyhbXjs9IF0rKT0oW14rIDtdKylcKyJcLiJcKyhbXisgXSspXCsiXC4iXCsoW147IF0rKTsvKTsKICAgICAgaWYgKCFwYXRoKSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mICQud2luZG93W3BhdGhbMl1dID09PSAndW5kZWZpbmVkJykgewogICAgICAgIF8uaW5mbygncmVjYXB0Y2hhJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHBhdGggPSBfLlQoJ3swfS57MX0uezJ9JykoJC53aW5kb3dbcGF0aFsyXV0sICQud2luZG93W3BhdGhbM11dLCAkLndpbmRvd1twYXRoWzRdXSk7CiAgICAgICQub3BlbkxpbmsocGF0aCk7CiAgICB9LAogIH0pOwp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmFrYVwuZ3IkLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJCgnaWZyYW1lI3lvdXJscy1mcmFtZScpOwogICAgJC5vcGVuTGluayhsLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15hbFwubHkkLywKICAgICAgL15hbGx5XC5zaCQvLAogICAgXSwKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnYm9keSA+IHNlY3Rpb24gPiBpZnJhbWUnKTsKICAgIGlmIChpKSB7CiAgICAgIGkuc3JjID0gJ2Fib3V0OmJsYW5rJzsKICAgICAgXy53YWl0KDMwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhID0gJCgnYS5yZWRpcmVjdCcpOwogICAgICAgIGEuY2xpY2soKTsKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGkgPSAkLnNlYXJjaFNjcmlwdHMoLyJocmVmIiwiKFteIl0rKSJcKVwucmVtb3ZlLyk7CiAgICBpZiAoIWkpIHsKICAgICAgXy53YXJuKCdzaXRlIGNoYW5nZWQnKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaSA9IGlbMV07CiAgICAkLm9wZW5MaW5rKGkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eKHd3d1wuKT9hbGxrZXlzaG9wXC5jb20kLywKICAgICAgL15jc2hvcnRcLm9yZyQvLAogICAgXSwKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG1hdGNoZXMgPSAkLnNlYXJjaFNjcmlwdHMoL3dpbmRvd1wubG9jYXRpb25cLmhyZWYgPSAiKFteIl0rKSIvKTsKICAgIG1hdGNoZXMgPSBtYXRjaGVzWzFdOwogICAgJC5udWtlKG1hdGNoZXMpOwogICAgJC5vcGVuTGluayhtYXRjaGVzKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15hbm9ueW1idWNrc1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjYm90b24tY29udGludWFyJyk7CiAgICBhLmNsaWNrKCk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBhamF4UGF0dGVybiA9IC9cJC5wb3N0XCgnKFteJ10qKSdbXntdKyhce1xzKm9wdDpccyonbWFrZV9sb2cnW159XStcfVxzKlx9KSwvaTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogWwogICAgICAgIC9eYmNcLnZjJC8sCiAgICAgICAgL15saW5jXC5tbCQvLAogICAgICBdLAogICAgICBwYXRoOiAvXi4rKGh0dHBzPzpcL1wvLispJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkxpbmsobS5wYXRoWzFdICsgZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoICsgZG9jdW1lbnQubG9jYXRpb24uaGFzaCk7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIGRlY29tcHJlc3MgKHNjcmlwdCwgdW56aXApIHsKICAgIGlmICghdW56aXApIHsKICAgICAgcmV0dXJuIHNjcmlwdDsKICAgIH0KICAgIHZhciBtYXRjaGVzID0gc2NyaXB0Lm1hdGNoKC9ldmFsKC4qKS8pOwogICAgaWYgKCFtYXRjaGVzKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ25vIHNjcmlwdCBtYXRjaGVzIC9ldmFsKC4qKS8nKTsKICAgIH0KICAgIG1hdGNoZXMgPSBtYXRjaGVzWzFdOwogICAgc2NyaXB0ID0gZXZhbChtYXRjaGVzKTsKICAgIHJldHVybiBzY3JpcHQ7CiAgfQogIGZ1bmN0aW9uIHNlYXJjaFNjcmlwdCAodW56aXApIHsKICAgIHZhciBjb250ZW50ID0gJC5zZWFyY2hTY3JpcHRzKCdtYWtlX2xvZycpOwogICAgaWYgKGNvbnRlbnQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBkaXJlY3Q6IGZhbHNlLAogICAgICAgIHNjcmlwdDogZGVjb21wcmVzcyhjb250ZW50LCB1bnppcCksCiAgICAgIH07CiAgICB9CiAgICBjb250ZW50ID0gJC5zZWFyY2hTY3JpcHRzKCdjbGlja19sb2cnKTsKICAgIGlmIChjb250ZW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZGlyZWN0OiB0cnVlLAogICAgICAgIHNjcmlwdDogZGVjb21wcmVzcyhjb250ZW50LCB1bnppcCksCiAgICAgIH07CiAgICB9CiAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdzY3JpcHQgY2hhbmdlZCcpOwogIH0KICBmdW5jdGlvbiBrbm9ja1NlcnZlciAoc2NyaXB0LCBkaXJ0eUZpeCkgewogICAgdmFyIG1hdGNoZXMgPSBzY3JpcHQubWF0Y2goYWpheFBhdHRlcm4pOwogICAgaWYgKCFtYXRjaGVzKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJyhpbiBrbm9jayBzZXJ2ZXIpIG5vIHNjcmlwdCBtYXRjaGVzICQucG9zdCcpOwogICAgfQogICAgdmFyIG1ha2VfdXJsID0gbWF0Y2hlc1sxXTsKICAgIHZhciBtYWtlX29wdHMgPSBldmFsKCcoJyArIG1hdGNoZXNbMl0gKyAnKScpOwogICAgdmFyIGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICQucG9zdChtYWtlX3VybCwgbWFrZV9vcHRzKS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgaWYgKGRpcnR5Rml4KSB7CiAgICAgICAgICB0ZXh0ID0gdGV4dC5tYXRjaCgvXHsuK1x9LylbMF07CiAgICAgICAgfQogICAgICAgIHZhciBqaiA9IF8ucGFyc2VKU09OKHRleHQpOwogICAgICAgIGlmIChqai5tZXNzYWdlKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKGkpOwogICAgICAgICAgJC5vcGVuTGluayhqai5tZXNzYWdlLnVybCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIDEwMDApOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15iY1wudmMkLywKICAgICAgcGF0aDogL15cLy4rLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIHRva2VuID0gZmluZEFKQVhUb2tlbigpOwogICAgICB2YXIgdGltZSA9IGZha2VBSkFYVG9rZW4oKTsKICAgICAgdmFyIHVybCA9IF8uVCgnL2ZseS9hamF4LnBocD93ZHM9ezB9JnRpbWU9ezF9Jyk7CiAgICAgIHVybCA9IHVybCh0b2tlbi53ZHMsIHRpbWUpOwogICAgICBfLndhaXQoNTAwMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICQucG9zdCh1cmwsIHsKICAgICAgICAgIHhkZjogewogICAgICAgICAgICBhZmc6ICQud2luZG93LnRaLAogICAgICAgICAgICBiZmc6ICQud2luZG93LmNXLAogICAgICAgICAgICBjZmc6ICQud2luZG93LmNILAogICAgICAgICAgICBqa2k6IHRva2VuLmpraSwKICAgICAgICAgICAgZGZnOiAkLndpbmRvdy5zVywKICAgICAgICAgICAgZWZnOiAkLndpbmRvdy5zSCwKICAgICAgICAgIH0sCiAgICAgICAgICBvams6IHRva2VuLm9qaywKICAgICAgICB9KTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocnYpIHsKICAgICAgICBydiA9IEpTT04ucGFyc2UocnYpOwogICAgICAgIGlmIChydi5lcnJvcikgewogICAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignYXV0aCBlcnJvcicpOwogICAgICAgIH0KICAgICAgICAkLm9wZW5MaW5rKHJ2Lm1lc3NhZ2UudXJsKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfLndhcm4oJ2FqYXggZXJyb3InLCBlKTsKICAgICAgfSk7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIHJ1biAoZGlydHlGaXgpIHsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIHJlc3VsdCA9IHNlYXJjaFNjcmlwdCh0cnVlKTsKICAgIGlmICghcmVzdWx0LmRpcmVjdCkgewogICAgICBrbm9ja1NlcnZlcihyZXN1bHQuc2NyaXB0LGRpcnR5Rml4KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IHJlc3VsdC5zY3JpcHQubWF0Y2goL3RvcFwubG9jYXRpb25cLmhyZWY9JyhbXiddKyknLyk7CiAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgICAgfQogICAgICByZXN1bHQgPSByZXN1bHRbMV07CiAgICAgICQub3BlbkxpbmsocmVzdWx0KTsKICAgIH0KICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eYWRjcnVuXC5jaCQvLAogICAgICBwYXRoOiAvXlwvXHcrJC8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgJC5yZW1vdmVOb2RlcygnLnVzZXJfY29udGVudCcpOwogICAgICB2YXIgclN1cnZleUxpbmsgPSAvaHR0cFwub3BlblwoIkdFVCIsICJhcGlfYWpheFwucGhwXD9zaWQ9XGQqJmlwPVteJl0qJmxvbmd1cmw9KFteIl0rKSIgXCsgZmlyc3RfdGltZSwgKD86dHJ1ZXxmYWxzZSlcKTsvOwogICAgICB2YXIgbCA9ICQuc2VhcmNoU2NyaXB0cyhyU3VydmV5TGluayk7CiAgICAgIGlmIChsKSB7CiAgICAgICAgJC5vcGVuTGluayhsWzFdKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcnVuKHRydWUpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogWwogICAgICAgIC9eKDF0a3xoaXR8YWRibGF8dGw3fG15bGluaylcLnVzJC8sCiAgICAgICAgL15neFwuc2kkLywKICAgICAgICAvXmFkd2F0XC5jaCQvLAogICAgICAgIC9eKGZseTJ1cmx8dXJsd2l6fHhhZm94KVwuY29tJC8sCiAgICAgICAgL14oenBvenx1bHRyeSlcLm5ldCQvLAogICAgICAgIC9eKHd3eXxteWFtKVwubWUkLywKICAgICAgICAvXihzc2x8c3JrKVwuZ3MkLywKICAgICAgICAvXnNob3J0aXRcLmluJC8sCiAgICAgICAgL153d3dcLmFkamV0XC5ldSQvLAogICAgICAgIC9eY3VuXC5ieiQvLAogICAgICAgIC9ebWluaXVybFwudGskLywKICAgICAgICAvXnZpenp5XC5lcyQvLAogICAgICAgIC9ea2F6YW5cLnZjJC8sCiAgICAgICAgL15saW5rY2FzaFwubWwkLywKICAgICAgXSwKICAgICAgcGF0aDogL15cLy4rLywKICAgIH0sCiAgICByZWFkeTogcnVuLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL15hZHRyXC5pbSQvLAogICAgICAgIC9eeXNlYXJcLmNoJC8sCiAgICAgICAgL154aXBcLmlyJC8sCiAgICAgIF0sCiAgICAgIHBhdGg6IC9eXC8uKy8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGEgPSAkLiQoJ2Rpdi5mbHlfaGVhZCBhLmNsb3NlJyk7CiAgICAgIHZhciBmID0gJC4kKCdpZnJhbWUuZmx5X2ZyYW1lJyk7CiAgICAgIGlmIChhICYmIGYpIHsKICAgICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBydW4oKTsKICAgICAgfQogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15hZDVcLmV1JC8sCiAgICAgIHBhdGg6IC9eXC9bXi5dKyQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbigpIHsKICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgIHZhciBzID0gc2VhcmNoU2NyaXB0KHRydWUpOwogICAgICB2YXIgbSA9IHMuc2NyaXB0Lm1hdGNoKC8oPGZvcm0gbmFtZT0iZm9ybTEibWV0aG9kPSJwb3N0Ii4qKD8hPFxcZm9ybT4pPFwvZm9ybT4pLyk7CiAgICAgIGlmICghbSkge3JldHVybjt9CiAgICAgIG0gPSBtWzFdOwogICAgICB2YXIgdHogPSAtKG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKS82MCk7CiAgICAgIG0gPSBtLnJlcGxhY2UoIicrdGltZXpvbmUrJyIsdHopOwogICAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBkLnNldEF0dHJpYnV0ZSgnaWQnLCdBZHNCeXBhc3NlckZUVycpOwogICAgICBkLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lOycpOwogICAgICBkLmlubmVySFRNTCA9IG07CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZCk7CiAgICAgICQoJyNBZHNCeXBhc3NlckZUVyA+IGZvcm1bbmFtZT1mb3JtMV0nKS5zdWJtaXQoKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9edHI1XC5pbiQvLAogICAgICBwYXRoOiAvXlwvLisvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJ1bih0cnVlKTsKICAgIH0sCiAgfSk7CiAgZnVuY3Rpb24gZmluZEFKQVhUb2tlbiAoKSB7CiAgICB2YXIgcnYgPSAkLnNlYXJjaFNjcmlwdHMoJy9mbHkvYWpheC5waHAnKTsKICAgIGlmICghcnYpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIHZhciB3ZHMgPSBydi5tYXRjaCgvXD93ZHM9KFteJl0rKS8pOwogICAgaWYgKCF3ZHMpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIHdkcyA9IHdkc1sxXTsKICAgIHZhciBqa2kgPSBydi5tYXRjaCgvamtpOlxzKicoW14nXSspJy8pOwogICAgaWYgKCFqa2kpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIGpraSA9IGpraVsxXTsKICAgIHZhciBvamsgPSBydi5tYXRjaCgvb2prOlxzKicoW14nXSspJy8pOwogICAgaWYgKCFvamspIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIG9qayA9IG9qa1sxXTsKICAgIHJldHVybiB7CiAgICAgIHdkczogd2RzLAogICAgICBqa2k6IGpraSwKICAgICAgb2prOiBvamssCiAgICB9OwogIH0KICBmdW5jdGlvbiBmYWtlQUpBWFRva2VuICgpIHsKICAgIHZhciBza2lwQWQgPSAkKCdkaXYuZmx5X2hlYWQgc3BhbiNyZWRpcmVjdGluJykucGFyZW50RWxlbWVudDsKICAgIHZhciBtYXJnaW4gPSA2OwogICAgdmFyIGZha2VQYWdlWCA9IHNraXBBZC5vZmZzZXRMZWZ0ICsgbWFyZ2luICsgNTAgKyAoTWF0aC5yYW5kb20oKSAqIDEwKTsKICAgIHZhciBmYWtlUGFnZVkgPSBza2lwQWQub2Zmc2V0VG9wICsgbWFyZ2luICsgMTUgKyAoTWF0aC5yYW5kb20oKSAqIDEpOwogICAgdmFyIHBvID0gZmFrZVBhZ2VYICsgJywnICsgZmFrZVBhZ2VZOwogICAgdmFyIHBvc1ggPSBqUXVlcnlPZmZzZXQoc2tpcEFkKS5sZWZ0ICsgbWFyZ2luOwogICAgdmFyIHBvc1kgPSBqUXVlcnlPZmZzZXQoc2tpcEFkKS50b3AgKyBtYXJnaW47CiAgICB2YXIgcG9zID0gKGZha2VQYWdlWCAtIHBvc1gpICsgJywnICsgKGZha2VQYWdlWSAtIHBvc1kpOwogICAgdmFyIHRzdGFfID0gTWF0aC5mbG9vcigoNSArIE1hdGgucmFuZG9tKCkpICogMTAwMCk7CiAgICB2YXIgdGltZSA9IHBvICsgJzonICsgcG9zICsgJzonICsgdHN0YV87CiAgICByZXR1cm4gdGltZTsKICB9CiAgZnVuY3Rpb24galF1ZXJ5T2Zmc2V0IChlbGVtZW50KSB7CiAgICB2YXIgciA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICByZXR1cm4gewogICAgICB0b3A6IHIudG9wICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsCiAgICAgIGxlZnQ6IHIubGVmdCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwKICAgIH07CiAgfQp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/YmlnbGlzdG9md2Vic2l0ZXNcLmNvbSQvLAogICAgcGF0aDogL15cL2dvXC8oXHcrXC5cdyspJC8KICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuTGluaygnaHR0cDovLycgKyBtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5iaWxkLm1lL2JpbGQucGhwP2ZpbGU9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI0JpbGQnKTsKICAgICQub3BlbkxpbmsoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2JpbGRyLm5vL3ZpZXcvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nLmJpbGRlJyk7CiAgICAkLm9wZW5MaW5rKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pPyhbYS16QS1aMC05XStcLik/YmluYm94XC5pbyQvLAogICAgcGF0aDogL1wvb1wvKFthLXpBLVowLTldKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZGlyZWN0X2xpbmsgPSB3aW5kb3cuYXRvYihtLnBhdGhbMV0pOwogICAgJC5vcGVuTGluayhkaXJlY3RfbGluayk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9ib3hjYXNoXC5uZXQkLywKICAgIHBhdGg6IC9eXC9bXHd+XSskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvXCdcL2FqYXhfbGlua1wucGhwXCcsXHMqXHtrZXk6XHMqJyhcdyspJyxccyp1cmw6XHMqJyhcZCspJyxccyp0OlxzKicoXGQrKScsXHMqcjpccyonKFx3KiknXH0vKTsKICAgIGlmICghbSkgewogICAgICByZXR1cm47CiAgICB9CiAgICAkLnBvc3QoJy9hamF4X2xpbmsucGhwJywgewogICAgICBrZXk6IG1bMV0sCiAgICAgIHVybDogbVsyXSwKICAgICAgdDogbVszXSwKICAgICAgcjogbVs0XSwKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBsID0gcmVzcG9uc2UubWF0Y2goL3dpbmRvdyg/Oi50b3Aud2luZG93KVwubG9jYXRpb249IihbXiJdKykiLyk7CiAgICAgICQub3BlbkxpbmsobFsxXSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2JveGNhc2hcLm5ldCQvLAogICAgcGF0aDogL15cL3JlZGlyZWN0XC5odG1sJC8sCiAgICBxdWVyeTogL3VybD0oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gZGVjb2RlVVJJQ29tcG9uZW50KG0ucXVlcnlbMV0pOwogICAgJC5vcGVuTGluayhsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pPyhidXp8dnp0KXVybFwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGZyYW1lID0gJCgnZnJhbWVbc2Nyb2xsaW5nPXllc10nKTsKICAgICQub3BlbkxpbmsoZnJhbWUuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14oY2Z8ZXh8eHQpXGRcLihtZXxjbykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgYSA9ICQoJyNza2lwX2J1dHRvbicpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmNhdGN1dFwubmV0JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjcmJzJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eY2ZcLmx5JC8sCiAgICBwYXRoOiAvXlwvW15cL10rJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgJC5vcGVuTGluaygnL3NraXAnICsgbS5wYXRoWzBdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2NsaVwuZ3MkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2EuUmVkaXJlY3RMaW5rJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9jbGljdHVuZVwuY29tJC8sCiAgICBwYXRoOiAvXlwvaWQ9XGQrLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBtYXRjaGVzID0gJC5zZWFyY2hTY3JpcHRzKC88YSBocmVmPSJodHRwOlwvXC8oPzp3d3cuKT9jbGljdHVuZVwuY29tXC9yZWRpcmVjdFwucGhwXD91cmw9KFteJl0rKSYvKTsKICAgIHZhciB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hlc1sxXSk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eY2xrXC5pbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBtYXRjaGVzID0gJC5zZWFyY2hTY3JpcHRzKC9cJFwoIlwuY291bnRkb3duIlwpXC5hdHRyXCgiaHJlZiIsIihbXiJdKykiXCkvKTsKICAgICQub3BlbkxpbmsobWF0Y2hlc1sxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eY29jb2xlZWNoXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNkb3dubG9hZCcpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBob3N0TWFwcGVyIChob3N0KSB7CiAgICBzd2l0Y2ggKGhvc3QpIHsKICAgIGNhc2UgJ2Rpc2luZ2thdC5pbic6CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGEgPSAkKCdhLmJ0bi1ibG9jay5yZWRpcmVjdCcpOwogICAgICAgIHJldHVybiBhLmhyZWY7CiAgICAgIH07CiAgICBjYXNlICdsaW5rLmFuaW1hZ3oub3JnJzoKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYSA9ICQoJ2EucmVkaXJlY3QnKTsKICAgICAgICBhID0gYS5vbmNsaWNrLnRvU3RyaW5nKCk7CiAgICAgICAgYSA9IGEubWF0Y2goL3dpbmRvd1wub3BlbiBcKCcoW14nXSspJ1wpLyk7CiAgICAgICAgcmV0dXJuIGFbMV07CiAgICAgIH07CiAgICBjYXNlICdjb2VnLmluJzoKICAgIGNhc2UgJ3d3dy50ZWxvbmRhc211LmNvbSc6CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGEgPSAkKCcuZG93bmxvYWQtbGluayBhJyk7CiAgICAgICAgcmV0dXJuIGEuaHJlZjsKICAgICAgfTsKICAgIGNhc2UgJ2d1bnRpbmcuaW4nOgogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhID0gJCgnZGl2LmNvbC1zbS02Om50aC1jaGlsZCgxKSA+IGNlbnRlcjpudGgtY2hpbGQoMSkgPiBhOm50aC1jaGlsZCgxKScpOwogICAgICAgIHJldHVybiBhLmhyZWY7CiAgICAgIH07CiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmxpbmtcLmFuaW1hZ3pcLm9yZyQvLAogICAgICAgIC9eKGNvZWd8ZGlzaW5na2F0fGd1bnRpbmcpXC5pbiQvLAogICAgICAgIC9ed3d3XC50ZWxvbmRhc211XC5jb20kLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL1x3KyQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgICB2YXIgbWFwcGVyID0gaG9zdE1hcHBlcihtLmhvc3RbMF0pOwogICAgICB2YXIgYjY0ID0gbWFwcGVyKCkubWF0Y2goL1w/cj0oXHcrPXswLDJ9PykvKTsKICAgICAgJC5vcGVuTGluayhhdG9iKGI2NFsxXSkpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15zaXBrdXJcLihuZXR8dXMpJC8sCiAgICAgIHBhdGg6IFsKICAgICAgICAvXlwvXHcrJC8sCiAgICAgICAgL15cL21lbnVqdWxpbmtcLy8sCiAgICAgIF0sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGQgPSAkKCcjdGVzdGFwayA+IGRpdicpOwogICAgICBkID0gZC5vbmNsaWNrLnRvU3RyaW5nKCk7CiAgICAgIGQgPSBkLm1hdGNoKC93aW5kb3dcLm9wZW5cKCcoW14nXSspJy8pOwogICAgICAkLm9wZW5MaW5rKGRbMV0pOwogICAgfSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15jb2lubGlua1wuY28kLywKICAgIHBhdGg6IC9eXC9pXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2EjYnRuLW1haW4sIGEuYnRuLmJ0bi1ibG9jay5idG4td2FybmluZywgYS5idG4uYnRuLWJsb2NrLmJ0bi1zdWNjZXNzJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKD86KFx3KylcLik/KGNvaW51cmxcLmNvbXxjdXJcLmx2KSQvLAogICAgcGF0aDogL15cLyhbLVx3XSspJC8KICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgaG9zdCA9ICdodHRwOi8vY3VyLmx2L3JlZGlyZWN0X2N1cmx2LnBocCc7CiAgICB2YXIgcGFyYW0gPSBtLmhvc3RbMV0gPT09IHVuZGVmaW5lZCA/IHsKICAgICAgY29kZTogbS5wYXRoWzFdLAogICAgfSA6IHsKICAgICAgem9uZTogbS5ob3N0WzFdLAogICAgICBuYW1lOiBtLnBhdGhbMV0sCiAgICB9OwogICAgJC5nZXQoaG9zdCwgcGFyYW0pLnRoZW4oZnVuY3Rpb24obWFpbkZyYW1lQ29udGVudCkgewogICAgICB0cnkgewogICAgICAgIHZhciBkb2NNYWluRnJhbWUgPSAkLnRvRE9NKG1haW5GcmFtZUNvbnRlbnQpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignbWFpbiBmcmFtZSBjaGFuZ2VkJyk7CiAgICAgIH0KICAgICAgdmFyIHJFeHRyYWN0TGluayA9IC9vbmNsaWNrPSJvcGVuX3VybFwoJyhbXiddKyknLFxzKidnbydcKS87CiAgICAgIHZhciBpbm5lckZyYW1lcyA9ICQuJCQoJ2lmcmFtZScsIGRvY01haW5GcmFtZSkuZWFjaChmdW5jdGlvbiAoY3VyckZyYW1lKSB7CiAgICAgICAgdmFyIGN1cnJGcmFtZUFkZHIgPSBjdXJyRnJhbWUuZ2V0QXR0cmlidXRlKCdzcmMnKTsKICAgICAgICAkLmdldChjdXJyRnJhbWVBZGRyKS50aGVuKGZ1bmN0aW9uKGN1cnJGcmFtZUNvbnRlbnQpIHsKICAgICAgICAgIHZhciBhUmVhbExpbmsgPSByRXh0cmFjdExpbmsuZXhlYyhjdXJyRnJhbWVDb250ZW50KTsKICAgICAgICAgIGlmIChhUmVhbExpbmsgPT09IHVuZGVmaW5lZCB8fCBhUmVhbExpbmtbMV0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgcmVhbExpbmsgPSBhUmVhbExpbmtbMV07CiAgICAgICAgICAkLm9wZW5MaW5rKHJlYWxMaW5rKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15jb215b25ldFwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGlucHV0ID0gJCgnaW5wdXRbbmFtZT0iZW50ZXIiXScpOwogICAgaW5wdXQuY2xpY2soKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2N2Y1wubGEkLywKICAgIHBhdGg6IC9eXC9cdyskLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnBvc3QoZG9jdW1lbnQubG9jYXRpb24uaHJlZiwgewogICAgICBoaWRkZW46IDI0LCAKICAgICAgaW1hZ2U6ICcgJywKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgdmFyIG1hdGNoZXMgPSB0ZXh0Lm1hdGNoKC93aW5kb3dcLmxvY2F0aW9uXC5yZXBsYWNlXCgnKFteJ10rKSdcKTsvKTsKICAgICAgJC5vcGVuTGluayhtYXRjaGVzWzFdKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/ZGFwYXRcLmluJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCdpZnJhbWVbbmFtZT1wYWdldGV4dF0nKTsKICAgICQub3BlbkxpbmsoZi5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/ZGRcLm1hJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJC4kKCcjbWFpbmZyYW1lJyk7CiAgICBpZiAoaSkgewogICAgICAkLm9wZW5MaW5rKGkuc3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGEgPSAkKCcjYnRuX29wZW4gYScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/ZGVyZWZlcmVyXC53ZWJzaXRlJC8sCiAgICBxdWVyeTogL15cPyguKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKG0ucXVlcnlbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmRpa2l0XC5pbiQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIGEgPSAkKCcuZGlzY2xhaW1lciBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eZHVybFwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2FbY2xhc3M9InByb2NlZWRCdG4iXScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eZWFzeXVybFwubmV0JC8sCiAgICAgIC9eKGF0dXxjbGlja3RocnV8cmVkaXJlY3RzfHJlYWR0aGlzKVwuY2EkLywKICAgICAgL15nb3Nocmlua1wuY29tJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJCgnZnJhbWVbbmFtZT1tYWluXScpOwogICAgJC5vcGVuTGluayhmLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eZWxkZVwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWU6bm90KFtuYW1lPXVuZGVmaW5lZF0pJyk7CiAgICB2YXIgYSA9ICQoJyNtb2RhbC1hbGVydCcpOwogICAgYS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIGEuc3R5bGUudG9wID0gMDsKICAgIGEuc3R5bGUubGVmdCA9IDA7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgIAkvXmV0aGlcLmluJC8sCiAgICAJL15zdFwud2FyZGhhbmltZVwubmV0JC8sCiAgICBdLAogICAgcGF0aDogL15cL2lcL1xkKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI3dyYXBwZXIgPiBbY2xhc3NePSJ0b21ibyJdID4gYVt0YXJnZXQ9Il9ibGFuayJdJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9maWxvb3BzXC5pbmZvJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjdGV4dCA+IGNlbnRlciBhLCAjdGV4dCA+IGRpdlthbGlnbj1jZW50ZXJdIGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15maXRcLnNoJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnLmNvbnRhaW5lci1ib2R5Jyk7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvdG9rZW49IihbXiJdKykiLyk7CiAgICBpZiAoIW0pIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2l0ZSBjaGFuZ2VkJyk7CiAgICB9CiAgICBtID0gbVsxXTsKICAgIHZhciBpbnRlckxpbmsgPSAnL2dvLycgKyBtICsgJz9mYT0xNTQ2NiZhPScgKyB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgJC5vcGVuTGluayhpbnRlckxpbmspOwogICAgfSwgNjAwMCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9maXV4eVwuY28kLywKICAgIHBhdGg6IC9eXC9saW5rcz9cLyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICQub3BlbkxpbmsoJCgnYS5idG4uYScpLmhyZWYpOwogIH0KfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXih3d3dcLik/ZnVuZHVybFwuY29tJC8sCiAgICAgIHF1ZXJ5OiAvaT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuTGluayhtLnF1ZXJ5WzFdKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT9mdW5kdXJsXC5jb20kLywKICAgICAgcGF0aDogL15cLyhnby1cdyt8bG9hZFwucGhwKSQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBmID0gJCgnaWZyYW1lW25hbWU9ZnBhZ2UzXScpOwogICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgIH0sCiAgfSk7Cn0pKCk7CihmdW5jdGlvbiAoKSB7CiAgdmFyIGhvc3RzID0gL15nY2FcLnNofHJlcGxhXC5jciQvOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0cywKICAgICAgcGF0aDogL15cL2FkdlwvXHcrXC8oLiopJC8sCiAgICAgIHF1ZXJ5OiAvXiguKikkLywKICAgICAgaGFzaDogL14oLiopJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICd1c2Ugc3RyaWN0JzsKICAgICAgdmFyIGwgPSBtLnBhdGhbMV0gKyBtLnF1ZXJ5WzFdICsgbS5oYXNoWzFdOwogICAgICAkLm9wZW5MaW5rKGwpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogaG9zdHMsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgJ3VzZSBzdHJpY3QnOwogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIGpRdWVyeSA9ICQud2luZG93LiQ7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGpRdWVyeSgiI2NhcHRjaGEtZGlhbG9nIikuZGlhbG9nKCJvcGVuIik7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15na3VybFwudXMkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaWZyYW1lID0gJCgnI2drdXJsLWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnVcLmdvMlwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaWZyYW1lID0gJCgnaWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmdvdG9cLmxvbmNhdFwuaW4kLywKICAgIHF1ZXJ5OiAvb3Blbj0oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IGF0b2IoYXRvYihtLnF1ZXJ5WzFdKSk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15nc3VybFwuKG1lfGluKSQvLAogICAgICAvXmc1dVwucHckLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnI2NvbnRhaW5lcicpOwogICAgdmFyIGEgPSAkKCcjbGluaycpOwogICAgXy53YWl0KDUwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15ob3RzaG9ydHVybFwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGZyYW1lID0gJCgnZnJhbWVbc2Nyb2xsaW5nPXllc10nKTsKICAgICQub3BlbkxpbmsoZnJhbWUuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pPyhpbGl4XC5pbnxwcml2YVwudXMpJC8sCiAgICBwYXRoOiAvXC8oXHcrKS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciByZWFsSG9zdCA9ICdpbGl4LmluJzsKICAgIGlmIChtLmhvc3RbMl0gIT09IHJlYWxIb3N0KSB7CiAgICAgIHZhciByZWFsVVJMID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKG0uaG9zdFsyXSwgcmVhbEhvc3QpOwogICAgICAkLm9wZW5MaW5rKHJlYWxVUkwpOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgZiA9ICQuJCgnaWZyYW1lW25hbWU9aWZyYW1dJyk7CiAgICBpZiAoZikgewogICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCEkLiQoJ2ltZyNjYXB0Y2hhJykpIHsKICAgICAgJCgnZm9ybVtuYW1lPWZybV0nKS5zdWJtaXQoKTsKICAgIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbG92ZWJhbnRlblwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHAgPSAkKCcubm90YmxvY2tlZCcpOwogICAgJC5vcGVuTGluayhwLnRleHRDb250ZW50KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbmRleG1vdmllXC5tZSQvLAogICAgcGF0aDogL15cLyhbXlwvXSspJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJy9nZXQvJyArIG0ucGF0aFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaXR3XC5tZSQvLAogICAgcGF0aDogL15cL3JcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcuZ28tZm9ybScpOwogICAgZi5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pdHlcLmltJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkLiQoJyNtYWluJyk7CiAgICBpZiAoZikgewogICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZiA9ICQuJCQoJ2ZyYW1lJykuZmluZChmdW5jdGlvbiAoZnJhbWUpIHsKICAgICAgaWYgKGZyYW1lLnNyYy5pbmRleE9mKCdpbnRlcmhlYWRlci5waHAnKSA8IDApIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICAgIHJldHVybiBmcmFtZS5zcmM7CiAgICB9KTsKICAgIGlmIChmKSB7CiAgICAgICQub3BlbkxpbmsoZi5wYXlsb2FkKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZiA9ICQuc2VhcmNoU2NyaXB0cygva3J5cHRlZD0oW14mXSspLyk7CiAgICBpZiAoIWYpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2l0ZSBjaGFuZ2VkJyk7CiAgICB9CiAgICBmID0gZlsxXTsKICAgIHZhciBkYXRhID0gJC53aW5kb3cuZGVzKCdrc25zbG10bWswdjRQZHZpdXNhanF1JywgJC53aW5kb3cuaGV4VG9TdHJpbmcoZiksIDAsIDApOwogICAgaWYgKGRhdGEpIHsKICAgICAgJC5vcGVuTGluaygnaHR0cDovL2l0eS5pbS8xMTA0XzIxXzUwODQ2XycgKyBkYXRhKTsKICAgIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2tpbmdvZnNocmlua1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSAkKCcjdGV4dHJlc3VsdCA+IGEnKTsKICAgICQub3BlbkxpbmsobC5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15zdFwua3Vyb2dhemVcLm5ldCQvLAogICAgcXVlcnk6IC9yPSguKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgciA9IGF0b2IobS5xdWVyeVsxXSk7CiAgICAkLm9wZW5MaW5rKHIpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnN0XC5rdXJvZ2F6ZVwubmV0JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCdhLnJlZGlyZWN0Jyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9sZWVjaGJkXC50ayQvLAogICAgcGF0aDogL15cL1Nob3J0ZW5lclwvKFx3KykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5nZXQoJy9TaG9ydGVuZXIvQVBJL3JlYWQvZ2V0Jywge2lkOiBtLnBhdGhbMV0sIHR5cGU6ICdqc29uJ30pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgdmFyIHIgPSBfLnBhcnNlSlNPTih0ZXh0KTsKICAgICAgaWYgKHIuc3VjY2VzcyA9PSB0cnVlICYmIHIuZGF0YS5mdWxsKSB7CiAgICAgICAgJC5vcGVuTGluayhyLmRhdGEuZnVsbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgXy53YXJuKCdBUEkgRXJyb3IgJyArIHIuZXJyb3IuY29kZSArICcgOiAnICsgci5lcnJvci5tc2cpOwogICAgICB9CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cubGllbnNjYXNoLmNvbS9sLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNyZWRpcl9idG4nKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP1x3K1wubGluay1wcm90ZWN0b3JcLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJ2Zvcm1bc3R5bGU9ImZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTI7Zm9udC1mYW1pbHk6VmVyZGFuYTsiXScpOwogICAgJC5vcGVuTGluayhmLmFjdGlvbik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9saW5rXC5pbSQvLAogICAgcGF0aDogL15cL1x3KyQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucG9zdChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLCB7CiAgICAgIGltYWdlOiAnQ29udGludWUnLAogICAgfSkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICB2YXIgbSA9IHRleHQubWF0Y2goL3dpbmRvd1wubG9jYXRpb25cLnJlcGxhY2VcKCcoW14nXSspJ1wpLyk7CiAgICAgICQub3BlbkxpbmsobVsxXSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15saW5rXC50bCQvLAogICAgcGF0aDogL15cL2ZseVwvc2l0ZVwucGhwJC8sCiAgICBxdWVyeTogL15cP3RvPSguKykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5za2lwID4gLmJ0bicpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxpbmtcLnRsJC8sCiAgICBwYXRoOiAvW15eXShodHRwcz86XC9cLy4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKG0ucGF0aFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua1wudGwkLywKICAgIHBhdGg6IC9eXC8oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJy9mbHkvc2l0ZS5waHA/dG89JyArIG0ucGF0aFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9cLmxpbmsyZG9sbGFyXC5jb20kLywKICAgIHBhdGg6IC9eXC9cZCskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvdmFyIHJsaW5rID0gJyhbXiddKyknOy8pOwogICAgaWYgKCFtKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgbSA9IG1bMV07CiAgICAkLm9wZW5MaW5rKG0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxpbmsyeW91XC5ydSQvLAogICAgcGF0aDogL15cL1xkK1wvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gbS5wYXRoWzFdOwogICAgaWYgKCF1cmwubWF0Y2goL15odHRwcz86XC9cLy8pKSB7CiAgICAgIHVybCA9ICcvLycgKyB1cmw7CiAgICB9CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGluayg0YWR8YWpjKVwuY29tJC8sCiAgICBwYXRoOiAvXlwvKC4rKSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZCA9ICQoJ2RpdltpZF49bW9kdWxlX10nKTsKICAgIGQgPSBkLmlkLm1hdGNoKC9tb2R1bGVfKFxkKykvKTsKICAgIGQgPSBkWzFdOwogICAgJC5wb3N0KCdmb3JtLnBocD9ibG9ja19pZD0nICsgZCwgewogICAgICBjbWQ6ICdnZXRfc291cmNlJywKICAgICAgYWN0OiAnd2FpdGluZycsCiAgICAgIGlkOiBtLnBhdGhbMV0sCiAgICB9KS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgXy53YXJuKGUpOwogICAgfSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0IChvcHRzKSB7CiAgICByZXR1cm4gJC5wb3N0KCcvYWpheC9yLnBocCcsIG9wdHMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgaWYgKGRhdGEubGVuZ3RoIDw9IDEpIHsKICAgICAgICByZXR1cm4gc2VuZFJlcXVlc3Qob3B0cyk7CiAgICAgIH0KICAgICAgdmFyIGEgPSAkLnRvRE9NKGRhdGEpOwogICAgICBhID0gJCgnYScsIGEpOwogICAgICByZXR1cm4gYS5ocmVmOwogICAgfSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmxpbms1c1wuY29tJC8sCiAgICAgIHBhdGg6IC9eXC8oW15cL10rKSQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgICAkLndpbmRvdy4kID0gbnVsbDsKICAgICAgdmFyIGkgPSAkKCcjaWZyYW1lSUQnKTsKICAgICAgdmFyIG9wdHMgPSB7CiAgICAgICAgcGFnZTogbS5wYXRoWzFdLAogICAgICAgIGFkdklEOiBpLmRhdGFzZXQuY21wLAogICAgICAgIHU6IGkuZGF0YXNldC51LAogICAgICB9OwogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgc2VuZFJlcXVlc3Qob3B0cykudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICB9KTsKICAgIH0sCiAgfSk7Cn0pKCk7CihmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBDb252ZXJ0RnJvbUhleCAoc3RyKSB7CiAgICB2YXIgcmVzdWx0ID0gW107CiAgICB3aGlsZSAoc3RyLmxlbmd0aCA+PSAyKSB7CiAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoc3RyLnN1YnN0cmluZygwLCAyKSwgMTYpKSk7CiAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMiwgc3RyLmxlbmd0aCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0LmpvaW4oIiIpOwogIH0KICB2YXIgRW5jb2RlID0gZnVuY3Rpb24gKHN0cikgewogICAgdmFyIHMgPSBbXSwgaiA9IDAsIHgsIHJlcyA9ICcnLCBrID0gYXJndW1lbnRzLmNhbGxlZS50b1N0cmluZygpLnJlcGxhY2UoL1xzKy9nLCAiIik7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7CiAgICAgIHNbaV0gPSBpOwogICAgfQogICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7CiAgICAgIGogPSAoaiArIHNbaV0gKyBrLmNoYXJDb2RlQXQoaSAlIGsubGVuZ3RoKSkgJSAyNTY7CiAgICAgIHggPSBzW2ldOwogICAgICBzW2ldID0gc1tqXTsKICAgICAgc1tqXSA9IHg7CiAgICB9CiAgICBpID0gMDsKICAgIGogPSAwOwogICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdHIubGVuZ3RoOyB5KyspIHsKICAgICAgaSA9IChpICsgMSkgJSAyNTY7CiAgICAgIGogPSAoaiArIHNbaV0pICUgMjU2OwogICAgICB4ID0gc1tpXTsKICAgICAgc1tpXSA9IHNbal07CiAgICAgIHNbal0gPSB4OwogICAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzdHIuY2hhckNvZGVBdCh5KSBeIHNbKHNbaV0gKyBzW2pdKSAlIDI1Nl0pOwogICAgfQogICAgcmV0dXJuIHJlczsKICB9OwogIHZhciBob3N0UnVsZXMgPSBbCiAgICAvXigoW1x3XXs4fXx3d3cpXC4pPyhhbGxhbmFscGFzc3xjYXNoNGZpbGVzfGRyc3RpY2t5ZmluZ2Vyc3xmYXBvZmZ8ZnJlZWdheXNpdGVwYXNzfChnb25lfHR1YmUpdmlyYWx8KHBpY3x0bmEpYnVja3N8d2hhY2t5dmlkenxmdWVzdGZrYSlcLmNvbSQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT8oYVttbl15fGRlYnxkeW98c2V4cGFsYWNlKVwuZ3MkLywKICAgIC9eKChbXHddezh9fHd3dylcLik/KGZpbGVzb250aGV8cG9vbnRvd258c2VyaW91c2RlYWxzfHVsdHJhZmlsZXN8dXJsYmVhdHx6YXRuYXdxeXx6eXRwaXJ3YWl8anpycHV0dGJ1dClcLm5ldCQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT9mcmVlYW5cLnVzJC8sCiAgICAvXigoW1x3XXs4fXx3d3cpXC4pP2dhbGxlcmllc1wuYnokLywKICAgIC9eKChbXHddezh9fHd3dylcLik/aG9ybnl3b29kXC50diQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT9saW5rKGJhYmVzfGJ1Y2tzKVwuY29tJC8sCiAgICAvXigoW1x3XXs4fXx3d3cpXC4pPyhtZWdhbGluZXxtaW5pdXJsc3xxcWN8cnFxfHRpbnlsaW5rc3x5eXZ8emZmKVwuY28kLywKICAgIC9eKChbXHddezh9fHd3dylcLik/KHRoZXNlKGJsb2d8Zm9ydW0pcylcLmNvbSQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT95b3VmYXBcLm1lJC8sCiAgICAvXndhcm5pbmctdGhpcy1saW5rY29kZS13aWxsLWNlYXNlLXdvcmtpbmctc29vblwud3d3XC5saW5rYnVja3NkbnNcLmNvbSQvLAogIF07CiAgKGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGZ1bmN0aW9uIGZpbmRUb2tlbiAoY29udGV4dCkgewogICAgICB2YXIgc2NyaXB0ID0gJC5zZWFyY2hTY3JpcHRzKCcgICAgdmFyIGYgPSB3aW5kb3dbXCdpbml0XCcgKyBcJ0xiXCcgKyBcJ2pzXCcgKyBcJ1wnXScsIGNvbnRleHQpOwogICAgICBpZiAoIXNjcmlwdCkgewogICAgICAgIF8ud2FybigncGF0dGVybiBjaGFuZ2VkJyk7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIGFkdXJsID0gc2NyaXB0Lm1hdGNoKC9BZFVybFxzKjpccyonKFteJ10rKScvKTsKICAgICAgaWYgKCFhZHVybCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIGFkdXJsID0gYWR1cmxbMV07CiAgICAgIHZhciBtMSA9IHNjcmlwdC5tYXRjaCgvQWRQb3BVcmxccyo6XHMqJy4rXD9bXj1dKz0oW1x3XGRdKyknLyk7CiAgICAgIHZhciBtMiA9IHNjcmlwdC5tYXRjaCgvVG9rZW5ccyo6XHMqJyhbXHdcZF0rKScvKTsKICAgICAgdmFyIHRva2VuID0gbTFbMV0gfHwgbTJbMV07CiAgICAgIHZhciBtID0gc2NyaXB0Lm1hdGNoKC89XHMqKFxkKyk7Lyk7CiAgICAgIHZhciBhayA9IHBhcnNlSW50KG1bMV0sIDEwKTsKICAgICAgdmFyIHJlID0gL1wrXHMqKFxkKyk7L2c7CiAgICAgIHZhciB0bXAgPSBudWxsOwogICAgICB3aGlsZSgobSA9IHJlLmV4ZWMoc2NyaXB0KSkgIT09IG51bGwpIHsKICAgICAgICB0bXAgPSBtWzFdOwogICAgICB9CiAgICAgIGFrICs9IHBhcnNlSW50KHRtcCwgMTApOwogICAgICByZXR1cm4gewogICAgICAgIHQ6IHRva2VuLAogICAgICAgIGFLOiBhaywKICAgICAgICBhZHVybDogYWR1cmwsCiAgICAgIH07CiAgICB9CiAgICBmdW5jdGlvbiBzZW5kUmVxdWVzdCAodG9rZW4pIHsKICAgICAgJC5nZXQodG9rZW4uYWR1cmwpOwogICAgICBkZWxldGUgdG9rZW4uYWR1cmw7CiAgICAgIHRva2VuLmFfYiA9IGZhbHNlOwogICAgICBfLmluZm8oJ3dhaXRpbmcgdGhlIGludGVydmFsJyk7CiAgICAgIHJldHVybiBfLndhaXQoNTAwMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgXy5pbmZvKCdzZW5kaW5nIHRva2VuOiAlbycsIHRva2VuKTsKICAgICAgICByZXR1cm4gJC5nZXQoJy9pbnRlcm1pc3Npb24vbG9hZFRhcmdldFVybCcsIHRva2VuLCB7CiAgICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6IF8ubm9uZSwKICAgICAgICAgIE9yaWdpbjogXy5ub25lLAogICAgICAgIH0pOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgdmFyIGRhdGEgPSBfLnBhcnNlSlNPTih0ZXh0KTsKICAgICAgICBfLmluZm8oJ3Jlc3BvbnNlOiAlbycsIGRhdGEpOwogICAgICAgIGlmICghZGF0YS5TdWNjZXNzICYmIGRhdGEuRXJyb3JzWzBdID09PSAnSW52YWxpZCB0b2tlbicpIHsKICAgICAgICAgIF8ud2FybignZ290IGludmFsaWQgdG9rZW4nKTsKICAgICAgICAgIHJldHVybiByZXRyeSgpOwogICAgICAgIH0KICAgICAgICBpZiAoZGF0YS5BZEJsb2NrU3BvdHRlZCkgewogICAgICAgICAgXy53YXJuKCdhZGJsb2NrIHNwb3R0ZWQnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGRhdGEuU3VjY2VzcyAmJiAhZGF0YS5BZEJsb2NrU3BvdHRlZCAmJiBkYXRhLlVybCkgewogICAgICAgICAgcmV0dXJuIGRhdGEuVXJsOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiByZXRyeSAoKSB7CiAgICAgIHJldHVybiAkLmdldCh3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSwge30sIHsKICAgICAgICAnWC1Gb3J3YXJkZWQtRm9yJzogJC5nZW5lcmF0ZVJhbmRvbUlQKCksCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgZCA9ICQudG9ET00odGV4dCk7CiAgICAgICAgdmFyIHQgPSBmaW5kVG9rZW4oZCk7CiAgICAgICAgaWYgKCF0KSB7CiAgICAgICAgICByZXR1cm4gXy53YWl0KDEwMDApLnRoZW4ocmV0cnkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc2VuZFJlcXVlc3QodCk7CiAgICAgIH0pOwogICAgfQogICAgJC5yZWdpc3Rlcih7CiAgICAgIHJ1bGU6IHsKICAgICAgICBob3N0OiBob3N0UnVsZXMsCiAgICAgICAgcGF0aDogL15cL1x3K1wvdXJsXC8oLispJC8sCiAgICAgIH0sCiAgICAgIHJlYWR5OiBmdW5jdGlvbihtKSB7CiAgICAgICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgICAgICQucmVzZXRDb29raWVzKCk7CiAgICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgICAgdmFyIHVybCA9IG0ucGF0aFsxXSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7CiAgICAgICAgdmFyIG1hdGNoID0gJC5zZWFyY2hTY3JpcHRzKC9VcmxFbmNvZGVkOiAoW14sXSspLyk7CiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdID09PSAndHJ1ZScpIHsKICAgICAgICAgIHVybCA9IEVuY29kZShDb252ZXJ0RnJvbUhleCh1cmwpKTsKICAgICAgICB9CiAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICB9CiAgICB9KTsKICAgICQucmVnaXN0ZXIoewogICAgICBydWxlOiB7CiAgICAgICAgaG9zdDogaG9zdFJ1bGVzLAogICAgICB9LAogICAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAgICQud2luZG93LlhNTEh0dHBSZXF1ZXN0ID0gXy5ub3A7CiAgICAgIH0sCiAgICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgICAgICQucmVzZXRDb29raWVzKCk7CiAgICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCd2ZXJpZnknKSA+PSAwKSB7CiAgICAgICAgICB2YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKCcvdmVyaWZ5JywgJycpOwogICAgICAgICAgJC5vcGVuTGluayhwYXRoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIHRva2VuID0gZmluZFRva2VuKGRvY3VtZW50KTsKICAgICAgICBzZW5kUmVxdWVzdCh0b2tlbikudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAkLm51a2UodXJsKTsKICAgICAgICAgICQub3BlbkxpbmsodXJsKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgIH0pOwogICAgJC5yZWdpc3Rlcih7CiAgICAgIHJ1bGU6IHsKICAgICAgICBxdWVyeTogL14oLiopWz8mXV9sYkdhdGU9XGQrJC8sCiAgICAgIH0sCiAgICAgIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgICAgICQuc2V0Q29va2llKCdfbGJHYXRlUGFzc2VkJywgJ3RydWUnKTsKICAgICAgICAkLm9wZW5MaW5rKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIG0ucXVlcnlbMV0pOwogICAgICB9LAogICAgfSk7CiAgfSkoKTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXnd3d1wubGlua2RlY29kZVwuY29tJC8sCiAgICAgIC9ed3d3XC5mYXN0ZGVjb2RlXC5jb20kLywKICAgIF0sCiAgICBwYXRoOiAvXlwvJC8sCiAgICBxdWVyeTogL15cPyguKykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgbG5rID0gbS5xdWVyeVsxXTsKICAgIGlmIChtLnF1ZXJ5WzFdLm1hdGNoKC9eaHR0cHM/OlwvXC8vKSkgewogICAgCSQub3BlbkxpbmsobG5rKTsKICAgIAlyZXR1cm47CiAgICB9CiAgICB2YXIgYiA9ICQuJCgnI3BvcHVwJyk7CiAgICBpZiAoYiAmJiBiLmhyZWYpIHsKICAgICAgJC5vcGVuTGluayhiLmhyZWYpOwogICAgICByZXR1cm47CiAgICB9CiAgICBiID0gJCgnI20gPiAuVmlzaXRfTGluaycpOwogICAgYiA9IGIub25jbGljay50b1N0cmluZygpLm1hdGNoKC93aW5kb3dcLm9wZW5cKFwnKFteJ10rKVwnLyk7CiAgICBpZiAoIWIpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXIoJ3BhdHRlcm4gY2hhbmdlZCcpOwogICAgfQogICAgbG5rID0gYlsxXS5tYXRjaCgvXD8oaHR0cHM/OlwvXC8uKikkLyk7CiAgICBpZiAobG5rKSB7CiAgICAgICAgJC5vcGVuTGluayhsbmtbMV0pOwogICAgICAgIHJldHVybjsKICAgIH0KICAgICQub3BlbkxpbmsoYlsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua2RvbGFyXC54eXokLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC9eXHMqZXZhbFwoKC4rKVwpXHMqJC8pOwogICAgaWYgKCFzKSB7CiAgICAgIF8ud2Fybignc2l0ZSBjaGFuZ2VkJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHMgPSBldmFsKCcoJyArIHNbMV0gKyAnKScpOwogICAgcyA9IHMubWF0Y2goL1wkXC5wb3N0XCgnKFteJ10rKScsKFx7LitcfSksZnVuY3Rpb24vKTsKICAgIGlmICghcykgewogICAgICBfLndhcm4oJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgdmFyIHVybCA9IHNbMV07CiAgICB2YXIgYXJncyA9IGV2YWwoJygnICsgc1syXSArICcpJyk7CiAgICAkLnBvc3QodXJsLCBhcmdzKS50aGVuKGZ1bmN0aW9uICh0YXJnZXQpIHsKICAgICAgJC5vcGVuTGluayh0YXJnZXQpOwogICAgfSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL14od3d3XC4pP2xpbmtkcm9wXC5uZXQkLywKICAgICAgICAvXmRtdXNcLmluJC8sCiAgICAgICAgL151bHNoYXJlXC5uZXQkLywKICAgICAgICAvXmFkdXJsXC5pZCQvLAogICAgICAgIC9eZ29vbGlua1wubWUkLywKICAgICAgICAvXmVhcm5pbmd1cmxcLmNvbSQvLAogICAgICBdLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgICB2YXIgZiA9IGdldEZvcm0oKTsKICAgICAgaWYgKCFmKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHNlbmRSZXF1ZXN0KGYpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15zZmxua1wubWUkLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIGYgPSBnZXRGb3JtKCk7CiAgICAgIGlmICghZikgewogICAgICAgIGYgPSAkKCcjbGluay12aWV3Jyk7CiAgICAgICAgZi5zdWJtaXQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgc2VuZFJlcXVlc3QoZik7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIGdldEZvcm0gKCkgewogICAgdmFyIGpRdWVyeSA9ICQud2luZG93LiQ7CiAgICB2YXIgZiA9IGpRdWVyeSgnZm9ybVthY3Rpb249Ii9saW5rcy9nbyJdLCBmb3JtW2FjdGlvbj0iL2xpbmtzL2xpbmtkcm9wZ28iXScpOwogICAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgICByZXR1cm4gZjsKICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KICBmdW5jdGlvbiBzZW5kUmVxdWVzdCAoZikgewogICAgdmFyIGpRdWVyeSA9ICQud2luZG93LiQ7CiAgICBqUXVlcnkuYWpheCh7CiAgICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICAgIHR5cGU6ICdQT1NUJywKICAgICAgdXJsOiBmLmF0dHIoJ2FjdGlvbicpLAogICAgICBkYXRhOiBmLnNlcmlhbGl6ZSgpLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0LCBzdGF0dXMsIHhocikgewogICAgICAgIGlmIChyZXN1bHQudXJsKSB7CiAgICAgICAgICAkLm9wZW5MaW5rKHJlc3VsdC51cmwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfLndhcm4ocmVzdWx0Lm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyb3IpIHsKICAgICAgICBfLndhcm4oeGhyLCBzdGF0dXMsIGVycm9yKTsKICAgICAgfSwKICAgIH0pOwogIH0KfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15saW5rcGFpZFwubmV0JC8sCiAgICBwYXRoOiAvXlwvZ29cLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcjYnRuLW1haW4nKTsKICAgIGYuY2xpY2soKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2xpbmtwbHVnYXBwXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCcKICAgIHZhciBhID0gJCgnI21jX2VtYmVkX3NpZ251cF9zY3JvbGwgYScpCiAgICAkLm9wZW5MaW5rKGEuaHJlZikKICB9LAp9KQokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxpbmtzYXNcLnVzJC8sCiAgICBwYXRoOiAvXihcL1x3KykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgXy50cnkoMTAwMCwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVjYXB0Y2hhID0gJCgnI2ctcmVjYXB0Y2hhLXJlc3BvbnNlJyk7CiAgICAgIGlmICghcmVjYXB0Y2hhKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgaWYgKCFyZWNhcHRjaGEudmFsdWUpIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICAgIHJldHVybiByZWNhcHRjaGEudmFsdWU7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZWNhcHRjaGEpIHsKICAgICAgdmFyIHVybCA9IF8uVCgnaHR0cDovL2lwaW5mby5pby97MH0vanNvbicpKCQuZ2VuZXJhdGVSYW5kb21JUCgpKTsKICAgICAgcmV0dXJuICQuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAoaXBpbmZvKSB7CiAgICAgICAgaXBpbmZvID0gXy5wYXJzZUpTT04oaXBpbmZvKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29kZUFkczogMSwKICAgICAgICAgIGNvdW50cnk6IGlwaW5mby5jb3VudHJ5LAogICAgICAgICAgaXBBZGRyZXNzOiBpcGluZm8uaXAsCiAgICAgICAgICByZWNhcHRjaGE6IHJlY2FwdGNoYSwKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgdmFyIHRva2VuID0gJC5nZXRDb29raWUoJ1hTUkYtVE9LRU4nKTsKICAgICAgcmV0dXJuICQucG9zdCgnL2dvJyArIG0ucGF0aFsxXSwgcGF5bG9hZCwgewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ1gtWFNSRi1UT0tFTic6IHRva2VuLAogICAgICB9KTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgZGF0YSA9IF8ucGFyc2VKU09OKGRhdGEpOwogICAgICAkLm9wZW5MaW5rKGRhdGEubWVzc2FnZSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBfLndhcm4oZSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15saW5rc2FzXC51cyQvLAogICAgcGF0aDogL15cL2dvXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCcjYnRuU3VibWl0Jyk7CiAgICBpZiAoIWEpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIHVybCA9IGEuaHJlZjsKICAgIHZhciBwYXR0ZXJuID0gL2h0dHBzPzpcL1wvL2c7CiAgICB2YXIgbGFzdFVSTCA9ICcnOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoZWQgPSBwYXR0ZXJuLmV4ZWModXJsKTsKICAgICAgaWYgKCFtYXRjaGVkKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgbGFzdFVSTCA9IG1hdGNoZWQgKyB1cmwuc3Vic3RyaW5nKHBhdHRlcm4ubGFzdEluZGV4KTsKICAgIH0KICAgICQub3BlbkxpbmsobGFzdFVSTCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua3Nocmlua1wubmV0JC8sCiAgICBwYXRoOiAvXlwvW2EtekEtWjAtOV0rJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC53aW5kb3cuX2ltcHNwY2FiZSA9IDA7CiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSAkLnNlYXJjaFNjcmlwdHMoL3JldkNcKCIoW14iXSspIlwpLyk7CiAgICBsID0gYXRvYihsWzFdKTsKICAgICQub3BlbkxpbmsoJy8nICsgbCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua3Nocmlua1wubmV0JC8sCiAgICBwYXRoOiAvPSguKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuTGluayhtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2xpeC5pbi8tKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJC4kKCcjaWJkYycpOwogICAgaWYgKGkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaSA9ICQuJCgnZm9ybScpOwogICAgaWYgKGkpIHsKICAgICAgaS5zdWJtaXQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaSA9ICQoJ2lmcmFtZScpOwogICAgJC5vcGVuTGluayhpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebG5rXC5pbiQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI2RpdlJlZGlyZWN0VGV4dCBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaW5uZXJIVE1MKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14ocmQ/KWxua1wuY298cmVkdWNlbG5rXC5jb20kLywKICAgIHBhdGg6IC9eXC9bXi5dKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJC4kKCdpZnJhbWUjZGVzdCcpOwogICAgaWYgKGYpIHsKICAgICAgJC5vcGVuTGluayhmLnNyYyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIG8gPSAkLiQoJyN1cmxob2xkZXInKTsKICAgIGlmIChvKSB7CiAgICAgICQub3Blbkxpbmsoby52YWx1ZSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIG8gPSAkLiQoJyNza2lwQnRuJyk7CiAgICBpZiAobykgewogICAgICBvID0gby5xdWVyeVNlbGVjdG9yKCdhJyk7CiAgICAgICQub3Blbkxpbmsoby5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgbyA9IGRvY3VtZW50LnRpdGxlLnJlcGxhY2UoLyhMTksuY298TGlua2JlZSlccyo6XHMqLywgJycpOwogICAgJC5vcGVuTGluayhvKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXmxueFwubHUkLywKICAgICAgL151cmxcLmZtJC8sCiAgICAgIC9eelwuZ3MkLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjY2xpY2tidG4gYScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wubG9saW5lelwuY29tJC8sCiAgICBxdWVyeTogL1w/KC4rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsobS5xdWVyeVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9sb29va1wuZ2EkLywKICAgIHBhdGg6IC9eXC9cZCskLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNkb3dubG9hZF9saW5rID4gYS5idG4nKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15sb295XC5pbiQvLAogICAgcGF0aDogL15cL1Byb1wvKC4rKSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnBvc3QoJ2h0dHA6Ly9sb295LmluL0dvL0luZGV4L1Byb1NraXBBZCcsIHsKICAgICAgY29kZTogbS5wYXRoWzFdLAogICAgICBzZXJ2ZXI6ICcnLAogICAgfSkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICQub3BlbkxpbmsodXJsKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIF8ud2FybihlKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxvb3lcLmluJC8sCiAgICBwYXRoOiAvXlwvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKCcvUHJvLycgKyBtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICAnaHR0cDovL21hZGxpbmsuc2svJywKICAgICdodHRwOi8vbWFkbGluay5zay8qLmh0bWwnLAogIF0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL21hZGxpbmsuc2svKicsCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICQucG9zdCgnL2FqYXgvY2hlY2tfcmVkaXJlY3QucGhwJywgewogICAgICBsaW5rOiBtWzFdLAogICAgfSkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICAkLm9wZW5MaW5rKHRleHQpOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15tYW50W2FlXVtwYl1cLmluJC8sCiAgICAgIC9ec3RcLm9wbG92ZXJ6XC5uZXQkLywKICAgICAgL15taW5pZHJvaWRcLm5ldCQvLAogICAgICAvXnd3M1wuYXdhcmVtbXh2XC5jb20kLywKICAgICAgL15saW5rcG9pXC5pbiQvLAogICAgXSwKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2EucmVkaXJlY3QsIGFbdGFyZ2V0PV9ibGFua11bcmVsPW5vZm9sbG93XScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnN1c3V0aW5cLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC89IihbXiJdKykiLC8pOwogICAgJC5vcGVuTGluayhzWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL153d3dcLm1pamVcLm5ldCQvLAogICAgcGF0aDogL15cL1x3K1wvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gYXRvYihtLnBhdGhbMV0pOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm1pcnJvcmZpbGVob3N0XC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBfLndhaXQoMyAqIDEwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICB2YXIgZnJhbWUgPSBmcmFtZXNbMF07CiAgICAgIHZhciBmb3JtID0gZnJhbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpOwogICAgICBmb3JtLnRhcmdldCA9ICdfcGFyZW50JzsKICAgICAgZm9ybS5hY3Rpb24gPSBsb2NhdGlvbi50b1N0cmluZygpOwogICAgICB2YXIgaW5wdXQgPSBmcmFtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICBpbnB1dC52YWx1ZSA9ICdEb3dubG9hZCc7CiAgICAgIGlucHV0LnR5cGUgPSAnc3VibWl0JzsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7CiAgICAgIGZyYW1lLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7CiAgICAgIGlucHV0LmNsaWNrKCk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXm1vZVwuZ29kXC5qcCQvLAogICAgICAvXm1vZXN1YnNcLmFrdXJhcG9wb1wucHJvJC8sCiAgICAgIC9eZGxcLm5zZmtcLmluJC8sCiAgICBdCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCdkaXYgZGl2IGNlbnRlciBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebW9lc3Vic1wuY29tJC8sCiAgICBwYXRoOiAvXlwvdXJsXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnYm9keSA+IGRpdjpudGgtY2hpbGQoNCkgPiBpOm50aC1jaGlsZCgxKScpOwogICAgYSA9IGEudGV4dENvbnRlbnQ7CiAgICB2YXIgaSA9IGEubGFzdEluZGV4T2YoJ2h0dHAnKTsKICAgIGEgPSBhLnN1YnN0cihpKTsKICAgICQub3BlbkxpbmsoYSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebXQwXC5vcmckLywKICAgIHBhdGg6IC9eXC9bXlwvXStcLyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2ZyYW1lW25hbWU9Ym90dG9tXScpOwogICAgdmFyIGYgPSAkKCdmcmFtZVtuYW1lPXRvcF0nKTsKICAgIHZhciBpID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICB2YXIgYSA9ICQuJCgnZGl2IGEnLCBmLmNvbnRlbnREb2N1bWVudCk7CiAgICAgIGlmICghYSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjbGVhckludGVydmFsKGkpOwogICAgICAkLm9wZW5MaW5rKGEuaHJlZikKICAgIH0sIDEwMDApOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL215LWxpbmsucHJvLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2lmcmFtZVtzY3JvbGxpbmc9YXV0b10nKTsKICAgIGlmIChpKSB7CiAgICAgICQub3BlbkxpbmsoaS5zcmMpOwogICAgfQogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm5tYWNcLnRvJC8sCiAgICBwYXRoOiAvXlwvZG93bmxvYWRcLyguKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gYXRvYihtLnBhdGhbMV0pOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm5zZndcLmluJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjbG9uZ191cmwgYScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm51dHNoZWxsdXJsXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaWZyYW1lID0gJCgnaWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/b2hsZWVjaFwuY29tJC8sCiAgICBwYXRoOiAvXlwvZGxcLyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQud2luZG93LnN0YXJ0ZGwoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL153d3dcLm9uaVwudm4kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBkYXRhID0gJC5zZWFyY2hTY3JpcHRzKC9kYXRhOiIoW14iXSspIi8pOwogICAgaWYgKCFkYXRhKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3BhdHRlcm4gY2hhbmdlZCcpOwogICAgfQogICAgZGF0YSA9IGRhdGFbMV07CiAgICAkLmdldCgnL2NsaWNrLmh0bWwnLCBkYXRhKS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9vdW9cLihpb3xwcmVzcykkLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQoJ2Zvcm0nKS5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15veHlsXC5tZSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJC4kJCgnLmxpbmtzLWNvbnRhaW5lci5yZXN1bHQtZm9ybSA+IGEucmVzdWx0LWEnKTsKICAgIGlmIChsLnNpemUoKSA+IDEpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgJC5vcGVuTGluayhsLmF0KDApLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnBcLnB3JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5sb2NhdGlvbiA9ICIoLiopIjsvKTsKICAgIG0gPSBtWzFdOwogICAgJC5vcGVuTGluayhtKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wZGkyXC5uZXQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgcyA9ICQuc2VhcmNoU2NyaXB0cygvdG9wXC5sb2NhdGlvbiA9ICcoW14nXSspJy8pOwogICAgcyA9IHNbMV07CiAgICAkLm9wZW5MaW5rKHMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/XHcrXC5yYXBlaXRcLm5ldCQvLAogICAgcGF0aDogL15cLyhnb3xwcmVwYWlyfHJlcXVlc3R8Y29sbGVjdHxhbmFseXplKVwvW2EtZjAtOV0rJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnYSNkb3dubG9hZF9saW5rJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vcmVmZmJ1eC5jb20vcmVmZmxpbngvdmlldy8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvc2tpcF90aGlzX2FkXyhcZCspXyhcZCspLyk7CiAgICB2YXIgaWQgPSBtWzFdOwogICAgdmFyIHNoYXJlID0gbVsyXTsKICAgIHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpOwogICAgJC5wb3N0KCdodHRwOi8vcmVmZmJ1eC5jb20vcmVmZmxpbngvcmVnaXN0ZXInLCB7CiAgICAgIGlkOiBpZCwKICAgICAgc2hhcmU6IHNoYXJlLAogICAgICBmcDogMCwKICAgICAgbG9jYXRpb246IGxvY2F0aW9uLAogICAgICByZWZlcmVyOiAnJywKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgdmFyIG0gPSB0ZXh0Lm1hdGNoKC8nKFteJ10rKScvKTsKICAgICAgaWYgKCFtKSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcigncGF0dGVybiBjaGFuZ2VkJyk7CiAgICAgIH0KICAgICAgJC5vcGVuTGluayhtWzFdKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3JpY2hsaW5rLmNvbS9hcHAvd2Vic2NyP2NtZD1fY2xpY2sma2V5PSonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJ2ZyYW1lc2V0Jyk7CiAgICBmID0gZi5vbmxvYWQudG9TdHJpbmcoKTsKICAgIGYgPSBmLm1hdGNoKC91cmw9KFteJl0rKS8pOwogICAgaWYgKGYpIHsKICAgICAgZiA9IGRlY29kZVVSSUNvbXBvbmVudChmWzFdKTsKICAgIH0gZWxzZSB7CiAgICAgIGYgPSAkKCdmcmFtZVtuYW1lPXNpdGVdJyk7CiAgICAgIGYgPSBmLnNyYzsKICAgIH0KICAgICQub3BlbkxpbmsoZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vcmlqYWxpdGkuaW5mby8qLnBocCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI21haW4gdGRbYWxpZ249ImNlbnRlciJdIGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15yaXVybFwuY29tJC8sCiAgICBwYXRoOiAvXlwvLisvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC4kKCdib2R5IHNjcmlwdCcpOwogICAgaWYgKHMpIHsKICAgICAgcyA9IHMuaW5uZXJIVE1MLmluZGV4T2YoJ3dpbmRvdy5sb2NhdGlvbi5yZXBsYWNlJyk7CiAgICAgIGlmIChzID49IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgcGF0aDogewogICAgICAgIGhpZGRlbjogJzEnLAogICAgICAgIGltYWdlOiAnICcsCiAgICAgIH0sCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wcmV2aWV3XC5ybHVcLnJ1JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjY29udGVudCA+IC5sb25nX3VybCA+IGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15yb2JvXC51cyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIHVybCA9IGF0b2IoJC53aW5kb3cuZmwpOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucm9uXC52biQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzY3JpcHQgPSAkLnNlYXJjaFNjcmlwdHMoJ2xpbmtuZXh0dG9wJyk7CiAgICB2YXIgZGF0YSA9IHNjcmlwdC5tYXRjaCgvZGF0YToiKFteIl0rKSIvKTsKICAgIHZhciB1cmwgPSAkLndpbmRvdy5kb21haW4gKyAnY2xpY2suaHRtbD8nICsgZGF0YVsxXTsKICAgICQuZ2V0KHVybCwge30sIHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JywKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3NhXC5hZSQvLAogICAgcGF0aDogL15cL1x3K1wvJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoL3ZhciByZWFsX2xpbmsgPSAnKFteJ10rKSc7Lyk7CiAgICAkLm9wZW5MaW5rKG1bMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/c2FmZXVybFwuZXUkLywKICAgIHBhdGg6IC9cL1x3Ky8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGRpcmVjdFVybCA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5vcGVuXCgiKFteIl0rKSJcKTsvKTsKICAgIGlmICghZGlyZWN0VXJsKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NjcmlwdCBjb250ZW50IGNoYW5nZWQnKTsKICAgIH0KICAgIGRpcmVjdFVybCA9IGRpcmVjdFVybFsxXTsKICAgICQub3BlbkxpbmsoZGlyZWN0VXJsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXnNlZ21lbnRuZXh0XC5jb20kLywKICAgICAgL14od3d3XC4pP3ZpZGVvZ2FtZXNibG9nZ2VyLmNvbSQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9pbnRlcnN0aXRpYWxcLmh0bWwkLywKICAgIHF1ZXJ5OiAvcmV0dXJuX3VybD0oW14mXSspLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuTGluayhkZWNvZGVVUklDb21wb25lbnQobS5xdWVyeVsxXSkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/KGFwcGxvYWR6XC5ydXxzZW9tYWZpYVwubmV0KSQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgYSA9ICQoJ3RhYmxlIGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogL2h0dHA6XC9cL3NldGxpbmtzXC51c1wvKHB8dHxkKS4qLywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGsgPSAkLnNlYXJjaFNjcmlwdHMoL3dpbmRvd1wubG9jYXRpb249JyhbXiddKyknLyk7CiAgICBpZiAoaykgewogICAgICAkLm9wZW5MaW5rKGtbMV0pOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgYUxpbmtzID0gJC4kJCgnZGl2LmxpbmtzLWNvbnRhaW5lci5yZXN1bHQtZm9ybTpub3QoLnAtbGlua3MtY29udGFpbmVyKSA+IHNwYW4uZGxpbmtzID4gYScpOwogICAgaWYgKGFMaW5rcy5zaXplKCkgPT09IDEpIHsKICAgICAgJC5vcGVuTGluayhhTGlua3MuYXQoMCkuaHJlZik7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGsgPSAkKCdpbWdbYWx0PWNhcHRjaGFdJyk7CiAgICAkLmNhcHRjaGEoay5zcmMsIGZ1bmN0aW9uIChhKSB7CiAgICAgIHZhciBiID0gJCgnI2NhcHRjaGEnKTsKICAgICAgdmFyIGMgPSAkKCdpbnB1dFtuYW1lPVN1Ym1pdF0nKTsKICAgICAgYi52YWx1ZSA9IGE7CiAgICAgIGMuY2xpY2soKTsKICAgIH0pOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBhZnRlckdvdFNlc3Npb25JZCAoc2Vzc2lvbklkKSB7CiAgICB2YXIgWF9OZXdSZWxpY19JRCA9ICQuc2VhcmNoU2NyaXB0cygveHBpZDoiKFteIl0rKSIvKTsKICAgIHZhciBkYXRhID0gewogICAgICBhZFNlc3Npb25JZDogc2Vzc2lvbklkLAogICAgfTsKICAgIHZhciBoZWFkZXIgPSB7CiAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCcsCiAgICB9OwogICAgaWYgKFhfTmV3UmVsaWNfSUQpIHsKICAgICAgaGVhZGVyWydYLU5ld1JlbGljLUlEJ10gPSBYX05ld1JlbGljX0lEOwogICAgfQogICAgdmFyIGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICQuZ2V0KCcvc2hvcnRlc3QtdXJsL2VuZC1hZHNlc3Npb24nLCBkYXRhLCBoZWFkZXIpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgciA9IF8ucGFyc2VKU09OKHRleHQpOwogICAgICAgIGlmIChyLnN0YXR1cyA9PSAib2siICYmIHIuZGVzdGluYXRpb25VcmwpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaSk7CiAgICAgICAgICAkLnJlbW92ZUFsbFRpbWVyKCk7CiAgICAgICAgICB2YXIgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHIuZGVzdGluYXRpb25VcmwpOwogICAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LCAxMDAwKTsKICB9CiAgdmFyIGhvc3RSdWxlcyA9IFsKICAgIC9ec2hcLnN0JC8sCiAgICAvXihkaDEwdGhidnV8dTJrc3xqbncwfHFhYWZhfHhpdzM0fGNsbGttZXxjbGttZWlufGNvcm5lZXl8Y2Vlc3R5KVwuY29tJC8sCiAgICAvXltkZmddZXN0eXlcLmNvbSQvLAogICAgL15kaWdnXC50byQvLAogICAgL14oW3Z3XWlpZHxjbGttZSlcLm1lJC8sCiAgICAvXnNob3J0XC5lc3QkLywKICBdOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0UnVsZXMsCiAgICAgIHBhdGg6IC9eXC9mcmVlemVcLy4rLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgICAgICAgIGlmIChtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLm1hdGNoKC9hY3RpdmUvKSkgewogICAgICAgICAgICBvLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgJC5vcGVuTGluayhtdXRhdGlvbi50YXJnZXQuaHJlZik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvLm9ic2VydmUoJCgnI3NraXBfYnV0dG9uJyksIHsKICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLAogICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydjbGFzcyddLAogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IGhvc3RSdWxlcywKICAgICAgcGF0aDogL2h0dHBzPzpcL1wvLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArIHdpbmRvdy5sb2NhdGlvbi5oYXNoOwogICAgICB1cmwgPSB1cmwubWF0Y2goLyhodHRwcz86XC9cLy4qKSQvKTsKICAgICAgdXJsID0gdXJsWzFdOwogICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0UnVsZXMsCiAgICAgIHBhdGg6IC9eXC9bXGRcd10rLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAkLndpbmRvdy5faW1wc3BjYWJlID0gMDsKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvc2Vzc2lvbklkOiAiKFtcZFx3XSspIiwvKTsKICAgICAgaWYgKG0pIHsKICAgICAgICBhZnRlckdvdFNlc3Npb25JZChtWzFdKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7CiAgICAgICAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvc2Vzc2lvbklkOiAiKFtcZFx3XSspIiwvKTsKICAgICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgIG8uZGlzY29ubmVjdCgpOwogICAgICAgICAgICBhZnRlckdvdFNlc3Npb25JZChtWzFdKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIG8ub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLAogICAgICB9KTsKICAgIH0sCiAgfSk7Cn0pKCk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL14od3d3XC4pP3NoaW5rXC5pbiQvLAogICAgICAvXmZhc1wubGkkLywKICAgICAgL14od3d3XC4pP2Nyb2NvXC4obWV8c2l0ZSkkLywKICAgICAgL15jcG1saW5rXC5uZXQkLywKICAgIF0sCiAgICBwYXRoOiAvXlwvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcjc2tpcCcpOwogICAgaWYgKCEkLiQoJyNjYXB0Y2hhJykpIHsKICAgICAgZi5zdWJtaXQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIG8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgaWYgKG5vZGUubG9jYWxOYW1lID09PSAnZGl2JykgewogICAgICAgICAgICBpZiAobm9kZS5zdHlsZS56SW5kZXggPT09ICcyMTQ3NDgzNjQ3JykgewogICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICAgIG8ub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgc3VidHJlZTogdHJ1ZSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmZhc1wubGkkLywKICAgICAgICAvXmNwbWxpbmtcLm5ldCQvLAogICAgICBdLAogICAgICBwYXRoOiAvXlwvZ29cL1x3KyQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL14od3d3XC4pP2Nyb2NvXC4obWV8c2l0ZSkkLywKICAgICAgcGF0aDogL15cL29rXC9cdyskLywKICAgIH0sCiAgXSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjYnRuLW1haW4nKTsKICAgIHZhciBpID0gYS5ocmVmLmxhc3RJbmRleE9mKCdodHRwJyk7CiAgICBhID0gYS5ocmVmLnN1YnN0cihpKTsKICAgICQub3BlbkxpbmsoYSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9zaGlua1wuaW4kLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcjc2tpcCcpOwogICAgZi5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15zaG9ydFwuYW0kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBfLndhaXQoNTAwMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgICBwb3N0OiB7CiAgICAgICAgICBpbWFnZTogJ0NvbnRpbnVlJywKICAgICAgICB9LAogICAgICB9KTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eKHd3d1wuKT9zaG9ydGVudXJsXC50ayQvLAogICAgICAvXih3d3dcLik/cGVuZ2FtYW5cLmxpbmskLywKICAgICAgL151cmxnb1wuZ3MkLywKICAgICAgL15ndW50aW5nXC53ZWJcLmlkJC8sCiAgICBdLAogICAgcGF0aDogL15cL1x3KyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbCA9ICQoJ2EuYnRuLWJsb2NrLnJlZGlyZWN0Jyk7CiAgICAkLm9wZW5MaW5rKGwuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9zaG9ydGlcLmdhJC8sCiAgICBwYXRoOiBbCiAgICAgIC9eXC9cdyskLywKICAgICAgL15cL3VybF9yZWRpcmVjdG9yXC5odG1sJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJC4kJCgnZnJhbWUnKTsKICAgIHZhciBmbCA9IGYuZmluZChmdW5jdGlvbih2YWx1ZSwga2V5LCBzZWxmKSB7CiAgICAgIGlmICh2YWx1ZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICAgIHJldHVybiAnVGFyZ2V0IGZyYW1lIGZvdW5kJzsKICAgIH0pOwogICAgJC5vcGVuTGluayhmbC52YWx1ZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuc2hvcnRza2lwXC5jb20kLywKICAgIHBhdGg6IC9eXC9zaG9ydFwucGhwJC8sCiAgICBxdWVyeTogL2k9KFteJl0rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQobS5xdWVyeVsxXSk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eZ2V0XC5zaHJpbmstc2VydmljZVwuaXQkLywKICAgIHBhdGg6IC9eXC8oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IF8uVCgnLy93d3cuc2hyaW5rLXNlcnZpY2UuaXQvc2hyaW5rZWQvezB9Jyk7CiAgICAkLm9wZW5MaW5rKHVybChtLnBhdGhbMV0pKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL153d3dcLnNocmluay1zZXJ2aWNlXC5pdCQvLAogICAgcGF0aDogL15cL3Nocmlua2VkXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW5wdXRbaWRdW25hbWVdJyk7CiAgICAkLm9wZW5MaW5rKGkudmFsdWUpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuc2hyaW5rLXNlcnZpY2VcLml0JC8sCiAgICBwYXRoOiAvXlwvW3NlXVwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBpID0gJCgnYm9keSA+IGlucHV0W2lkXVtuYW1lXScpOwogICAgJC5vcGVuTGluayhpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15zaHRcLmlvJC8sCiAgICBwYXRoOiAvXlwvXGQrXC8oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB1cmwgPSBhdG9iKG0ucGF0aFsxXSk7CiAgICB1cmwgPSB1cmwubWF0Y2goL1x7c2h0LWlvXH0oLispXHtzaHQtaW9cfS4qXHtzaHQtaW9cfS8pOwogICAgJC5vcGVuTGluayh1cmxbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/c2ltaWxhcnNpdGVzXC5jb20kLywKICAgIHBhdGg6IC9eXC9nb3RvXC8oW14/XSspLwogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbCA9IG0ucGF0aFsxXTsKICAgIGlmICghL15odHRwcz86XC9cLy8udGVzdChsKSkgewogICAgICBsID0gJ2h0dHA6Ly8nICsgbDsKICAgIH0KICAgICQub3BlbkxpbmsobCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec21sbFwuaW8kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5sb2NhdGlvbj0iKFteIl0qKSI7Lyk7CiAgICAkLm9wZW5MaW5rKG1bMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuc3Bhc3RlXC5jb20kLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGlkID0gJC5zZWFyY2hTY3JpcHRzKC9ce2lkOicoXGQrKSdcfS8pOwogICAgXy53YWl0KDMwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJC5wb3N0KCcvc2l0ZS9nZXRSZWRpcmVjdExpbmsnLCB7CiAgICAgICAgaWQ6IGlkLAogICAgICB9KS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec3Jua1wuY28kLywKICAgIHBhdGg6IC9eXC9pXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCcjYnRuLXdpdGgtbGluaycpOwogICAgaWYgKCFhKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBocmVmID0gYS5ocmVmOwogICAgdmFyIG1ldGhvZCA9IGEuZGF0YXNldC5tZXRob2Q7CiAgICBpZiAobWV0aG9kKSB7CiAgICAgIHZhciBjc3JmUGFyYW0gPSAkKCdtZXRhW25hbWU9ImNzcmYtcGFyYW0iXScpLmNvbnRlbnQ7CiAgICAgIHZhciBjc3JmVG9rZW4gPSAkKCdtZXRhW25hbWU9ImNzcmYtdG9rZW4iXScpLmNvbnRlbnQ7CiAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpOwogICAgICBmb3JtLm1ldGhvZCA9ICdwb3N0JzsKICAgICAgZm9ybS5hY3Rpb24gPSBocmVmOwogICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICBpbnB1dC5uYW1lID0gJ19tZXRob2QnOwogICAgICBpbnB1dC52YWx1ZSA9IG1ldGhvZDsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7CiAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgaW5wdXQubmFtZSA9IGNzcmZQYXJhbTsKICAgICAgaW5wdXQudmFsdWUgPSBjc3JmVG9rZW47CiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pOwogICAgICBmb3JtLnN1Ym1pdCgpOwogICAgICByZXR1cm47CiAgICB9CiAgICAkLnBvc3QobG9jYXRpb24ucGF0aG5hbWUgKyAnLmpzJykudGhlbihmdW5jdGlvbiAoc2NyaXB0KSB7CiAgICAgIHZhciBtID0gc2NyaXB0Lm1hdGNoKC92YXIgbGluayA9ICIoW14iXSspIjsvKTsKICAgICAgaWYgKCFtKSB7CiAgICAgICAgXy53YXJuKCdzY3JpcHQgY2hhbmdlZCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLm9wZW5MaW5rKG1bMV0pOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec3Rhc2gtY29pbnNcLmNvbSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKTsKICAgIHZhciBpID0gdXJsLmxhc3RJbmRleE9mKCdodHRwJyk7CiAgICB1cmwgPSB1cmwuc3Vic3RyKGkpOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnN0cmVhbWluZ2ZyZW5jaFwubmV0JC8sCiAgICBwYXRoOiAvXlwvJC8sCiAgICBxdWVyeTogL15cP3hiPSguKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IGRlY29kZVVSSUNvbXBvbmVudChtLnF1ZXJ5WzFdKTsKICAgICQub3BlbkxpbmsodXJsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3N1cGVyY2hlYXRzXC5jb20kLywKICAgIHBhdGg6IC9eXC9pbnRlcnN0aXRpYWxcLmh0bWwkLywKICAgIHF1ZXJ5OiAvKD86XD98JilvbGR1cmw9KFteJl0rKSg/OiR8JikvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKG0ucXVlcnlbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXih3d3dcLik/c3lsbmtcLm5ldCQvLAogICAgICAgIC9eZGxuZWtvXC4oY29tfG5ldHxvcmcpJC8sCiAgICAgICAgL15ydW1haHNpbXBlbFwuY29tJC8sCiAgICAgIF0sCiAgICAgIHF1ZXJ5OiAvbGluaz0oW14mXSspLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT9jb21wdWxcLmluJC8sCiAgICAgIHBhdGg6IC9eXC9bbnBdXC5waHAkLywKICAgICAgcXVlcnk6IC92PShbXiZdKykvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL14od3d3XC4pP3NhZmVsaW5rYWlyXC5jb20kLywKICAgICAgcGF0aDogL15cL2NvZGUkLywKICAgICAgcXVlcnk6IC8oPzpcP3wmKWxpbms9KFthLXpBLVowLTlcLz1dKykoPzokfCYpLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmxpbmtcLmZpbG1rdVwubmV0JC8sCiAgICAgICAgL153d3dcLmhlYWx0aHlncmVzczI0XC5nYSQvLAogICAgICAgIC9ea29tYmF0Y2hcLmFtYW5rYW5cLmxpbmskLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3BcLyhnb3xoZWFsdHktbGllKVwuaHRtbCQvLAogICAgICBxdWVyeTogL15cP3VybD0oW2EtekEtWjAtOVwvPV0rKSQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogWwogICAgICAgIC9eKGdhZGdldHxhdXRvfHNwb3J0cykxNFwucHckLywKICAgICAgICAvXm1vdG9zcG9ydFwucHckLywKICAgICAgICAvXm5hci0wNFwudGskLywKICAgICAgICAvXmxpbmR1bmdcLmluJC8sCiAgICAgICAgL15tb3RvbmV3c1wuY2x1YiQvLAogICAgICAgIC9ed3dbMjNdXC5waWNuaWN0cmFuc1wuY29tJC8sCiAgICAgICAgL15nYWRnZXQxM1wuY29tJC8sCiAgICAgICAgL15hemhpZVwubmV0JC8sCiAgICAgICAgL153dzJcLmF3c3Vic1wuY28kLywKICAgICAgICAvXmF1dG9ycFwudXMkLwogICAgICBdLAogICAgICBxdWVyeTogL15cP2Q9KFthLXpBLVowLTlcLz1dKykkLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9ed3d3XC5hbmlzdWJzaWFcLnRrJC8sCiAgICAgIHBhdGg6IC9eXC9wXC9saW5rXC5odG1sJC8sCiAgICAgIHF1ZXJ5OiAvXlw/dXJsPShbYS16QS1aMC05XC89XSspJC8sCiAgICB9LAogICAgewogICAgICBob3N0OiBbCiAgICAgICAgL153d3dcLmluc3VyYW5jZTFcLnRlY2gkLywKICAgICAgICAvXnd3d1wuZnJlZWFuaW1lb25saW5lXC54eXokLywKICAgICAgXSwKICAgICAgcXVlcnk6IC9eXD9zaXRlPShbYS16QS1aMC05XC89XSspLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9eaVwuZ3RhaW5kXC5jb20kLywKICAgICAgcXVlcnk6IC9eXD8oW2EtekEtWjAtOVwvPV0rKSQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL1wuYmxvZ3Nwb3RcLmNvbT8vLAogICAgICBxdWVyeTogWwogICAgICAgIC9eXD91cmw9KFthLXpBLVowLTlcLz1dKykkLywKICAgICAgICAvXlw/aWQ9KFthLXpBLVowLTlcLz1dKykkLywKICAgICAgXSwKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9ec2VoYXRsZWdhXC5jb20kLywKICAgICAgcXVlcnk6IC9eXD9sYW5qdXQ9KFthLXpBLVowLTlcLz1dKykkLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9ec2hvcnRlblwuaWQkLywKICAgICAgcXVlcnk6IC9eXD91cmw9KFthLXpBLVowLTlcLz1dKyk9JC8sCiAgICB9LAogIF0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgcmF3TGluayA9IGF0b2IobS5xdWVyeVsxXSk7CiAgICAkLm9wZW5MaW5rKHJhd0xpbmspOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvKF58XC4pc2FmZWxpbmtjb252ZXJ0ZXIyP1wuY29tJC8sCiAgICAgICAgL15zYWZlbGluayhzP3Jldmlldyhlcik/KVwuY29tPyQvLAogICAgICAgIC9ec3VzdXRpblwuY29tJC8sCiAgICAgICAgL14oZ2V0Y29taWNzfG1pdWl0dXRvcmlhbClcLmdxJC8sCiAgICAgICAgL15hd3N1YnNcLmNmJC8sCiAgICAgICAgL15hd3N1YnNjb1wuZ2EkLywKICAgICAgXSwKICAgICAgcXVlcnk6IC9pZD0oW1x3XFxdKz0qKS8sCiAgICB9LAogICAgewogICAgICBob3N0OiBbCiAgICAgICAgL14od3d3XC4pP2RsbmVrb1wuY29tJC8sCiAgICAgICAgL14oc2F0dWFzaWF8dGF3YWt1KVwuY29tJC8sCiAgICAgICAgL153dzNcLm1hbnRlYlwuaW4kLywKICAgICAgICAvXmxpbmtcLmZpbG1rdVwubmV0JC8sCiAgICAgICAgL153d3dcLm11dWNpaFwuY29tJC8sCiAgICAgICAgL14obmFpc2hvfGZpbG1rdSlcLmxvbXBhdFwuaW4kLywKICAgICAgICAvXmVkb2dhd2FcLmxvblwucHckLywKICAgICAgICAvXnRlbG9sZXRcLmluJC8sCiAgICAgIF0sCiAgICAgIHF1ZXJ5OiAvZ289KFtcd1xcXSs9KikvLAogICAgfSwKICBdLAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSBhdG9iKG0ucXVlcnlbMV0pOwogICAgdmFyIHRhYmxlID0gewogICAgICAnISc6ICdhJywKICAgICAgJyknOiAnZScsCiAgICAgICdfJzogJ2knLAogICAgICAnKCc6ICdvJywKICAgICAgJyonOiAndScsCiAgICB9OwogICAgbCA9IGwucmVwbGFjZSgvWyEpXygqXS9nLCBmdW5jdGlvbiAobSkgewogICAgICByZXR1cm4gdGFibGVbbV07CiAgICB9KTsKICAgICQub3BlbkxpbmsobCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9zYWZlbGlua3Jldmlld1wuY29tJC8sCiAgICBwYXRoOiAvXlwvXHcrXC9jb3N0XC8oW1x3XC5dKylcLz8kLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSAnaHR0cDovLycgKyBtLnBhdGhbMV07CiAgICAkLm9wZW5MaW5rKGwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eKGRlc2lnbmluZ2hvbWV5fGFuaS1zaGFyZXxzaW5vcHNpc2ZpbG1rdSlcLmNvbSQvLAogICAgICAvXm1vdG9uZXdzXC5jbHViJC8sCiAgICAgIC9eKGF1dG9mYW5zfGxhbmRzY2FwZW5hdHVyZSlcLnB3JC8sCiAgICAgIC9eKHNpZGVzcGFjZXxlcm9nZWRvd25sb2FkKVwubmV0JC8sCiAgICBdLAogICAgcXVlcnk6IC9nZXQ9KFteJl0rKS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC92YXIgYT0nKFteJ10rKScvKTsKICAgIGlmIChzKSB7CiAgICAgICQub3Blbkxpbmsoc1sxXSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHMgPSBhdG9iKG0ucXVlcnlbMV0pOwogICAgJC5vcGVuTGluayhzKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15rb21iYXRjaFwubG9uY2F0XC5wdyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC9cLm9wZW5cKCIoW14iXSspIiwvKTsKICAgIHMgPSBzWzFdLm1hdGNoKC9nbz0oW14mXSspLyk7CiAgICBzID0gYXRvYihzWzFdKTsKICAgICQub3Blbkxpbmsocyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL153d1syM11cLnBpY25pY3RyYW5zXC5jb20kLywKICAgICAgL15zaG9ydFwuYXdzdWJzXC4oY298bWUpJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnZGl2LmtpcmkgPiBjZW50ZXIgPiBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edGVjaGZ1bmRhXC5uZXQkLywKICAgIHBhdGg6IFsKICAgICAgICAvXlwvbGlua1wvLywKICAgICAgICAvXlwvc2FmZVwvLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcuaGlkZSBhLmJ0bicpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnRoaW5maVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCdkaXYgcCBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edGlueWFycm93c1wuY29tJC8sCiAgICBwYXRoOiAvXlwvcHJldmlld1wucGhwJC8sCiAgICBxdWVyeTogL15cP3BhZ2U9KFteJl0rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoZGVjb2RlVVJJQ29tcG9uZW50KG0ucXVlcnlbMV0pKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL150b3Bsb2FkXC5wcm8kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5oaWRlIGEuYnRuJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT90b3RhbGRlYnJpZFwub3JnJC8sCiAgICBwYXRoOi9cL2xcLyhsXC5waHApPyQvLAogICAgcXVlcnk6IC9cP2Fkcz0oW2EtekEtWjAtOT1dKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSBhdG9iKG0ucXVlcnlbMV0pOwogICAgJC5vcGVuTGluayhsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3R5cFwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjc2tpcEFkQnRuJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT91bHRzaGFyZVwuY29tJC8sCiAgICBwYXRoOiAvXlwvKD86KD86XGQtKT8oXGQrKXxpbmRleFwucGhwKSQvLAogICAgcXVlcnk6IC9eKD86XD9hPVxkJmM9KFxkKykpPyQvCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsaW5rSWQgPSBtLnBhdGhbMV0/bS5wYXRoWzFdOm0ucXVlcnlbMV07CiAgICB2YXIgZGlyZWN0TGluayA9ICcvMy0nICsgbGlua0lkOwogICAgJC5vcGVuTGluayhkaXJlY3RMaW5rKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL151bmZha2VcLml0JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGZyYW1lID0gJCgnZnJhbWUnKTsKICAgIHZhciBpID0gZnJhbWUuc3JjLmxhc3RJbmRleE9mKCdodHRwOi8vJyk7CiAgICAkLm9wZW5MaW5rKGZyYW1lLnNyYy5zdWJzdHIoaSkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/KHVwYW58Z3hwKVwuc28kLywKICAgIHBhdGg6IC9eXC9cdyskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ3RhYmxlLnRkX2xpbmUgYVtvbmNsaWNrPSJkb3duX3Byb2Nlc3NfcygpOyJdJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edXJsXC5pZSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnYVt0aXRsZT0iTGluayB0byBvcmlnaW5hbCBVUkwiXScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9edXJsY2FzaFwuKGNvbXxuZXR8b3JnKSQvLAogICAgICAvXihiYXQ1fGRldG9uYXRpbmd8Y2VsZWJjbGt8ZWlnaHR0ZWVufHNtaWxpbmdsaW5rc3xwZWVrYXRteWdpcmxmcmllbmR8cG9ybnlob3N0fGNsYjF8dXJsZ2FsbGVyaWVzKVwuY29tJC8sCiAgICAgIC9ebG9vYmxlXC5uZXQkLywKICAgICAgL154eHhzXC5vcmckLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgaWYgKCQud2luZG93ICYmICQud2luZG93LmxpbmtEZXN0VXJsKSB7CiAgICAgICQub3BlbkxpbmsoJC53aW5kb3cubGlua0Rlc3RVcmwpOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgbWF0Y2hlcyA9IGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MLm1hdGNoKC9saW5rRGVzdFVybCA9ICcoLispJy8pOwogICAgaWYgKG1hdGNoZXMpIHsKICAgICAgJC5vcGVuTGluayhtYXRjaGVzWzFdKTsKICAgICAgcmV0dXJuOwogICAgfQogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnVybGlublwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkKCdNRVRBW0hUVFAtRVFVSVY9cmVmcmVzaF0nKS5nZXRBdHRyaWJ1dGUoJ0NPTlRFTlQnKS5tYXRjaCgvdXJsPScoW14nXSspJy8pOwogICAgaWYgKG0pIHsKICAgICAgJC5vcGVuTGluayhtWzFdKTsKICAgIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL151cmxtc1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGlmcmFtZSA9ICQoJyNjb250ZW50Jyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/dXJsdjJcLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ2xvY2tlZCcpID49IDApIHsKICAgICAgdmFyIHBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgnL2xvY2tlZCcsICcnKTsKICAgICAgJC5vcGVuTGluayhwYXRoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoL2pldG9uPShbXHddKykvKTsKICAgIHZhciBsID0gJ2h0dHA6Ly91cmx2Mi5jb20vYWxnby5waHA/YWN0aW9uPXBhc3NlciZweD0wJnNvPTEmamV0b249JyArIG1bMV07CiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHskLm9wZW5MaW5rKGwpfSwgNTAwMCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT91c2tpcFwubWUkLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI2J0bi1tYWluJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edmF2aVwuY28kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbCA9ICQoJyNnb0xpbmsnKTsKICAgICQub3BlbkxpbmsobC5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3ZpY3RseVwuY29tJC8sCiAgICBwYXRoOiAvXlwvXHcrJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5wb3N0KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsIHsKICAgICAgaGlkZGVuOiAnJywKICAgICAgaW1hZ2U6ICdTa2lwK0FkcycsCiAgICB9KS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgIHZhciBtID0gdGV4dC5tYXRjaCgvd2luZG93XC5sb2NhdGlvblwucmVwbGFjZVwoJyhbXiddKyknXCkvKTsKICAgICAgJC5vcGVuTGluayhtWzFdKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wudmlpZGlpXC5pbmZvJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG8gPSAkKCcjZGlyZWN0bGluaycpOwogICAgJC5vcGVuTGluayhvLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/dmlyXC5hbCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtID0gJC5zZWFyY2hTY3JpcHRzKC92YXIgdGFyZ2V0X3VybCA9ICcoW14nXSspJzsvKTsKICAgIGlmICghbSkgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdzaXRlIGNoYW5nZWQnKTsKICAgIH0KICAgICQub3BlbkxpbmsobVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT93enpxXC5tZSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHRyeSB7CiAgICAgIHZhciBsID0gJCgnI2ltZ19sb2FkaW5nX3RhYmxlMiAgZGl2Lnd6X2ltZ19oaXQgYVt0YXJnZXQ9X2JsYW5rXScpLmhyZWY7CiAgICAgICQub3BlbkxpbmsobCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICB9CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eeGxpbmtcLm1lJC8KICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNtYWluX2Zvcm0gPiBjZW50ZXIgPiBhJyk7CiAgICBpZiAoIWEpIHtyZXR1cm47fQogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3llcC5pdC9wcmV2aWV3LnBocD9wPSonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbGluayA9ICQoJ2ZvbnRbY29sb3I9ImdyZXkiXScpLmlubmVySFRNTDsKICAgICQub3BlbkxpbmsobGluayk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vd3d3Lnlvb2NsaWNrLmNvbS9sLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciB1bmlxID0gJC53aW5kb3cudW5pcSB8fCAkLndpbmRvdy51bmlxaTsKICAgIGlmICghdW5pcSkge3JldHVybjt9CiAgICB2YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKICAgIHZhciB1cmwgPSBfLlQoJ3swfT9hamF4PXRydWUmYWRibG9jaz1mYWxzZSZvbGQ9ZmFsc2UmZnJhbWVkPWZhbHNlJnVuaXE9ezF9JykocGF0aCwgdW5pcSk7CiAgICB2YXIgZ2V0VVJMID0gZnVuY3Rpb24oKSB7CiAgICAgICQuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBnb29kVVJMID0gL14oaHR0cHM/fGZ0cCk6XC9cLygoKChbYS16XXxcZHwtfFwufF98fnxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSl8KCVbXGRhLWZdezJ9KXxbIVwkJidcKFwpXCpcKyw7PV18OikqQCk/KCgoXGR8WzEtOV1cZHwxXGRcZHwyWzAtNF1cZHwyNVswLTVdKVwuKFxkfFsxLTldXGR8MVxkXGR8MlswLTRdXGR8MjVbMC01XSlcLihcZHxbMS05XVxkfDFcZFxkfDJbMC00XVxkfDI1WzAtNV0pXC4oXGR8WzEtOV1cZHwxXGRcZHwyWzAtNF1cZHwyNVswLTVdKSl8KCgoW2Etel18XGR8W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pfCgoW2Etel18XGR8W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKFthLXpdfFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKSooW2Etel18XGR8W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKSlcLikrKChbYS16XXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSl8KChbYS16XXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSkoW2Etel18XGR8LXxcLnxffH58W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKihbYS16XXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSkpKVwuPykoOlxkKik/KShcLygoKFthLXpdfFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKXwoJVtcZGEtZl17Mn0pfFshXCQmJ1woXClcKlwrLDs9XXw6fEApKyhcLygoW2Etel18XGR8LXxcLnxffH58W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pfCglW1xkYS1mXXsyfSl8WyFcJCYnXChcKVwqXCssOz1dfDp8QCkqKSopPyk/KFw/KCgoW2Etel18XGR8LXxcLnxffH58W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pfCglW1xkYS1mXXsyfSl8WyFcJCYnXChcKVwqXCssOz1dfDp8QCl8W1x1RTAwMC1cdUY4RkZdfFwvfFw/KSopPyhcIygoKFthLXpdfFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKXwoJVtcZGEtZl17Mn0pfFshXCQmJ1woXClcKlwrLDs9XXw6fEApfFwvfFw/KSopPyQvaS50ZXN0KHRleHQpOwogICAgICAgIGlmIChnb29kVVJMKSB7CiAgICAgICAgICAkLm9wZW5MaW5rKHRleHQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGdldFVSTCwgNTAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgZ2V0VVJMKCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eeXNmXC5wbCQvLAogICAgcGF0aDogL15cLzNcLyguKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IGF0b2IobS5wYXRoWzFdKTsKICAgICQub3BlbkxpbmsodXJsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL155c2ZcLnBsJC8sCiAgICBwYXRoOiAvXlwvMlwvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gbS5wYXRoWzFdLm1hdGNoKC8uezJ9L2cpLm1hcChmdW5jdGlvbiAoaCkgewogICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoLCAxNikpOwogICAgfSkuam9pbignJyk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC56aW50YXRhXC5jb20kLywKICAgIHBhdGg6IC9eXC9saW5rXC8kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNvbmUgPiBjZW50ZXI6bnRoLWNoaWxkKDMpID4gYTpudGgtY2hpbGQoMSknKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly96by5tdS9yZWRpcmVjdG9yL3Byb2Nlc3M/bGluaz0qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eenp6XC5nbCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtID0gJC5zZWFyY2hTY3JpcHRzKC92YXIgZG9tYWludXJsID0gJyhbXiddKyknOy8pOwogICAgaWYgKCFtKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgJC5vcGVuTGluayhtWzFdKTsKICB9LAp9KTsKKGZ1bmN0aW9uIChjb250ZXh0LCBmYWN0b3J5KSB7CiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbnRleHQsIEdNKSB7CiAgICAgIHZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7CiAgICAgIHZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7CiAgICAgIHZhciBkb20gPSByZXF1aXJlKCcuL2RvbS5qcycpOwogICAgICB2YXIgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcuanMnKTsKICAgICAgdmFyIGxpbmsgPSByZXF1aXJlKCcuL2xpbmsuanMnKTsKICAgICAgdmFyIG1pc2MgPSByZXF1aXJlKCcuL21pc2MuanMnKTsKICAgICAgdmFyIG1vZHVsZXMgPSBbZG9tLCBjb25maWcsIGxpbmssIG1pc2NdLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2LmNhbGwobnVsbCwgY29udGV4dCwgR00pOwogICAgICB9KTsKICAgICAgdmFyICQgPSBfLmFzc2lnbi5hcHBseShfLCBtb2R1bGVzKTsKICAgICAgcmV0dXJuIGZhY3RvcnkoY29udGV4dCwgR00sIGNvcmUsICQpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCB7CiAgICAgIGdldFJlc291cmNlVGV4dDogR01fZ2V0UmVzb3VyY2VUZXh0LAogICAgICBhZGRTdHlsZTogR01fYWRkU3R5bGUsCiAgICAgIGdldFJlc291cmNlVVJMOiBHTV9nZXRSZXNvdXJjZVVSTCwKICAgIH0sIGNvbnRleHQuXywgY29udGV4dC4kKTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKGNvbnRleHQsIEdNLCBfLCAkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICB2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7CiAgJC5vcGVuSW1hZ2UgPSBmdW5jdGlvbiAoaW1nU3JjLCBvcHRpb25zKSB7CiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgIHZhciByZXBsYWNlID0gISFvcHRpb25zLnJlcGxhY2U7CiAgICB2YXIgcmVmZXJlciA9ICEhb3B0aW9ucy5yZWZlcmVyOwogICAgaWYgKHJlcGxhY2UpIHsKICAgICAgcmVwbGFjZUJvZHkoaW1nU3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCQuY29uZmlnLnJlZGlyZWN0SW1hZ2UpIHsKICAgICAgJC5vcGVuTGluayhpbWdTcmMsIHsKICAgICAgICByZWZlcmVyOiByZWZlcmVyLAogICAgICB9KTsKICAgIH0KICB9OwogIGZ1bmN0aW9uIGVuYWJsZVNjcm9sbGluZyAoKSB7CiAgICB2YXIgbyA9IGRvY3VtZW50LmNvbXBhdE1vZGUgPT09ICdDU1MxQ29tcGF0JyA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGRvY3VtZW50LmJvZHk7CiAgICBvLnN0eWxlLm92ZXJmbG93ID0gJyc7CiAgfTsKICBmdW5jdGlvbiB0b2dnbGVTaHJpbmtpbmcgKCkgewogICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdhZHNieXBhc3Nlci1zaHJpbmtlZCcpOwogIH0KICBmdW5jdGlvbiBjaGVja1NjYWxpbmcgKCkgewogICAgdmFyIG53ID0gdGhpcy5uYXR1cmFsV2lkdGg7CiAgICB2YXIgbmggPSB0aGlzLm5hdHVyYWxIZWlnaHQ7CiAgICB2YXIgY3cgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICB2YXIgY2ggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgaWYgKChudyA+IGN3IHx8IG5oID4gY2gpICYmICF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWRzYnlwYXNzZXItcmVzaXphYmxlJykpIHsKICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhZHNieXBhc3Nlci1yZXNpemFibGUnKTsKICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhZHNieXBhc3Nlci1zaHJpbmtlZCcpOwogICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU2hyaW5raW5nKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTaHJpbmtpbmcpOwogICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2Fkc2J5cGFzc2VyLXNocmlua2VkJyk7CiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWRzYnlwYXNzZXItcmVzaXphYmxlJyk7CiAgICB9CiAgfQogIGZ1bmN0aW9uIHNjYWxlSW1hZ2UgKGkpIHsKICAgIHZhciBzdHlsZSA9IEdNLmdldFJlc291cmNlVGV4dCgnc2NhbGVJbWFnZScpOwogICAgR00uYWRkU3R5bGUoc3R5bGUpOwogICAgaWYgKGkubmF0dXJhbFdpZHRoICYmIGkubmF0dXJhbEhlaWdodCkgewogICAgICBjaGVja1NjYWxpbmcuY2FsbChpKTsKICAgIH0gZWxzZSB7CiAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNoZWNrU2NhbGluZyk7CiAgICB9CiAgICB2YXIgaDsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaCk7CiAgICAgIGggPSB3aW5kb3cuc2V0VGltZW91dChjaGVja1NjYWxpbmcuYmluZChpKSwgMTAwKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBjaGFuZ2VCYWNrZ3JvdW5kICgpIHsKICAgIHZhciBiZ0ltYWdlID0gR00uZ2V0UmVzb3VyY2VVUkwoJ2JnSW1hZ2UnKTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMyMjIyMjInOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBfLlQoJ3VybChcJ3swfVwnKScpKGJnSW1hZ2UpOwogIH0KICBmdW5jdGlvbiBhbGlnbkNlbnRlciAoKSB7CiAgICB2YXIgc3R5bGUgPSBHTS5nZXRSZXNvdXJjZVRleHQoJ2FsaWduQ2VudGVyJyk7CiAgICBHTS5hZGRTdHlsZShzdHlsZSk7CiAgfQogIGZ1bmN0aW9uIGluamVjdFN0eWxlIChkLCBpKSB7CiAgICAkLnJlbW92ZU5vZGVzKCdzdHlsZSwgbGlua1tyZWw9c3R5bGVzaGVldF0nKTsKICAgIGQuaWQgPSAnYWRzYnlwYXNzZXItd3JhcHBlcic7CiAgICBpLmlkID0gJ2Fkc2J5cGFzc2VyLWltYWdlJzsKICB9CiAgZnVuY3Rpb24gcmVwbGFjZUJvZHkgKGltZ1NyYykgewogICAgaWYgKCEkLmNvbmZpZy5yZWRpcmVjdEltYWdlKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICghaW1nU3JjKSB7CiAgICAgIF8ud2FybignZmFsc2UgdXJsJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIF8uaW5mbyhfLlQoJ3JlcGxhY2luZyBib2R5IHdpdGggYHswfWAgLi4uJykoaW1nU3JjKSk7CiAgICAkLnJlbW92ZUFsbFRpbWVyKCk7CiAgICBlbmFibGVTY3JvbGxpbmcoKTsKICAgIGRvY3VtZW50LmJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7CiAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkKTsKICAgIHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBpLnNyYyA9IGltZ1NyYzsKICAgIGQuYXBwZW5kQ2hpbGQoaSk7CiAgICBpZiAoJC5jb25maWcuYWxpZ25DZW50ZXIgfHwgJC5jb25maWcuc2NhbGVJbWFnZSkgewogICAgICBpbmplY3RTdHlsZShkLCBpKTsKICAgIH0KICAgIGlmICgkLmNvbmZpZy5hbGlnbkNlbnRlcikgewogICAgICBhbGlnbkNlbnRlcigpOwogICAgfQogICAgaWYgKCQuY29uZmlnLmNoYW5nZUJhY2tncm91bmQpIHsKICAgICAgY2hhbmdlQmFja2dyb3VuZCgpOwogICAgfQogICAgaWYgKCQuY29uZmlnLnNjYWxlSW1hZ2UpIHsKICAgICAgc2NhbGVJbWFnZShpKTsKICAgIH0KICB9OwogIHJldHVybiAkOwp9KSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IFsKICAgIHsKICAgICAgaG9zdDogL14xKGRsfGJlKVwuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cd1wucGhwJC8sCiAgICAgIHF1ZXJ5OiAvXlw/XHdcL1xkKyQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL15pbWdcLjFkbFwuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cd1wucGhwJC8sCiAgICAgIHF1ZXJ5OiAvXlw/XHdcLyhbXGRcL10rKSQvLAogICAgfSwKICBdLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5tYWluIGEsIC5tYWluLWwgYScpOwogICAgJC5vcGVuSW1hZ2UoYS5ocmVmLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14xcGljc1wucnUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgnaW1nW2FsdCQ9IjFQaWNzLlJ1Il0nKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuKDJpXC4oc2t8Y3opfDJpbWdzXC5jb20pJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyN3cmFwMyBpbWcnKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBydW4gKCkgewogICAgdmFyIGkgPSAkKCcjaW1hZ2UnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT9pbWFnZShwZWFybHxjcmVzdClcLmNvbSQvLAogICAgICBwYXRoOiAvXlwvdmVyaWZ5XC8oLispJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkxpbmsoJy92aWV3LycgKyBtLnBhdGhbMV0pOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IFsKICAgICAgJ2h0dHA6Ly8qLmFibG9hZC5kZS9pbWFnZS5waHA/aW1nPSonLAogICAgICAnaHR0cDovL3d3dy5pbWFnZXVwLnJ1LyovKi8qLmh0bWwnLAogICAgICAnaHR0cDovL2l0bWFnZXMucnUvaW1hZ2Uvdmlldy8qLyonLAogICAgICB7CiAgICAgICAgaG9zdDogL14od3d3XC4pP2ltYWdlKHBlYXJsfGNyZXN0KVwuY29tJC8sCiAgICAgICAgcGF0aDogL15cL3ZpZXdcLy8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IHJ1biwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15hdmVudWV4eHhcLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2NvbnRlbnQgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL14oYjRoZXxmdWxsaW1nKVwuY29tLywKICAgICAgL15mYXN0cGljc1wubmV0LywKICAgICAgL15pZmFwXC5jby8sCiAgICBdLAogICAgcXVlcnk6IC9eXD92PShbXiZdKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5JbWFnZSgnL2ltYWdlcy8nICsgbS5xdWVyeVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1hZ2VwMnBcLmNvbSQvLAogICAgcXVlcnk6IC9eXD92PShbXiZdKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5JbWFnZSgnL2ltYWdlcy8nICsgbS5xdWVyeVsxXSArICcuanBlZycpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmJheWltZ1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjbWFpbkltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYmVlaW1nXC5jb20kLywKICAgIHBhdGg6IC9cL3ZpZXdcLy4qLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgnaW1nLmltZy1yZXNwb25zaXZlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cuYmlsZGVyLXNwYWNlLmRlLyouaHRtJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgaW1nID0gJCgnaW1nLnBpY3R1cmUnKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5iaWxkZXItdXBsb2FkLmV1L3Nob3cucGhwP2ZpbGU9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW5wdXRbdHlwZT1pbWFnZV0nKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9ibGFja2NhdHBpeC5jb20vdi5waHA/KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCd0ZCBjZW50ZXIgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cuY2FzaW1hZ2VzLmNvbS9pbWcucGhwPyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgndGQgYSBpbWcnKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9ed3d3XC54NDV4XC5pbmZvJC8sCiAgICAgIC9eKGltYWR1bHxteXBpeHh4XC5sb25lc3Rhcm5hdWdodHlnaXJscylcLmNvbSQvLAogICAgICAvXmdoYW5haW1hZ2VzXC5jbyQvLAogICAgICAvXmltZ3VyYmFuXC5pbmZvJC8sCiAgICAgIC9eZDY5XC5pbiQvLAogICAgXSwKICAgIHF1ZXJ5OiAvXD9wW210XT0oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuSW1hZ2UoJy8/ZGk9JyArIG0ucXVlcnlbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2phdmVsaXRlLnRrL3ZpZXdlci5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgndGFibGUgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15pbWdjaGlsaVwuKGNvbXxuZXQpJC8sCiAgICAgIC9eKHd3d1wuKT9waXhob3N0XC5vcmckLywKICAgIF0sCiAgICBwYXRoOiAvXlwvc2hvd1wvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUsICNhZCcpOwogICAgdHJ5IHsKICAgICAgJCgnI2FsbCcpLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIH0gY2F0Y2ggKGUpIHsKICAgIH0KICAgIHZhciBvID0gJCgnI3Nob3dfaW1hZ2UsICNpbWFnZScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmNyZFwuaHQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJy5jb250aW51ZSA+IGZvcm0gPiBpbnB1dFtuYW1lPWxpbmtdJyk7CiAgICAkLm9wZW5JbWFnZShpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9jdWJldXBsb2FkLmNvbS9pbS8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJ2ltZy5nYWxsZXJ5QmlnSW1nJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXmRhaWx5c3NcLm5ldCQvLAogICAgICAvZGFpbHktaW1nXC5jb20kLywKICAgICAgL2ltZy0zNjVcLmNvbSQvLAogICAgICAvXjM2NS1pbWdcLmNvbSQvLAogICAgICAvXmlcLmhlbnRhaS1kZGxcLm9yZyQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9pbWFnZVwvLiskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWFnZS12aWV3ZXItY29udGFpbmVyIGltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnh4eFwucG9ybjBkYXlcLmNvbSQvLAogICAgcGF0aDogL15cL2ltYWdlXC8uKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnbGlua1tyZWxePWltYWdlX3NyY10nKTsKICAgICQub3BlbkltYWdlKGkuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15kZXBpY1wubWUkLywKICAgICAgL14od3d3XC4pP3BpY2FtYXRpY1wuY29tJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3BpYycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltZyhkaW5vfHRpZ2VyfHphcClcLmNvbSQvLAogICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICBxdWVyeTogL15cP2ZpbGU9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbyA9ICQoJyNjdXJzb3JfbHVwYScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovLyouZGlyZWN0dXBsb2FkLm5ldC9maWxlLyouaHRtJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjSW1nRnJhbWUnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15laGR3YWxscGFwZXJzXC5vcmckLywKICAgIHBhdGg6IC9eXC9pbWFnZXNcLy4qJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcuZW50cnktY29udGVudC5jbGVhcmZpeCBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogWwogICAgewogICAgICBob3N0OiBbCiAgICAgICAgL14oZW1wdHlwaXh8aW1nZG9taW5vKVwuY29tJC8sCiAgICAgICAgL15vdmVyZHJlYW1cLmN6JC8sCiAgICAgICAgL153d3dcLnNleHNlZWltYWdlXC5jb20kLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL2ltYWdlXC8vLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL14xMFwuaW1hZ2VsZW9uXC5jb20kLywKICAgICAgcGF0aDogL15cL2ltZy0oLispXC5odG1sJC8sCiAgICB9LAogIF0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCcjZnVsbF9pbWFnZScpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec2V4eXhwaXhlbHNcLmNvbSQvLAogICAgcXVlcnk6IC9eXD92PS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyNmdWxsX2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15mYXN0cGljXC5ydSQvLAogICAgcGF0aDogL15cL3ZpZXdcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyNwaWNDb250YWluZXIgI2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cuZm90b2xpbmsuc3Uvdi5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2NvbnRlbnQgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vd3d3LmZvdG9zaWsucGwvcG9rYXpfb2JyYXplay9wZWxueS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2Eubm9ib3JkZXIgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15mcmVha2ltYWdlXC5jb20kLywKICAgICAgL153d3dcLmhvc3RwaWNcLm9yZyQvLAogICAgXSwKICAgIHBhdGg6IC9eXC92aWV3XC5waHAkLywKICAgIHF1ZXJ5OiAvXlw/ZmlsZW5hbWU9KFteJl0rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkltYWdlKCcvaW1hZ2VzLycgKyBtLnF1ZXJ5WzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2ZyZWVpbWd1cFwuY29tJC8sCiAgICBwYXRoOiAvXlwveHh4XC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCcjbWFpbmltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogWwogICAgJ2h0dHA6Ly9mdW5reWltZy5jb20vdmlld2VyLnBocD9pbWc9KicsCiAgICAnaHR0cDovL2Z1bmt5aW1nLmNvbS92aWV3LyonLAogIF0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3ZpZXdlciBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2dhbGxlcnkobm92YXxzZW5zZSlcLnNlJC8sCiAgICBwYXRoOiAvXlwvc2l0ZVwvdlwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNteVVuaXF1ZUltZycpLnBhcmVudE5vZGU7CiAgICAkLm9wZW5JbWFnZShpLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/Z2FsbGVyeW5vdmFcLnNlJC8sCiAgICBwYXRoOiAvXlwvc2l0ZVwvdmlld0ltYWdlXC8oXHcrKS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBjb25maXJtID0gJC5zZWFyY2hTY3JpcHRzKC9cJFwoIiNjb25maXJtSW1hZ2UiXCkudmFsXCgiKFteIl0rKSJcKS8pWzFdOwogICAgJC5wb3N0KCcvc2l0ZS92aWV3Q29uZmlybUNvZGUvJyArIG0ucGF0aFsxXSwgewogICAgICBjb25maXJtOiBjb25maXJtCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyYXdKc29uKSB7CiAgICAgIHZhciBqc29uID0gXy5wYXJzZUpTT04ocmF3SnNvbik7CiAgICAgIHZhciBkZWNvZGVkSFRNTCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGpzb24uY29udGVudCkuZGF0YTsKICAgICAgdmFyIGltZ1VSTCA9IGRlY29kZWRIVE1MLm1hdGNoKC88YSBocmVmPSIoW14iXSspIiB0YXJnZXQ9Il9ibGFuayI+LylbMV07CiAgICAgICQub3BlbkltYWdlKGltZ1VSTCk7CiAgICB9KTsKICB9LAp9KTsKKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CiAgdmFyIGhvc3RSdWxlID0gL15nb2ltYWdlaG9zdFwuY29tJC87CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IGhvc3RSdWxlLAogICAgICBwYXRoOiAvXlwveHh4XC9pbWFnZXNcLy8sCiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0UnVsZSwKICAgICAgcGF0aDogL15cL3h4eFwvKC4rKS8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkltYWdlKCcveHh4L2ltYWdlcy8nICsgbS5wYXRoWzFdKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IGhvc3RSdWxlLAogICAgICBxdWVyeTogL15cP3Y9KC4rKS8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkltYWdlKCcveHh4L2ltYWdlcy8nICsgbS5xdWVyeVsxXSk7CiAgICB9LAogIH0pOwp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuKGgtYW5pbWVzfGFkdWx0bW92ZSlcLmluZm8vLAogICAgcGF0aDogL15cLy4rXC8uK1wvLitcLmh0bWwkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5kbGJ1dHRvbjIgPiBhJyk7CiAgICAkLm9wZW5JbWFnZShhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2hlbnRhaW1nLmNvbS9tZy9sbmRleC0xLnBocD9pbWc9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJ2luZGV4LTEucGhwJyArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2hlbnRhaW1nLmNvbS9tZy9pbmRleC0xLnBocD9pbWc9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2NvbnRlbnQgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vd3d3Lmhvc3RpbmdwaWNzLm5ldC92aWV3ZXIucGhwP2lkPSonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWdfdmlld2VyJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vaWZvdG9zLnBsL3pvYmFjei8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkKCdtZXRhW3Byb3BlcnR5PSJvZzppbWFnZSJdJyk7CiAgICAkLm9wZW5JbWFnZShtLmNvbnRlbnQpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltYVwuc28kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNpbWFnZV9ibG9jayBhJyk7CiAgICAkLm9wZW5JbWFnZShhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICAnaHR0cDovL2ltYWdlMTgub3JnL3Nob3cvKicsCiAgICAnaHR0cDovL3NjcmVlbmxpc3QucnUvZGV0YWlscy5waHA/aW1hZ2VfaWQ9KicsCiAgICAnaHR0cDovL3d3dy5pbWFnZW5ldHouZGUvKi8qLmh0bWwnLAogIF0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCcjcGljdHVyZScpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1hZ2UyeW91XC5ydSQvLAogICAgcGF0aDogL15cL1xkK1wvXGQrLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnZGl2LnRfdGlwczIgZGl2ID4gaW1nJyk7CiAgICBpZiAoIWkpIHsKICAgICAgJC5vcGVuTGluaygnJywgewogICAgICAgIHBvc3Q6IHsKICAgICAgICAgIF9jb25maXJtOiAnJywKICAgICAgICB9LAogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2ltYWdlYXJuLmNvbS9pbWFnZS5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2ltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5pbWFnZWJhbS5jb20vaW1hZ2UvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBvID0gJCgnLmltYWdlLWNvbnRhaW5lciBpbWdbaWRdJyk7CiAgICAkLm9wZW5JbWFnZShvLnNyYywgewogICAgICByZXBsYWNlOiB0cnVlLAogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15pbWFnZWhlbGlcLmNvbSQvLAogICAgICAvXmltZ3R1YmVcLm5ldCQvLAogICAgICAvXnBpeGxpdlwuY29tJC8sCiAgICBdLAogICAgcGF0aDogL15cL2ltZy0oW2EtekEtWjAtOVwtXSspXC4uKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCdhW3JlbD0ibGlnaHRib3giXScpOwogICAgaWYgKCFhKSB7CiAgICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgICBwb3N0OiB7CiAgICAgICAgICBicm93c2VyX2ZpbmdlcnByaW50OiAnJywKICAgICAgICAgIGFkczogJzAnLAogICAgICAgIH0sCiAgICAgIH0pOwogICAgICByZXR1cm47CiAgICB9CiAgICAkLm9wZW5JbWFnZShhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5pbWFnZWhvdXNpbmcuY29tL2ltYWdlLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ3RkLnRleHRfaXRlbSBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pbWFnZW5vLmNvbS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWFnZV9kaXYgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vaW1hZ2VwaXgub3JnL2ltYWdlLyouaHRtbCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nW2JvcmRlcj0iMCJdJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIHJ1biAoKSB7CiAgICB2YXIgbyA9ICQoJyNkb3dubG9hZF9ib3ggaW1nW2lkXScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL153d3dcLmltYWdlcG9ydGVyXC5jb20kLywKICAgICAgcGF0aDogL15cL1x3ezEyfVwvLipcLmh0bWwkLywKICAgIH0sCiAgICByZWFkeTogcnVuLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXih3d3dcLik/KGltYWdlKGNhcnJ5fGR1bmt8cG9ydGVyfHN3aXRjaCl8cGljKGxlZXR8dHVyZWRpcHx0dXJldHVybil8aW1nc3BpY2UpXC5jb218KHBpY2xhbWJvfHlhbmtvaW1hZ2VzKVwubmV0JC8sCiAgICB9LAogICAgcmVhZHk6IHJ1biwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogWwogICAgewogICAgICBob3N0OiAvXmltYWdlc2NyZWFtXC5jb20kLywKICAgICAgcGF0aDogL15cL2ltZ1wvKHNvZnRcLyk/LywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT8ocGljdHVyZXNjcmVhbXxwaWN0dXJldmlwKVwuY29tJC8sCiAgICAgIHBhdGg6IC9eXC94XC8vLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogWwogICAgICAgIC9ecGljdHVyZXNjcmVhbVwuYXNpYSQvLAogICAgICAgIC9edXBsb2FkaW1hZ2VcLmV1JC8sCiAgICAgIF0sCiAgICB9LAogICAgewogICAgICBob3N0OiAvXnBvc3RzY3JlZW5zXC5pbmZvLywKICAgICAgcGF0aDogL15cLy4qLywKICAgIH0sCiAgXSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjc2hvcnRVUkwtY29udGVudCBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXihpbWFnZXNjcmVhbXxhbm9ucGljKVwuY29tJC8sCiAgICAgIC9eYWxsLXBvc3RlclwucnUkLywKICAgIF0sCiAgICBxdWVyeTogL15cP3Y9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWFnZW4gaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYnVubnlmb3J1bVwub3JnJC8sCiAgICBxdWVyeTogL15cP3Y9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2ltZ1t0aXRsZV49Q2xpY2tdJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBob3N0ID0gL15pbWFnZXNoYWNrXC51cyQvOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0LAogICAgICBwYXRoOiAvXlwvcGhvdG9cLy4rXC8oLispXC8oW15cL10rKS8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkltYWdlKF8uVCgnL2YvezB9L3sxfS8nKShtLnBhdGhbMV0sIG0ucGF0aFsyXSkpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogaG9zdCwKICAgICAgcGF0aDogL15cL2ZcLy4rXC9bXlwvXSsvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gJCgnI2Z1bGxpbWcnKTsKICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgfSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pbWFnZXNob3N0LnJ1L3Bob3RvLyovaWQqLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNicGhvdG8gYScpOwogICAgJC5vcGVuSW1hZ2UoYS5ocmVmKTsKICB9LAp9KTsKKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CiAgZnVuY3Rpb24gcnVuICgpIHsKICAgIHZhciBpID0gJCgnI2ltZ19vYmonKTsKICAgICQub3BlbkltYWdlKGkuc3JjLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcnVuMiAoKSB7CiAgICB2YXIgaSA9ICQoJyNpbWdfb2JqJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYywgewogICAgICByZXBsYWNlOiB0cnVlLAogICAgfSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogWwogICAgICB7CiAgICAgICAgaG9zdDogWwogICAgICAgICAgL153d3dcLihmcmVlYnVua2VyfGltZ2NhcnJ5fGltZ3Nob3RzKVwuY29tJC8sCiAgICAgICAgICAvXnd3d1wuaW1hZ2VzbmFrZVwuKGNvbXxvcmcpJC8sCiAgICAgICAgXSwKICAgICAgICBwYXRoOiAvXlwvc2hvd1wucGhwJC8sCiAgICAgICAgcXVlcnk6IC9eXD8vLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogL153d3dcLihmcmVlYnVua2VyfGltZ3Nob3RzKVwuY29tJC8sCiAgICAgICAgcGF0aDogL15cL3Nob3dcLy8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiBbCiAgICAgICAgICAvXnd3d1wuaW1hZ2VzbmFrZVwuKGNvbXxvcmcpJC8sCiAgICAgICAgICAvXnd3d1wuaW1hZ2VmcnVpdFwuY29tJC8sCiAgICAgICAgXSwKICAgICAgICBwYXRoOiAvXlwvKGltZ3xzaG93KVwvLisvLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogL15pbWFnZWJhblwuKHJ1fG5ldCkkLywKICAgICAgICBwYXRoOiAvXlwvc2hvd1wvXGR7NH1cL1xkezJ9XC9cZHsyfVwvLisvLAogICAgICB9LAogICAgICAnaHR0cDovL2ZvdG9vLnBsL3Nob3cucGhwP2ltZz0qLmh0bWwnLAogICAgICB7CiAgICAgICAgaG9zdDogL153d3dcLihmb3Rvc3pva1wucGx8aW1hZ2VzdGltZSlcLmNvbSQvLAogICAgICAgIHBhdGg6IC9eXC9zaG93XC5waHBcLy4qXC5odG1sJC8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IHJ1biwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL153d3dcLmltZ2NhcnJ5XC5jb20kLywKICAgICAgcGF0aDogL15cL3Nob3dcLy8sCiAgICB9LAogICAgcmVhZHk6IHJ1bjIsCiAgfSk7Cn0pKCk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIHJ1biAocnApIHsKICAgIGlmICgkLndpbmRvdy5qUXVlcnkpIHsKICAgICAgJC53aW5kb3cualF1ZXJ5LnByb3RvdHlwZS5hcHBlbmQgPSB1bmRlZmluZWQ7CiAgICB9CiAgICB2YXIgaSA9ICQoJ2ltZy5waWMnKTsKICAgICQub3BlbkltYWdlKGkuc3JjLCB7CiAgICAgIHJlcGxhY2U6IHJwLAogICAgfSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltYWdlbnBpY1wuY29tJC8sCiAgICAgIHBhdGg6IC9eXC8uKlwvLitcLmh0bWw/JC8sCiAgICB9LAogICAgcmVhZHk6IF8uUChydW4sIHRydWUpLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltYWdlY2hlcnJ5XC5jb20kLywKICAgIH0sCiAgICByZWFkeTogXy5QKHJ1biwgdHJ1ZSksCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1hZ2V0d2lzdFwuY29tJC8sCiAgICB9LAogICAgcmVhZHk6IF8uUChydW4sIGZhbHNlKSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pbWFnZXVwcGVyLmNvbS9pLz8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IFsKICAgICdodHRwOi8vKi5pbWFnZXZlbnVlLmNvbS9pbWcucGhwPyonLAogICAgJ2h0dHA6Ly9ob3RjaHl4LmNvbS9kL2FkdWx0LWltYWdlLWhvc3Rpbmctdmlldy0wOC5waHA/aWQ9KicsCiAgICAnaHR0cDovL3d3dy5ob3N0aW5nZmFpbG92LmNvbS9waG90by8qJywKICBdLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyN0aGVwaWMnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWFnZXppbGxhXC5uZXQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNwaG90bycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMsIHsKICAgICAgcmVmZXJlcjogdHJ1ZSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltYWdpa1wuZnIkLywKICAgIHBhdGg6IC9eXC92aWV3KC1ybCk/XC8oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuSW1hZ2UoJy91cGxvYWRzLycgKyBtLnBhdGhbMl0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2ltZy4zZXp5Lm5ldC8qLmh0bScsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJCgnbGlua1tyZWw9ImltYWdlX3NyYyJdJyk7CiAgICAkLm9wZW5JbWFnZShsLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2ltZzEuaW1hZ2lsaXZlLmNvbS8qLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQuJCgnI3BhZ2UgYS5idXR0b24nKTsKICAgIGlmIChhKSB7CiAgICAgICQucmVkaXJlY3QoYS5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGkgPSAkKCcjcGFnZSA+IGltZzpub3QoW2lkXSknKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWcyNFwub3JnJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkLiQoJ2ltZy5pbWctcG9sYXJvaWQgKyBmb3JtJyk7CiAgICBpZiAoZikgewogICAgICBmLnN1Ym1pdCgpOwogICAgICByZXR1cm47CiAgICB9CiAgICBmID0gJCgnaW1nLmltZy1wb2xhcm9pZCcpOwogICAgJC5vcGVuSW1hZ2UoZi5zcmMsIHsKICAgICAgcmVmZXJlcjogdHJ1ZSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltZzN4XC5uZXQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQuJCgnZm9ybScpOwogICAgaWYgKGYpIHsKICAgICAgZi5zdWJtaXQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZiA9ICQoJyNzaG93X2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShmLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5pbWcoYmFiZXN8ZmxhcmUpXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnaW5wdXRbb25jbGlja10nKTsKICAgIGlmIChpKSB7CiAgICAgICQud2luZG93LkRlY29kZSgpOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgaSA9ICQoJyN0aGlzX2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1nYmFyXC5uZXQkLywKICAgIHBhdGg6IC9eXC9pbWdfc2hvd1wucGhwJC8sCiAgICBxdWVyeTogL15cP3ZpZXdfaWQ9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2NlbnRlciBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdiYXJcLm5ldCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnZGl2LnBhbmVsLnRvcCBmb3JtIGlucHV0W25hbWU9c2lkXScpOwogICAgJC5vcGVuTGluaygnL2ltZ19zaG93LnBocD92aWV3X2lkPScgKyBpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdiaW5cLm1lJC8sCiAgICBwYXRoOiAvXlwvdmlld1wvKFtBLVpdKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHRwbCA9IF8uVCgnL2ltYWdlL3swfS5qcGcnKTsKICAgICQub3BlbkltYWdlKHRwbChtLnBhdGhbMV0pKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdib3hcLmNvbSQvLAogICAgcGF0aDogL15cL1tcZFx3XSskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBpID0gJCgnI2ltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBoZWxwZXIgKGRvUmVwbGFjZSkgewogICAgaWYgKCQud2luZG93LmNvbmZpcm1BZ2UpIHsKICAgICAgJC53aW5kb3cuY29uZmlybUFnZSgxKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGkgPSAkKCcjY29udGFpbmVyLWhvbWUgaW1nW29uY2xpY2tdJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYywgewogICAgICByZXBsYWNlOiBkb1JlcGxhY2UsCiAgICB9KTsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmltZyhmYW50YXN5fGxlZWNofFwucG9ybmxlZWNofHNtaWxlfG5lbW98c2Vuc2V8Y3VybClcLmNvbSQvLAogICAgICAgIC9eKGltYWdlZG9taW5vfGxvdmVjaGl4fGltYWdlYmljKVwuY29tJC8sCiAgICAgICAgL14waW1nXC5uZXQkLywKICAgICAgICAvXmRhaWx5LWltZ1wuY29tJC8sCiAgICAgICAgL15waWNhbmdlbFwuaW4kLywKICAgICAgICAvXmJ1bm55Zm9ydW1cLm9yZyQvLAogICAgICBdLAogICAgICBxdWVyeTogL15cP1twdl09LywKICAgIH0sCiAgICByZWFkeTogXy5QKGhlbHBlciwgZmFsc2UpLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltZ3NheVwuY29tJC8sCiAgICAgIHF1ZXJ5OiAvXlw/W3B2XT0vLAogICAgfSwKICAgIHJlYWR5OiBfLlAoaGVscGVyLCB0cnVlKSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdsb2NrZXJcLmNvbSQvLAogICAgcGF0aDogWwogICAgICAvXihcL1x3KylcLyguKylcLmh0bWwkLywKICAgICAgL14oXC9cdyspXC8oLispJC8sCiAgICBdLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gXy5UKCcvL2ltZy5pbWdsb2NrZXIuY29tezB9X3sxfScpOwogICAgJC5vcGVuSW1hZ2UodXJsKG0ucGF0aFsxXSwgbS5wYXRoWzJdKSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15pbWdub3ZhXC54eXokLywKICAgICAgL153d3dcLmhlbnRhaS1ob3RcLnh5eiQvLAogICAgICAvXnd3d1wuaGVudGFpLWtpbmdcLm9ubGluZSQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9pXC8uK1wucGhwJC8sCiAgICBxdWVyeTogL2Y9KC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5JbWFnZSgnZi8nICsgbS5xdWVyeVsxXSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBQQVRIX1JVTEUgPSAvXlwvKFswLTlhLXpBLVpdKykoXC58XC98JCkvOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL15pbWcodW5pdmVyc2FsfHBheWluZ3xtZWdhfHpldXN8bW9ua2V5fHRyZXh8dmV8ZGV3fGRpYW1vbmQpXC5jb20kLywKICAgICAgICAvXih3d3dcLik/aW1nc2VlXC5tZSQvLAogICAgICAgIC9eaW1nKGNsaWNrfG1haWQpXC5uZXQkLywKICAgICAgICAvXih1cGxvYWRycnxpbWFnZWVlcnxpbXpkcm9wfHd3d1wudWltZ3NoYXJlfHBpYy1tYW5pYWN8aHVsa2ltZ2UpXC5jb20kLywKICAgICAgICAvXmltZ2RyaXZlXC5jbyQvLAogICAgICAgIC9eY3V0ZWltZ1wuY2MkLywKICAgICAgICAvXmltZyh0aWdlcnxnb2xkKVwub3JnJC8sCiAgICAgICAgL15teWltZ1wuY2x1YiQvLAogICAgICAgIC9eZm94eWltZ1wubGluayQvLAogICAgICAgIC9eKGNvcmV8aXJvbilpbWdcLm5ldCQvLAogICAgICBdLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIGhlbHBlcihtLnBhdGhbMV0sIGdldE5leHQxKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmltZ3ZpZXdcLm5ldCQvLAogICAgICAgIC9eaW1nKG1hemV8b3V0bGV0KVwuY29tJC8sCiAgICAgIF0sCiAgICAgIHBhdGg6IFBBVEhfUlVMRSwKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgaSA9ICQuJCgnaW1nLnBpYycpOwogICAgICBpZiAoaSkgewogICAgICAgICQub3BlbkltYWdlKGkuc3JjKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGQgPSAkKCdkaXZbaWRePSJpbWFnZXZpZXdpIl0nKTsKICAgICAgd2FpdERPTShkLCBmdW5jdGlvbiAobm9kZSkgewogICAgICAgIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnRk9STScgJiYgJC4kKCdpbnB1dFtuYW1lPSJpZCJdJywgbm9kZSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICBub2RlLnN1Ym1pdCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF8ud2FybihlKTsKICAgICAgfSk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltZyhyb2NrfHRvd24pXC5uZXQkLywKICAgICAgcGF0aDogUEFUSF9SVUxFLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gJC4kKCdpbWcucGljJyk7CiAgICAgIGlmIChpKSB7CiAgICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBnZXRBbWJpZ3VvdXNGb3JtKCd0ZDpudGgtY2hpbGQoMikgPiBjZW50ZXIgPiBkaXZbaWRdJykudGhlbihmdW5jdGlvbiAobm9kZSkgewogICAgICAgIG5vZGUuc3VibWl0KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgXy53YXJuKGUpOwogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1nb3V0bGV0XC5jbyQvLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSAkLiQoJ2ltZy5waWMnKTsKICAgICAgaWYgKGkpIHsKICAgICAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGdldEFtYmlndW91c0Zvcm0oJy5pbm5lciA+IGNlbnRlciA+IGRpdltpZF0nKS50aGVuKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgbm9kZS5zdWJtaXQoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfLndhcm4oZSk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15jaHJvbm9zXC50byQvLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIGhlbHBlcihtLnBhdGhbMV0sIGdldE5leHQyKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1nZmlsZXNcLm9yZyQvLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIHZhciBpID0gJC4kKCdpbWcucGljJyk7CiAgICAgIGlmIChpKSB7CiAgICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgZiA9ICQoJ2Zvcm0nKTsKICAgICAgZi5zdWJtaXQoKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiAnaHR0cDovL2ltZ3ZpZXcubmV0L3RwaW5kLnBocCcsCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgaSA9ICQuJCgnaW1nLnBpYycpOwogICAgICBpZiAoaSkgewogICAgICAgICQub3BlbkltYWdlKGkuc3JjLCB7cmVwbGFjZTogdHJ1ZX0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBfLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZCA9ICQoJ2RpdltpZF49ImltYWdldmlld2kiXSBpbnB1dFt0eXBlPSJzdWJtaXQiXVtzdHlsZT0iIl0nKTsKICAgICAgICBkID0gZC5wYXJlbnROb2RlOwogICAgICAgIGQuc3VibWl0KCk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IC9eaHR0cDpcL1wvaW1nZHJhZ29uXC5jb21cLyhnZXRmaWxcLnBocHxkbCkkLywKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gJC4kKCdpbWcucGljJyk7CiAgICAgIGlmIChpKSB7CiAgICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBfLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZiA9ICQoJyNDb250aW51ZUZSTScpOwogICAgICAgIGYuc3VibWl0KCk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICBmdW5jdGlvbiB3YWl0RE9NIChlbGVtZW50LCBmbikgewogICAgcmV0dXJuIF8uRChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlICE9PSAnY2hpbGRMaXN0JykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgcmVzdWx0ID0gXy5DKG11dGF0aW9uLmFkZGVkTm9kZXMpLmZpbmQoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICAgIHJldHVybiBmbihjaGlsZCkgPyBjaGlsZCA6IF8ubm9uZTsKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKCFyZXN1bHQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgICAgICAgcmVzb2x2ZShyZXN1bHQucGF5bG9hZCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHsKICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgIH0pOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGdldEFtYmlndW91c0Zvcm0gKHNlbGVjdG9yKSB7CiAgICB2YXIgZCA9ICQoc2VsZWN0b3IpOwogICAgdmFyIHZpc2libGVDbGFzc2VzID0gbnVsbDsKICAgIHJldHVybiB3YWl0RE9NKGQsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIGlmIChub2RlLm5vZGVOYW1lID09PSAnU1RZTEUnKSB7CiAgICAgICAgdmlzaWJsZUNsYXNzZXMgPSBwYXJzZVN0eWxlKG5vZGUpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ0ZPUk0nICYmIG5vZGUub2Zmc2V0UGFyZW50ICE9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHZpc2libGVDbGFzc2VzLnNvbWUoZnVuY3Rpb24gKGNsYXNzXykgewogICAgICAgICAgdmFyIGlzVmlzaWJsZSA9IG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzXyk7CiAgICAgICAgICBpZiAoIWlzVmlzaWJsZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYnV0dG9uID0gJC4kKCdpbnB1dFt0eXBlPSJzdWJtaXQiXScsIG5vZGUpOwogICAgICAgICAgaWYgKCFidXR0b24pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSc7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHBhcnNlU3R5bGUgKHN0eWxlKSB7CiAgICBzdHlsZSA9IHN0eWxlLnRleHRDb250ZW50OwogICAgdmFyIHBhdHRlcm4gPSAvXC4oXHcrKVx7dmlzaWJpbGl0eTppbml0aWFsO1x9L2c7CiAgICB2YXIgcnYgPSBudWxsOwogICAgdmFyIGNsYXNzZXMgPSBbXTsKICAgIHdoaWxlICgocnYgPSBwYXR0ZXJuLmV4ZWMoc3R5bGUpKSAhPT0gbnVsbCkgewogICAgICBjbGFzc2VzLnB1c2gocnZbMV0pOwogICAgfQogICAgcmV0dXJuIGNsYXNzZXM7CiAgfQogIGZ1bmN0aW9uIGdvIChpZCwgcHJlLCBuZXh0KSB7CiAgICAkLm9wZW5MaW5rKCcnLCB7CiAgICAgIHBvc3Q6IHsKICAgICAgICBvcDogJ3ZpZXcnLAogICAgICAgIGlkOiBpZCwKICAgICAgICBwcmU6IHByZSwKICAgICAgICBuZXh0OiBuZXh0LAogICAgICAgIGFkYjogJzAnLAogICAgICB9LAogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGdldE5leHQxIChpKSB7CiAgICByZXR1cm4gaS52YWx1ZTsKICB9CiAgZnVuY3Rpb24gZ2V0TmV4dDIgKGkpIHsKICAgIHZhciBuZXh0ID0gaS5vbmNsaWNrICYmIGkub25jbGljay50b1N0cmluZygpLm1hdGNoKC92YWx1ZT0nKFteJ10rKScvKTsKICAgIGlmIChuZXh0KSB7CiAgICAgIG5leHQgPSBuZXh0WzFdOwogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBpLnZhbHVlOwogICAgfQogIH0KICBmdW5jdGlvbiBoZWxwZXIgKGlkLCBnZXROZXh0KSB7CiAgICB2YXIgcmVjYXB0Y2hhID0gJC4kKCcjcmVjYXB0Y2hhX3dpZGdldCwgI2NhcHRjaGEnKTsKICAgIGlmIChyZWNhcHRjaGEpIHsKICAgICAgXy5pbmZvKCdzdG9wIGJlY2F1c2UgcmVjYXB0Y2hhJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBpID0gJC4kKCdpbnB1dFtuYW1lPSJuZXh0Il0nKTsKICAgIGlmIChpKSB7CiAgICAgIHZhciBuZXh0ID0gZ2V0TmV4dChpKTsKICAgICAgZ28oaWQsICQoJ2lucHV0W25hbWU9InByZSJdJykudmFsdWUsIG5leHQpOwogICAgICByZXR1cm47CiAgICB9CiAgICBpID0gJC4kKCdpbWcucGljJyk7CiAgICBpZiAoaSkgewogICAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIF8uaW5mbygnZG8gbm90aGluZycpOwogIH0KfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14oaW1nc3VyZXxwaWNleHBvc2VkKVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdpbWcucGljJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vaW1ndGhlaWYuY29tL2ltYWdlLyouaHRtbCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnZGl2LmNvbnRlbnQtY29udGFpbmVyIGEnKTsKICAgICQub3BlbkltYWdlKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1ndG9ycm50XC5pbiQvLAogICAgcGF0aDogL15cL3ZpZXdcLnBocCQvLAogICAgcXVlcnk6IC9eXD9pZD0uKi8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJ2NlbnRlciBkaXYgdGFibGUudGcgdGJvZHkgdHIgdGQgY2VudGVyIGltZycpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1ndmF1bHRcLnB3JC8sCiAgICBwYXRoOiAvXlwvdmlldy1pbWFnZVwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2FydGljbGUgZGl2LnNwYW43IGFbdGFyZ2V0PSJfYmxhbmsiXScpOwogICAgJC5vcGVuSW1hZ2UoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pcGljLnN1Lz9wYWdlPWltZyZwaWM9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2Z6Jyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eamF2Y2l0eVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcuZW50cnktY29udGVudCA+IGgxOm50aC1jaGlsZCgxKSA+IGE6bnRoLWNoaWxkKDEpJyk7CiAgICB2YXIgdXJsID0gYS5vbmNsaWNrLnRvU3RyaW5nKCk7CiAgICB1cmwgPSB1cmwubWF0Y2goL3dpbmRvd1wub3BlblwoJyhbXiddKyknXCkvKTsKICAgIGlmICghdXJsKSB7CiAgICAgIF8uaW5mbygncGF0dGVybiBjaGFuZ2VkJykKICAgICAgcmV0dXJuOwogICAgfQogICAgJC5vcGVuSW1hZ2UodXJsWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15rZXB0YXJvbG9cLmh1JC8sCiAgICBwYXRoOiAvXihcL1teXC9dK1wvW15cL10rXC5qcGcpJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkltYWdlKCdodHRwOi8vd3d3LmtlcHRhcm9sby5odS9rZXAnICsgbS5wYXRoWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15sb3N0cGljXC5uZXQkLywKICAgIHF1ZXJ5OiAvXlw/cGhvdG89XGQrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdpbWcubm90aW5saW5lLmNpcmNsZScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBoZWxwZXIgKG0pIHsKICAgICQub3BlbkltYWdlKCcvaW1hZ2VzLycgKyBtLnF1ZXJ5WzFdKTsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXihoZW50YWktaG9zdGluZ3xtaXJhZ2VwaWNzfGZ1bmV4dHJhXC5ob3N0eml8aW1ncmV4fGNkblwuamF2dG90YWx8aW1nM3gpXC5jb20kLywKICAgICAgICAvXmJpbGRlclwubml4aGVscFwuZGUkLywKICAgICAgICAvXmltYWdlY3VybFwuKGNvbXxvcmcpJC8sCiAgICAgICAgL15pbWFnZXZhdVwuZXUkLywKICAgICAgICAvXmltZ1wuZGVsaVwuc2gkLywKICAgICAgICAvXmltZyhkcmVhbXxzb298bm18c2lsbylcLm5ldCQvLAogICAgICAgIC9eaW1nc2ljaWx5XC5pdCQvLAogICAgICAgIC9ed3d3XC5pbWdoZXJlXC5uZXQkLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogaGVscGVyLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL14oZHdpbWd8aW1nc2luKVwuY29tJC8sCiAgICAgICAgL153d3dcLnBpY3R1cmVzaG9zdGVyXC5jb20kLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuSW1hZ2UoJy9maWxlcy8nICsgbS5xdWVyeVsxXSk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL15pbWcobmlwfGNlbnRyYWx8Y3JlYW0pXC5jb20kLywKICAgICAgICAvXmltYWdldmlld1wubWUkLywKICAgICAgICAvXjI0NHBpeFwuY29tJC8sCiAgICAgICAgL15wb3N0aW1nXC5uZXQkLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3ZpZXdlcnIuKlwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogaGVscGVyLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogWwogICAgICAnaHR0cDovL3d3dy5vdmVycGljLm5ldC92aWV3ZXIucGhwP2ZpbGU9KicsCiAgICBdLAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSAkKCcjbWFpbl9pbWcnKTsKICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15kdW1wcGl4XC5jb20kLywKICAgICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuSW1hZ2UoJy9pbWFnZXMvJyArIG0ucXVlcnlbMV0sIHsKICAgICAgICByZWZlcmVyOiB0cnVlLAogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eeHh4aG9zdFwubWUkLywKICAgICAgcGF0aDogL15cL3ZpZXdlclxkK1wucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuSW1hZ2UoJ2ZpbGVzLycgKyBtLnF1ZXJ5WzFdKTsKICAgIH0sCiAgfSk7Cn0pKCk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5tcmpoXC5vcmckLywKICAgIHBhdGg6IC9eXC9nYWxsZXJ5XC5waHAkLywKICAgIHF1ZXJ5OiAvXlw/ZW50cnk9KC4rKSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gbS5xdWVyeVsxXTsKICAgICQub3BlbkltYWdlKCcvJyArIHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5ub2Vsc2hhY2tcLmNvbSQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgdmFyIGkgPSAkKCcjZWx0X3RvX2FmZicpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3BpYy1tb25leS5ydS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9IGRvY3VtZW50LmZvcm1zWzBdOwogICAgdmFyIHNpZyA9ICQoJ2lucHV0W25hbWU9InNpZyJdJywgZikudmFsdWU7CiAgICB2YXIgcGljX2lkID0gJCgnaW5wdXRbbmFtZT0icGljX2lkIl0nLCBmKS52YWx1ZTsKICAgIHZhciByZWZlcmVyID0gJCgnaW5wdXRbbmFtZT0icmVmZXJlciJdJywgZikudmFsdWU7CiAgICB2YXIgdXJsID0gXy5UKCcvcGljLmpwZWc/cGljX2lkPXtwaWNfaWR9JnNpZz17c2lnfSZyZWZlcmVyPXtyZWZlcmVyfScpOwogICAgJC5vcGVuSW1hZ2UodXJsKHsKICAgICAgc2lnOiBzaWcsCiAgICAgIHBpY19pZDogcGljX2lkLAogICAgICByZWZlcmVyOiByZWZlcmVyLAogICAgfSkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5waWMtdXBsb2FkLmRlL3ZpZXctKi5odG1sJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnLmFkdmVydCcpOwogICAgdmFyIGkgPSAkKCdpbWcucHJldmlld19waWN0dXJlXzJiLCBpbWcub3JpZ2luYWxfcGljdHVyZV8yYicpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnBpYygycHJvZml0fHAyKVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdmb3JtID4gI2QxIH4gaW5wdXRbbmFtZT1iaWdpbWddJyk7CiAgICAkLm9wZW5JbWFnZShpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15waWMoNHw1KXlvdVwucnUkLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICBpZiAoJC4kKCcjZDEgPiBpbWcnKSAhPSBudWxsKSB7CiAgICB2YXIgVVJMcGFyYW1zID0gbG9jYXRpb24uaHJlZi5zcGxpdCgiLyIsIDUpOwogICAgdmFyIG5leHQgPSBVUkxwYXJhbXNbMF0gKyAnLycgKyBVUkxwYXJhbXNbMV0gKyAnLycgKyBVUkxwYXJhbXNbMl0gKyAnLycgKyBVUkxwYXJhbXNbM10gKyAnLycgKyBVUkxwYXJhbXNbNF0gKyAnLzEvJzsKICAgICQuc2V0Q29va2llKCdwNHljbGljaycsJzEnKTsKICAgICQub3BlbkxpbmsobmV4dCk7CiAgfSBlbHNlIHsKICAgIHZhciBpID0gJCgnI2QxIGltZycpLnNyYzsKICAgICQub3BlbkltYWdlKGkpOwogIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3BpY2Nhc2hcLm5ldCQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogIHZhciBpID0gJCgnLmNvbnRhaW5lciA+IGltZycpOwogIHZhciBtID1pLm9uY2xpY2sudG9TdHJpbmcoKS5tYXRjaCgvbXNob3dcKCcoW14nXSspJ1wpOy8pOwogICQub3BlbkltYWdlKG1bMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICAnaHR0cDovL2FtYXRldXJmcmVhay5vcmcvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vYW1hdGV1cmZyZWFrLm9yZy9zaGFyZS5waHA/aWQ9KicsCiAgICAnaHR0cDovL2ltYWdlcy5tYXhpZ2FtZS5ieS9zaGFyZS0qLmh0bWwnLAogICAgJ2h0dHA6Ly9waWNmb3gub3JnLyonLAogICAgJ2h0dHA6Ly93d3cuZXVyby1waWMuZXUvc2hhcmUucGhwP2lkPSonLAogICAgJ2h0dHA6Ly93d3cuZ3JhdGlzaW1hZ2UuZGsvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8veHh4LmZyZWVpbWFnZS51cy9zaGFyZS5waHA/aWQ9KicsCiAgICAnaHR0cDovL25waWN0dXJlLm5ldC9zaGFyZS0qLmh0bWwnLAogICAgJ2h0dHA6Ly93d3cub25saW5lcGljLm5ldC9zaGFyZS5waHA/aWQ9KicsCiAgICAnaHR0cDovL3d3dy5waXhzb3IuY29tL3NoYXJlLnBocD9pZD0qJywKICAgICdodHRwOi8vd3d3LnBpeHNvci5jb20vc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vcGl4c29yLmNvbS9YWFgvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vaG9sZHRoZW1vYW4ubmV0L3gvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vaW1ndXJ4Lm5ldC94L3NoYXJlLSouaHRtbCcsCiAgICAnaHR0cDovL3d3dy5pbWd6LnB3L3NoYXJlLSouaHRtbCcsCiAgXSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG8gPSAkKCcjaWltZycpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3BpY21vZS5uZXQvZC5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IFsKICAgICdodHRwOi8vcGljcy1tb25leS5ydS9hbGxwaWNmcmVlLyonLAogICAgJ2h0dHA6Ly93d3cucGljcy1tb25leS5ydS9hbGxpbWFnZS8qJywKICBdLAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15waWNzLW1vbmV5XC5ydSQvLAogICAgcGF0aDogL15cL3ZcLnBocCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIGkgPSAkKCdjZW50ZXIgaW1nOm5vdChbaWRdKScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucGljcy1tb25leVwucnUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBpID0gJCgnI2QxIGltZycpOwogICAgaSA9IGkub25jbGljay50b1N0cmluZygpOwogICAgaSA9IGkubWF0Y2goL21zaG93XCgnKC4rKSdcKS8pOwogICAgaSA9IGlbMV07CiAgICAkLm9wZW5JbWFnZShpKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9waWNzaGFyZS5nZWVuemEuY29tL3BpY3MvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3BpY1NoYXJlX2ltYWdlX2NvbnRhaW5lcicpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnBpY3N0cmVhbVwudHYkLywKICAgIHBhdGg6IC9eXC8uKlwvLipcLmh0bWwkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgnI3ZpZXcxID4gZGl2Om50aC1jaGlsZCgxKSA+IGltZzpudGgtY2hpbGQoMSknKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/cGltcGFuZGhvc3RcLmNvbSQvLAogICAgcGF0aDogL15cL2ltYWdlXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI2ltYWdlX29yaWdpbmFsJyk7CiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGVsLmlubmVySFRNTCA9IGEudmFsdWU7CiAgICB2YXIgaW1nID0gJCgnaW1nJywgZWwpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ecGl4aHViXC5ldSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZSwgLmFkdWx0cGFnZSwgI0ZGTl9CYW5uZXJfSG9sZGVyJyk7CiAgICB2YXIgaSA9ICQoJy5pbWFnZS1zaG93IGltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/cGl4cm91dGVcLmNvbSQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG8gPSAkKCcuZnI0bWUgPiBkaXY6bnRoLWNoaWxkKDIwKSA+IGE6bnRoLWNoaWxkKDEpID4gaW1nOm50aC1jaGlsZCgxKScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucGl4c2Vuc2VcLm5ldCQvLAogICAgcGF0aDogL15cL3NpdGVcL3ZcL1xkKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI215VW5pcXVlSW1nJykucGFyZW50Tm9kZTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15waXh4eGVsc1wub3JnJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQuJCgnI21haW4taW1hZ2UnKTsKICAgICQub3BlbkltYWdlKGltZy5kYXRhc2V0LmZ1bGwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucG9ybmltYWdleFwuY29tJC8sCiAgICBwYXRoOiAvXlwvaW1hZ2VcLy4qJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyNmaXhlZCBpbWcuYm9yZGVyMnB4Jyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wcm50c2NyXC5jb20kLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3NjcmVlbnNob3QtaW1hZ2UnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wcm9ucGljXC5vcmckLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsQmFzZUltZyA9ICQoJ3RhYmxlLm5ld190YWJsZTI6bnRoLWNoaWxkKDEpIGltZy5saW5rJyk7CiAgICB2YXIgYmFzZVVybCA9IHVybEJhc2VJbWcuc3JjLnNwbGl0KCd0aF8nKVswXTsKICAgIHZhciBpbWcgPSAkKCd0YWJsZS5uZXdfdGFibGUyOm50aC1jaGlsZCgyKSBpbWcubGluaycpOwogICAgdmFyIHVybCA9IGJhc2VVcmwgKyBpbWcuc3JjLnNwbGl0KCd0aF8nKVsxXTsKICAgICQub3BlbkltYWdlKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHFycnJvfGdyZWVucGljY3MpXC5jb20kLywKICAgIHBhdGg6IC9eKFwvaW1hZ2VzXC8uKylcLmh0bWwkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuSW1hZ2UobS5wYXRoWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15yYWRpa2FsXC5ydSQvLAogICAgcGF0aDogL15cL2JpZ1wvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnLmJhc2UtcGFnZV9jZW50ZXIgPiBkaXY6bnRoLWNoaWxkKDIpID4gaW1nOm50aC1jaGlsZCgxKScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBhY3Rpb24gKGZpcnN0U2VsZWN0b3IsIHNlY29uZFNlbGVjdG9yKSB7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUsICNhZGJsb2NrX2RldGVjdCwgLnBvcHVwT3ZlcmxheScpOwogICAgdmFyIG5vZGUgPSAkLiQoZmlyc3RTZWxlY3Rvcik7CiAgICBpZiAobm9kZSkgewogICAgICBfLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsKICAgICAgICByZXR1cm4gXy53YWl0KDUwMCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIG5vZGUuZm9jdXMoKTsKICAgICAgICBub2RlLmNsaWNrKCk7CiAgICAgICAgbm9kZS5jbGljaygpOwogICAgICAgIG5vZGUuY2xpY2soKTsKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBpID0gJChzZWNvbmRTZWxlY3Rvcik7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfQogIHZhciBkZWZhdWx0QWN0aW9uID0gXy5QKGFjdGlvbiwgJyNjb250aW51ZXRvaW1hZ2UgPiBmb3JtIGlucHV0JywgJ2ltZ1tjbGFzc149Y2VudHJlZF0nKTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IFsKICAgICAgewogICAgICAgIGhvc3Q6IFsKICAgICAgICAgIC9eaW1hZ2Uob250aW1lfGNvcm58cGljc2F8aG9yc2V8ZGVjb2RlKVwuY29tJC8sCiAgICAgICAgICAvXih6b25lemVlZHx6ZWxqZXxjcm9mdHxteWhvdHxib2t8aG9zdHVyfGdyZWFzeXxkYW0paW1hZ2VcLmNvbSQvLAogICAgICAgICAgL15pbWcoaWN5fG5leHR8c2F2dnl8XC5zcGljeXppbGxhfHR3eXRpfHh5enxkZXZpbHx0emFyfGJhbnxwdXxiZWVyfHdldHx0b3JuYWRvfGtpY2tzfG5pbXp8YmluYm91fDJzaGFyZXwyMnxjb3ZlcnxoaXR8bWFpbnx0cmlhbHxibGFua3xyZXB1dGF8ZmFwcGVyfHJlYWxpdHkpXC5jb20kLywKICAgICAgICAgIC9eKGlcLik/aW1nc2VlZHM/XC5jb20kLywKICAgICAgICAgIC9eaW1nLSh6b25lfHBsYW5ldHxwYXl8dXBsb2FkcylcLmNvbSQvLAogICAgICAgICAgL153d3dcLmltZyhibG93fGxlbW9ufDRzaGFyaW5nKVwuY29tJC8sCiAgICAgICAgICAvXnd3d1wuaW1hZ2Vmb2xrc1wuY29tJC8sCiAgICAgICAgICAvXnd3d1wuZnJlZXBob3RvaG9zdGluXC5jb20kLywKICAgICAgICAgIC9eKHd3d1wuKT9pbWd1bHRcLmNvbSQvLAogICAgICAgICAgL154eHgoaW1hZ2Vub3d8c2NyZWVucylcLmNvbSQvLAogICAgICAgICAgL154eHhzcGFycm93P1wuY29tJC8sCiAgICAgICAgICAvXihwbGF5aW1nfHBpY3N0d2lzdHxlcmljc29ueXx3cGM4fHVwbGltZ3xsZXhpaXR8dGh1bWJuYWlsdXN8bmV3aW1hZ2Vwb3N0fGZhcGluZ3BpY3N8ZGltdHVzfHRpbml6bylcLmNvbSQvLAogICAgICAgICAgL14oKGl8aGVudGFpKVwuKT9pbWdzbGlwXC5jb20kLywKICAgICAgICAgIC9eKGl8eHh4KVwuaGVudGFpeW91dHViZVwuY29tJC8sCiAgICAgICAgICAvXihnb3xlcilpbWdlXC5jb20kLywKICAgICAgICAgIC9eKGxpa2VcLik/MDhsa2tcLmNvbSQvLAogICAgICAgICAgL15uaW0ocGx1c3x6c2hhcmUpXC5jb20kLywKICAgICAgICAgIC9ebnVkZXhpbWdcLmNvbSQvLAogICAgICAgICAgL15pbWcoc2VydmV8Y29pbnxmYXB8Y2FuZHl8bWFzdGVyfC12aWV3fHJ1bnxib29tfHByb2plY3R8cHl0aG9ufHBpY3N8cGl4KVwubmV0JC8sCiAgICAgICAgICAvXihpbWFnZXNvdWxzfG5hdWdodHlnYXRlfGdhbGxlcnljbG91ZHxpbWFnZWxhc2VyfHBpY3R1cmUtYmFuZ3xwcm9qZWN0LXBob3RvfHBpeC1saW5rfGZ1bmltZ3xnb2xmcGl0fHh4aW1nKVwubmV0JC8sCiAgICAgICAgICAvXihzaG90fGFkdWx0KWltZ1wub3JnJC8sCiAgICAgICAgICAvXmltYWdlKFwuYWRsb2NrfG9ufHRlYW0pXC5vcmckLywKICAgICAgICAgIC9eKHZveWV1cnxkcmFnfHRlZW58bWVnYSlpbWFnZVwub3JnJC8sCiAgICAgICAgICAvXnRlZW5zaG90XC5vcmckLywKICAgICAgICAgIC9eaW1nKHN0dWRpb3xzcG90KVwub3JnJC8sCiAgICAgICAgICAvXnd3d1wuaG90aW1hZ2VcLnVrJC8sCiAgICAgICAgICAvXihob3RpbWFnZXN8NTU4ODgpXC5ldSQvLAogICAgICAgICAgL15pbWcoY2xvdWR8bWFnKVwuY28kLywKICAgICAgICAgIC9ecGl4dXBcLnVzJC8sCiAgICAgICAgICAvXihidWxraW1nfHBob3RvLXVwfG15aW1nfHBvcC1pbWd8aW1nLXBvcHxhZHMtaW1nKVwuaW5mbyQvLAogICAgICAgICAgL152YXZhXC5pbiQvLAogICAgICAgICAgL14ocGl4eHh8cGljc3Bvcm5mcmVlfGltZ2xvYWR8ZmFwYXQpXC5tZSQvLAogICAgICAgICAgL14oZG9tYWlua3xwaWMycGljfHBvcm5vLXBpcmF0fDI0YXZhcmlpfGxvZnRsbXwxOHByb258aW1ncGx1cylcLnJ1JC8sCiAgICAgICAgICAvXmltZ2Vhc2VcLnJlJC8sCiAgICAgICAgICAvXmdvaW1nXC54eXokLywKICAgICAgICAgIC9eKHBpYzJwaWN8cGljeilcLnNpdGUkLywKICAgICAgICAgIC9eZGFycGl4XC5nYSQvLAogICAgICAgICAgL15zeHBpY3NcLm5sJC8sCiAgICAgICAgICAvXmRhcnBpeFwuZGVzaSQvLAogICAgICAgICAgL15waWM0eW91XC50b3AkLywKICAgICAgICAgIC9eaW1nc2VuXC5zZSQvLAogICAgICAgICAgL15pcGljdHVyZVwuc3UkLywKICAgICAgICAgIC9eYWNpZGltZ1wuY2MkLywKICAgICAgICBdLAogICAgICAgIHBhdGg6IC9eXC9pbWctLipcLmh0bWwvLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogWwogICAgICAgICAgL15pbWcocnVufHR3eXRpKVwubmV0JC8sCiAgICAgICAgICAvXmltZ3R3eXRpXC5jb20kLywKICAgICAgICAgIC9eaGVudGFpLShwb3B8YmFrYSlcLmNvbSQvLAogICAgICAgICAgL15zdGFyLWhlbnRhaVwuY29tJC8sCiAgICAgICAgICAvXihqYXZ8aW1nKS1oZW50YWlcLmhvc3QkLywKICAgICAgICAgIC9eaGVudGFpLWtpbmdcLmhvc3QkLywKICAgICAgICAgIC9eaW1nLWtpbmdcLnh5eiQvLAogICAgICAgIF0sCiAgICAgICAgcGF0aDogL15cL1t0aV1cL2ltZy0uKlwuaHRtbC8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltZ2tpbmdcLmNvJC8sCiAgICAgICAgcGF0aDogL15cL2ltZzQ/LS4qXC5odG1sLywKICAgICAgfSwKICAgICAgewogICAgICAgIGhvc3Q6IC9eaW1nYmJcLm5ldCQvLAogICAgICAgIHBhdGg6IC9eXC8uLS4rJC8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiAvXmNkblwuamF2dG90YWxcLmNvbSQvLAogICAgICAgIHBhdGg6IC9eXC9pbWdcLy4rJC8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltZ3RvclwucHckLywKICAgICAgICBwYXRoOiAvXlwvaW1nMlwvLiskLywKICAgICAgfSwKICAgICAgewogICAgICAgIGhvc3Q6IC9eaW1hXC5neSQvLAogICAgICAgIHBhdGg6IC9eXC9pXC8uKyQvLAogICAgICB9LAogICAgXSwKICAgIHJlYWR5OiBkZWZhdWx0QWN0aW9uLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICAgIGhvc3Q6IC9eaW1ndG9yXC5wdyQvLAogICAgICAgIHBhdGg6IC9eXC9pbWdcLy4qJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgIHZhciBpbWFnZVVybCA9ICdodHRwOi8vJyArIG0uaG9zdFswXSArIG0ucGF0aFswXS5yZXBsYWNlKCJpbWciLCJpbWcyIik7CiAgICAgICQub3BlbkxpbmsoaW1hZ2VVcmwpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15pbWdyYXRcLmNvbSQvLAogICAgICBwYXRoOiAvXlwvaW1nLS4qXC5odG1sLywKICAgIH0sCiAgICByZWFkeTogXy5QKGFjdGlvbiwgJyNjbG9zZScsICcjbWFpbl9pbWFnZSBpbWcuY2VudGVyLWJsb2NrLmltZy1yZXNwb25zaXZlJyksCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmltYWdlcG9yblwuZXUkLywKICAgICAgICAvXmltZ3ppemlcLnh5eiQvLAogICAgICBdLAogICAgICBwYXRoOiAvXlwvaW1nLS4qXC5odG1sLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAkLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ID0gbnVsbDsKICAgIH0sCiAgICByZWFkeTogZGVmYXVsdEFjdGlvbiwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogWwogICAgICAgIC9eKHd3d1wuKT9pbWcoYWR1bHR8d2FsbGV0fHRheGkpXC5jb20kLywKICAgICAgICAvXih3d3dcLik/aW1nZHJpdmVcLm5ldCQvLAogICAgICBdLAogICAgICBwYXRoOiAvXlwvaW1nLS4qXC5odG1sJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGMgPSAkLmdldENvb2tpZSgnaWJwdWMnKTsKICAgICAgaWYgKGMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgJC5wb3N0KHdpbmRvdy5sb2NhdGlvbi5ocmVmLnRvU3RyaW5nKCksIHsKICAgICAgICBjdGk6IDEsCiAgICAgICAgcmVmOiAnJywKICAgICAgICByYzogMSwKICAgICAgICBycDogMSwKICAgICAgICBidDogMCwKICAgICAgICBidzogJ2VkZ2UnLAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIG5vZGUgPSAkLiQoJyNjb250aW51ZXRvaW1hZ2UgPiBmb3JtIGlucHV0Jyk7CiAgICAgIGlmIChub2RlKSB7CiAgICAgICAgbm9kZS5jbGljaygpOwogICAgICAgIG5vZGUuY2xpY2soKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgJC5yZXNldENvb2tpZXMoKTsKICAgICAgdmFyIGkgPSAkKCdpbWdbY2xhc3NePWNlbnRyZWRdJyk7CiAgICAgICQub3BlbkltYWdlKGkuc3JjKTsKICAgIH0sCiAgfSk7CiAgZnVuY3Rpb24gaGVscGVyICgpIHsKICAgICQud2luZG93LnNldFRpbWVvdXQgPSBfLm5vcDsKICAgIHJldHVybiAkLmdldCh3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gJC50b0RPTShkYXRhKTsKICAgIH0pOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL14wOGxra1wuY29tJC8sCiAgICAgIHBhdGg6IC9eXC9QaG90b1wvaW1nLS4rXC5odG1sJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaGVscGVyKCkudGhlbihmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHZhciBpID0gJCgnaW1nW2NsYXNzXj1jZW50cmVkXScsIHBhZ2UpOwogICAgICAgICQub3BlbkltYWdlKGkuc3JjKTsKICAgICAgfSk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXjA4bGtrXC5jb20kLywKICAgICAgcGF0aDogL15cL1xkK1wvaW1nLS4qXC5odG1sJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaGVscGVyKCkudGhlbihmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHZhciBiYmNvZGUgPSAkLiQoJyNpbWFnZWNvZGVzIGlucHV0JywgcGFnZSk7CiAgICAgICAgYmJjb2RlID0gYmJjb2RlLnZhbHVlLm1hdGNoKC8uK1xbSU1HXF0oW15cW10rKVxbXC9JTUdcXS4rLyk7CiAgICAgICAgYmJjb2RlID0gYmJjb2RlWzFdOwogICAgICAgIGJiY29kZSA9IGJiY29kZS5yZXBsYWNlKCdzbWFsbCcsICdiaWcnKTsKICAgICAgICAkLm9wZW5JbWFnZShiYmNvZGUpOwogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiBbCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltZ2tpbmdcLmNvJC8sCiAgICAgICAgcGF0aDogL15cL2ltZ3MtLipcLmh0bWwvLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogWwogICAgICAgICAgL15pbWcoa2luZ3N8cHJpbWUpXC5jb20kLywKICAgICAgICAgIC9eaW1hZ2VyYXJcLmNvbSQvLAogICAgICAgIF0sCiAgICAgICAgcGF0aDogL15cL2ltZy0uKlwuaHRtbC8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHVybCA9ICQud2luZG93LmxpbmtpZDsKICAgICAgJC5vcGVuSW1hZ2UodXJsKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1na2luZ3NcLmNvbSQvLAogICAgICBwYXRoOiAvXlwvaW1nMi0uKlwuaHRtbC8sCiAgICB9LAogICAgcmVhZHk6IGRlZmF1bHRBY3Rpb24sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiBbCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltYWdlcmFyXC5jb20kLywKICAgICAgICBwYXRoOiAvXlwvaW1nMi0vLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogL15pbWdraW5nXC5jbyQvLAogICAgICAgIHBhdGg6IC9eXC9pbWdbdjNdLS4qXC5odG1sLywKICAgICAgfSwKICAgICAgewogICAgICAgIGhvc3Q6IC9eaW1ncHJpbWVcLmNvbSQvLAogICAgICAgIHBhdGg6IC9eXC9pbWczLS4qXC5odG1sJC8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSAkKCdpbWdbYWx0XScpOwogICAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltZ1wueXQkLywKICAgICAgcGF0aDogL15cL2ltZy0uKlwuaHRtbC8sCiAgICB9LAogICAgcmVhZHk6IF8uUChhY3Rpb24sICcjY29udGludWVidXR0b24sICNjb250aW51ZXRvaW1hZ2UgaW5wdXRbdHlwZT0ic3VibWl0Il0nLCAnaW1nW2NsYXNzXj1jZW50cmVkXScpLAogIH0pOwp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5zdWJpcmltYWdlbmVzLmNvbS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNJbWFnZW5WaXN1YWxpemFkYScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3RpbnlwaWMuY29tL3ZpZXcucGhwP3BpYz0qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjaW1nRWxlbWVudCcpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wudHVyYm9pbWFnZWhvc3RcLmNvbSQvLAogICAgcGF0aDogL15cL3BcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjaW1hZ2VpZCcpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3Z2Y2FwLm5ldC9kYi8qLmh0cCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYywgewogICAgICByZXBsYWNlOiB0cnVlLAogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eeFwucGl4ZmFybVwubmV0JC8sCiAgICBwYXRoOiAvXlwvc2V4eVwvXGQrXC9cZCtcLy4rXC5odG1sJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15ha29hbVwuY29tJC8sCiAgICBwYXRoOiAvXlwvZG93bmxvYWRcLy8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGxvY2F0aW9uX2xpbmsgPSBsb2NhdGlvbi5oYXNoOwogICAgJC5wb3N0KGxvY2F0aW9uX2xpbmspLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7CiAgICAgIGlmICghZGF0YS5oYXNoX2RhdGEpIHsKICAgICAgICBfLndhcm4oJ3J1bGUgY2hhbmdlZCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLm9wZW5MaW5rKGRhdGEuZGlyZWN0X2xpbmspOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5hbmFmaWxlXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYiA9ICQuJCgnI2J0bl9kb3dubG9hZCcpOwogICAgaWYgKGIpIHsKICAgICAgYi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAkLnJlbW92ZU5vZGVzKCdkaXZbYWxpZ249Y2VudGVyXScpOwogICAgICByZXR1cm47CiAgICB9CiAgICBiID0gJCgnI3BsYW5zX2ZyZWUgZm9ybSBbdHlwZT1zdWJtaXRdJyk7CiAgICBiLmNsaWNrKCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9hcmFiXC5zaCQvLAogICAgcGF0aDogL15cL1x3KyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJCgnZm9ybVtuYW1lPUYxXScpOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBmLnN1Ym1pdCgpOwogICAgfSwgMjAwMDApOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/Y29vbHJvbVwuY29tJC8sCiAgICBwYXRoOiAvXlwvZGxwb3BcLnBocCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtYXRjaGVzID0gJC5zZWFyY2hTY3JpcHRzKC88Zm9ybSBtZXRob2Q9IlBPU1QiIGFjdGlvbj0iKFteIl0rKSI+Lyk7CiAgICAkLm9wZW5MaW5rKG1hdGNoZXNbMV0pOwogIH0sCn0pOwooZnVuY3Rpb24oKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXih3d3dcLik/ZGwtcHJvdGVjdFwuY29tJC8sCiAgICAgIHBhdGg6IC9cL1tBLVowLTldKy8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCQuJCgnI2NhcHRjaGEnKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgZiA9ICQuJCgnZm9ybVtuYW1lPWNjZXJ1cmVdJyk7CiAgICAgIGlmIChmKSB7CiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgICAgdmFyIGlJbiA9ICQoJ2lucHV0W2lkPWluXScpOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKG11dGF0aW9uc1tpXS50YXJnZXQudmFsdWUgJiYgbXV0YXRpb25zW2ldLmF0dHJpYnV0ZU5hbWUgPT09ICd2YWx1ZScpIHsKICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgaUluLnZhbHVlID0gIlRyYWNraW5nIHRvbyBtdWNoIGh1cnRzIHVzZXJzJyBwcml2YWN5IjsKICAgICAgICAgICAgICBpZiAoIWNhbkZhc3RSZWRpcmVjdCgpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBmLnN1Ym1pdCgpOwogICAgICAgICAgICAgIH0sIDYwMCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2YXIgaUluID0gJCgnaW5wdXRbaWQ9aW5dJyk7CiAgICAgICAgaWYgKGlJbi52YWx1ZSkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgZi5zdWJtaXQoKTsKICAgICAgICAgIH0sIDYwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoaUluLCB7CiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBsID0gJC4kJCgnI3NsaW5rcyA+IGEnKTsKICAgICAgaWYgKGwuc2l6ZSgpID09PSAxKSB7CiAgICAgICAgJC5vcGVuTGluayhsLmF0KDApLmhyZWYpOwogICAgICB9CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIGNhbkZhc3RSZWRpcmVjdCAoKSB7CiAgICByZXR1cm4gISQuJCgnZm9ybVtuYW1lPWNjZXJ1cmVdJykub25zdWJtaXQgJiYgISQuJCgnZm9ybVtuYW1lPWNjZXJ1cmVdIGlucHV0W25hbWU9cHdkXScpOwogIH0KfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2VtYmVkdXBsb2FkXC5jb20kLywKICAgIHBhdGg6IC9eXC8kLywKICAgIHF1ZXJ5OiAvXlw/XHd7Mn09XHcrJC8KICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZG93bmxvYWRQYWdlID0gJCgnLmNhdGVnb3JpZXMgYVt0YXJnZXQ9X2JsYW5rXScpOwogICAgJC5vcGVuTGluayhkb3dubG9hZFBhZ2UpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuZmlsZXByb2plY3RcLmNvbVwuYnIkLywKICAgIHBhdGg6IC9eXC9maWxlc1wvKy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoLzxhIGlkPSJkb3duIiBocmVmPSIoW14iXSspIj4vKTsKICAgICQub3BlbkxpbmsobVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT8oZmlyZWRyaXZlfHB1dGxvY2tlcilcLmNvbSQvLAogICAgcGF0aDogL15cL2ZpbGVcL1swLTlBLUZdKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBjID0gJCgnI2NvbmZpcm1fZm9ybScpOwogICAgYy5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pb3JpXC51cyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI3dyYXBwZXIgLnRvbWJvbCBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9qaGViZXJnXC5uZXQkLywKICAgIHBhdGg6IC9eXC9jYXB0Y2hhXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQoJy5kbC1idXR0b24nKS5jbGljaygpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/amhlYmVyZ1wubmV0JC8sCiAgICBwYXRoOiAvXlwvcmVkaXJlY3RcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgdmFyIG1hdGNoZXMgPSAkLnNlYXJjaFNjcmlwdHMoLydzbHVnJzpccyonKFteJ10rKScsXHMqJ2hvc3Rlcic6XHMqJyhbXiddKyknLyk7CiAgICB2YXIgc2x1ZyA9IG1hdGNoZXNbMV07CiAgICB2YXIgaG9zdGVyID0gbWF0Y2hlc1syXTsKICAgICQucG9zdCgnL2dldC9saW5rLycsIHsKICAgICAgJ3NsdWcnOiBzbHVnLAogICAgICAnaG9zdGVyJzogaG9zdGVyCiAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgIHZhciByZXNwSlNPTiA9IF8ucGFyc2VKU09OKHJlc3BvbnNlKTsKICAgICAgJC5vcGVuTGluayhyZXNwSlNPTi51cmwpOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9sYXJhc2hhcmVcLmNvbSQvLAogICAgcGF0aDogL15cL2RvXC5waHAkLywKICAgIHF1ZXJ5OiAvaWQ9XGQrLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgnaWQ9JywnZG93bj0nKSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9tYXhtaXJyb3JcLmNvbSQvLAogICAgcGF0aDogL15cL3JlZGlyZWN0XC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJCgnI2Rvd25sb2FkX3VybCA+IGEnKTsKICAgICQub3BlbkxpbmsobC5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP21pcnJvcmNyZWF0b3JcLmNvbSQvLAogICAgcGF0aDogL15cL3Nob3d1cmxcLnBocCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCcjcmVkaXJlY3RsaW5rIGEnKTsKICAgIGlmIChhKSB7CiAgICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgYSA9ICQoJyNyZWRpcmVjdGxpbmsgPiBkaXYucmVkaXJlY3R1cmwnKTsKICAgIGEgPSBhLmlubmVySFRNTDsKICAgIGlmICghYS5tYXRjaCgvXmh0dHAvKSkgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdub3QgYSB2YWxpZCBVUkwnKTsKICAgIH0KICAgICQub3BlbkxpbmsoYSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5tdWx0aXVwZmlsZVwuY29tJC8sCiAgICBwYXRoOiAvXlwvZlwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJyN5dzAnKTsKICAgIGYuc3VibWl0KCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebXlsaW5rZ2VuXC5jb20kLywKICAgIHBhdGg6IC9eXC9wXC8oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJy9nLycgKyBtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm15bGlua2dlblwuY29tJC8sCiAgICBwYXRoOiAvXlwvZ1wvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNtYWluLWNvbnRlbnQgYS5idG4uYnRuLWRlZmF1bHQnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXm9wZW5sb2FkXC5jbyQvLAogICAgICAvXm9sb2FkXC50diQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9mXC8uKi8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICQud2luZG93LmFkYmxvY2sgPSBmYWxzZTsKICAgICQud2luZG93LmFkYmxvY2syID0gZmFsc2U7CiAgICAkLndpbmRvdy5wb3BBZHNMb2FkZWQgPSB0cnVlOwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgdGltZXIgPSAkKCcjZG93bmxvYWRUaW1lcicpOwogICAgICB0aW1lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB2YXIgZGxDdG4gPSAkKCcjcmVhbGRsJyk7CiAgICAgIGRsQ3RuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsKICAgICAgdmFyIGRsQnRuID0gJCgnYScsIGRsQ3RuKTsKICAgICAgdmFyIGVQYXRoID0gJCgnI3N0cmVhbXVybCcpOwogICAgICBkbEJ0bi5ocmVmID0gIi9zdHJlYW0vIiArIGVQYXRoLnRleHRDb250ZW50OwogICAgICB2YXIgdmlkZW9DdG4gPSAkLiQoJy52aWRlb2NvbnRhaW5lcicpOwogICAgICBpZiAodmlkZW9DdG4pIHsKICAgICAgICB2YXIgb3ZlcmxheSA9ICQoJyN2aWRlb292ZXJsYXknLCB2aWRlb0N0bik7CiAgICAgICAgb3ZlcmxheS5jbGljaygpOwogICAgICAgIGRsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7CiAgICAgICAgICBpZnJhbWUuc3JjID0gZGxCdG4uaHJlZjsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTsKICAgICAgICB9KTsKICAgICAgICBfLmluZm8oXy5UKCd7MH0gLT4gezF9Jykod2luZG93LmxvY2F0aW9uLCBkbEJ0bi5ocmVmKSk7CiAgICAgICAgZGxCdG4uY2xpY2soKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAkLm9wZW5MaW5rKGRsQnRuLmhyZWYpOwogICAgICB9CiAgICB9LCA1MDApOwogIH0KfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT91cG1pcnJvclwuaW5mbyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQuc2V0Q29va2llKCd1c2VyJywgJ3BwcCcpOwogICAgaWYgKCQuJCgnI2NvdW50RG93blRleHQnKSkgewogICAgICAgICQub3BlbkxpbmsoZG9jdW1lbnQubG9jYXRpb24udG9TdHJpbmcoKSk7CiAgICB9CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT92aWR0b1wubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJyNidG5fZG93bmxvYWQnKS5mb3JtOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBmLnN1Ym1pdCgpOwogICAgfSwgNjAwMCk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBzVXJsID0gJyhcXGIoaHR0cHM/fGZ0cHxmaWxlKTpcL1wvWy1BLVowLTkrJkAjXC8lPz1+X3whOiwuO10qWy1BLVowLTkrJkAjXC8lPX5ffF0pJzsKICBmdW5jdGlvbiBpc0xpbmsgKHRleHQpIHsKICAgIHZhciByVXJsID0gbmV3IFJlZ0V4cChfLlQoJ157MH0kJykoc1VybCksICdpJyk7CiAgICByZXR1cm4gclVybC50ZXN0KHRleHQpOwogIH0KICBmdW5jdGlvbiBsaW5raWZ5ICh0ZXh0KSB7CiAgICB2YXIgclVybCA9IG5ldyBSZWdFeHAoc1VybCwgJ2lnJyk7CiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKHJVcmwsIGZ1bmN0aW9uKG1hdGNoKSB7CiAgICAgIHJldHVybiBfLlQoIjxhIGhyZWY9J3swfSc+ezB9PC9hPiIpKG1hdGNoKTsKICAgIH0pOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL14od3d3XC4pPyhbYS16QS1aMC05XStcLik/YmluYm94XC5pbyQvLAogICAgICBwYXRoOiAvXC8oW2EtekEtWjAtOV0rKS8sCiAgICAgIGhhc2g6IC8oPzojKFthLXpBLVowLTldKykpPy8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIHZhciBzamNsID0gJC53aW5kb3cuc2pjbDsKICAgICAgdmFyIHBhc3RlX2lkID0gbS5wYXRoWzFdOwogICAgICB2YXIgcGFzdGVfc2FsdCA9IG0uaGFzaFsxXTsKICAgICAgdmFyIEFQSV9VUkwgPSBfLlQoJ2h0dHBzOi8vYmluYm94LmlvL3swfS5qc29uJykocGFzdGVfaWQpOwogICAgICAkLmdldChBUElfVVJMLCBmYWxzZSwgewogICAgICAgIE9yaWdpbjogXy5ub25lLAogICAgICAgIFJlZmVyZXI6IF8ubm9uZSwKICAgICAgICBDb29raWU6ICdyZWZlcnJlcj0xJywKICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6IF8ubm9uZSwKICAgICAgfSkudGhlbihmdW5jdGlvbiAocGFzdGVJbmZvKSB7CiAgICAgICAgcGFzdGVJbmZvID0gXy5wYXJzZUpTT04ocGFzdGVJbmZvKTsKICAgICAgICBpZiAoIXBhc3RlSW5mby5vaykgewogICAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcigiZXJyb3Igd2hlbiBnZXR0aW5nIHBhc3RlIGluZm9ybWF0aW9uIik7CiAgICAgICAgfQogICAgICAgIGlmIChwYXN0ZUluZm8ucGFzdGUudXJsKSB7CiAgICAgICAgICAkLm9wZW5MaW5rKHBhc3RlSW5mby5wYXN0ZS51cmwpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2YXIgcmF3X3Bhc3RlID0gc2pjbC5kZWNyeXB0KHBhc3RlX3NhbHQsIHBhc3RlSW5mby5wYXN0ZS50ZXh0KTsKICAgICAgICBpZiAoaXNMaW5rKHJhd19wYXN0ZSkpIHsKICAgICAgICAgICQub3BlbkxpbmsocmF3X3Bhc3RlKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpOwogICAgICAgIGVsbS5pZCA9ICdwYXN0ZS10ZXh0JzsKICAgICAgICBlbG0uaW5uZXJIVE1MID0gbGlua2lmeShyYXdfcGFzdGUpOwogICAgICAgIHZhciBmcmFtZSA9ICQoJyNwYXN0ZS1mcmFtZSwgI2NhcHRjaGEtcGFnZScpOwogICAgICAgIGZyYW1lLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsbSwgZnJhbWUpOwogICAgICB9KTsKICAgIH0sCiAgfSk7Cn0pKCk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9wYXN0ZWRcLmNvJC8sCiAgICBwYXRoOiAvXlwvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnI2NhcHRjaGFfb3ZlcmxheScpOwogIH0sCn0pOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCwgR00pIHsKICAgICAgdmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTsKICAgICAgdmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUuanMnKTsKICAgICAgdmFyIG1pc2MgPSByZXF1aXJlKCcuL21pc2MuanMnKTsKICAgICAgdmFyIGRpc3BhdGNoZXIgPSByZXF1aXJlKCcuL2Rpc3BhdGNoZXIuanMnKTsKICAgICAgdmFyIG1vZHVsZXMgPSBbbWlzYywgZGlzcGF0Y2hlcl0ubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYuY2FsbChudWxsLCBjb250ZXh0LCBHTSk7CiAgICAgIH0pOwogICAgICB2YXIgJCA9IF8uYXNzaWduLmFwcGx5KF8sIG1vZHVsZXMpOwogICAgICByZXR1cm4gZmFjdG9yeShjb250ZXh0LCBHTSwgY29yZSwgJCk7CiAgICB9OwogIH0gZWxzZSB7CiAgICBmYWN0b3J5KGNvbnRleHQsIHsKICAgICAgb3BlbkluVGFiOiBHTV9vcGVuSW5UYWIsCiAgICAgIHJlZ2lzdGVyTWVudUNvbW1hbmQ6IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQsCiAgICB9LCBjb250ZXh0Ll8sIGNvbnRleHQuJCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBHTSwgXywgJCkgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciBpc1NhZmFyaSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cuSFRNTEVsZW1lbnQpLmluZGV4T2YoJ0NvbnN0cnVjdG9yJykgPiAwOwogIGZ1bmN0aW9uIGRpc2FibGVXaW5kb3dPcGVuICgpIHsKICAgICQud2luZG93Lm9wZW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY2xvc2VkOiBmYWxzZSwKICAgICAgfTsKICAgIH07CiAgICAkLndpbmRvdy5hbGVydCA9IF8ubm9wOwogICAgJC53aW5kb3cuY29uZmlybSA9IF8ubm9wOwogIH0KICBmdW5jdGlvbiBkaXNhYmxlTGVhdmVQcm9tcHQgKGVsZW1lbnQpIHsKICAgIGlmICghZWxlbWVudCkgewogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgc2VhbCA9IHsKICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgXy5pbmZvKCdibG9ja2VkIG9uYmVmb3JldW5sb2FkJyk7CiAgICAgIH0sCiAgICB9OwogICAgZWxlbWVudC5vbmJlZm9yZXVubG9hZCA9IHVuZGVmaW5lZDsKICAgIGlmIChpc1NhZmFyaSkgewogICAgICBlbGVtZW50Ll9fZGVmaW5lU2V0dGVyX18oJ29uYmVmb3JldW5sb2FkJywgc2VhbC5zZXQpOwogICAgfSBlbHNlIHsKICAgICAgJC53aW5kb3cuT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdvbmJlZm9yZXVubG9hZCcsIHsKICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgZ2V0OiB1bmRlZmluZWQsCiAgICAgICAgc2V0OiBzZWFsLnNldCwKICAgICAgfSk7CiAgICB9CiAgICB2YXIgb2FlbCA9IGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcjsKICAgIHZhciBuYWVsID0gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT09ICdiZWZvcmV1bmxvYWQnKSB7CiAgICAgICAgXy5pbmZvKCdibG9ja2VkIGFkZEV2ZW50TGlzdGVuZXIgb25iZWZvcmV1bmxvYWQnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcmV0dXJuIG9hZWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIgPSBuYWVsOwogIH0KICBmdW5jdGlvbiBjaGFuZ2VUaXRsZSAoKSB7CiAgICBkb2N1bWVudC50aXRsZSArPSAnIC0gQWRzQnlwYXNzZXInOwogIH0KICBmdW5jdGlvbiBiZWZvcmVET01SZWFkeSAoaGFuZGxlcikgewogICAgXy5pbmZvKCd3b3JraW5nIG9uXG4lcyBcbndpdGhcbiVzJywgd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCksIEpTT04uc3RyaW5naWZ5KCQuY29uZmlnKSk7CiAgICBkaXNhYmxlTGVhdmVQcm9tcHQoJC53aW5kb3cpOwogICAgZGlzYWJsZVdpbmRvd09wZW4oKTsKICAgIGhhbmRsZXIuc3RhcnQoKTsKICB9CiAgZnVuY3Rpb24gYWZ0ZXJET01SZWFkeSAoaGFuZGxlcikgewogICAgZGlzYWJsZUxlYXZlUHJvbXB0KCQud2luZG93LmRvY3VtZW50LmJvZHkpOwogICAgY2hhbmdlVGl0bGUoKTsKICAgIGhhbmRsZXIucmVhZHkoKTsKICB9CiAgZnVuY3Rpb24gd2FpdERPTSAoKSB7CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykgewogICAgICAgIHJlc29sdmUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfSk7CiAgfQogICQuX21haW4gPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZmluZEhhbmRsZXIgPSAkLl9maW5kSGFuZGxlcjsKICAgIGRlbGV0ZSAkLl9tYWluOwogICAgZGVsZXRlICQuX2ZpbmRIYW5kbGVyOwogICAgaWYgKHVuc2FmZVdpbmRvdy50b3AgIT09IHVuc2FmZVdpbmRvdy5zZWxmKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIEdNLnJlZ2lzdGVyTWVudUNvbW1hbmQoJ0Fkc0J5cGFzc2VyIC0gQ29uZmlndXJlJywgZnVuY3Rpb24gKCkgewogICAgICBHTS5vcGVuSW5UYWIoJ2h0dHBzOi8vYWRzYnlwYXNzZXIuZ2l0aHViLmlvL2NvbmZpZ3VyZS5odG1sJyk7CiAgICB9KTsKICAgIHZhciBoYW5kbGVyID0gZmluZEhhbmRsZXIoKTsKICAgIGlmIChoYW5kbGVyKSB7CiAgICAgIGlmICgkLmNvbmZpZy5sb2dMZXZlbCA8PSAwKSB7CiAgICAgICAgXy5fcXVpZXQgPSB0cnVlOwogICAgICB9CiAgICAgIGJlZm9yZURPTVJlYWR5KGhhbmRsZXIpOwogICAgICB3YWl0RE9NKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgYWZ0ZXJET01SZWFkeShoYW5kbGVyKTsKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICB9OwogIHJldHVybiAkOwp9KSk7CiQuX21haW4oKTsK","resources":[{"meta":{"name":"align_center.css","url":"https://raw.githubusercontent.com/adsbypasser/adsbypasser/v5.73.0/css/align_center.css","ts":1671066989333,"mimetype":"text/css"},"source":"aHRtbCB7CiAgaGVpZ2h0OiAxMDAlOwp9Cgpib2R5IHsKICBoZWlnaHQ6IDEwMCU7CiAgbWFyZ2luOiAwOwp9CgojYWRzYnlwYXNzZXItd3JhcHBlciB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCiNhZHNieXBhc3Nlci1pbWFnZSB7CiAgbWFyZ2luOiBhdXRvOwogIHRvcDogMDsKICBib3R0b206IDA7CiAgbGVmdDogMDsKICByaWdodDogMDsKfQoKLyogdmltOiBzZXQgdHM9MiBzdHM9MiBzdz0yIGV0IDogKi8KLyogc3VibGltZTogdGFiX3NpemUgMjsgdHJhbnNsYXRlX3RhYnNfdG9fc3BhY2VzIHRydWU7IGRldGVjdF9pbmRlbnRhdGlvbiBmYWxzZTsgdXNlX3RhYl9zdG9wcyB0cnVlOyAqLwovKiBrYXRlOiBzcGFjZS1pbmRlbnQgb247IGluZGVudC13aWR0aCAyOyAqLwo="},{"meta":{"name":"scale_image.css","url":"https://raw.githubusercontent.com/adsbypasser/adsbypasser/v5.73.0/css/scale_image.css","ts":1671066989333,"mimetype":"text/css"},"source":"I2Fkc2J5cGFzc2VyLWltYWdlLmFkc2J5cGFzc2VyLXJlc2l6YWJsZSB7CiAgY3Vyc29yOiAtd2Via2l0LXpvb20tb3V0OwogIGN1cnNvcjogLW1vei16b29tLW91dDsKICBjdXJzb3I6IHpvb20tb3V0Owp9CgojYWRzYnlwYXNzZXItaW1hZ2UuYWRzYnlwYXNzZXItcmVzaXphYmxlLmFkc2J5cGFzc2VyLXNocmlua2VkIHsKICBtYXgtd2lkdGg6IDEwMCU7CiAgbWF4LWhlaWdodDogMTAwJTsKICBjdXJzb3I6IC13ZWJraXQtem9vbS1pbjsKICBjdXJzb3I6IC1tb3otem9vbS1pbjsKICBjdXJzb3I6IHpvb20taW47Cn0KCi8qIHZpbTogc2V0IHRzPTIgc3RzPTIgc3c9MiBldCA6ICovCi8qIHN1YmxpbWU6IHRhYl9zaXplIDI7IHRyYW5zbGF0ZV90YWJzX3RvX3NwYWNlcyB0cnVlOyBkZXRlY3RfaW5kZW50YXRpb24gZmFsc2U7IHVzZV90YWJfc3RvcHMgdHJ1ZTsgKi8KLyoga2F0ZTogc3BhY2UtaW5kZW50IG9uOyBpbmRlbnQtd2lkdGggMjsgKi8K"},{"meta":{"name":"imagedoc-darknoise.png","url":"https://raw.githubusercontent.com/adsbypasser/adsbypasser/v5.73.0/img/imagedoc-darknoise.png","ts":1671066989333,"mimetype":"image/png"},"source":"wolQTkcNChoKAAAADUlIRFIAAABYAAAAWAQDAAAAwoPCuy0HAAAAG1BMVEXDvsO+w74BAQHDv8O/w78KCgoDAwN/f3/DtcO1w7XCgMKAwoDDvMO8w7zDoQ8Ew7YAAAAJdFJOUwUFBQUFBQUFBcKHDsOTw70AAAvDgklEQVR4Xg3DijljwrJaEADDkBnDtnIue3lxL0HCjUkJwpp8wrEEw6NWwoJLTAkaE0swbj/Du8K9w64UB37DhS1uKsOzwqLDsMOCWHzDqMKfw4BICSlZwqjDvirCtsObw59Rw7MfQsKjc2tIwpfCtMKADcKlwpvCpcKQTxPCl13Cs8Kow4k3I13CjAzCilrCp2vCoMKIwrFZFAhjwqE/wpDDpjvChMKHIi/Dtl/CrAPCt1zDv8O0w6gLwpQnecKSd8O8w73DpMOgfcK8wobCpcOQM8OlacKVwoc/wrREw6gyF8KOYsKqKkvChsKvw6xNZylOwp49RkpVCsK+fFkME8KIw403w4x7R8OJwoDCnsOcw7xiCDnDlS4rFjIEVQ7DjsO2OgAuQF8fEcO6wo5Ow6EtI8OTCsKBND3DhMKswoYmw71xw4VtCMOtH1MXD8KXVG7CnX04V2PCkDlywrPDocOSw4LCsGAdG8OLw7cFTcO+wpjCvFYjwojDgcOLw78PUcKRW8KlLg7DskstADnClCI1w64lHcKwwqYpOsOmHzAEw4bCnsKZw79mw43DlsOqCi/Dp1HCvsO9Wz0DL8O/w4HDrmTCh8OLwrDCvEPDrsKbwqo5HkDDjA3CvcOZWsOpw7DCtsKvwpTDjENUw7DDmmENw5bDrzbDksKMw55Jw7HDpgjCulDDhMKQwpfDp8KGwrPDrcK7wprCtsKDwrcXwpZ0f8KTw6tlLMO8bMKlEsOaw7sKw58jwpXCt8KXKsOwH8OmwonDscOwPcKuVsOdScO8ZsOlV8Olw5DDiMKlCMKcw6UGw6PCh8Oqwo3DizMrbsK6w4h1woABwoHCvXpIb8OLwol4McKmwrjDojYVw4ldwpEUS8KSw6fCh8K2HcOLMMK2Y13CqR/DvlfCg8O0O8OXwrheelbCgxVSQkNXwqXCgwLDhMKeFXpdJcKaLnrCjnYIIMKQEDJ3RcO7NMOEwosrwqPDt2rDt8KKMlPDlMOtGsKUw7QnLWJvJMK0e18ew5fCg8OXw6bDtQPCqhbDryjDm8OZwrdBCsKFw4HCk3huSMK/RsKKazbDkwoqw5EET8OYwozCsMKcworCpkjCoMK4CivCn2zCs8KSw70wG3M1EEVDJMO+VTfCucKuLjYCwoJcw50ZDsObwqHCgcKgRmorw44UQ8Krw43DoMKCWDLClC/CoQTCsTLDi8KmUFjDnALCmmrCrcOow7vDhMOECsKGEA9Vw5lyE8Ojw7fDksO4wo3CnMOHWcO5wrXDnznCkMOgwqMdw7PDlk4Ow7YUwp/DvsK8wqPCssKCC37CrytFbEDDiVjCv8KmPwpgw4PCocOtFMKyB8Kawq4ow5ptZ2fDmxorCMKKEMOkw5Vmw5XCpcKewqHDjgzDu8K9w6PDlV8oP8Kzw47Cl8Oywp3Dn8OZZU5IWcKdHcKCesKRHC4uOBpBwrE/DcOtwobDhScwA8KJbcKewqPDtMO9w6/Dk8KKFxY8w45Pw74dH8ONNEkzwoEgbMKYDcO5ScKswrPDlm/Drm8YJmEDwqZ9w7zCkcKHw5gdw4fCjcKmUVXDucOXaipaR8OxAzzCrkgsccOVw4zCsMOHeMOIXsOlw4kQRsOswrMpwqjDkxMyw60rJCVvQsOkwoPDmMKuwoPDsELDqcOtw63DvkUQw7PDlyTCtcKRbGHDnC/ChDfCsx3DkywDelvCrsO2wq/DsjkIwqkLw6s0wrDDgk0AI8OPwqIEJMKvw5XCjsOQQMO+UUrCgsOEw5tuw67Di8OLw6fDm2Y6dhLDgcKASxHCh18cTGjDiMK/fMK+w6tCwqbCt3YAZQXDvMKpw73DmyQ1HMO/wppdwo7DmMK+KwAZw7Rsw7NDN3bDncOdSQQJw5LCvWkWB8OGH8KwwoHCpcKywpHDosK0w5jCjD3Cg8OFfR/CjnnDhG4/LGB+woPDvcO8eRHDncOEdsOswoohwonCoMOXCk/Dt1TDk8O6wpTCjE/DtTBnwrDDh8KAAUZlwqLCrsKPw7DCpREsGw0Ww6jCgMOcwrsNw73Dn2rCpCfCiijCgGBLOw3Dpk/Cq3Ydw67Ch0VbwrzDi8KOIsKJwokPV8OBOiDCqiLDi8OkwpUuWzkITGnCqEkLw6Rcw7vCqXPDuUvDscKawq05Py/Ci8KgYhDClMKywq/ClcOGwofCsFHCvVIuwrofw7rCnR8+wrvCsMO0RsKGwo/Cq8K4L3ZCA3kkQyYuw4ZREEjCicK7wr8FJcK8wrNPw4FsdMKvdF7CgRx7OcO2R8KYwotTNmFzMmZ/XMKNY3gJNMKVEMK9wrpTw450w4BudXknw4jCi8Oiwq3CjlrDqEkSd1ZVPMKEwq/DgzlUZMOWwrbDs8KmUsKNQ8Kyc8KswqlxOWcywoTDsMKuP8Oxw4l8w7nDjVcCwrp1RULCs8O6IsKPw7fCqMO2FcOFJgPDq8O0HnErw5IlHUrCtErDpcObwoDCj1FQamvDqcKJwqXDkcOYwpddD8KoPMKfwoTCshcfw5/CjT4LwpAvwqDChMKXJMKPV8K1w4DDv8KDwqx6w6kiIxo8fkXDlsK3GkbDvBlZw7Enw6nDvH7DvC7Dj3VwARjCs0rCjsK9VEnCnlfDiHjDrGnDtcOMEsKFw63CgsOgH8KPKQzCisKDDBzChMKXVAc9w4kGOcKjwpQgw7DDgzTCnhXCggNhw6jCiEgBc1EHw7sGwqsuPEfDnMK5w7rDsMOPw5zCiFrCiMOVwrHCtMKYE8KxwojDmsOeOsOkwqERw7/DvcKkwozDocKbUGHDmcOGw5hXGcO2IcKEO3pYw5jCpcKmw7/DpEdPF2PDksKZw4zCvsOraMO6e2HDgTzDlsOew7vDglUyw6RQBsK1wp0vw5vCgcKHwobDmG0GwpAnTsOFw4nDtykKw6vDksK7FTJiM8O6asO7w7DDtgTDnAI9Lk1aIUsDwocMNsKHTsOPJ8OJwqchMBcWwqFQw5bCp3/DpVoKwp4IwrMneAUhSsOoQ8OZEmnCucOyw45KLsOewpsTwpXChcKLDhrCicKVw5jCkMKEKjXCrsOuS8Kqw4LDp8KyFEnCg8KBWFHDkl4oHn8Ww7PCtRnCuxbDvMKJw554SxHDlsKJKcOPKnMyAhzDncKGLcKwN8OwKB9zwpjDgMK2wqPCuybDgcOyH8OQeMKSYl9YCMK3w6dfwoo/wqDCr0DCiUV0NmNOEMOqwq8xHzfDlsKbw5FIwoHDiGJbT8KXw7PCq0jCosOSBsONEcK1woBDWirCiRDCkMK5w74VdnbDh3LClHLCnsOdw7zDlSzCmMOpwoUIb8Oiw5N2AcOywpjCtHojUsOgwrUIfA06AMKrw59CY8O/VAXDksOUA8O2wpMyfsO0wrAaTcKnw68XI8K7bz8Uw7TDoMKpwpXDncKqw5XDocOGwrbDj8KZFsK7dMOgCcKIwpbDpsOOPMO+w5drJ8Oiw77CvS3CiX3CmmjDtMO9Dz4+TVPDgcKheyMcPMOWfsK5wprDgMOrGX5gU8O+TcK+c8KrM8O+G8ODw6cIw6vCjT7Dl8KBGWcTM8OuZcOqw6bCi1jDqn1Kw4TDnsKuw5V0V8OJwrvCmhPDtAd+VUh1fMKMCBYQcsOxOcKMwroSHl9lw6nCmsKIJsK9LULDncKbwrDCiyR8w63ClMKrwo9Cb8OUOkQBwokbcMK9w5HCpjZXwpnCmk9XwonClx/DjMO8Nh8CS8Okfj7ClxPCnkhywq/ClQlpKMKzw5MIw4rDm2EwwpfDrMOSw7rClMOuwoNDw5DDkCTCpyUOS33DlHvDrsO1WcK5w7gjwpEPw7J1w74Vw6c6RGjDmsK+JcKZwqtAwq7ClnXCkFpyYwcvw5RmLnPDlMKzT8OMYwYFw47CjMKrXcKEDExxwoBQwpPCn8K6ZHnCr8K/TGTDrcK8DMKBF0FUw7nDgGw9w7U2NU9Bwo4IL8OBw41rw7xEQAPDgMKAwp3DkMK4w5Q0wqnDhMOow6RVa0lOwp7CqGg7S8O3w55cFnMBdMOKdMOgTsKRccOLw60OKcOaYTQ1wonClH8ubMKqBsOpYlfCtMKsQMOBwrsiwpbCkEkHw6HCgcOCKcKvTsOAwqvCv1R7LSXDvRMZAMODwo4ZEcOMVMOcwr50OHnDigMiwpk1w61fwoofwqFWwqItRGDCg3/CuyHCusO5wp7DulTDlsK1w6XDucKhwovCnMOnw4NrCcKqwqNgworDiFdDw4XDiQfCocOZwpzDmRLCo1LDq0LDrsKGc8O5w4MHwozCkkbClMO3ekMDw7RWPMOXwobCpMOwwoHCgiUeDsO1dC9TX3UTw78efmLDrsK1CsOuR8OtwpTChcKeIUIYbsOcw7MWX2fClMKHwpo1w7oXw7sfw6rDiWzDiAASw5NkNsOewqvDuENmwpxgw5oJIcO4woDCn0lPDlLCknzDiWY1w67DpDkQZsK+GGXChcKaesOBd8Obw5fDnMKjwq15wokJaMOKT8OAwp4Two8ww6NuGQ4wwqnCligpc1TCncKgw7NWBhZfw5zDkxPDiCp3ICRnVCrDtmhRQm7DkgYaIAh6E0xNeQ15wqrCklfDjMOSE8KBw74Ww7sPw6hRwqLCjjPCngQxSMK1wo/CnMKvOCsEe8OCWMKnBUbCj8Kdw6U2I8OMY8OUZcK2B3jCicOKfMOZw7vDjcOrw5zDpEgVCMOjScOJSRTDnh8+w6HDlMKFw7jDmCrDtMKSVcKjw4YzwrTDpMOEwpfDlMKGwpN4OcKTRGEeKsOwL8K1wqbCgWjCtCfCjcO7Ric/wrhyMXLDi8Kvw6IKMsOGF2/DoFvDqMOQwoRFMWxAT8OJDMOXwovDoFvDokc9w4DCriMjA0tZwrwQAMOrWCkSw5rCisKQw4fDuX4TPMOzwobDsDDCjWPCggLDtyBkw5bCpyJuOFTCgRnDg3HDvcO5wqZfXcOmwotbwr0Iw44heUTCu8KXVcK2bktFwqLCuSlnA8O8w7XDui3CocKdw5vCkMKuNHHCv8K+B8KIB1kcwqQpwp7DuMKfInZXI3wQCwDClMKgwoM5w6wYccKOAMKYHRnDm8KMwp3CmD5sBsKeGATChlfDlsOhw719wrA+w4VTwpgSw7HCmTTDkMKwEcKFwpBDwqRkwpTDrBgJwr4ewrtMDcK1wrDCvTXDjsK6w5XDtcK7wrBxIsKvV8KJwr7Cg8KQUxtSK012wrYsUMK5GsKGw4AhBEh9FjdzL8OQTQEcU0rCvsOTw57DrWsTw6IWUmDCiMKnBMOZHcKQwq7Dpl9THCvCgnDDqFnCqcO3wqTCuQxjQ8KxKMOIZQkDAMKvw77CrUk6w6JeCcOPw7fClknDm8OvwqzDgMKqw6PCvwwEISvDvsK2cMO/F8Oaw43DviASw4jChsOyw7xEeinCoHpIAsKycsKxwoTDk8KYw4MewrnCs8OXwofDhcK7w6tALzFRw7rDrjrCoMKDTsK+w753wrkxwp7Ct8OXPsKyRMOoZcKiHcOdPQjCq2bCgSnCr8ONMMKCw5/DnBHCuFsBBMOmRMK7RsKHw4lxCwDDgQXCvk54wp4aEsKtwrlcE0xPasOzWcOnVsObMjPCj8OgwoIMwqlnwpciQcONPzXCqBXCqcOrw5h7wr5Ww7dOYRXDuDNmw5rCusKjw5Ykw7sFC8KwVVsuPkwqw5XDrk/DssOYDcKNVsOIwpTDjMOwXcOjNcOWRmrCjx3DiihTwonDjcONw4IDIVXChi8fw4VWeRbDuF0Aw45mM8KpEsOow6gKwrtewowWCWrDn8O2w79BUjB3DsOHUCzCnltOCT4wwrl0w6/ChgvDk8KfwqnDsHhVf8Kww4LDqMKfwrfDq2HCs2TCrMOeLsKnwpDDoT4kXMKDw7sCwoUvw6XCjF/CqcOww4A7w5rDkS1/O8ODJcKeJ1rDq8OTw6HDt8Knw64Ww7DCqETDi8OXwpwnw6wsw7PDpgvDuEDDpRnDjDROHwzCrSlUw6Q4BHLDmhLCvMOvw78Aw73DtABmwozDlmTDkAAAAABJRU5Ewq5CYMKC"}]},{"name":"YouTube - Ad Skip","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.youtube.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671066989336,"data":{}},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/40178-youtube-ad-skip/code/YouTube%20-%20Ad%20Skip.user.js","uuid":"b1ae57f5-d161-4ac6-a5e2-00e662b35098","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBZb3VUdWJlIC0gQWQgU2tpcAovLyBAdmVyc2lvbiAgICAgIDEuMAovLyBAZGVzY3JpcHRpb24gIFNraXBzIGFuZCByZW1vdmVzIGFkcyBvbiBZb3VUdWJlIGF1dG9tYXRpY2FsbHkKLy8gQGF1dGhvciAgICAgICBCb2JvY2F0bwovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tLyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vIEBuYW1lc3BhY2UgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy91c2Vycy8xNjcwODkKLy8gPT0vVXNlclNjcmlwdD09Cgpjb25zdCBlcXVhbFRleHQxID0gIlNraXAgQWRzIjsKY29uc3QgZXF1YWxUZXh0MiA9ICJTa2lwIEFkIjsKCmZ1bmN0aW9uIGFkZE5ld1N0eWxlKG5ld1N0eWxlKSB7CiAgICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0eWxlc19qcycpOwogICAgaWYgKCFzdHlsZUVsZW1lbnQpIHsKICAgICAgICBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgIHN0eWxlRWxlbWVudC50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgICBzdHlsZUVsZW1lbnQuaWQgPSAnc3R5bGVzX2pzJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7CiAgICB9CiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3U3R5bGUpKTsKfQoKZnVuY3Rpb24gc2tpcEFkKCl7CiAgICBjb25zb2xlLmxvZygiVHJpZWQgdG8gc2tpcCBhIGFkIik7CiAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ5dHAtYWQtc2tpcC1idXR0b24iKS5sZW5ndGggPiAwKXsKICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ5dHAtYWQtc2tpcC1idXR0b24iKVswXS5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50ID09PSBlcXVhbFRleHQxIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInl0cC1hZC1za2lwLWJ1dHRvbiIpWzBdLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQgPT09IGVxdWFsVGV4dDIpewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ5dHAtYWQtc2tpcC1idXR0b24iKVswXS5jbGljaygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoc2tpcEFkKCksIDEwMDApOwogICAgICAgIH0KICAgIH0KfQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgYWRkTmV3U3R5bGUoJy55dHAtYWQtb3ZlcmxheS1zbG90IHtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9Jyk7CiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKXsKICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaHJlZi5zdWJzdHJpbmcoMCwzMCkgPT0gImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoPyIpewogICAgICAgICAgICBza2lwQWQoKTsKICAgICAgICB9CiAgICB9LCAyNTAwKTsKfSkoKTs="},{"name":"Bypass All Shortlinks","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["/^https:\\/\\/claimclicks\\.com\\/(btc|ltc|doge|trx|faucetlist|ptclist)/","/^https:\\/\\/claimercorner\\.xyz\\/(claimer\\/dashboard|claimer\\/advertise|claimer\\/ptc|claimer\\/deposit|claimer\\/transfer|claimer\\/tasks|claimer\\/offerwall|claimer\\/profile|claimer\\/auto|claimer\\/mining|claimer\\/wheel|claimer\\/login)/","/^https:\\/\\/cryptosats\\.net\\/(cryptosats\\/dashboard|cryptosats\\/advertise|cryptosats\\/ptc|cryptosats\\/deposit|cryptosats\\/transfer|cryptosats\\/tasks|cryptosats\\/offerwall|cryptosats\\/profile|cryptosats\\/auto|cryptosats\\/mining|cryptosats\\/wheel|cryptosats\\/login)/","/^https:\\/\\/99faucet|faucet.cempakajaya\\.com\\/(dashboard|advertise|ptc|deposit|transfer|tasks|offerwall|profile|auto|mining|dice|lottery|faucet|login)/","/^https:\\/\\/free.tribuncrypto\\.com\\/(dashboard|advertise|ptc|deposit|transfer|tasks|offerwall|profile|auto|mining|dice|lottery|faucet|login)/","*://*.vosan.co/"],"orig_includes":["/^(https?:\\/\\/)(tmearn|additionalgamer|makemoneywithurl|shrinkearn|techcyan|aghtas|soltoshindo|link4m|kingsleynyc|healthy4pepole|kiktu|1bitspace|skip-url|pennbookcenter|publicananker|mikl4forex|michaelemad|miklpro|zirof|forex-golds|nawahi1|mosqam|semawur|forex-trnd|hoshilink|taiwancnan|bit-url|megurus|cuts-url|popimed|rayusmedya|enburl|pickhopes|toryxlink|aduzz|lycoslink|cdrab|ibrabucks|zenshort|ethiomi|shortenbuddy|kiemlua|smoner|djbhojpurisongs|urlty|sakastau|modsbase|ac.totsugeki|bcvc2|earnwithshortlink|bitzite|link1s|diadiemcheckin|tudiendanhngon|chooyomi|staaker|lucidcam|forexlap|forexmab|linkjust|admediaflex|hoclamdaubep|rekonise|forex-articles|ponselharian|liinkat|thegoneapp|mobi2c|studyuo|hookeaudio|thehostingmentor|intlinki|linkshortify|shopsixseven|mohtawaa|msarzone|foodhear|fc-lc|expertvn|downphanmem|healdad|ez4mods|try2link|tmker|soft3arbi|techyadjectives|ex-foary|examtadka|bablyfeed|crypto4tun|blogmado|itsguider|btcwalk|99faucet|coin-free|1xfaucet|cafenau|techacode|ls2earn|sevenjournals|7misr4day|trflink|bclikeqt|youssefsayed|get4links|crickblaze|nostralink|clkmein|101desire|memangbau|sama-pro|s.ume24|shtfly|bestmobilenew|onlineincoms|modsfire|adneow|short.clickscoin|adclickersbot|mobitaak|modebaca|paylinnk|olhonagrana|chedrive|adrinolinks|samaa-pro|techrfour|ez4short|topnewsnew|gawishpro|dz4link|skincarie|gaminplay|infinitycoupon|videoslyrics|shortlite|bitefaucet|techrayzer|shorteet|donnaleehunt|puggygaming|tranquangchuan|blogginglass|1shorten|lensabicara|tieutietkiem|yummy-reciepes|doctor-groups|link.bigboxnet|bioinflu|chamcuuhoc|litexblog|7nything|ezeviral|gamalk-sehetk|adsafelink|cbshort|abcshort|checkscoin|llinkon|links.apksvip|nguyenvanbao|cloudgetlink|techloadz|atglinks|nulledsafe|dreamcheeky|cutpaid|fidlarmusic|rodjulian|anhdep24|money.alyoumeg|sl.claimfreebits|sl-1.btcbunch|sl-2.btcbunch|earncryptowrs|short-zero|insurancevela|poketoonworld|arahtekno|mopahealth|nghiencar|educur|sl-3.btcbunch|apk.miuiku|bitlya|ecwizon|oncehelp|sportsmediaz|big2short|techymozo|loptelink|2shrt|charexempire|coindoog|shotzon|novelsapps|webhostingpost|tremamnon|tirailangit|intercelestial|tribuntekno|bestcash2020|hoxiin|fooot-map|priefy|dz-linkk|fauxlink|chinhnhacoban|autodime|cortaly|link.3dmili|1adlink|indianshortner|donia-tech|donia2tech|donia2link|short1s|cr3zyblog|btafile|pdiskshortener|urlsopen|1shortlink|linkerload|filenext|shrinkmoney|doodshort|paid4link|kienthucrangmieng|wiki-topia|aljoodm98|newworldnew|sahityt|mkomsel|niinga|fx4vip|shortzon|mesho-link|up4cash|newsharsh|examkhata|linksht|note1s|teknosimple|discordserv|wikitraveltips|link-yz|apkadmin|ayelads|gawbne|mshortener|cutdomain|usersdrive|uptobox|1fichier|uploadrar|bayfiles|krakenfiles|post.copydev|icutlink|zegtrends|anonfiles|sharemods|ddownload|uppit|userscloud|newsnowbd|link.nulldown|asideway|url.namaidani|url.magmint|mp4upload|myshrinker|apkshrt|link.turkdown|drive.google|safe.intipanime|uploadhaven|manga2day|shortyearn|workupload|filedm|themorningtribune|beingtek|sub2get|ex-load|campki|social-unlock|teerclub|short-jambo|link.bitmagge|nerdiess|lyricsbaazaar|best-cpm|clicksfly|megaupto|maqal360|foodboth|ufacw|techcartz|softechbharat|okrzone|informaxonline|shopdorod|short.skalbayrak|adshnk|sub2unlock|smarcrm|cryptomeloud|blog-everything|ikrey|tipsli|urlpayout|urlpoints|hocbeauty|95news|link.get4llink|twitonet|shrinklo|xemsport|cutwin|pubgquotes|examsteacher|adpaylink|yxoshort|mdiskurl|shrt10|imgbsr|linknih|lessurl|pureshort|techkeshri|uploadsoon|shrinkgold|itechmafiia|link4earn|team.pastehosting|3rabsnews|hosting4lifetime|oyunfilmindir|tecnicalboy|mr-forex|leadcricket|freebrightsoft|bantenexis|tackaway|dr-forex|indiajobagency|dz4link1|xpshort|urlshortx)(\\.com)(\\/.*)/","/^(https?:\\/\\/)(.+)?(zolomix|cararegistrasi|5golink|birdurls|snkra|artiskini|sh2rt|byboe|medcpu|nousdecor|restorbio|bdnewsx|upshrink|gifans|jardima|jobswd|gkqnaexam|imperialstudy|ovlinks|imagenesderopaparaperros|yofaurls|digiromotion|wingifta|rancah|coinadfly|delishwell|zippyshare|solidfiles|ourtecads|zubatecno|covemarkets|disheye|eda-ah|blog-forall|techymedies|gamelopte|allcryptotips|claimclicks|snowurl|riadcrypto|askpaccosi|linktrims|gets4link|visflakes|apk4do|dineroshare|elwatanelyoum|ledifha|claimfey|panylink|wrbloggers|tokenoto|saly-cash|upload-4ever|shortenn|admediaflex|btcpany|assettoworld|vikashmewada|linkyearn|appsbull|gam3ah|tinybc|diudemy|hereofamily|file-upload|shorterall|tribuncrypto|cempakajaya|safelinkduit|nadersoft7|adshorturl|linkbnao|phsensei|4shared|ta2deem7arbya|lrshortner|tinycmd|cloudshrinker|proviralhost|technicalatg|v2links|ytsubme|rainurl|arahlink|m4cut|teachsansar|web9academy|shortxlinks|flyrar|pythondunyasi|meykmen|on-scroll|shrtfly|dash-free|sekilastekno|cutln|i-polls|sonicbtc|menjelajahi|almontsf|crypturls|zombiebtc|techwhom|cash4share|linkwards|nyawang|kongutoday|claimbtcbits)(\\.com)(\\/.*)/","/^(https?:\\/\\/)(ahyblogs|ourcoincash|1manga|watchdoge|arenaboard|ccsl|shrinkpay|adsgo|shon|crypto-faucet|bingeflix|studystar|lokagames|3vw|bflinks|short-cash2|wizzly|mgnet|crypteen|dogeen|fauceteen|cutdl|sportawy|fexkomin|technemo|zoomcrypto|techboyz|cblinks|99links|kartunik|post.nites-tv|shortplus|stores.filmyzilla-in|expresscoins|claimcoinsfree|short1|swzz|acortame|alghtas|wizly|horanews|a1link|short2fly|bcvc|healthbloog|post.movies-near-me|st.kleaco|playlink|q8c|uscity|cars-1year|nabits|welovecrypto|worldappsstore|0uq|sh.tripledownloader|short2url|zeroshort|bitsyield|egstar|playdisk|monsterurlshortner|gibit|studyis|kukslincs|magictoshi|satoshi-hunter)(\\.xyz)(\\/.*)/","/^(https?:\\/\\/)(.+)?(senuansatechno|insurglobal|claimercorner|shortly|dexlink|doctorcoin|speedynews|1apple|ffworld|textpage|fidovy|egfly|insurance-space|crypto-blog|sapica|earnfacut|urlbharat|dropz|chainfo|megano-coin|techleets|earnl|ajifly)(\\.xyz)(\\/.*)/","/^(https?:\\/\\/)(neonlink|techydino|world-trips|yoshare|lets.5get|crypto-fi|wpcheap|coinmasterx|catcut|aztravels|dulichkhanhhoa|sub2unlock|forex-gold|techtrickonline|7apple|ccurl|link1s|url.namaidani|cryptowidgets|dogeclick|adskip|hurirk|usfinf|xervoo|sport4you|hexupload|eloism|cutt|forexshare|blog.cryptowidgets|neexulro|dailyuploads|douploads|simfileshare|fir3|magybu|racaty|linegee|blogesque|thuocdangian|altblogger|letsboost|conghuongtu|vinaurl|tecmundo|try2link|cut-y|megadb|cpmlink)(\\.net)(\\/.*)/","/^(https?:\\/\\/)(.+)?(digitalnaz|owllink|mozlink|cryptosats|rocklinks|celinks|jiotech|bitcomarket|illink|jemari|paid4link|link3s|boscoin|linkrex|fire-link|urlw|pilinks|linkshortify|youshort)(\\.net)(\\/.*)/","/^(https?:\\/\\/)(tnlink|jrlinks|qualitystudymaterial|cuturl|missionhight|wpking|zagl|ls2earn|streamshort|shareus|referus|megafly|megaurl|cutp|earnmoj|riadshot|urlmoney|cplink|cryptomonitor|technoflip|linkshortify|htlinks|techlearningtube|urlfly|linkocean|financeflix|uttan|jazbaat|djxmaza|bildirim|techy4you|battlechamp|sahilsumra|kerdlinfo|urlcut|insurancevlog|itechlogic|videolyrics|tekcrypt|missionhight|gplinks|moddingzone|adybrands|gpflix|gz2|dulink|aclinks|hidelinks|shortearn|siteblog|u.apgy|du-link|ouoi|by6|adrinolinks|rklinks|mymobilehub|techdaze|link4earn|rupamobile|examsolution|earn4link|kalvidudes|techwithsanikant|thebookaholics|ctdbihar)(\\.in)(\\/.*)/","/^(https?:\\/\\/)(.+)?(cashurl|linkad|bitcoinly|crazyblog|zolomix|technologylover|expertlinks|largestpanel|linkres|rsrlink|linkstream|xmod|short2url|99links|rplinks|enit|adloot|url2go|tnvalue|pvidly|apurl|earnspace|urlinked|mdlink|gamerfang|writedroid|teckypress|fixno|paisakamalo|inkik|shrinkforearn|easysky|ajlinks|mdiskplayer|akcartoons|open2get)(\\.in)(\\/.*)?/","/^(https?:\\/\\/)(aylink|linkszia|mynewsmedia|gtlink|linksly|droplink|123link|linksfy|adshorti|hxfile|dosya|veganal|takem|ezimg|eng.ezimg|dausel|modlink|9-animie|veganho|nulledmod|veganac|dealprice|arabplus2|cut-y|adshort)(\\.co)(\\/.*)/","/^(https?:\\/\\/)(.+)?(takez|linksfire|vosan|tinygo|veganab|adfloz|fexkomin)(\\.co)(\\/.*)/","/^(https?:\\/\\/)(ctbl|girls-like|gobits|zoss|shrinke|tlin|terafly|petafly|gigafly|adnews|papanews|panyflay|mozzfly|shortus|short.croclix|best-news|mega-news|wildblog|specx|dddrive|linkpoi|m.newhit|mboost|linkshorts|exafly|nonofly|lozzfly|uptomega|stfly|adbull|youshort|health-and|cutx|adsk|linkfly|shorter.earn-hub|pkin|cashando)(\\.me)(\\/.*)/","/^(https?:\\/\\/)(.+)?(theconomy|richlink)(\\.me)(\\/.*)/","/^(https?:\\/\\/)(sitr|downfile|savelink|linkshortify|shareus|promo-visits|mobileprice|mynurse)(\\.site)(\\/.*)/","/^(https?:\\/\\/)(.+)?(cekip|link4rev|coin-city|urlcash)(\\.site)(\\/.*)/","/^(https?:\\/\\/)(earnme|sanoybonito|automotur|kooza|1link|zentum|mytop5|forexwaw|megatube)(\\.club)(\\/.*)/","/^(https?:\\/\\/)(.+)?(usanewstoday|kadal|webhostingtips)(\\.club)(\\/.*)/","/^(https?:\\/\\/)(adrev|paid4|yousm|coinpayz|tr|yocto|clk.dti|besturl|boostme|takefile|appo|pureshort|linkshortifyx)(\\.link)(\\/.*)/","/^(https?:\\/\\/)(.+)?(vshort|stex|cash4|zuba)(\\.link)(\\/.*)/","/^(https?:\\/\\/)(shurt|shortit|adsy|bitlinks|clik|playstore|megalink)(\\.pw)(\\/.*)/","/^(https?:\\/\\/)(.+)?(prz|pong)(\\.pw)(\\/.*)/","/^(https?:\\/\\/)(bloogerspoot|vsbl)(\\.ga)(\\/.*)/","/^(https?:\\/\\/)(bloogerspoot|linkshor|cortlink)(\\.tk)(\\/.*)/","/^(https?:\\/\\/)(.+)?(madfaucet|mineshor|futureshor)(\\.tk)(\\/.*)/","/^(https?:\\/\\/)(bloogerspoot|urlchanger|arearn|360shortlink)(\\.ml)(\\/.*)/","/^(https?:\\/\\/)(onimports|link.encurtaon|economiarelevante)(\\.com\\.br)(\\/.*)/","/^(https?:\\/\\/)(exee|onlineteori|punyablog|activity|massive|caview|nesiaku|link.nesia)(\\.my\\.id)(\\/.*)/","/^(https?:\\/\\/)(.+)?(mycut|apasih)(\\.my\\.id)(\\/.*)/","/^(https?:\\/\\/)(.+)?(suratresmi|carapedi|salink)(\\.id)(\\/.*)/","/^(https?:\\/\\/)(link.skm4u|linkwards)(\\.co\\.in)(\\/.*)/","/^(https?:\\/\\/)(.+)?(droplink)(\\.co\\.in)(\\/.*)/","/^(https?:\\/\\/)(kiiw|passgen|wordcounter|shrink|revcot|clickzu|shortzu)(\\.icu)(\\/.*)/","/^(https?:\\/\\/)(newforex|wplink|nbyts|wealthystyle|clicksfly|happy-living|webcoin.coinrain|teacherana|earnow|earn-cash|yourtechnology|apks|network-earn|battleroyal)(\\.online)(\\/.*)/","/^(https?:\\/\\/)(.+)?(adslinkfly|readi|linkmumet)(\\.online)(\\/.*)/","/^(https?:\\/\\/)(exey|ezlinks|techmody|ouo|ex-e|saly|cuty|evoload|oke|letsupload|eio|oii|exe)(\\.io)(\\/.*)/","/^(https?:\\/\\/)(.+)?(linkfly|usalink)(\\.io)(\\/.*)/","/^(https?:\\/\\/)(tny|tinyurl)(\\.so)(\\/.*)/","/^(https?:\\/\\/)(zshort|claimcrypto|cashearn|1ink|linkpay|moneylink|intnews|openload|linkspy|letsupload|myasietv)(\\.cc)(\\/.*)/","/^(https?:\\/\\/)(cryptoad|wikile|uploadev|mega4upr|cshort|payskip|homeairquality|shortearn|sl.btc25|earnsfly)(\\.org)(\\/.*)/","/^(https?:\\/\\/)(.+)?(medipost|shrinkurl|keeplinks|rajdlsg)(\\.org)(\\/.*)/","/^(https?:\\/\\/)(jameeltips|mitly|adfoc|link4fun)(\\.us)(\\/.*)/","/^(https?:\\/\\/)(.+)?(yalla-shoot-now|forexeen|jaelink)(\\.us)(\\/.*)/","/^(https?:\\/\\/)(noweconomy|deportealdia|adshort|ay|pngit|pndx)(\\.live)(\\/.*)/","/^(https?:\\/\\/)(earnads|genpassword|shrlink|mshort|punyamerk|shortnow|short.freeltc)(\\.top)(\\/.*)/","/^(https?:\\/\\/)(scratch247|siyn|portablesusb|children-learningreading|azmath|mobilereview|inform3tion|mobilism|shortlinkto|uptobhai|bitcrypto|machicon-akihabara|cooklike|videoclip|brbushare|fanclup)(\\.info)(\\/.*)/","/^(https?:\\/\\/)(faucetcrypto|bildirim)(\\.eu)(\\/.*)/","/^(https?:\\/\\/)(nex-url|olamovies|atrologyrex)(\\.cyou)(\\/.*)/","/^(https?:\\/\\/)(antonimos|blog.hostratgeber)(\\.de)(\\/.*)/","/^(https?:\\/\\/)(freelitecoin|uplinkto|1Link)(\\.vip)(\\/.*)/","/^(https?:\\/\\/)(.+)?(flyad|lootcash)(\\.vip)(\\/.*)/","/^(https?:\\/\\/)(romania|met|warp)(\\.bz)(\\/.*)/","/^(https?:\\/\\/)(2ad|viya|17o)(\\.ir)(\\/.*)/","/^(https?:\\/\\/)(adshrink|cutin)(\\.it)(\\/.*)/","/^(https?:\\/\\/)(pingit|files|upo)(\\.im)(\\/.*)/","/^(https?:\\/\\/)(clk|9xupload)(\\.asia)(\\/.*)/","/^(https?:\\/\\/)(iir|tei|ier|ckk)(\\.ai)(\\/.*)/","/^(https?:\\/\\/)(aii|clk|oko)(\\.sh)(\\/.*)/","/^(https?:\\/\\/)(.+)?(i8l|clk|pi-l|bcvc|modli)(\\.ink)(\\/.*)/","/^(https?:\\/\\/)(.+)?(upload|prx)(\\.ee)(\\/.*)/","/^(https?:\\/\\/)(.+)?(mirrored|clicknupload)(\\.to)(\\/.*)/","/^(https?:\\/\\/)(.+)?(ouo|forextrader|daga88)(\\.today)(\\/.*)/","/^(https?:\\/\\/)(.+)?(techgeek|adsgo)(\\.digital)(\\/.*)/","/^(https?:\\/\\/)(mhma12|surflink|techtrim)(\\.tech)(\\/.*)/","/^(https?:\\/\\/)(kiw|redir.123file)(\\.li)(\\/.*)/","/^(https?:\\/\\/)(fc|fcc)(\\.lc)(\\/.*)/","/^(https?:\\/\\/)(zonearn|theprice|nhacremix|doanvanhai|hynews)(\\.biz)(\\/.*)/","/^(https?:\\/\\/)(.+)?(123link)(\\.biz)(\\/.*)/","/^(https?:\\/\\/)(.+)?(exe|exee|exep|exeo|upfiles|cutty|linkfly)(\\.app)(\\/.*)/","/^(https?:\\/\\/)(adshort|1bit|2the|careerhunter|galaxy-link)(\\.space)(\\/.*)/","/^(https?:\\/\\/)(makeeasybtc|softindex|techus)(\\.website)(\\/.*)/","/^(https?:\\/\\/)(linka|xtrabits|skipads)(\\.click)(\\/.*)/","/^(https?:\\/\\/)(.+)?(shortlinks|easysl|adlink|adzilla|urlcash)(\\.click)(\\/.*)/","/^(https?:\\/\\/)(.+)?(hamody|nathanaeldan|freddyoctavio|davisonbarker|clks|cryptosh|bestfonts|gitlink|openurl)(\\.pro)(\\/.*)/","/^(https?:\\/\\/)(up-load|zcash|mdisk)(\\.one)(\\/.*)/","/^(https?:\\/\\/)(1dogecoin|faucet)(\\.work)(\\/.*)/","/^(https?:\\/\\/)(claim|chuksblog|pricenews|url.getbits)(\\.fun)(\\/.*)/","/^(https?:\\/\\/)(go|blog|go2|tech|test|blg)(\\.madshiba\\.fun)(\\/.*)/","/^(https?:\\/\\/)(linkati|zenshort|curto)(\\.win)(\\/.*)/","/^(https?:\\/\\/)(cool-time|movies|anime|tech)(\\.dutchycorp\\.space)(\\/.*)/","/^https:\\/\\/linkvertise\\.com\\/(1|2|3|4|5|6|7|8|9)/","/^https:\\/\\/cryptofans\\.club\\/(short|next|other|step)/","/^(https?:\\/\\/)(.+)?(mediafire)(\\.com)\\/(download|file)/","/^(https?:\\/\\/)(.+)?(cryptocurrencytracker|freefaucet)(\\.biz)\\/(link)/","/^(https?:\\/\\/)(.+)?(freebitcoin)(\\.fun)\\/(topsites|view)/","/^(https?:\\/\\/)(.+)?(clickscoin|freefeyorra|reddcoineveryday|cryptotyphoon|softairbay)(\\.com)\\/(short)/"],"orig_matches":["*://dutchycorp.space/s*/*","*://dutchycorp.ovh/s*/*","*://shorts.lu/*","*://adx.wiki/*","*://adx.cx/*","*://al.ly/*","*://za.gl/*","*://goo.st/*","*://c2g.at/*","*://adz.moe/*","*://coin.mg/*","*://send.cm/*","*://kimo.ma/*","*://goads.ly/*","*://mdn.rest/*","*://*.mdn.lol/*","*://*.rota.cc/*","*://ouo.press/*","*://7cc.96.lt/*","*://gktech.uk/*","*://*.flyzu.icu/*","*://tinyurl.is/*","*://*.mdn.world/*","*://nail.edu.pl/*","*://lolabits.se/*","*://gosixs.com/s/*","*://3shorturl.gq/*","*://litecoin.host/*","*://*.goto.com.np/*","*://z-cash.xyz/ad/*","*://drop.download/*","*://cryptofuns.ru/*","*://linkshrink.ca/*","*://short.express/*","*://arbweb.info/sl/*","*://*.cizgifilm.tv/*","*://karyawan.co.id/*","*://downloads.ninja/*","*://faucethub.ly/hs/*","*://faucetpay.io/ptc*","*://*.trangchu.news/*","*://webmobile.store/*","*://*.adz7short.space/*","*://docs.google.com/uc*","*://starfaucet.net/sl/*","*://solarchaine.com/sl/*","*://shrt.cryptofuns.ru/*","*://iqfaucet.com/link3/*","*://horrorbitcoin.com/?*","*://satoshi-win.xyz/url/*","*://cryptonetos.ru/page/*","*://*.writedroid.eu.org/*","*://post.blogzone1.shop/*","*://faucet.gold/BTC/?step*","*://faucet.gold/ETH/?step*","*://adbtc.top/surf/browse/*","*://anonym.ninja/download/*","*://claimsolana.xyz/short/*","*://faucetcrypto.net/short/*","*://stationbit.xyz/autolink/*","*://konstantinova.net/verify/*","*://playnano.online/watch-and*","*://adbtc.top/surfiat/browse/*","*://rotator.nurul-huda.sch.id/*","*://*api-secure.solvemedia.com/*","*://faucetcrypto.com/claim/step/*","*://linkvertise.download/download/*","*://*.racedepartment.com/downloads/*","*://cryptonetos.ru/page/redirect*","*://galerybits.com/protectlink/*","*://earnultimate.space/short/*","*://bas.nurul-huda.or.id/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671066989336,"data":{}},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/431691-bypass-all-shortlinks/code/Bypass%20All%20Shortlinks.user.js","uuid":"0eb477bd-a4b4-49bf-9afe-0b3afccbd603","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgQnlwYXNzIEFsbCBTaG9ydGxpbmtzCi8vIEBuYW1lOmlkICAgIEJ5cGFzcyBTZW11YSBTaG9ydGxpbmsKLy8gQG5hbWU6dWcgICAgQnlwYXNzINio2KfYsdmE2YnZgiDZgtmJ2LPZgtinINim24fZhNmJ2YbZidi02YTYp9ixCi8vIEBuYW1lOmFyICAgINiq2KzYp9mI2LIg2KfZhNis2YXZiti5INin2YTYsdmI2KfYqNi3INin2YTZhdiu2KrYtdix2KkKLy8gQG5hbWU6aGUgICAg15zWt9ei1rLXp9eV1rnXoyDXkNeqINeb15wg16fXmdep15XXqNeZ150g16fXpteo15nXnQovLyBAbmFtZTpoaSAgICDgpLjgpK3gpYAg4KS24KWJ4KSw4KWN4KSf4KSy4KS/4KSC4KSVIOCkleCliyDgpKzgpL7gpK/gpKrgpL7gpLgg4KSV4KSw4KWH4KSCCi8vIEBuYW1lOmphICAgIOODkOOCpOODkeOCuSDlhajjgaYg44K344On44O844OI44Oq44Oz44KvCi8vIEBuYW1lOmZyICAgIEJ5cGFzcyBUb3V0IExpZW4gY291cnRzCi8vIEBuYW1lOmtvICAgIOuqqOuToCDsp6fsnYAg66eB7YGsIOyasO2ajAovLyBAbmFtZTp0aCAgICDguJrguLLguKLguJ7guLLguKog4LiX4Lix4LmJ4LiH4Lir4Lih4LiUIOC4peC4tOC4h+C4hOC5jOC4quC4seC5ieC4mQovLyBAbmFtZTpiZyAgICDQl9Cw0L7QsdC40LrQsNC70Y/QvdC1INC90LAg0LLRgdC40YfQutC4INC60YDQsNGC0LrQuCDQstGA0YrQt9C60LgKLy8gQG5hbWU6cm8gICAgQnlwYXNzIFRvYXRlIExpbmt1cmkgc2N1cnRlCi8vIEBuYW1lOmZpICAgIE9oaXR0YWEgS2Fpa2tpIEx5aHlldCBsaW5raXQKLy8gQG5hbWU6aXQgICAgQnlwYXNzYXJlIFR1dHRvIENvbGxlZ2FtZW50aSBicmV2aQovLyBAbmFtZTplbCAgICDOoM6xz4HOrM66zrHOvM+Izrcgzp/Ou86xIM6jz43Ovc+Ezr/OvM6/zrkgz4PPjc69zrTOtc+DzrzOv865Ci8vIEBuYW1lOmVvICAgIFByZXRlcnZvam8gxIhpdWogTWFsbG9uZ2FqIGxpZ2lsb2oKLy8gQG5hbWU6ZXMgICAgU2FsdGFyc2UgVG9kb3MgbG9zIEVubGFjZXMgQWNvcnRhZG9zCi8vIEBuYW1lOmh1ICAgIEJ5cGFzcyDDlnNzemVzIFLDtnZpZCBsaW5rZWsKLy8gQG5hbWU6bmIgICAgT21nw6UgQWxsZSBLb3J0bGVua2VyCi8vIEBuYW1lOnNrICAgIE9iw61zxaUgVsWhZXRreSBLcsOhdGtlIG9ka2F6eQovLyBAbmFtZTpzdiAgICBGw7ZyYmlnw6UgYWxsYSBrb3J0bMOkbmthcgovLyBAbmFtZTpzciAgICBaYW9iacSHaSBTdmUgS3JhdGtlIHZlemUKLy8gQG5hbWU6cGwgICAgQnlwYXNzIFdzenlzdGtpZSBLcsOzdGtpZSBsaW5raQovLyBAbmFtZTpubCAgICBCeXBhc3MgQWxsZSBLb3J0ZSBsaW5rcwovLyBAbmFtZTpkZSAgICBCeXBhc3MgQWxsZSBLdXJ6bGlua3MKLy8gQG5hbWU6ZGEgICAgQnlwYXNzIEFsbGUgU2hvcnRsaW5rcwovLyBAbmFtZTpjcyAgICBCeXBhc3MgVsWhZWNobm8gS3LDoXRrw6kgb2RrYXp5Ci8vIEBuYW1lOnVrICAgINCe0LHRhdGW0LQg0LLRgdGWINCa0L7RgNC+0YLQutGWINC/0L7RgdC40LvQsNC90L3RjwovLyBAbmFtZTpydSAgICDQntCx0YXQvtC0INCS0YHQtSDQmtC+0YDQvtGC0LrQuNC1INGB0YHRi9C70LrQuAovLyBAbmFtZTp0ciAgICBCeXBhc3MgVMO8bSBLxLFzYSBMaW5rbGVyCi8vIEBuYW1lOnZpICAgIELhu48gcXVhIFThuqV0IGPhuqMgQ8OhYyBsacOqbiBr4bq/dCBuZ+G6r24KLy8gQG5hbWU6emgtQ04g5peB6LevIOWFqOmDqCDnn63pk77mjqUKLy8gQG5hbWU6emgtVFcg5peB6LevIOWFqOmDqCDnn63pj4jmjqUKLy8gQG5hbWU6cHQtQlIgQnlwYXNzIFRvZG9zIExpbmtzIGN1cnRvcwovLyBAbmFtZTpmci1DQSBCeXBhc3MgVG91dCBMaWVuIGNvdXJ0cwovLyBAbmFtZXNwYWNlICBWaW9sZW50bW9ua2V5IFNjcmlwdHMKLy8gQHZlcnNpb24gICAgNzAuNwovLyBAZ3JhbnQgICAgICBub25lCi8vIEBhdXRob3IgICAgIEJsb2dnZXJwZW11bGEKLy8gQHJ1bi1hdCAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGFudGlmZWF0dXJlICAgIHRyYWNraW5nCi8vIEBkZXNjcmlwdGlvbiAgICBCeXBhc3MgQWxsIFNob3J0bGlua3MgU2l0ZXMgQXV0b21hdGljYWxseSBTa2lwcyBBbm5veWluZyBMaW5rIFNob3J0ZW5lcnMgLCBTa2lwIEFkRmx5ICwgTGlua3ZlcnRpc2UgYW5kIE5vIEFubm95aW5nIEFkcywgRGlyZWN0bHkgdG8gWW91ciBEZXN0aW5hdGlvbiwgYW5kIG5vdyBTdXBwb3J0IEF1dG8gRG93bmxvYWRpbmcgWW91ciBGaWxlcwovLyBAZGVzY3JpcHRpb246aWQgQnlwYXNzIFNlbXVhIFNpdHVzIFNob3J0bGluayBTZWNhcmEgT3RvbWF0aXMgTGFuZ3N1bmcga2UgVHVqdWFuIFRhbnBhIElrbGFuIHlhbmcgTWVuZ2dhbmdndSAsIFN1cHBvcnQgQXV0byBEb3dubG9hZCBGaWxlCi8vIEBkZXNjcmlwdGlvbjp1ZyDYqNin2LHZhNmJ2YIg2YLZidiz2YLYpyDYptuH2YTZidmG2YnYtCDYqtmI2LEg2KjbkNmD25XYqtmE2YnYsdmJ2YbZiSDYptin2YrZhNmJ2YbZidm+INim24bYqtuI2b4g2Iwg2YPZidi02YnZhtmJINio2YnYstin2LEg2YLZidmE2YnYr9mJ2LrYp9mGINim24fZhNmJ2YbZidi0INmC2YnYs9mC2KfYsdiq2YLbh9qG2YbZiSDYptin2b7YqtmI2YXYp9iq2YnZgyDavtin2YTYr9inINmF25XZhtiy2YnZhNmJ2q3Zidiy2q/blSDYptin2KrZhNin2q0uCi8vIEBkZXNjcmlwdGlvbjphciDYqtis2KfZiNiyINis2YXZiti5INmF2YjYp9mC2Lkg2KfZhNix2YjYp9io2Lcg2KfZhNmF2K7Yqti12LHYqSDZitiq2K7Yt9mJINiq2YTZgtin2KbZitmL2Kcg2KPYr9mI2KfYqiDYqtmC2LXZitixINin2YTYsdmI2KfYqNi3INin2YTZhdiy2LnYrNipINiMINmF2KjYp9i02LHYqSDYpdmE2Ykg2YjYrNmH2KrZgwovLyBAZGVzY3JpcHRpb246aGUg16LXlden16Mg15DXqiDXm9ecINeQ16rXqNeZINeU16fXmdep15XXqNeZ150g15TXp9em16jXmdedINee15PXnNeSINeQ15XXmNeV157XmNeZ16og16LXnCDXnten16bXqNeZINen15nXqdeV16jXmdedINee16LXpteR16DXmdedLCDXmdep15nXqNeV16og15zXmdei15Mg16nXnNeaCi8vIEBkZXNjcmlwdGlvbjpoaSDgpLjgpK3gpYAg4KS24KWJ4KSw4KWN4KSf4KSy4KS/4KSC4KSVIOCkuOCkvuCkh+Ckn+Cli+CkgiDgpJXgpYsg4KSs4KS+4KSv4KSq4KS+4KS4IOCkleCksOClh+Ckgiwg4KS44KWA4KSn4KWHIOCkhuCkquCkleClhyDgpJfgpILgpKTgpLXgpY3gpK8g4KSq4KSwIOCkleCkt+CljeCkn+CkquCljeCksOCkpiDgpLLgpL/gpILgpJUg4KS24KWJ4KSw4KWN4KSf4KSo4KSwIOCkleCliyDgpJvgpYvgpKHgpLwg4KSm4KWH4KSCCi8vIEBkZXNjcmlwdGlvbjpqYSDjgZnjgbnjgabjga7jgrfjg6fjg7zjg4jjg6rjg7Pjgq/jgrXjgqTjg4jjgpLjg5DjgqTjg5HjgrnjgZnjgovjgajjgIHov7fmg5Hjgarjg6rjg7Pjgq/jgrfjg6fjg7zjg4jjg4rjg7zjgYzoh6rli5XnmoTjgavjgrnjgq3jg4Pjg5fjgZXjgozjgIHlrpvlhYjjgavnm7TmjqXpgIHkv6HjgZXjgozjgb7jgZkKLy8gQGRlc2NyaXB0aW9uOmZyIENvbnRvdXJuZXIgdG91cyBsZXMgc2l0ZXMgZGUgbGllbnMgY291cnRzIHNhdXRlIGF1dG9tYXRpcXVlbWVudCBsZXMgcmFjY291cmNpc3NldXJzIGRlIGxpZW5zIGfDqm5hbnRzLCBkaXJlY3RlbWVudCB2ZXJzIHZvdHJlIGRlc3RpbmF0aW9uCi8vIEBkZXNjcmlwdGlvbjprbyDrqqjrk6Ag7Ken7J2AIOunge2BrCDsgqzsnbTtirgg7Jqw7ZqM64qUIOyEseqwgOyLoCDrp4Htgawg64uo7LaV6riw66W8IOyekOuPmeycvOuhnCDqsbTrhIjrm7Dqs6Ag66qp7KCB7KeA66GcIOyngeygkSDsnbTrj5ntlanri4jri6QuCi8vIEBkZXNjcmlwdGlvbjp0aCDguILguYnguLLguKHguYTguIvguJXguYzguKXguLTguIfguITguYzguKrguLHguYnguJnguJfguLHguYnguIfguKvguKHguJTguILguYnguLLguKHguKXguLTguIfguITguYzguKLguYjguK3guJfguLXguYjguJnguYjguLLguKPguLPguITguLLguI3guYLguJTguKLguK3guLHguJXguYLguJnguKHguLHguJXguLTguYTguJvguKLguLHguIfguJvguKXguLLguKLguJfguLLguIfguILguK3guIfguITguLjguJMKLy8gQGRlc2NyaXB0aW9uOmJnINCX0LDQvtCx0LjQutCw0LvRj9C90LUg0L3QsCDQstGB0LjRh9C60Lgg0YHQsNC50YLQvtCy0LUg0YEg0LrRgNCw0YLQutC4INCy0YDRitC30LrQuCDQkNCy0YLQvtC80LDRgtC40YfQvdC+INC/0YDQvtC/0YPRgdC60LAg0LTQvtGB0LDQtNC90LjRgtC1INGB0YDQtdC00YHRgtCy0LAg0LfQsCDRgdGK0LrRgNCw0YnQsNCy0LDQvdC1INC90LAg0LLRgNGK0LfQutC4LCDQtNC40YDQtdC60YLQvdC+INC00L4g0LLQsNGI0LDRgtCwINC00LXRgdGC0LjQvdCw0YbQuNGPCi8vIEBkZXNjcmlwdGlvbjpybyBPbWl0ZSB0b2F0ZSBzaXRlLXVyaWxlIGN1IGxpbmt1cmkgc2N1cnRlIE9taXRlIGF1dG9tYXQgZWxlbWVudGVsZSBkZSBzY3VydGFyZSBhIGxpbmt1cmlsb3IgZW5lcnZhbnRlLCBkaXJlY3QgY8SDdHJlIGRlc3RpbmHIm2lhIHRhCi8vIEBkZXNjcmlwdGlvbjpmaSBPaGl0YSBrYWlra2kgbHloeXRsaW5ra2lzaXZ1c3RvdCBvaGl0dGFhIGF1dG9tYWF0dGlzZXN0aSDDpHJzeXR0w6R2w6R0IGxpbmtpbmx5aGVubnlrc2V0IHN1b3JhYW4gbcOkw6Ryw6RucMOkw6Row6RzaQovLyBAZGVzY3JpcHRpb246aXQgSWdub3JhIHR1dHRpIGkgc2l0aSBkaSBjb2xsZWdhbWVudGkgYnJldmkgU2FsdGEgYXV0b21hdGljYW1lbnRlIGkgZmFzdGlkaW9zaSBhY2NvcmNpYXRvcmkgZGkgY29sbGVnYW1lbnRpLCBkaXJldHRhbWVudGUgYWxsYSB0dWEgZGVzdGluYXppb25lCi8vIEBkZXNjcmlwdGlvbjplbCDOoM6xz4HOrM66zrHOvM+Izrcgz4zOu8+Jzr0gz4TPic69IM+Ezr/PgM6/zrjOtc+DzrnPjs69IM+Dz43Ovc+Ezr/OvM+Jzr0gz4PPhc69zrTOrc+DzrzPic69IM6gzrHPgc6xzrrOrM68z4DPhM61zrkgzrHPhc+Ez4zOvM6xz4TOsSDPhM6xIM61zr3Ov8+HzrvOt8+EzrnOus6sIM+Az4HOv86zz4HOrM68zrzOsc+EzrEgz4PPhc69z4TPjM68zrXPhc+DzrfPgiDPg8+Fzr3OtM6tz4POvM+Jzr0sIM6xz4DOtc+FzrjOtc6vzrHPgiDPg8+Ezr/OvSDPgM+Bzr/Ov8+BzrnPg868z4wgz4POsc+CCi8vIEBkZXNjcmlwdGlvbjplbyBQcmV0ZXJwYXNpIMSIaXVqIE1hbGxvbmdhaiBMaWdpbG9qLUVqb2ogQcWtdG9tYXRlIFNhbHRhcyDEnWVuYWpuIExpZ2lsb2puLCBSZWt0ZSBhbCBWaWEgQ2VsbwovLyBAZGVzY3JpcHRpb246ZXMgU2FsdGFyc2UgQXV0b23DoXRpY2FtZW50ZSB0b2RvcyBsb3MgZW5sYWNlcyBhY29ydGFkb3MsIEFkRmx5LCBMaW5rdmVydGlzZSwgeSBvbWl0aXIgYW51bmNpb3MsIGlyIGRpcmVjdGFtZW50ZSBhbCBkZXN0aW5vLCBhaG9yYSBzZSBhZ3JlZ8OzIGRlc2NhcmdhIGF1dG9tw6F0aWNhIGRlIGFyY2hpdm9zCi8vIEBkZXNjcmlwdGlvbjpodSBBeiDDtnNzemVzIHLDtnZpZCBoaXZhdGtvesOhc2kgd2ViaGVseSBtZWdrZXLDvGzDqXNlIGF1dG9tYXRpa3VzYW4gw6F0dWdvcmphIGEgYm9zc3phbnTDsyBsaW5rcsO2dmlkw610xZFrZXQsIGvDtnp2ZXRsZW7DvGwgYXogw7p0aWPDqWxyYQovLyBAZGVzY3JpcHRpb246bmIgT21nw6UgYWxsZSBrb3J0ZSBsZW5rZXIgTmV0dHN0ZWRlciBob3BwZXIgYXV0b21hdGlzayBvdmVyIGlycml0ZXJlbmRlIGxlbmtlZm9ya29ydGVyZSwgZGlyZWt0ZSB0aWwgZGVzdGluYXNqb25lbiBkaW4KLy8gQGRlc2NyaXB0aW9uOnNrIE9iw63Ej3RlIHbFoWV0a3kgc3Ryw6Fua3kgcyBrcsOhdGt5bWkgb2RrYXptaSwga3RvcsOpIGF1dG9tYXRpY2t5IHByZXNrb8SNaWEgb3RyYXZuw6kgc2tyYWNvdmHEjWUgb2RrYXpvdiBwcmlhbW8gZG8gdsOhxaFobyBjaWXEvmEKLy8gQGRlc2NyaXB0aW9uOnN2IEbDtnJiaSBhbGxhIGtvcnRhIGzDpG5rYXIgd2ViYnBsYXRzZXIgaG9wcGFyIGF1dG9tYXRpc2t0IMO2dmVyIGlycml0ZXJhbmRlIGzDpG5rZsO2cmtvcnRhcmUsIGRpcmVrdCB0aWxsIGRpbiBkZXN0aW5hdGlvbgovLyBAZGVzY3JpcHRpb246c3IgWmFvYmnEh2kgc3ZlIHN0cmFuaWNlIHMga3JhdGtpbSB2ZXphbWEgYXV0b21hdHNraSBwcmVza2HEjWUgZG9zYWRuZSBza3JhxIdpdmHEjWUgdmV6YSwgaXpyYXZubyBuYSB2YcWhZSBvZHJlZGnFoXRlCi8vIEBkZXNjcmlwdGlvbjpwbCBQb21pamFqIHdzenlzdGtpZSBzdHJvbnkgeiBrcsOzdGtpbWkgbGlua2FtaSBhdXRvbWF0eWN6bmllIHBvbWlqYSBpcnl0dWrEhWNlIHNrcmFjYWN6ZSBsaW5rw7N3LCBiZXpwb8WbcmVkbmlvIGRvIG1pZWpzY2EgZG9jZWxvd2VnbwovLyBAZGVzY3JpcHRpb246bmwgT216ZWlsIGFsbGUgc2l0ZXMgbWV0IGtvcnRlIGxpbmtzIGVuIHNsYWF0IGF1dG9tYXRpc2NoIHZlcnZlbGVuZGUgbGlua3ZlcmtvcnRlcnMgb3ZlciwgcmVjaHRzdHJlZWtzIG5hYXIgdXcgYmVzdGVtbWluZwovLyBAZGVzY3JpcHRpb246ZGUgQWxsZSBTaG9ydC1MaW5rcy1TaXRlcyB1bWdlaGVuIMOcYmVyc3ByaW5ndCBhdXRvbWF0aXNjaCBsw6RzdGlnZSBMaW5rLVNob3J0ZW5lciBkaXJla3QgenUgSWhyZW0gWmllbAovLyBAZGVzY3JpcHRpb246ZGEgT21nw6UgYWxsZSBrb3J0ZSBsaW5rcy13ZWJzdGVkZXIgc3ByaW5nZXIgYXV0b21hdGlzayBpcnJpdGVyZW5kZSBsaW5rZm9ya29ydGVyZSBvdmVyLCBkaXJla3RlIHRpbCBkaW4gZGVzdGluYXRpb24KLy8gQGRlc2NyaXB0aW9uOmNzIE9iZWrDrXQgdsWhZWNobnkgc3Ryw6Fua3kgcyBrcsOhdGvDvW1pIG9ka2F6eSBBdXRvbWF0aWNreSBwxZllc2tha3VqZSBvdHJhdm7DqSB6a3JhY292YcSNZSBvZGthesWvIHDFmcOtbW8gZG8gdmHFoWVobyBjw61sZQovLyBAZGVzY3JpcHRpb246dWsg0J7QsdGW0LnRgtC4INCy0YHRliDRgdCw0LnRgtC4INC3INC60L7RgNC+0YLQutC40LzQuCDQv9C+0YHQuNC70LDQvdC90Y/QvNC4LiDQkNCy0YLQvtC80LDRgtC40YfQvdC+INC/0YDQvtC/0YPRgdC60LDRlCDQtNGA0LDRgtGW0LLQu9C40LLRliDRgdC60L7RgNC+0YfQtdC90L3RjyDQv9C+0YHQuNC70LDQvdGMINCx0LXQt9C/0L7RgdC10YDQtdC00L3RjNC+INC00L4g0LLQsNGI0L7Qs9C+INC/0YPQvdC60YLRgyDQv9GA0LjQt9C90LDRh9C10L3QvdGPCi8vIEBkZXNjcmlwdGlvbjpydSDQntCx0YXQvtC0INCy0YHQtdGFINGB0LDQudGC0L7QsiDRgSDQutC+0YDQvtGC0LrQuNC80Lgg0YHRgdGL0LvQutCw0LzQuCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuCDQv9GA0L7Qv9GD0YHQutCw0LXRgiDQvdCw0LTQvtC10LTQu9C40LLRi9C1INGB0L7QutGA0LDRidCw0YLQtdC70Lgg0YHRgdGL0LvQvtC6LCDQv9GA0Y/QvNC+INC6INC80LXRgdGC0YMg0L3QsNC30L3QsNGH0LXQvdC40Y8KLy8gQGRlc2NyaXB0aW9uOnRyIFTDvG0gS8Sxc2EgTGlua2xlcmkgQXRsYSBTaXRlbGVyIENhbiBzxLFrxLFjxLEgTGluayBLxLFzYWx0xLFjxLFsYXLEsSBPdG9tYXRpayBPbGFyYWsgQXRsYXIsIERvxJ9ydWRhbiBIZWRlZmluaXplCi8vIEBkZXNjcmlwdGlvbjp2aSBC4buPIHF1YSB04bqldCBj4bqjIGPDoWMgdHJhbmcgd2ViIGxpw6puIGvhur90IG5n4bqvbiB04buxIMSR4buZbmcgYuG7jyBxdWEgY8OhYyB0cmFuZyB3ZWIgbGnDqm4ga+G6v3QgZ8OieSBwaGnhu4FuIG5oaeG7hXUsIHRy4buxYyB0aeG6v3AgxJHhur9uIMSRw61jaCBj4bunYSBi4bqhbgovLyBAZGVzY3JpcHRpb246emgtY24g57uV6L+H5omA5pyJ55+t6ZO+5o6l572R56uZ6Ieq5Yqo6Lez6L+H54Om5Lq655qE6ZO+5o6l57yp55+t5Zmo77yM55u05o6l5Yiw5oKo55qE55uu55qE5ZywCi8vIEBkZXNjcmlwdGlvbjp6aC10dyDnuZ7pgY7miYDmnInnn63pj4jmjqXntrLnq5noh6rli5Xot7PpgY7nhankurrnmoTpj4jmjqXnuK7nn63lmajvvIznm7TmjqXliLDmgqjnmoTnm67nmoTlnLAKLy8gQGRlc2NyaXB0aW9uOnB0LWJyIElnbm9yYXIgdG9kb3Mgb3Mgc2l0ZXMgZGUgbGlua3MgY3VydG9zIGlnbm9yYSBhdXRvbWF0aWNhbWVudGUgZW5jdXJ0YWRvcmVzIGRlIGxpbmtzIGlycml0YW50ZXMsIGRpcmV0YW1lbnRlIHBhcmEgbyBzZXUgZGVzdGlubwovLyBAZGVzY3JpcHRpb246ZnItY2EgQ29udG91cm5lciB0b3VzIGxlcyBzaXRlcyBkZSBsaWVucyBjb3VydHMgc2F1dGUgYXV0b21hdGlxdWVtZW50IGxlcyByYWNjb3VyY2lzc2V1cnMgZGUgbGllbnMgZ8OqbmFudHMsIGRpcmVjdGVtZW50IHZlcnMgdm90cmUgZGVzdGluYXRpb24KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHRtZWFybnxhZGRpdGlvbmFsZ2FtZXJ8bWFrZW1vbmV5d2l0aHVybHxzaHJpbmtlYXJufHRlY2hjeWFufGFnaHRhc3xzb2x0b3NoaW5kb3xsaW5rNG18a2luZ3NsZXlueWN8aGVhbHRoeTRwZXBvbGV8a2lrdHV8MWJpdHNwYWNlfHNraXAtdXJsfHBlbm5ib29rY2VudGVyfHB1YmxpY2FuYW5rZXJ8bWlrbDRmb3JleHxtaWNoYWVsZW1hZHxtaWtscHJvfHppcm9mfGZvcmV4LWdvbGRzfG5hd2FoaTF8bW9zcWFtfHNlbWF3dXJ8Zm9yZXgtdHJuZHxob3NoaWxpbmt8dGFpd2FuY25hbnxiaXQtdXJsfG1lZ3VydXN8Y3V0cy11cmx8cG9waW1lZHxyYXl1c21lZHlhfGVuYnVybHxwaWNraG9wZXN8dG9yeXhsaW5rfGFkdXp6fGx5Y29zbGlua3xjZHJhYnxpYnJhYnVja3N8emVuc2hvcnR8ZXRoaW9taXxzaG9ydGVuYnVkZHl8a2llbWx1YXxzbW9uZXJ8ZGpiaG9qcHVyaXNvbmdzfHVybHR5fHNha2FzdGF1fG1vZHNiYXNlfGFjLnRvdHN1Z2VraXxiY3ZjMnxlYXJud2l0aHNob3J0bGlua3xiaXR6aXRlfGxpbmsxc3xkaWFkaWVtY2hlY2tpbnx0dWRpZW5kYW5obmdvbnxjaG9veW9taXxzdGFha2VyfGx1Y2lkY2FtfGZvcmV4bGFwfGZvcmV4bWFifGxpbmtqdXN0fGFkbWVkaWFmbGV4fGhvY2xhbWRhdWJlcHxyZWtvbmlzZXxmb3JleC1hcnRpY2xlc3xwb25zZWxoYXJpYW58bGlpbmthdHx0aGVnb25lYXBwfG1vYmkyY3xzdHVkeXVvfGhvb2tlYXVkaW98dGhlaG9zdGluZ21lbnRvcnxpbnRsaW5raXxsaW5rc2hvcnRpZnl8c2hvcHNpeHNldmVufG1vaHRhd2FhfG1zYXJ6b25lfGZvb2RoZWFyfGZjLWxjfGV4cGVydHZufGRvd25waGFubWVtfGhlYWxkYWR8ZXo0bW9kc3x0cnkybGlua3x0bWtlcnxzb2Z0M2FyYml8dGVjaHlhZGplY3RpdmVzfGV4LWZvYXJ5fGV4YW10YWRrYXxiYWJseWZlZWR8Y3J5cHRvNHR1bnxibG9nbWFkb3xpdHNndWlkZXJ8YnRjd2Fsa3w5OWZhdWNldHxjb2luLWZyZWV8MXhmYXVjZXR8Y2FmZW5hdXx0ZWNoYWNvZGV8bHMyZWFybnxzZXZlbmpvdXJuYWxzfDdtaXNyNGRheXx0cmZsaW5rfGJjbGlrZXF0fHlvdXNzZWZzYXllZHxnZXQ0bGlua3N8Y3JpY2tibGF6ZXxub3N0cmFsaW5rfGNsa21laW58MTAxZGVzaXJlfG1lbWFuZ2JhdXxzYW1hLXByb3xzLnVtZTI0fHNodGZseXxiZXN0bW9iaWxlbmV3fG9ubGluZWluY29tc3xtb2RzZmlyZXxhZG5lb3d8c2hvcnQuY2xpY2tzY29pbnxhZGNsaWNrZXJzYm90fG1vYml0YWFrfG1vZGViYWNhfHBheWxpbm5rfG9saG9uYWdyYW5hfGNoZWRyaXZlfGFkcmlub2xpbmtzfHNhbWFhLXByb3x0ZWNocmZvdXJ8ZXo0c2hvcnR8dG9wbmV3c25ld3xnYXdpc2hwcm98ZHo0bGlua3xza2luY2FyaWV8Z2FtaW5wbGF5fGluZmluaXR5Y291cG9ufHZpZGVvc2x5cmljc3xzaG9ydGxpdGV8Yml0ZWZhdWNldHx0ZWNocmF5emVyfHNob3J0ZWV0fGRvbm5hbGVlaHVudHxwdWdneWdhbWluZ3x0cmFucXVhbmdjaHVhbnxibG9nZ2luZ2xhc3N8MXNob3J0ZW58bGVuc2FiaWNhcmF8dGlldXRpZXRraWVtfHl1bW15LXJlY2llcGVzfGRvY3Rvci1ncm91cHN8bGluay5iaWdib3huZXR8YmlvaW5mbHV8Y2hhbWN1dWhvY3xsaXRleGJsb2d8N255dGhpbmd8ZXpldmlyYWx8Z2FtYWxrLXNlaGV0a3xhZHNhZmVsaW5rfGNic2hvcnR8YWJjc2hvcnR8Y2hlY2tzY29pbnxsbGlua29ufGxpbmtzLmFwa3N2aXB8bmd1eWVudmFuYmFvfGNsb3VkZ2V0bGlua3x0ZWNobG9hZHp8YXRnbGlua3N8bnVsbGVkc2FmZXxkcmVhbWNoZWVreXxjdXRwYWlkfGZpZGxhcm11c2ljfHJvZGp1bGlhbnxhbmhkZXAyNHxtb25leS5hbHlvdW1lZ3xzbC5jbGFpbWZyZWViaXRzfHNsLTEuYnRjYnVuY2h8c2wtMi5idGNidW5jaHxlYXJuY3J5cHRvd3JzfHNob3J0LXplcm98aW5zdXJhbmNldmVsYXxwb2tldG9vbndvcmxkfGFyYWh0ZWtub3xtb3BhaGVhbHRofG5naGllbmNhcnxlZHVjdXJ8c2wtMy5idGNidW5jaHxhcGsubWl1aWt1fGJpdGx5YXxlY3dpem9ufG9uY2VoZWxwfHNwb3J0c21lZGlhenxiaWcyc2hvcnR8dGVjaHltb3pvfGxvcHRlbGlua3wyc2hydHxjaGFyZXhlbXBpcmV8Y29pbmRvb2d8c2hvdHpvbnxub3ZlbHNhcHBzfHdlYmhvc3Rpbmdwb3N0fHRyZW1hbW5vbnx0aXJhaWxhbmdpdHxpbnRlcmNlbGVzdGlhbHx0cmlidW50ZWtub3xiZXN0Y2FzaDIwMjB8aG94aWlufGZvb290LW1hcHxwcmllZnl8ZHotbGlua2t8ZmF1eGxpbmt8Y2hpbmhuaGFjb2JhbnxhdXRvZGltZXxjb3J0YWx5fGxpbmsuM2RtaWxpfDFhZGxpbmt8aW5kaWFuc2hvcnRuZXJ8ZG9uaWEtdGVjaHxkb25pYTJ0ZWNofGRvbmlhMmxpbmt8c2hvcnQxc3xjcjN6eWJsb2d8YnRhZmlsZXxwZGlza3Nob3J0ZW5lcnx1cmxzb3Blbnwxc2hvcnRsaW5rfGxpbmtlcmxvYWR8ZmlsZW5leHR8c2hyaW5rbW9uZXl8ZG9vZHNob3J0fHBhaWQ0bGlua3xraWVudGh1Y3JhbmdtaWVuZ3x3aWtpLXRvcGlhfGFsam9vZG05OHxuZXd3b3JsZG5ld3xzYWhpdHl0fG1rb21zZWx8bmlpbmdhfGZ4NHZpcHxzaG9ydHpvbnxtZXNoby1saW5rfHVwNGNhc2h8bmV3c2hhcnNofGV4YW1raGF0YXxsaW5rc2h0fG5vdGUxc3x0ZWtub3NpbXBsZXxkaXNjb3Jkc2Vydnx3aWtpdHJhdmVsdGlwc3xsaW5rLXl6fGFwa2FkbWlufGF5ZWxhZHN8Z2F3Ym5lfG1zaG9ydGVuZXJ8Y3V0ZG9tYWlufHVzZXJzZHJpdmV8dXB0b2JveHwxZmljaGllcnx1cGxvYWRyYXJ8YmF5ZmlsZXN8a3Jha2VuZmlsZXN8cG9zdC5jb3B5ZGV2fGljdXRsaW5rfHplZ3RyZW5kc3xhbm9uZmlsZXN8c2hhcmVtb2RzfGRkb3dubG9hZHx1cHBpdHx1c2Vyc2Nsb3VkfG5ld3Nub3diZHxsaW5rLm51bGxkb3dufGFzaWRld2F5fHVybC5uYW1haWRhbml8dXJsLm1hZ21pbnR8bXA0dXBsb2FkfG15c2hyaW5rZXJ8YXBrc2hydHxsaW5rLnR1cmtkb3dufGRyaXZlLmdvb2dsZXxzYWZlLmludGlwYW5pbWV8dXBsb2FkaGF2ZW58bWFuZ2EyZGF5fHNob3J0eWVhcm58d29ya3VwbG9hZHxmaWxlZG18dGhlbW9ybmluZ3RyaWJ1bmV8YmVpbmd0ZWt8c3ViMmdldHxleC1sb2FkfGNhbXBraXxzb2NpYWwtdW5sb2NrfHRlZXJjbHVifHNob3J0LWphbWJvfGxpbmsuYml0bWFnZ2V8bmVyZGllc3N8bHlyaWNzYmFhemFhcnxiZXN0LWNwbXxjbGlja3NmbHl8bWVnYXVwdG98bWFxYWwzNjB8Zm9vZGJvdGh8dWZhY3d8dGVjaGNhcnR6fHNvZnRlY2hiaGFyYXR8b2tyem9uZXxpbmZvcm1heG9ubGluZXxzaG9wZG9yb2R8c2hvcnQuc2thbGJheXJha3xhZHNobmt8c3ViMnVubG9ja3xzbWFyY3JtfGNyeXB0b21lbG91ZHxibG9nLWV2ZXJ5dGhpbmd8aWtyZXl8dGlwc2xpfHVybHBheW91dHx1cmxwb2ludHN8aG9jYmVhdXR5fDk1bmV3c3xsaW5rLmdldDRsbGlua3x0d2l0b25ldHxzaHJpbmtsb3x4ZW1zcG9ydHxjdXR3aW58cHViZ3F1b3Rlc3xleGFtc3RlYWNoZXJ8YWRwYXlsaW5rfHl4b3Nob3J0fG1kaXNrdXJsfHNocnQxMHxpbWdic3J8bGlua25paHxsZXNzdXJsfHB1cmVzaG9ydHx0ZWNoa2VzaHJpfHVwbG9hZHNvb258c2hyaW5rZ29sZHxpdGVjaG1hZmlpYXxsaW5rNGVhcm58dGVhbS5wYXN0ZWhvc3Rpbmd8M3JhYnNuZXdzfGhvc3Rpbmc0bGlmZXRpbWV8b3l1bmZpbG1pbmRpcnx0ZWNuaWNhbGJveXxtci1mb3JleHxsZWFkY3JpY2tldHxmcmVlYnJpZ2h0c29mdHxiYW50ZW5leGlzfHRhY2thd2F5fGRyLWZvcmV4fGluZGlham9iYWdlbmN5fGR6NGxpbmsxfHhwc2hvcnR8dXJsc2hvcnR4KShcLmNvbSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHpvbG9taXh8Y2FyYXJlZ2lzdHJhc2l8NWdvbGlua3xiaXJkdXJsc3xzbmtyYXxhcnRpc2tpbml8c2gycnR8Ynlib2V8bWVkY3B1fG5vdXNkZWNvcnxyZXN0b3JiaW98YmRuZXdzeHx1cHNocmlua3xnaWZhbnN8amFyZGltYXxqb2Jzd2R8Z2txbmFleGFtfGltcGVyaWFsc3R1ZHl8b3ZsaW5rc3xpbWFnZW5lc2Rlcm9wYXBhcmFwZXJyb3N8eW9mYXVybHN8ZGlnaXJvbW90aW9ufHdpbmdpZnRhfHJhbmNhaHxjb2luYWRmbHl8ZGVsaXNod2VsbHx6aXBweXNoYXJlfHNvbGlkZmlsZXN8b3VydGVjYWRzfHp1YmF0ZWNub3xjb3ZlbWFya2V0c3xkaXNoZXllfGVkYS1haHxibG9nLWZvcmFsbHx0ZWNoeW1lZGllc3xnYW1lbG9wdGV8YWxsY3J5cHRvdGlwc3xjbGFpbWNsaWNrc3xzbm93dXJsfHJpYWRjcnlwdG98YXNrcGFjY29zaXxsaW5rdHJpbXN8Z2V0czRsaW5rfHZpc2ZsYWtlc3xhcGs0ZG98ZGluZXJvc2hhcmV8ZWx3YXRhbmVseW91bXxsZWRpZmhhfGNsYWltZmV5fHBhbnlsaW5rfHdyYmxvZ2dlcnN8dG9rZW5vdG98c2FseS1jYXNofHVwbG9hZC00ZXZlcnxzaG9ydGVubnxhZG1lZGlhZmxleHxidGNwYW55fGFzc2V0dG93b3JsZHx2aWthc2htZXdhZGF8bGlua3llYXJufGFwcHNidWxsfGdhbTNhaHx0aW55YmN8ZGl1ZGVteXxoZXJlb2ZhbWlseXxmaWxlLXVwbG9hZHxzaG9ydGVyYWxsfHRyaWJ1bmNyeXB0b3xjZW1wYWthamF5YXxzYWZlbGlua2R1aXR8bmFkZXJzb2Z0N3xhZHNob3J0dXJsfGxpbmtibmFvfHBoc2Vuc2VpfDRzaGFyZWR8dGEyZGVlbTdhcmJ5YXxscnNob3J0bmVyfHRpbnljbWR8Y2xvdWRzaHJpbmtlcnxwcm92aXJhbGhvc3R8dGVjaG5pY2FsYXRnfHYybGlua3N8eXRzdWJtZXxyYWludXJsfGFyYWhsaW5rfG00Y3V0fHRlYWNoc2Fuc2FyfHdlYjlhY2FkZW15fHNob3J0eGxpbmtzfGZseXJhcnxweXRob25kdW55YXNpfG1leWttZW58b24tc2Nyb2xsfHNocnRmbHl8ZGFzaC1mcmVlfHNla2lsYXN0ZWtub3xjdXRsbnxpLXBvbGxzfHNvbmljYnRjfG1lbmplbGFqYWhpfGFsbW9udHNmfGNyeXB0dXJsc3x6b21iaWVidGN8dGVjaHdob218Y2FzaDRzaGFyZXxsaW5rd2FyZHN8bnlhd2FuZ3xrb25ndXRvZGF5fGNsYWltYnRjYml0cykoXC5jb20pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYWh5YmxvZ3N8b3VyY29pbmNhc2h8MW1hbmdhfHdhdGNoZG9nZXxhcmVuYWJvYXJkfGNjc2x8c2hyaW5rcGF5fGFkc2dvfHNob258Y3J5cHRvLWZhdWNldHxiaW5nZWZsaXh8c3R1ZHlzdGFyfGxva2FnYW1lc3wzdnd8YmZsaW5rc3xzaG9ydC1jYXNoMnx3aXp6bHl8bWduZXR8Y3J5cHRlZW58ZG9nZWVufGZhdWNldGVlbnxjdXRkbHxzcG9ydGF3eXxmZXhrb21pbnx0ZWNobmVtb3x6b29tY3J5cHRvfHRlY2hib3l6fGNibGlua3N8OTlsaW5rc3xrYXJ0dW5pa3xwb3N0Lm5pdGVzLXR2fHNob3J0cGx1c3xzdG9yZXMuZmlsbXl6aWxsYS1pbnxleHByZXNzY29pbnN8Y2xhaW1jb2luc2ZyZWV8c2hvcnQxfHN3enp8YWNvcnRhbWV8YWxnaHRhc3x3aXpseXxob3JhbmV3c3xhMWxpbmt8c2hvcnQyZmx5fGJjdmN8aGVhbHRoYmxvb2d8cG9zdC5tb3ZpZXMtbmVhci1tZXxzdC5rbGVhY298cGxheWxpbmt8cThjfHVzY2l0eXxjYXJzLTF5ZWFyfG5hYml0c3x3ZWxvdmVjcnlwdG98d29ybGRhcHBzc3RvcmV8MHVxfHNoLnRyaXBsZWRvd25sb2FkZXJ8c2hvcnQydXJsfHplcm9zaG9ydHxiaXRzeWllbGR8ZWdzdGFyfHBsYXlkaXNrfG1vbnN0ZXJ1cmxzaG9ydG5lcnxnaWJpdHxzdHVkeWlzfGt1a3NsaW5jc3xtYWdpY3Rvc2hpfHNhdG9zaGktaHVudGVyKShcLnh5eikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHNlbnVhbnNhdGVjaG5vfGluc3VyZ2xvYmFsfGNsYWltZXJjb3JuZXJ8c2hvcnRseXxkZXhsaW5rfGRvY3RvcmNvaW58c3BlZWR5bmV3c3wxYXBwbGV8ZmZ3b3JsZHx0ZXh0cGFnZXxmaWRvdnl8ZWdmbHl8aW5zdXJhbmNlLXNwYWNlfGNyeXB0by1ibG9nfHNhcGljYXxlYXJuZmFjdXR8dXJsYmhhcmF0fGRyb3B6fGNoYWluZm98bWVnYW5vLWNvaW58dGVjaGxlZXRzfGVhcm5sfGFqaWZseSkoXC54eXopKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykobmVvbmxpbmt8dGVjaHlkaW5vfHdvcmxkLXRyaXBzfHlvc2hhcmV8bGV0cy41Z2V0fGNyeXB0by1maXx3cGNoZWFwfGNvaW5tYXN0ZXJ4fGNhdGN1dHxhenRyYXZlbHN8ZHVsaWNoa2hhbmhob2F8c3ViMnVubG9ja3xmb3JleC1nb2xkfHRlY2h0cmlja29ubGluZXw3YXBwbGV8Y2N1cmx8bGluazFzfHVybC5uYW1haWRhbml8Y3J5cHRvd2lkZ2V0c3xkb2dlY2xpY2t8YWRza2lwfGh1cmlya3x1c2ZpbmZ8eGVydm9vfHNwb3J0NHlvdXxoZXh1cGxvYWR8ZWxvaXNtfGN1dHR8Zm9yZXhzaGFyZXxibG9nLmNyeXB0b3dpZGdldHN8bmVleHVscm98ZGFpbHl1cGxvYWRzfGRvdXBsb2Fkc3xzaW1maWxlc2hhcmV8ZmlyM3xtYWd5YnV8cmFjYXR5fGxpbmVnZWV8YmxvZ2VzcXVlfHRodW9jZGFuZ2lhbnxhbHRibG9nZ2VyfGxldHNib29zdHxjb25naHVvbmd0dXx2aW5hdXJsfHRlY211bmRvfHRyeTJsaW5rfGN1dC15fG1lZ2FkYnxjcG1saW5rKShcLm5ldCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGRpZ2l0YWxuYXp8b3dsbGlua3xtb3psaW5rfGNyeXB0b3NhdHN8cm9ja2xpbmtzfGNlbGlua3N8amlvdGVjaHxiaXRjb21hcmtldHxpbGxpbmt8amVtYXJpfHBhaWQ0bGlua3xsaW5rM3N8Ym9zY29pbnxsaW5rcmV4fGZpcmUtbGlua3x1cmx3fHBpbGlua3N8bGlua3Nob3J0aWZ5fHlvdXNob3J0KShcLm5ldCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSh0bmxpbmt8anJsaW5rc3xxdWFsaXR5c3R1ZHltYXRlcmlhbHxjdXR1cmx8bWlzc2lvbmhpZ2h0fHdwa2luZ3x6YWdsfGxzMmVhcm58c3RyZWFtc2hvcnR8c2hhcmV1c3xyZWZlcnVzfG1lZ2FmbHl8bWVnYXVybHxjdXRwfGVhcm5tb2p8cmlhZHNob3R8dXJsbW9uZXl8Y3BsaW5rfGNyeXB0b21vbml0b3J8dGVjaG5vZmxpcHxsaW5rc2hvcnRpZnl8aHRsaW5rc3x0ZWNobGVhcm5pbmd0dWJlfHVybGZseXxsaW5rb2NlYW58ZmluYW5jZWZsaXh8dXR0YW58amF6YmFhdHxkanhtYXphfGJpbGRpcmltfHRlY2h5NHlvdXxiYXR0bGVjaGFtcHxzYWhpbHN1bXJhfGtlcmRsaW5mb3x1cmxjdXR8aW5zdXJhbmNldmxvZ3xpdGVjaGxvZ2ljfHZpZGVvbHlyaWNzfHRla2NyeXB0fG1pc3Npb25oaWdodHxncGxpbmtzfG1vZGRpbmd6b25lfGFkeWJyYW5kc3xncGZsaXh8Z3oyfGR1bGlua3xhY2xpbmtzfGhpZGVsaW5rc3xzaG9ydGVhcm58c2l0ZWJsb2d8dS5hcGd5fGR1LWxpbmt8b3VvaXxieTZ8YWRyaW5vbGlua3N8cmtsaW5rc3xteW1vYmlsZWh1Ynx0ZWNoZGF6ZXxsaW5rNGVhcm58cnVwYW1vYmlsZXxleGFtc29sdXRpb258ZWFybjRsaW5rfGthbHZpZHVkZXN8dGVjaHdpdGhzYW5pa2FudHx0aGVib29rYWhvbGljc3xjdGRiaWhhcikoXC5pbikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGNhc2h1cmx8bGlua2FkfGJpdGNvaW5seXxjcmF6eWJsb2d8em9sb21peHx0ZWNobm9sb2d5bG92ZXJ8ZXhwZXJ0bGlua3N8bGFyZ2VzdHBhbmVsfGxpbmtyZXN8cnNybGlua3xsaW5rc3RyZWFtfHhtb2R8c2hvcnQydXJsfDk5bGlua3N8cnBsaW5rc3xlbml0fGFkbG9vdHx1cmwyZ298dG52YWx1ZXxwdmlkbHl8YXB1cmx8ZWFybnNwYWNlfHVybGlua2VkfG1kbGlua3xnYW1lcmZhbmd8d3JpdGVkcm9pZHx0ZWNreXByZXNzfGZpeG5vfHBhaXNha2FtYWxvfGlua2lrfHNocmlua2ZvcmVhcm58ZWFzeXNreXxhamxpbmtzfG1kaXNrcGxheWVyfGFrY2FydG9vbnN8b3BlbjJnZXQpKFwuaW4pKFwvLiopPy8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGF5bGlua3xsaW5rc3ppYXxteW5ld3NtZWRpYXxndGxpbmt8bGlua3NseXxkcm9wbGlua3wxMjNsaW5rfGxpbmtzZnl8YWRzaG9ydGl8aHhmaWxlfGRvc3lhfHZlZ2FuYWx8dGFrZW18ZXppbWd8ZW5nLmV6aW1nfGRhdXNlbHxtb2RsaW5rfDktYW5pbWllfHZlZ2FuaG98bnVsbGVkbW9kfHZlZ2FuYWN8ZGVhbHByaWNlfGFyYWJwbHVzMnxjdXQteXxhZHNob3J0KShcLmNvKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8odGFrZXp8bGlua3NmaXJlfHZvc2FufHRpbnlnb3x2ZWdhbmFifGFkZmxvenxmZXhrb21pbikoXC5jbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShjdGJsfGdpcmxzLWxpa2V8Z29iaXRzfHpvc3N8c2hyaW5rZXx0bGlufHRlcmFmbHl8cGV0YWZseXxnaWdhZmx5fGFkbmV3c3xwYXBhbmV3c3xwYW55ZmxheXxtb3p6Zmx5fHNob3J0dXN8c2hvcnQuY3JvY2xpeHxiZXN0LW5ld3N8bWVnYS1uZXdzfHdpbGRibG9nfHNwZWN4fGRkZHJpdmV8bGlua3BvaXxtLm5ld2hpdHxtYm9vc3R8bGlua3Nob3J0c3xleGFmbHl8bm9ub2ZseXxsb3p6Zmx5fHVwdG9tZWdhfHN0Zmx5fGFkYnVsbHx5b3VzaG9ydHxoZWFsdGgtYW5kfGN1dHh8YWRza3xsaW5rZmx5fHNob3J0ZXIuZWFybi1odWJ8cGtpbnxjYXNoYW5kbykoXC5tZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHRoZWNvbm9teXxyaWNobGluaykoXC5tZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShzaXRyfGRvd25maWxlfHNhdmVsaW5rfGxpbmtzaG9ydGlmeXxzaGFyZXVzfHByb21vLXZpc2l0c3xtb2JpbGVwcmljZXxteW51cnNlKShcLnNpdGUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhjZWtpcHxsaW5rNHJldnxjb2luLWNpdHl8dXJsY2FzaCkoXC5zaXRlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGVhcm5tZXxzYW5veWJvbml0b3xhdXRvbW90dXJ8a29vemF8MWxpbmt8emVudHVtfG15dG9wNXxmb3JleHdhd3xtZWdhdHViZSkoXC5jbHViKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8odXNhbmV3c3RvZGF5fGthZGFsfHdlYmhvc3Rpbmd0aXBzKShcLmNsdWIpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoYWRyZXZ8cGFpZDR8eW91c218Y29pbnBheXp8dHJ8eW9jdG98Y2xrLmR0aXxiZXN0dXJsfGJvb3N0bWV8dGFrZWZpbGV8YXBwb3xwdXJlc2hvcnR8bGlua3Nob3J0aWZ5eCkoXC5saW5rKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8odnNob3J0fHN0ZXh8Y2FzaDR8enViYSkoXC5saW5rKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHNodXJ0fHNob3J0aXR8YWRzeXxiaXRsaW5rc3xjbGlrfHBsYXlzdG9yZXxtZWdhbGluaykoXC5wdykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHByenxwb25nKShcLnB3KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGJsb29nZXJzcG9vdHx2c2JsKShcLmdhKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGJsb29nZXJzcG9vdHxsaW5rc2hvcnxjb3J0bGluaykoXC50aykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KG1hZGZhdWNldHxtaW5lc2hvcnxmdXR1cmVzaG9yKShcLnRrKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGJsb29nZXJzcG9vdHx1cmxjaGFuZ2VyfGFyZWFybnwzNjBzaG9ydGxpbmspKFwubWwpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykob25pbXBvcnRzfGxpbmsuZW5jdXJ0YW9ufGVjb25vbWlhcmVsZXZhbnRlKShcLmNvbVwuYnIpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoZXhlZXxvbmxpbmV0ZW9yaXxwdW55YWJsb2d8YWN0aXZpdHl8bWFzc2l2ZXxjYXZpZXd8bmVzaWFrdXxsaW5rLm5lc2lhKShcLm15XC5pZCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KG15Y3V0fGFwYXNpaCkoXC5teVwuaWQpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhzdXJhdHJlc21pfGNhcmFwZWRpfHNhbGluaykoXC5pZCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShsaW5rLnNrbTR1fGxpbmt3YXJkcykoXC5jb1wuaW4pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhkcm9wbGluaykoXC5jb1wuaW4pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoa2lpd3xwYXNzZ2VufHdvcmRjb3VudGVyfHNocmlua3xyZXZjb3R8Y2xpY2t6dXxzaG9ydHp1KShcLmljdSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShuZXdmb3JleHx3cGxpbmt8bmJ5dHN8d2VhbHRoeXN0eWxlfGNsaWNrc2ZseXxoYXBweS1saXZpbmd8d2ViY29pbi5jb2lucmFpbnx0ZWFjaGVyYW5hfGVhcm5vd3xlYXJuLWNhc2h8eW91cnRlY2hub2xvZ3l8YXBrc3xuZXR3b3JrLWVhcm58YmF0dGxlcm95YWwpKFwub25saW5lKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oYWRzbGlua2ZseXxyZWFkaXxsaW5rbXVtZXQpKFwub25saW5lKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGV4ZXl8ZXpsaW5rc3x0ZWNobW9keXxvdW98ZXgtZXxzYWx5fGN1dHl8ZXZvbG9hZHxva2V8bGV0c3VwbG9hZHxlaW98b2lpfGV4ZSkoXC5pbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGxpbmtmbHl8dXNhbGluaykoXC5pbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSh0bnl8dGlueXVybCkoXC5zbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSh6c2hvcnR8Y2xhaW1jcnlwdG98Y2FzaGVhcm58MWlua3xsaW5rcGF5fG1vbmV5bGlua3xpbnRuZXdzfG9wZW5sb2FkfGxpbmtzcHl8bGV0c3VwbG9hZHxteWFzaWV0dikoXC5jYykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShjcnlwdG9hZHx3aWtpbGV8dXBsb2FkZXZ8bWVnYTR1cHJ8Y3Nob3J0fHBheXNraXB8aG9tZWFpcnF1YWxpdHl8c2hvcnRlYXJufHNsLmJ0YzI1fGVhcm5zZmx5KShcLm9yZykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KG1lZGlwb3N0fHNocmlua3VybHxrZWVwbGlua3N8cmFqZGxzZykoXC5vcmcpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoamFtZWVsdGlwc3xtaXRseXxhZGZvY3xsaW5rNGZ1bikoXC51cykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHlhbGxhLXNob290LW5vd3xmb3JleGVlbnxqYWVsaW5rKShcLnVzKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKG5vd2Vjb25vbXl8ZGVwb3J0ZWFsZGlhfGFkc2hvcnR8YXl8cG5naXR8cG5keCkoXC5saXZlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGVhcm5hZHN8Z2VucGFzc3dvcmR8c2hybGlua3xtc2hvcnR8cHVueWFtZXJrfHNob3J0bm93fHNob3J0LmZyZWVsdGMpKFwudG9wKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKHNjcmF0Y2gyNDd8c2l5bnxwb3J0YWJsZXN1c2J8Y2hpbGRyZW4tbGVhcm5pbmdyZWFkaW5nfGF6bWF0aHxtb2JpbGVyZXZpZXd8aW5mb3JtM3Rpb258bW9iaWxpc218c2hvcnRsaW5rdG98dXB0b2JoYWl8Yml0Y3J5cHRvfG1hY2hpY29uLWFraWhhYmFyYXxjb29rbGlrZXx2aWRlb2NsaXB8YnJidXNoYXJlfGZhbmNsdXApKFwuaW5mbykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShmYXVjZXRjcnlwdG98YmlsZGlyaW0pKFwuZXUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykobmV4LXVybHxvbGFtb3ZpZXN8YXRyb2xvZ3lyZXgpKFwuY3lvdSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShhbnRvbmltb3N8YmxvZy5ob3N0cmF0Z2ViZXIpKFwuZGUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoZnJlZWxpdGVjb2lufHVwbGlua3RvfDFMaW5rKShcLnZpcCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGZseWFkfGxvb3RjYXNoKShcLnZpcCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShyb21hbmlhfG1ldHx3YXJwKShcLmJ6KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKDJhZHx2aXlhfDE3bykoXC5pcikoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShhZHNocmlua3xjdXRpbikoXC5pdCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShwaW5naXR8ZmlsZXN8dXBvKShcLmltKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGNsa3w5eHVwbG9hZCkoXC5hc2lhKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGlpcnx0ZWl8aWVyfGNraykoXC5haSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShhaWl8Y2xrfG9rbykoXC5zaCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGk4bHxjbGt8cGktbHxiY3ZjfG1vZGxpKShcLmluaykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KHVwbG9hZHxwcngpKFwuZWUpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhtaXJyb3JlZHxjbGlja251cGxvYWQpKFwudG8pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhvdW98Zm9yZXh0cmFkZXJ8ZGFnYTg4KShcLnRvZGF5KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8odGVjaGdlZWt8YWRzZ28pKFwuZGlnaXRhbCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShtaG1hMTJ8c3VyZmxpbmt8dGVjaHRyaW0pKFwudGVjaCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShraXd8cmVkaXIuMTIzZmlsZSkoXC5saSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShmY3xmY2MpKFwubGMpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoem9uZWFybnx0aGVwcmljZXxuaGFjcmVtaXh8ZG9hbnZhbmhhaXxoeW5ld3MpKFwuYml6KShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oMTIzbGluaykoXC5iaXopKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhleGV8ZXhlZXxleGVwfGV4ZW98dXBmaWxlc3xjdXR0eXxsaW5rZmx5KShcLmFwcCkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKShhZHNob3J0fDFiaXR8MnRoZXxjYXJlZXJodW50ZXJ8Z2FsYXh5LWxpbmspKFwuc3BhY2UpKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykobWFrZWVhc3lidGN8c29mdGluZGV4fHRlY2h1cykoXC53ZWJzaXRlKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGxpbmthfHh0cmFiaXRzfHNraXBhZHMpKFwuY2xpY2spKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhzaG9ydGxpbmtzfGVhc3lzbHxhZGxpbmt8YWR6aWxsYXx1cmxjYXNoKShcLmNsaWNrKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oaGFtb2R5fG5hdGhhbmFlbGRhbnxmcmVkZHlvY3RhdmlvfGRhdmlzb25iYXJrZXJ8Y2xrc3xjcnlwdG9zaHxiZXN0Zm9udHN8Z2l0bGlua3xvcGVudXJsKShcLnBybykoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSh1cC1sb2FkfHpjYXNofG1kaXNrKShcLm9uZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSgxZG9nZWNvaW58ZmF1Y2V0KShcLndvcmspKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoY2xhaW18Y2h1a3NibG9nfHByaWNlbmV3c3x1cmwuZ2V0Yml0cykoXC5mdW4pKFwvLiopLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoZ298YmxvZ3xnbzJ8dGVjaHx0ZXN0fGJsZykoXC5tYWRzaGliYVwuZnVuKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGxpbmthdGl8emVuc2hvcnR8Y3VydG8pKFwud2luKShcLy4qKS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKGNvb2wtdGltZXxtb3ZpZXN8YW5pbWV8dGVjaCkoXC5kdXRjaHljb3JwXC5zcGFjZSkoXC8uKikvCi8vIEBpbmNsdWRlIC9eaHR0cHM6XC9cL2xpbmt2ZXJ0aXNlXC5jb21cLygxfDJ8M3w0fDV8Nnw3fDh8OSkvCi8vIEBpbmNsdWRlIC9eaHR0cHM6XC9cL2NyeXB0b2ZhbnNcLmNsdWJcLyhzaG9ydHxuZXh0fG90aGVyfHN0ZXApLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhtZWRpYWZpcmUpKFwuY29tKVwvKGRvd25sb2FkfGZpbGUpLwovLyBAaW5jbHVkZSAvXihodHRwcz86XC9cLykoLispPyhjcnlwdG9jdXJyZW5jeXRyYWNrZXJ8ZnJlZWZhdWNldCkoXC5iaXopXC8obGluaykvCi8vIEBpbmNsdWRlIC9eKGh0dHBzPzpcL1wvKSguKyk/KGZyZWViaXRjb2luKShcLmZ1bilcLyh0b3BzaXRlc3x2aWV3KS8KLy8gQGV4Y2x1ZGUgL15odHRwczpcL1wvY2xhaW1jbGlja3NcLmNvbVwvKGJ0Y3xsdGN8ZG9nZXx0cnh8ZmF1Y2V0bGlzdHxwdGNsaXN0KS8KLy8gQGluY2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oY2xpY2tzY29pbnxmcmVlZmV5b3JyYXxyZWRkY29pbmV2ZXJ5ZGF5fGNyeXB0b3R5cGhvb258c29mdGFpcmJheSkoXC5jb20pXC8oc2hvcnQpLwovLyBAZXhjbHVkZSAvXmh0dHBzOlwvXC9jbGFpbWVyY29ybmVyXC54eXpcLyhjbGFpbWVyXC9kYXNoYm9hcmR8Y2xhaW1lclwvYWR2ZXJ0aXNlfGNsYWltZXJcL3B0Y3xjbGFpbWVyXC9kZXBvc2l0fGNsYWltZXJcL3RyYW5zZmVyfGNsYWltZXJcL3Rhc2tzfGNsYWltZXJcL29mZmVyd2FsbHxjbGFpbWVyXC9wcm9maWxlfGNsYWltZXJcL2F1dG98Y2xhaW1lclwvbWluaW5nfGNsYWltZXJcL3doZWVsfGNsYWltZXJcL2xvZ2luKS8KLy8gQGV4Y2x1ZGUgL15odHRwczpcL1wvY3J5cHRvc2F0c1wubmV0XC8oY3J5cHRvc2F0c1wvZGFzaGJvYXJkfGNyeXB0b3NhdHNcL2FkdmVydGlzZXxjcnlwdG9zYXRzXC9wdGN8Y3J5cHRvc2F0c1wvZGVwb3NpdHxjcnlwdG9zYXRzXC90cmFuc2ZlcnxjcnlwdG9zYXRzXC90YXNrc3xjcnlwdG9zYXRzXC9vZmZlcndhbGx8Y3J5cHRvc2F0c1wvcHJvZmlsZXxjcnlwdG9zYXRzXC9hdXRvfGNyeXB0b3NhdHNcL21pbmluZ3xjcnlwdG9zYXRzXC93aGVlbHxjcnlwdG9zYXRzXC9sb2dpbikvCi8vIEBleGNsdWRlIC9eaHR0cHM6XC9cLzk5ZmF1Y2V0fGZhdWNldC5jZW1wYWthamF5YVwuY29tXC8oZGFzaGJvYXJkfGFkdmVydGlzZXxwdGN8ZGVwb3NpdHx0cmFuc2Zlcnx0YXNrc3xvZmZlcndhbGx8cHJvZmlsZXxhdXRvfG1pbmluZ3xkaWNlfGxvdHRlcnl8ZmF1Y2V0fGxvZ2luKS8KLy8gQGV4Y2x1ZGUgL15odHRwczpcL1wvZnJlZS50cmlidW5jcnlwdG9cLmNvbVwvKGRhc2hib2FyZHxhZHZlcnRpc2V8cHRjfGRlcG9zaXR8dHJhbnNmZXJ8dGFza3N8b2ZmZXJ3YWxsfHByb2ZpbGV8YXV0b3xtaW5pbmd8ZGljZXxsb3R0ZXJ5fGZhdWNldHxsb2dpbikvCi8vIEBleGNsdWRlICo6Ly8qLnZvc2FuLmNvLwovLyBAbWF0Y2ggICAqOi8vZHV0Y2h5Y29ycC5zcGFjZS9zKi8qCi8vIEBtYXRjaCAgICo6Ly9kdXRjaHljb3JwLm92aC9zKi8qCi8vIEBtYXRjaCAgICo6Ly9zaG9ydHMubHUvKgovLyBAbWF0Y2ggICAqOi8vYWR4Lndpa2kvKgovLyBAbWF0Y2ggICAqOi8vYWR4LmN4LyoKLy8gQG1hdGNoICAgKjovL2FsLmx5LyoKLy8gQG1hdGNoICAgKjovL3phLmdsLyoKLy8gQG1hdGNoICAgKjovL2dvby5zdC8qCi8vIEBtYXRjaCAgICo6Ly9jMmcuYXQvKgovLyBAbWF0Y2ggICAqOi8vYWR6Lm1vZS8qCi8vIEBtYXRjaCAgICo6Ly9jb2luLm1nLyoKLy8gQG1hdGNoICAgKjovL3NlbmQuY20vKgovLyBAbWF0Y2ggICAqOi8va2ltby5tYS8qCi8vIEBtYXRjaCAgICo6Ly9nb2Fkcy5seS8qCi8vIEBtYXRjaCAgICo6Ly9tZG4ucmVzdC8qCi8vIEBtYXRjaCAgICo6Ly8qLm1kbi5sb2wvKgovLyBAbWF0Y2ggICAqOi8vKi5yb3RhLmNjLyoKLy8gQG1hdGNoICAgKjovL291by5wcmVzcy8qCi8vIEBtYXRjaCAgICo6Ly83Y2MuOTYubHQvKgovLyBAbWF0Y2ggICAqOi8vZ2t0ZWNoLnVrLyoKLy8gQG1hdGNoICAgKjovLyouZmx5enUuaWN1LyoKLy8gQG1hdGNoICAgKjovL3Rpbnl1cmwuaXMvKgovLyBAbWF0Y2ggICAqOi8vKi5tZG4ud29ybGQvKgovLyBAbWF0Y2ggICAqOi8vbmFpbC5lZHUucGwvKgovLyBAbWF0Y2ggICAqOi8vbG9sYWJpdHMuc2UvKgovLyBAbWF0Y2ggICAqOi8vZ29zaXhzLmNvbS9zLyoKLy8gQG1hdGNoICAgKjovLzNzaG9ydHVybC5ncS8qCi8vIEBtYXRjaCAgICo6Ly9saXRlY29pbi5ob3N0LyoKLy8gQG1hdGNoICAgKjovLyouZ290by5jb20ubnAvKgovLyBAbWF0Y2ggICAqOi8vei1jYXNoLnh5ei9hZC8qCi8vIEBtYXRjaCAgICo6Ly9kcm9wLmRvd25sb2FkLyoKLy8gQG1hdGNoICAgKjovL2NyeXB0b2Z1bnMucnUvKgovLyBAbWF0Y2ggICAqOi8vbGlua3Nocmluay5jYS8qCi8vIEBtYXRjaCAgICo6Ly9zaG9ydC5leHByZXNzLyoKLy8gQG1hdGNoICAgKjovL2FyYndlYi5pbmZvL3NsLyoKLy8gQG1hdGNoICAgKjovLyouY2l6Z2lmaWxtLnR2LyoKLy8gQG1hdGNoICAgKjovL2thcnlhd2FuLmNvLmlkLyoKLy8gQG1hdGNoICAgKjovL2Rvd25sb2Fkcy5uaW5qYS8qCi8vIEBtYXRjaCAgICo6Ly9mYXVjZXRodWIubHkvaHMvKgovLyBAbWF0Y2ggICAqOi8vZmF1Y2V0cGF5LmlvL3B0YyoKLy8gQG1hdGNoICAgKjovLyoudHJhbmdjaHUubmV3cy8qCi8vIEBtYXRjaCAgICo6Ly93ZWJtb2JpbGUuc3RvcmUvKgovLyBAbWF0Y2ggICAqOi8vKi5hZHo3c2hvcnQuc3BhY2UvKgovLyBAbWF0Y2ggICAqOi8vZG9jcy5nb29nbGUuY29tL3VjKgovLyBAbWF0Y2ggICAqOi8vc3RhcmZhdWNldC5uZXQvc2wvKgovLyBAbWF0Y2ggICAqOi8vc29sYXJjaGFpbmUuY29tL3NsLyoKLy8gQG1hdGNoICAgKjovL3NocnQuY3J5cHRvZnVucy5ydS8qCi8vIEBtYXRjaCAgICo6Ly9pcWZhdWNldC5jb20vbGluazMvKgovLyBAbWF0Y2ggICAqOi8vaG9ycm9yYml0Y29pbi5jb20vPyoKLy8gQG1hdGNoICAgKjovL3NhdG9zaGktd2luLnh5ei91cmwvKgovLyBAbWF0Y2ggICAqOi8vY3J5cHRvbmV0b3MucnUvcGFnZS8qCi8vIEBtYXRjaCAgICo6Ly8qLndyaXRlZHJvaWQuZXUub3JnLyoKLy8gQG1hdGNoICAgKjovL3Bvc3QuYmxvZ3pvbmUxLnNob3AvKgovLyBAbWF0Y2ggICAqOi8vZmF1Y2V0LmdvbGQvQlRDLz9zdGVwKgovLyBAbWF0Y2ggICAqOi8vZmF1Y2V0LmdvbGQvRVRILz9zdGVwKgovLyBAbWF0Y2ggICAqOi8vYWRidGMudG9wL3N1cmYvYnJvd3NlLyoKLy8gQG1hdGNoICAgKjovL2Fub255bS5uaW5qYS9kb3dubG9hZC8qCi8vIEBtYXRjaCAgICo6Ly9jbGFpbXNvbGFuYS54eXovc2hvcnQvKgovLyBAbWF0Y2ggICAqOi8vZmF1Y2V0Y3J5cHRvLm5ldC9zaG9ydC8qCi8vIEBtYXRjaCAgICo6Ly9zdGF0aW9uYml0Lnh5ei9hdXRvbGluay8qCi8vIEBtYXRjaCAgICo6Ly9rb25zdGFudGlub3ZhLm5ldC92ZXJpZnkvKgovLyBAbWF0Y2ggICAqOi8vcGxheW5hbm8ub25saW5lL3dhdGNoLWFuZCoKLy8gQG1hdGNoICAgKjovL2FkYnRjLnRvcC9zdXJmaWF0L2Jyb3dzZS8qCi8vIEBtYXRjaCAgICo6Ly9yb3RhdG9yLm51cnVsLWh1ZGEuc2NoLmlkLyoKLy8gQG1hdGNoICAgKjovLyphcGktc2VjdXJlLnNvbHZlbWVkaWEuY29tLyoKLy8gQG1hdGNoICAgKjovL2ZhdWNldGNyeXB0by5jb20vY2xhaW0vc3RlcC8qCi8vIEBtYXRjaCAgICo6Ly9saW5rdmVydGlzZS5kb3dubG9hZC9kb3dubG9hZC8qCi8vIEBtYXRjaCAgICo6Ly8qLnJhY2VkZXBhcnRtZW50LmNvbS9kb3dubG9hZHMvKgovLyBAbWF0Y2ggICAqOi8vY3J5cHRvbmV0b3MucnUvcGFnZS9yZWRpcmVjdCoKLy8gQG1hdGNoICAgKjovL2dhbGVyeWJpdHMuY29tL3Byb3RlY3RsaW5rLyoKLy8gQG1hdGNoICAgKjovL2Vhcm51bHRpbWF0ZS5zcGFjZS9zaG9ydC8qCi8vIEBtYXRjaCAgICo6Ly9iYXMubnVydWwtaHVkYS5vci5pZC8qCi8vID09L1VzZXJTY3JpcHQ9PQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExFQVNFIFJFQUQgU0NSSVBUIElORk8gQkVGT1JFIFVTRQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExFQVNFIFJFU1BFQ1QgSUYgTVkgU0NSSVBUUyBVU0VGVUwgRk9SIFlPVQovLyAgICAgICAgICAgICAgICAgICAgICBET04nVCBUUlkgVE8gQ09QWSBQQVNURSBNWSBTQ1JJUFRTIFRIRU4gU0hBUkUgVE8gT1RIRVJTIExJS0UgWU9VIEFSRSBUSEUgQ1JFQVRPUgovLyAgICAgICAgICAgICAgICAgUExFQVNFIERPTidUIFJFTU9WRSBPUiBDSEFOR0UgTVkgQkxPRywgRElTQUJMRSBZT1VSIEFEQkxPQ0sgSU4gTVkgQkxPRyAsIFRIQU5LUyBGT1IgWU9VUiBTVVBQT1JUCi8vICAgICAgICAgICAgICBNeSBCbG9nIGlzIFZlcnkgSW1wb3J0YW50IHRvIGdpdmUgc29tZSBEZWxheSBmb3Igc2FmZSBhd2F5ICxUcmFjayBOZXcgU2hvcnRsaW5rcyAsIEJyb2tlbiBCeXBhc3MgZXRjLi4uCi8vIFRoYW5rcyBzbyBtdWNoIHRvIEBKdXN0T2xhZiAsIEBLb25mICwgQGhhY2tlcjA5ICwgQGp1YW5zaSBBbmQgQE5vdFlvdSBmb3IgSGVscGluZyBtZSAsIG1ha2UgbXkgc2NyaXB0IGV2ZW4gYmV0dGVyICwgYW5kIGZvciBBbGwgd2hvIGhhcyBjb250cmlidXRlZCB2aWEgRmVlZGJhY2suCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnN0IHZhbGRlbGF5ID0gNSA7IC8vIENoYW5nZSB0aGUgbnVtYmVyIGZyb20gNSB0byAxMCBvciAyMCBpZiB5b3UgaGF2ZSBpc3N1ZXMgbGlrZSBZb3VyIGFjdGlvbiBtYXJrZWQgU3VzcGljaW91cyxEb24ndCB0cnkgdG8gYnlwYXNzICxEb24ndCB1c2UgU3BlZWRzdGVyLCBldGMKICAgIGNvbnN0IHZhbGJ3YWxsID0gNSA7IC8vIGlmIHlvdSBoYXZlIGFueSBvdGhlciBwcm9ibGVtIGFwYXJ0IGZyb20gYml0c3dhbGwgLCBwbGVhc2UgbGVhdmUgeW91ciBmZWVkYmFjawogICAgY29uc3QgUmV4QnAgPSBuZXcgUmVnRXhwKC9eXD8oW14mXSspLyk7CiAgICBjb25zdCBicCA9IHF1ZXJ5ID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocXVlcnkpOwogICAgY29uc3QgZWxlbWVudEV4aXN0cyA9IHF1ZXJ5ID0+IGJwKHF1ZXJ5KSAhPT0gbnVsbDsKICAgIGNvbnN0IGRvbWFpbkNoZWNrID0gZG9tYWlucyA9PiBuZXcgUmVnRXhwKGRvbWFpbnMpLnRlc3QobG9jYXRpb24uaG9zdCk7CiAgICBmdW5jdGlvbiBjbGljayhxdWVyeSkge2JwKHF1ZXJ5KS5jbGljaygpO30KICAgIGZ1bmN0aW9uIHN1Ym1pdChxdWVyeSkge2JwKHF1ZXJ5KS5zdWJtaXQoKTt9CiAgICBmdW5jdGlvbiBjbGlja0lmRWxlbWVudEV4aXN0cyhxdWVyeSwgdGltZUluU2VjID0gMSwgZnVuY05hbWUgPSAnc2V0VGltZW91dCcpIHtpZiAoZWxlbWVudEV4aXN0cyhxdWVyeSkpIHt3aW5kb3dbZnVuY05hbWVdKGZ1bmN0aW9uKCkge2NsaWNrKHF1ZXJ5KTt9LCB0aW1lSW5TZWMgKiAxMDAwKTt9fQogICAgZnVuY3Rpb24gQ2FwdGNoYXN1YihxdWVyeSwgYWN0ID0gJ3N1Ym1pdCcsIHRpbWVJblNlYyA9IDAuNSkge2lmIChlbGVtZW50RXhpc3RzKHF1ZXJ5KSkge3ZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge2lmICh3aW5kb3cuZ3JlY2FwdGNoYSAmJiAhIXdpbmRvdy5ncmVjYXB0Y2hhLmdldFJlc3BvbnNlPy4oKSkge2JwKHF1ZXJ5KVthY3RdKCk7IGNsZWFySW50ZXJ2YWwodGltZXIpO319LCB0aW1lSW5TZWMgKiAxMDAwKTt9fQogICAgZnVuY3Rpb24gQ2FwdGNoYWtsaWsocXVlcnksIGFjdCA9ICdjbGljaycsIHRpbWVJblNlYyA9IDEpIHtpZiAoZWxlbWVudEV4aXN0cyhxdWVyeSkpIHt2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAod2luZG93LmdyZWNhcHRjaGEgJiYgISF3aW5kb3cuZ3JlY2FwdGNoYS5nZXRSZXNwb25zZT8uKCkpIHticChxdWVyeSlbYWN0XSgpOyBjbGVhckludGVydmFsKHRpbWVyKTt9fSwgdGltZUluU2VjICogMTAwMCk7fX0KICAgIGZ1bmN0aW9uIHJlZGlyZWN0KHVybCwgYmxvZyA9IHRydWUpIHtsb2NhdGlvbiA9IGJsb2cgPyAnaHR0cHM6Ly9yb3RhdG9yLm51cnVsLWh1ZGEuc2NoLmlkLz91cmw9JyArIHVybCA6IHVybDt9CiAgICBmdW5jdGlvbiBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYShyZV9kb21haW4sIGRhdGEsIGJsb2cpIHsgaWYgKCFyZV9kb21haW4udGVzdChsb2NhdGlvbi5ob3N0KSkgcmV0dXJuOwogICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGRhdGEoKTsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkgZGF0YSA9IHsnLyc6IGRhdGF9OwogICAgICAgIGlmICghKGxvY2F0aW9uLnBhdGhuYW1lIGluIGRhdGEpKSByZXR1cm47CiAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gZGF0YVtsb2NhdGlvbi5wYXRobmFtZV07CiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnICYmIGtleS50ZXN0KGxvY2F0aW9uLnNlYXJjaCkpIHJldHVybiByZWRpcmVjdCh2YWx1ZSArIFJlZ0V4cC4kMSwgYmxvZyk7CiAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpOwogICAgICAgIGlmIChzZWFyY2hQYXJhbXMuaGFzKGtleSkpIHJlZGlyZWN0KHZhbHVlICsgc2VhcmNoUGFyYW1zLmdldChrZXkpLCBibG9nKTt9CiAgICBmdW5jdGlvbiBCbG9nZ2VyUGVtdWxhKGRvbWFpbnMsIGRhdGEsIHVybCwgYmxvZywgdXNlID0gbnVsbCkge2NvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTsKICAgICAgICBpZiAoIWRvbWFpbkNoZWNrKGRvbWFpbnMpKSByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLnNwbGl0KCcsJykuZXZlcnkocCA9PiBzZWFyY2hQYXJhbXMuaGFzKHApKSkge3VzZSA/Pz0gZGF0YS5zcGxpdCgnLCcpWzBdOwogICAgICAgICAgICByZWRpcmVjdCh1cmwgKyBzZWFyY2hQYXJhbXMuZ2V0KHVzZSksIGJsb2cpO30gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7Y29uc3QgbyA9IGRhdGFbbG9jYXRpb24ucGF0aG5hbWVdOwogICAgICAgIGlmICghbykgcmV0dXJuOyBCbG9nZ2VyUGVtdWxhKGRvbWFpbnMsIC4uLm8pO319CiAgICBmdW5jdGlvbiBtZXRhKGhyZWYpIHtkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWV0YScpLCB7IG5hbWU6ICdyZWZlcnJlcicsIGNvbnRlbnQ6ICdvcmlnaW4nfSkpOwogICAgICAgIE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpLCB7aHJlZn0pLmNsaWNrKCk7fQogICAgZnVuY3Rpb24gd2FpdEZvckVsbShxdWVyeSwgY2FsbGJhY2spIHtzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKHF1ZXJ5KSkge2NhbGxiYWNrKGJwKHF1ZXJ5KSk7fSBlbHNlIHt3YWl0Rm9yRWxtKHF1ZXJ5LCBjYWxsYmFjayk7fX0sIDEwMDApO30KICAgIGZ1bmN0aW9uIG5vdGlmeSh0eHQsIHdpZHRoID0gNzgwKSB7IGNvbnN0IG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgIG0uc3R5bGUucGFkZGluZyA9ICc1cHgnOyBtLnN0eWxlLnpJbmRleCA9IDk5OTk5OTk5OyBtLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsgbS5zdHlsZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7CiAgICAgICAgICAgICBtLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgOyBtLnN0eWxlLnRvcCA9ICcxMDBweCc7IG0uc3R5bGUubGVmdCA9IGAke2lubmVyV2lkdGggLyAyIC0gd2lkdGggLyAyfXB4YDsgbS5zdHlsZS5mb250ID0gJ25vcm1hbCBib2xkIDIwcHggc2Fucy1zZXJpZic7CiAgICAgICAgICAgICBtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7IG0uaW5uZXJUZXh0ID0gdHh0OyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG0pO30KICAgIC8vIFRoZXJlIHdpbGwgYmUgYSBTcGVjaWFsIFRyaWNrcyBhbmQgQnlwYXNzIENvZGVzIG9ubHkgZm9yIEdvb2QgVXNlcnMgKEFueW9uZSB3aG8gaGF2ZSBnb29kIGF0dGl0dWRlICwgR29vZCBGZWVkYmFjaywgd2lsbCBiZSBpbnZpdGVkIHRvIG15IGdyb3VwKQogICAgQmxvZ2dlclBlbXVsYSgna2llbnRodWNyYW5nbWllbmcuY29tfGNvaW5kb29nLmNvbXx0aWV1dGlldGtpZW0uY29tfGFza3BhY2Nvc2kuY29tfHNob3BzaXhzZXZlbi5jb218aG9jbGFtZGF1YmVwLmNvbXx0aHVvY2RhbmdpYW4ubmV0fGNoaW5obmhhY29iYW4uY29tfGNvaW4tZnJlZS5jb218ZmFuY2x1cC5pbmZvfGNoYW1jdXVob2MuY29tfG5oYWNyZW1peC5iaXp8ZG9hbnZhbmhhaS5iaXp8Y29uZ2h1b25ndHUubmV0fDk1bmV3cy5jb218dHJlbWFtbm9uLmNvbXxoeW5ld3MuYml6JywgJ3dwc2FmZWxpbmsnLCAnJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnc3BvcnQ0eW91Lm5ldHxuYWRlcnNvZnQ3LmNvbXxtYW5nYTJkYXkuY29tfHBpY2tob3Blcy5jb218Z2FtM2FoLmNvbXxjYXJzLTF5ZWFyLnh5enxtNGN1dC5jb218c29mdDNhcmJpLmNvbScsICdsaW5rJywgJycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3RlY2hsb2Fkei5jb218c3BvcnRzbWVkaWF6LmNvbScsICdsaW5rJywgJ2h0dHBzOi8vbGluay5jbG91ZHNocmlua2VyLmNvbS8vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgncXVhbGl0eXN0dWR5bWF0ZXJpYWwuaW4nLCAnbGluaycsICdodHRwczovL3RoZWhvc3RpbmdtZW50b3IuY29tL215bGluay8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdjcmF6eWJsb2cuaW58bmV3c2hhcnNoLmNvbScsICdwb3N0aWQnLCAnaHR0cHM6Ly9oci52aWthc2htZXdhZGEuY29tLy8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdsaW5rc2ZpcmUuY28nLCAndXJsLGFwaScsICcnLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCc3YXBwbGUubmV0JywgJ2dvJywgJ2h0dHBzOi8vaWxsaW5rLm5ldC8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCduaWluZ2EuY29tJywgJ2dldCcsICdodHRwczovL2xpaW5rYXQuY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3J1cGFtb2JpbGUuaW4nLCAnZ28nLCAnaHR0cHM6Ly9tZGlzay5vbmUvJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnbS5uZXdoaXQubWUnLCAnbGluaycsICdodHRwczovL2xpbmszcy5uZXQvJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnd3BraW5nLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9vLm92bGlua3MuY29tLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2drdGVjaC51aycsICdsaW5rJywgJ2h0dHBzOi8vbGlua3llYXJuLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdqYXpiYWF0LmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5ycGxpbmtzLmluLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3JzcmxpbmsuaW4nLCAnbGluaycsICdodHRwczovL2dvLnJzcmxpbmsuaW4vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnaXRlY2hsb2dpYy5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28uYXB1cmwuaW4vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnYmxvZy5ob3N0cmF0Z2ViZXIuZGUnLCAnZ28nLCAnaHR0cHM6Ly9jMmcuYXQvJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnYXV0b2RpbWUuY29tJywgJ2dvJywgJ2h0dHBzOi8vZ28ubGlua3JleC5uZXQvJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnaXRlY2htYWZpaWEuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly92LmVhcm5sLnh5ei8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCd2ZWdhbmFiLmNvJywgJ2xpbmsnLCAnaHR0cHM6Ly90ZWNoeS52ZWdhbmFiLmNvLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3RlY2hjYXJ0ei5jb20nLCAnbGluaycsICdodHRwczovL2Fkcy5tZGxpbmsuaW4vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnMWFwcGxlLnh5eicsICdsaW5rJywgJ2h0dHBzOi8vbGluay50dXJrZG93bi5jb20vJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnc2l0ZWJsb2cuaW4nLCAnbGluaycsICdodHRwczovL2dvLmRyb3BsaW5rLmNvLmluLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ3RyLmxpbmt8ZmF1Y2V0ZWVuLnh5enxhZHBheWxpbmsuY29tJywgJ3VybCxhcGknLCAnJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgna2VyZGxpbmZvLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5scnNob3J0bmVyLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdhcGFzaWgubXkuaWQnLCAnbGluaycsICdodHRwczovL2xpbmsuZ2V0NGxsaW5rLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdkZWFscHJpY2UuY28nLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vcHJpY2VuZXdzLmZ1bi8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCd3dzEubGlua3RyaW1zLmNvbScsICdsaW5rJywgJ2h0dHBzOi8vbGlua3RyaW1zLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCd0ZWNuaWNhbGJveS5jb20nLCAnbGluaycsICdodHRwczovL215LmxpbmtibmFvLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdiYW50ZW5leGlzLmNvbScsICdsaW5rJywgJ2h0dHBzOi8vbGluay55b3VzaG9ydC5uZXQvJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnYWtjYXJ0b29ucy5pbicsICdsaW5rJywgJ2h0dHBzOi8vYmFjay5leHBlcnRsaW5rcy5pbi8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdtaXNzaW9uaGlnaHQuaW4nLCAnbGluaycsICdodHRwczovL3BsYXlkaXNrLnVybDJnby5pbi8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCd0ZWNoLnRlY2h3aG9tLmNvbScsICdqZXRvbicsICdodHRwczovL3dlLnRlY2h3aG9tLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdjcmlja2JsYXplLmNvbScsICdnZXRsaW5rJywgJ2h0dHBzOi8vZ28uY29pbmFkZmx5LmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCd2aWRlb3NseXJpY3MuY29tJywgJ3Bvc3RpZCcsICdodHRwczovL3NlcjMuY3JhenlibG9nLmluLycsIGZhbHNlKTsKICAgIEJsb2dnZXJQZW11bGEoJ2NyeXB0b21lbG91ZC5jb20nLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vY2xhaW1idGNiaXRzLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdsaW5rc2hvcnRpZnl4LmxpbmsnLCAnbGluaycsICdodHRwczovL3lvLmxpbmtzaG9ydGlmeS5uZXQvJywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgnY2xhaW1mZXkuY29tfHp1YmF0ZWNuby5jb20nLCAnbGluaycsICdodHRwczovL2dvLnp1YmEubGluay8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCd0ZWNuaWNhbGJveS5jb20nLCAnbGluaycsICdodHRwczovL2N0ZGJpaGFyLmluL3NhZmUucGhwP2xpbms9JywgZmFsc2UpOwogICAgQmxvZ2dlclBlbXVsYSgndGVhbS5wYXN0ZWhvc3RpbmcuY29tJywgJ2FkbGlua2ZseScsICdodHRwczovL3Nob3J0eGxpbmtzLmNvbS8nLCBmYWxzZSk7CiAgICBCbG9nZ2VyUGVtdWxhKCdjdGRiaWhhci5pbnx0aGVib29rYWhvbGljcy5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28ubGlua2JuYW8uY29tLycsIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC83YXBwbGUubmV0LywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9pbGxpbmsubmV0LyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWNoZGF6ZS5pbi8sIHsnLyc6IFtSZXhCcCwgJ2h0dHBzOi8vd2ViLm1kaXNrcGxheWVyLmluLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ya2xpbmtzLmluLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vYmxvZy5pbmtpay5pbi8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvamVtYXJpLm5ldC8sIHsnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwOi8vc2tpcC5qZW1hcmkubmV0LyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9teW1vYmlsZWh1Yi5pbi8sIHsnL3NhZmUucGhwJzogWydsaW5rJywgJ2h0dHBzOi8vbW9kbGluay5jby8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ28udGhlY29ub215Lm1lLywgeycvJzogW1JleEJwLCAnaHR0cHM6Ly9saW5rcy5tZWRpcG9zdC5vcmcvJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21lZGlwb3N0Lm9yZy8sIHsnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwOi8vZ28udGhlY29ub215Lm1lLz8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGlua3MudGhlY29ub215Lm1lLywgeycvJzogW1JleEJwLCAnaHR0cHM6Ly9nby50aGVjb25vbXkubWUvPy8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGhlY29ub215Lm1lLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9saW5rcy5tZWRpcG9zdC5vcmcvJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Nob3BzaXhzZXZlbi5jb20vLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL3NhZmVsaW5rZHVpdC5jb20vJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmt3YXJkcy5jby5pbi8sIHsnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwOi8vYWRzLmxpbmt3YXJkcy5jb20vJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZHNvb24uY29tLywgeycvc2FmZS5waHAnOiBbJ2xpbmsnLCAnaHR0cHM6Ly9zaHJpbmtmb3JlYXJuLmluLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC92aWRlb3NseXJpY3MuY29tLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9zZXIzLmNyYXp5YmxvZy5pbi8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGluay5saW5rc2ZpcmUuY28vLCBmdW5jdGlvbigpIHtsb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgnbGluaycsICdibG9nJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3BlZWR5bmV3cy54eXovLCB7Jy9ibG9nL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL2xpbmtzLnNwZWVkeW5ld3MueHl6LyddLH0sIGZhbHNlKTsKICAgIC8vQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jsb2dzLmVnZmx5Lnh5ei8sIGZ1bmN0aW9uKCkge2xvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCdibG9ncy4nLCAnbGluay4nKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zdHVkeXVvLmNvbS8sIHsnL3BybzIvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vc3BlZWR5bmV3cy54eXovYmxvZy92ZXJpZnkvPyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaG9ydC5yYWludXJsLmNvbXxzaG9ydC5zbm93dXJsLmNvbXxzaG9ydC5kYXNoLWZyZWUuY29tLywgZnVuY3Rpb24oKSB7bG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ3Nob3J0LicsICcnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWFjaHNhbnNhci5jb218dGVjaG5pY2FsYXRnLmNvbS8sICgpID0+IHdhaXRGb3JFbG0oIiN3cHNhZmVnZW5lcmF0ZSA+ICN3cHNhZmUtbGluayA+IGFbaHJlZl0iLCBzYWZlID0+IHJlZGlyZWN0KHNhZmUuaHJlZikpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9nby5iaXJkdXJscy5jb218Z28ub3dsbGluay5uZXR8Z28uaWxsaW5rLm5ldHxnby5wb25nLnB3fGdvLmVhcm5mYWN1dC54eXp8Z28ubGluazRyZXYuc2l0ZXxnby51cmxjYXNoLnNpdGUvLCBmdW5jdGlvbigpIHtsb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgnZ28uJywgJycpO30pOwogICAgY29uc3Qgc2wgPSAoaCA9PiB7c3dpdGNoIChoLmhvc3QpIHtjYXNlICdjdXR0eS5hcHAnOiBpZiAoIGguaHJlZi5pbmNsdWRlcygnL2N1dGxpbmtzJykgJiYgbG9jYXRpb24uc2VhcmNoID09PSAnJykgeyByZXR1cm4gJ2h0dHBzOi8vY3V0dHkuYXBwL2xhc3RzdGVwJzsgfSBicmVhazsKICAgIGNhc2UgJ2FkbGluay5iaXRjb21hcmtldC5uZXQnOiBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCdnbycpKSB7IHJldHVybiAnaHR0cHM6Ly9hZHNob3J0aS5jby8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdnbycpLnN1YnN0cmluZygxKTt9IGJyZWFrOwogICAgY2FzZSAnbXkuZHJvcHoueHl6JzogaWYgKCBoLmhyZWYuaW5jbHVkZXMoJy9jaGVja3BvaW50JykgJiYgbG9jYXRpb24uc2VhcmNoID09PSAnJykgeyByZXR1cm4gJ2h0dHBzOi8vbXkuZHJvcHoueHl6L2NoZWNrcG9pbnQ/cmVkaXI9L3NpdGUtZnJpZW5kcyc7IH0gYnJlYWs7CiAgICBjYXNlICd0aGVjb25vbXkubWUnOiBjYXNlICdibG9nLm1lZGlwb3N0Lm9yZyc6IGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgL15cPyhbXiZdKykvLnRlc3QoaC5zZWFyY2gpKSB7IG1ldGEoJ2h0dHBzOi8vbGlua3MubWVkaXBvc3Qub3JnLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdwYXRhay5kcm9wei54eXonOiBpZiAoIGguaHJlZi5pbmNsdWRlcygnL2NoZWNrcG9pbnQnKSAmJiBsb2NhdGlvbi5zZWFyY2ggPT09ICcnKSB7IHJldHVybiAnaHR0cHM6Ly9wYXRhay5kcm9wei54eXovY2hlY2twb2ludD9yZWRpcj0vc2l0ZS1mcmllbmRzJzsgfSBicmVhazsKICAgIGNhc2UgJ3RlcmFmbHkubWUnOiBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ2FkbmV3cy5tZScpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC9hZG5ld3MubWUvLnRlc3QodSkpWzBdO30gZWxzZSBpZiAoaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ3BsYXlzdG9yZS5wdycpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC9wbGF5c3RvcmUucHcvLnRlc3QodSkpWzBdO30gYnJlYWs7CiAgICBjYXNlICdjbGlja3NmbHkuY29tJzogY2FzZSAnc2hyaW5rZWFybi5jb20nOiBjYXNlICdjbGsuc2gnOiBjYXNlICdjdXR5LmlvJzogdmFyIGNmID0gaC5zZWFyY2hQYXJhbXMuaGFzKCdhcGknKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpOyBpZiAoIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCdibG9vZ2Vyc3Bvb3QuJykgKSB7d2luZG93LmxvY2F0aW9uLmFzc2lnbignaHR0cHM6Ly9zb2Z0aW5kZXgud2Vic2l0ZScrIGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykuc3Vic3RyaW5nKDIyKSk7fSBlbHNlIGlmIChoLnNlYXJjaFBhcmFtcy5oYXMoJ2FwaScpICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCdmdXR1cmVzaG9yLicpKSB7cmV0dXJuICdodHRwczovLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpO30gZWxzZSBpZiAoY2YgJiYgaC5ocmVmLmluY2x1ZGVzKCczc2hvcnR1cmwuZ3EnKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvM3Nob3J0dXJsLmdxLy50ZXN0KHUpKVswXTt9IGVsc2UgaWYgKGNmICYmIGguaHJlZi5pbmNsdWRlcygnMzYwc2hvcnRsaW5rLmNmJykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cLzM2MHNob3J0bGluay5jZi8udGVzdCh1KSlbMF07fSBlbHNlIGlmIChjZiAmJiBoLmhyZWYuaW5jbHVkZXMoJ2Vhcm5mYWN1dC54eXonKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvZWFybmZhY3V0Lnh5ei8udGVzdCh1KSlbMF07fSBlbHNlIGlmIChjZiAmJiBoLmhyZWYuaW5jbHVkZXMoJ3Nob3J0LnNrYWxiYXlyYWsuY29tJykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cL3Nob3J0LnNrYWxiYXlyYWsuY29tLy50ZXN0KHUpKVswXTt9ZWxzZXtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKTt9IGJyZWFrOwogICAgZGVmYXVsdDogYnJlYWs7fSB9KShuZXcgVVJMKGxvY2F0aW9uLmhyZWYpKTsgaWYgKHNsKSB7bG9jYXRpb24uaHJlZiA9IHNsOyB9CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWRidGMudG9wLywgZnVuY3Rpb24oKSB7bGV0IGNvdW50ID0wOyBzZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKGJwKCJkaXYuY29sLnM0PiBhIikgJiYgIWJwKCJkaXYuY29sLnM0PiBhIikuY2xhc3NOYW1lLmluY2x1ZGVzKCJoaWRlIikpe2NvdW50ID0gMDticCgiZGl2LmNvbC5zND4gYSIpLmNsaWNrKCk7fWVsc2V7Y291bnQgPSBjb3VudCArIDE7fX0sNTAwMCk7CiAgICB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbigpIHtpZiAodW5zYWZlV2luZG93Lm15V2luZG93KSB7dW5zYWZlV2luZG93Lm15V2luZG93LmNsb3NlKCk7fWlmICh1bnNhZmVXaW5kb3cuY29pbndpbikge2xldCBwb3BjID0gdW5zYWZlV2luZG93LmNvaW53aW47dW5zYWZlV2luZG93LmNvaW53aW4gPSB7fTtwb3BjLmNsb3NlKCk7fX07fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZHJvcHoueHl6LywgZnVuY3Rpb24oKSB7aWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvY2FwdGNoYScpJiYgIXdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvcm9sbCcpKSB7fWVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvc2l0ZS1mcmllbmRzJykpIHtsZXQgd2luZG93TmFtZSA9ICIiO2xldCBjdXJyZW50d2luZG93T3BlbkZ1bmN0aW9uID0gdW5zYWZlV2luZG93Lm9wZW47ZnVuY3Rpb24gbmV3d2luZG93T3BlbkZ1bmN0aW9uKHBhcmFtczEsIHBhcmFtczIpIHtpZiAoIXBhcmFtczIgfHwgcGFyYW1zMiA9PSAiX2JsYW5rIikge3dpbmRvd05hbWUgPSAicG9wVXBXaW5kb3dNeURyb3B6Ijt9IGVsc2Uge3dpbmRvd05hbWUgPSBwYXJhbXMyO30gcmV0dXJuIGN1cnJlbnR3aW5kb3dPcGVuRnVuY3Rpb24ocGFyYW1zMSwgd2luZG93TmFtZSk7fTt1bnNhZmVXaW5kb3cub3BlbiA9IG5ld3dpbmRvd09wZW5GdW5jdGlvbjt1bnNhZmVXaW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbigpIHtjdXJyZW50d2luZG93T3BlbkZ1bmN0aW9uKCcnLCB3aW5kb3dOYW1lKS5jbG9zZSgpO307CiAgICBmdW5jdGlvbiBlbmRzV2l0aE51bWJlcihzdHIpe3JldHVybiBpc05hTihzdHIuc2xpY2UoLTEpKSA/IGZhbHNlIDogdHJ1ZTt9bGV0IGNsaWNrZWQgPSBmYWxzZTtzZXRJbnRlcnZhbChmdW5jdGlvbigpe2ZvcihsZXQgaT0wOyBpPCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYnRuLmJ0bi1pbmZvIikubGVuZ3RoOyBpKyspe2lmKCFjbGlja2VkICYmICFlbmRzV2l0aE51bWJlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYnRuLmJ0bi1pbmZvIilbaV0uZ2V0QXR0cmlidXRlKCdpZCcpKSAmJiAhZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmJ0bi5idG4taW5mbyIpW2ldLmlubmVyVGV4dC5pbmNsdWRlcygiU3VibWl0cyIpKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYnRuLmJ0bi1pbmZvIilbaV0uY2xpY2soKTticmVhazt9fX0sMTAwMDApO30gZWxzZSB7fX0pOwogICAgLy8gSW5qZWN0aW5nIGZyb20gc3RhcnQgZG9jdW1lbnQgY29kZWQgYnkgQEp1c3RPbGFmCiAgICBpZiAobG9jYXRpb24uaG9zdCA9PT0gJ3RlY2hjeWFuLmNvbScpe2RlbGV0ZSB3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXI7IHdpbmRvdy5kb2N1bWVudC5fX2RlZmluZUdldHRlcl9fKCdyZWZlcnJlcicsIGZ1bmN0aW9uICgpIHtyZXR1cm4gImh0dHBzOi8vZ29vZ2xlLmNvbS8iO30pO30KICAgIC8vIEluamVjdGluZyBmcm9tIHN0YXJ0IGRvY3VtZW50IGNvZGUgYnkgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbGVuaXZlbmUKICAgIGlmIChbJ21hZ3lidS5uZXQnLCAneGVydm9vLm5ldCcsICdodXJpcmsubmV0JywgJ3VzZmluZi5uZXQnLCAnZWxvaXNtLm5ldCcsICduZWV4dWxyby5uZXQnXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csInlzbW0iLHtzZXQ6ZnVuY3Rpb24oYil7dmFyIGE9YixjPSIiLGQ9IiI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKykwPT1iJTI/Yys9YS5jaGFyQXQoYik6ZD1hLmNoYXJBdChiKStkO2E9KGMrZCkuc3BsaXQoIiIpO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspaWYoIWlzTmFOKGFbYl0pKWZvcihjPWIrMTtjPGEubGVuZ3RoO2MrKylpc05hTihhW2NdKXx8KGQ9YVtiXV5hW2NdLDEwPmQmJihhW2JdPWQpLGI9YyxjPWEubGVuZ3RoKTthPWEuam9pbigiIik7YT13aW5kb3cuYXRvYihhKTthPWEuc3Vic3RyaW5nKGEubGVuZ3RoLShhLmxlbmd0aC0xNikpOyEoYj1hPWEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtMTYpKXx8MCE9PWIuaW5kZXhPZigiaHR0cDovLyIpJiYwIT09Yi5pbmRleE9mKCJodHRwczovLyIpfHwoZG9jdW1lbnQud3JpdGUoIlx4M2MhLS0iKSx3aW5kb3cuc3RvcCgpLHdpbmRvdy5vbmJlZm9yZXVubG9hZD1udWxsLHdpbmRvdy5sb2NhdGlvbj1iKTt9fSk7fQogICAgLy8gSW5qZWN0aW5nIGNvZGUgZnJvbSBzdGFydCBhbmQgdGhlIGVuZCBvZiBkb2N1bWVudCBjb2RlZCBieSBAS29uZgogICAgaWYgKFsnaW50ZXJhY3RpdmUnLCAnY29tcGxldGUnXS5pbmNsdWRlcyhkb2N1bWVudC5yZWFkeVN0YXRlKSkge29uSHRtbExvYWRlZCgpO30gZWxzZSB7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG9uSHRtbExvYWRlZCk7fSBmdW5jdGlvbiBvbkh0bWxMb2FkZWQoKSB7aWYgKFsnYmFzLm51cnVsLWh1ZGEub3IuaWQnLCAncm90YXRvci5udXJ1bC1odWRhLnNjaC5pZCddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSl7IH0gZWxzZSB7IGNvbnN0IGxpc3RoaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2ZyYW1lLC5hZGIsI2lmcmFtZSwjcGFydGljbGVzLWpzLCNjYW52YXMsLmZsb2F3aW5nLWJhbm5lciwjb3JxdWlkZWEtc2xpZGV1cCwuZmxvYXRpbmctYmFubmVyLCN3Y2Zsb2F0RGl2NCwjcHJlbG9hZGVyLC52YW50YS1jYW52YXMsLnBhcnRpY2xlcy1qcy1jYW52YXMtZWwsI3M2NWMsI29mYzksI292ZXJsYXksI2Zvb3RlcmFkcywjZDdiMiwjX21fYV8sI21hc3RoZWFkXywub3VsY3N5LC5zdGlja3ktYm90dG9tLC5zdGlja3ktYm90dG9tMSwuc3RpY2t5LWJvdHRvbTIsLnN0aWNreS1ib3R0b20zLC5iRWxOYkVGUkwzSnZiRzg5LC5zZXBhcmF0b3IsaHRtbCBib2R5IGlmcmFtZSxodG1sIGlmcmFtZSwjY29va2llLXBvcCwudm15b3IsLnRuam12bmVsZHAsLmZ1bGxfcG9zdF9hcmVhLnJoLWNvbnRhaW5lciwuc2MtY29udGVudC1hc2lkZSwjb2ZjOSwuZmxvYXdpbmctYmFubmVyLGRpdi5kZW1hbmQtc3VwcGx5LC50aGVfY29udGVudCwuYWx0ZXJuYXRpdmUtYWQsI2xlZnRhZHMnKTsgZm9yIChjb25zdCBlbGVtZW50IG9mIGxpc3RoaWRlKSB7ZWxlbWVudC5yZW1vdmUoKTt9fQogICAgaWYgKFsndXA0Y2FzaC5jb20nLCAnYXBwLm1lbmplbGFqYWhpLmNvbScsICdibG9nLm1lbmplbGFqYWhpLmNvbSddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSl7IH0gZWxzZSB7IGNvbnN0IGxpc3RyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYW5uZXItaW5uZXInKTsgZm9yIChjb25zdCBlbGVtZW50IG9mIGxpc3RyZSkge2VsZW1lbnQucmVtb3ZlKCk7fX0KICAgIGlmIChbJ3RhaXdhbmNuYW4uY29tJywgJ2Jsb2cuZGlzaGV5ZS5jb20nXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpeyB9IGVsc2UgeyBjb25zdCBsaXN0ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ibG9nLWl0ZW0nKTsgZm9yIChjb25zdCBlbGVtZW50IG9mIGxpc3RyKSB7ZWxlbWVudC5yZW1vdmUoKTt9fQogICAgaWYgKFsncGF0YWsuZHJvcHoueHl6JywgJ215LmRyb3B6Lnh5eiddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSl7IH0gZWxzZSB7IGNvbnN0IGxpc3RkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRleHQtbGVmdCcpOyBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgbGlzdGQpIHtlbGVtZW50LnJlbW92ZSgpO319CiAgICBpZiAobG9jYXRpb24uaG9zdCA9PT0gJ2phcmRpbWEuY29tJyl7IH0gZWxzZSB7IGNvbnN0IGxpc3RqID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRkLXNzLW1haW4tY29udGVudCcpOyBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgbGlzdGopIHtlbGVtZW50LnJlbW92ZSgpO319CiAgICBpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2RpdWRlbXkuY29tJykgIT0gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCdkanhtYXphLmluJykgIT0gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCdvbi1zY3JvbGwuY29tJykgIT0gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCdibG9nLWV2ZXJ5dGhpbmcuY29tJykgIT0gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCdwcm92aXJhbGhvc3QuY29tJykgIT0gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCdibG9nbWFkby5jb20nKSAhPSAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2J0Y3BhbnkuY29tJykgIT0gLTEpIHsKICAgIChmdW5jdGlvbigpIHtsZXQgRmFzdEludCA9ICd7ezF9fSc7aWYgKCBGYXN0SW50ID09PSAne3sxfX0nICkgeyBGYXN0SW50ID0gJyc7IH1sZXQgZGVsYXlBcmcgPSAne3syfX0nO2lmICggZGVsYXlBcmcgPT09ICd7ezJ9fScgKSB7IGRlbGF5QXJnID0gJyc7IH1sZXQgYm9vc3RBcmcgPSAne3szfX0nO2lmICggYm9vc3RBcmcgPT09ICd7ezN9fScgKSB7IGJvb3N0QXJnID0gJyc7IH0KICAgIGlmICggRmFzdEludCA9PT0gJycgKSB7RmFzdEludCA9ICcuPyc7fSBlbHNlIGlmICggRmFzdEludC5jaGFyQXQoMCkgPT09ICcvJyAmJiBGYXN0SW50LnNsaWNlKC0xKSA9PT0gJy8nICkge0Zhc3RJbnQgPSBGYXN0SW50LnNsaWNlKDEsIC0xKTt9IGVsc2Uge0Zhc3RJbnQgPSBGYXN0SW50LnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpO31jb25zdCBGYXN0SW50ZXIgPSBuZXcgUmVnRXhwKEZhc3RJbnQpOwogICAgbGV0IGRlbGF5ID0gZGVsYXlBcmcgIT09ICcqJyA/IHBhcnNlSW50KGRlbGF5QXJnLCAxMCkgOiAtMTtpZiAoIGlzTmFOKGRlbGF5KSB8fCBpc0Zpbml0ZShkZWxheSkgPT09IGZhbHNlICkgeyBkZWxheSA9IDEwMDA7IH0KICAgIGxldCBib29zdCA9IHBhcnNlRmxvYXQoYm9vc3RBcmcpO2Jvb3N0ID0gaXNOYU4oYm9vc3QpID09PSBmYWxzZSAmJiBpc0Zpbml0ZShib29zdCkgPyBNYXRoLm1pbihNYXRoLm1heChib29zdCwgMC4wMiksIDUwKSA6IDAuMDU7IHNlbGYuc2V0SW50ZXJ2YWwgPSBuZXcgUHJveHkoc2VsZi5zZXRJbnRlcnZhbCwge2FwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHtjb25zdCBbIGEsIGIgXSA9IGFyZ3M7CiAgICBpZiAoKGRlbGF5ID09PSAtMSB8fCBiID09PSBkZWxheSkgJiYgRmFzdEludGVyLnRlc3QoYS50b1N0cmluZygpKSkge2FyZ3NbMV0gPSBiICogYm9vc3Q7fXJldHVybiB0YXJnZXQuYXBwbHkodGhpc0FyZywgYXJncyk7fX0pO30pKCk7fQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIENhcHRjaGEgTW9kZQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGxldCBjYXB0Y2hhTW9kZSA9IFsnI19tZm9ybScsICcjdXNlckZvcm0nLCAnI2xpbmstdmlldycsICcjZnJtcHJvdGVjdCcsICcjU2hvcnRMaW5rSWQnLCAnI2NhcHRjaGEnLCAnI3N1Ym1pdC1mb3JtJywgJyNsdmlldyA+IGZvcm0nLCAnI2ZpbGUtY2FwdGNoYScsICcjYnRnZXQgPiBmb3JtJywgJ2RpdiNsb2dpbiBmb3JtJywgJ0YxJywgJyNzaG9ydC1jYXB0Y2hhLWZvcm0nLCAnI3dwc2FmZWxpbmstbGFuZGluZycsICcuY29sLTEyID4gZm9ybTpudGgtY2hpbGQoMSknLCAnLmNvbC1tZC00ID4gZm9ybTpudGgtY2hpbGQoMSknLCAnLmNvbC1tZC02ID4gZm9ybTpudGgtY2hpbGQoNCknLCAnLmNvbnRlbmlkbyA+IGZvcm06bnRoLWNoaWxkKDIpJywgJyNtYWluID4gZGl2Om50aC1jaGlsZCg0KSA+IGZvcm06bnRoLWNoaWxkKDEpJywgJ2Rpdi5jb2wtbWQtMTI6bnRoLWNoaWxkKDMpID4gZm9ybTpudGgtY2hpbGQoMSknLCAnLmNvbnRlbnQgPiBkaXY6bnRoLWNoaWxkKDQpID4gZm9ybTpudGgtY2hpbGQoMSknLCAnI3Nob3dNZSA+IGNlbnRlcjpudGgtY2hpbGQoNCkgPiBmb3JtOm50aC1jaGlsZCgxKScsICcuc2VjdCA+IGRpdjpudGgtY2hpbGQoMSkgPiBjZW50ZXI6bnRoLWNoaWxkKDcpID4gZm9ybTpudGgtY2hpbGQoMSknLCAnI3Nob3dNZSA+IGNlbnRlcjpudGgtY2hpbGQoMSkgPiBjZW50ZXI6bnRoLWNoaWxkKDQpID4gZm9ybTpudGgtY2hpbGQoMSknLCAnI2FkYi1ub3QtZW5hYmxlZCA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXY6bnRoLWNoaWxkKDEpID4gZGl2Om50aC1jaGlsZCgxKSA+IGRpdjpudGgtY2hpbGQoMSkgPiBkaXY6bnRoLWNoaWxkKDUpID4gZm9ybTpudGgtY2hpbGQoMSknLCAnYnV0dG9uI2NvbnRpbnVlLmJ0bi5idG4tcHJpbWFyeS5idG4tY2FwdGNoYScsICcubS0yLmJ0bi1jYXB0Y2hhLmJ0bi1vdXRsaW5lLXByaW1hcnkuYnRuJywgJyN5dWlkZWEtYnRuLWJlZm9yZS55dS1idG4ueXUtYmx1ZScsICcjeXVpZGVhLWJ0bi1hZnRlci55dS1ibHVlLnl1LWJ0bicsICcjZmF1Zm9ybSddOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXB0Y2hhTW9kZS5sZW5ndGg7IGkrKykge0NhcHRjaGFzdWIoY2FwdGNoYU1vZGVbaV0pO30KICAgIGxldCBrbGlrTW9kZSA9IFsnYnV0dG9uI2NvbnRpbnVlLmJ0bi5idG4tcHJpbWFyeS5idG4tY2FwdGNoYScsICcubS0yLmJ0bi1jYXB0Y2hhLmJ0bi1vdXRsaW5lLXByaW1hcnkuYnRuJywgJyN5dWlkZWEtYnRuLWJlZm9yZS55dS1idG4ueXUtYmx1ZScsICcjeXVpZGVhLWJ0bi1hZnRlci55dS1ibHVlLnl1LWJ0bicsICcjc3VibWl0QnRuJ107CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtsaWtNb2RlLmxlbmd0aDsgaSsrKSB7Q2FwdGNoYWtsaWsoa2xpa01vZGVbaV0pO30KICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBTZXRUaW1lb3V0IE1vZGUKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBsZXQgdGltZW91dE1vZGUgPSB7CiAgICAgICAgJzInOiBbJy5nb2J1dCddLAogICAgICAgICczJzogWydwLmdldGxpbmsnLCAnYnV0dG9uLmplamUnLCAnLnl1LWJsdWUueXUtYnRuJywgJ2J1dHRvbiNidG4tZ2V0LWxpbmsnLCAnI2xpbmtzID4gYTpudGgtY2hpbGQoMiknLCAnYnV0dG9uLmJ0bi1tYWluLmdldC1saW5rJywgJ2J1dHRvbiNidG42Lnl1LWJ0bi55dS1nbycsICcubWItMyA+IC5idG4tcHJpbWFyeS5idG4nLCAnaW5wdXRbbmFtZT0ibWV0aG9kX2ZyZWUiXScsICdkaXYjd3BzYWZlLWdlbmVyYXRlIGEgaW1nJywgJ2J1dHRvbiNtZHQuY3VzdG9tLWJ0bi5idG4tNycsICdidXR0b24jYnRuLW1haW4uYnRuLmJ0bi1tYWluJywgJ2J1dHRvbiNidC5idG4uYnRuLWluZm8uYnRuLWxnJywgJ2J1dHRvbiNhcnRpY2xlLmJ0bi5idG4tc3VjY2VzcycsICdpbnB1dCNidG4tbWFpbi5idG4uYnRuLXByaW1hcnknLCAnYnV0dG9uI2dldGxpbmsuZ2V0bGluay5kaXNhYmxlZCcsICcjbGluazFzLXNucCA+IGJ1dHRvbjpudGgtY2hpbGQoMSknLCAnI2xpbmsxcy1zbnAgPiBidXR0b246bnRoLWNoaWxkKDEpJywgJ2J1dHRvbiNzaG93VGltZXJUZXh0LmJ0bi5idG4tYWNjZW50JywgJyN3cHNhZmVsaW5raHVtYW4gPiBpbWc6bnRoLWNoaWxkKDEpJywgJ2J1dHRvbiNzdWJtaXQtYnV0dG9uLmJ0bi5idG4tcHJpbWFyeScsICcubmV4dC1idXR0b24udGV4dC13aGl0ZS5idG4taW5mby5idG4nLCAnYnV0dG9uI2J0bjYuZy1yZWNhcHRjaGEuYnRuLmJ0bi1wcmltYXJ5JywgJyNjbDEgPiBhOm50aC1jaGlsZCgyKSA+IGZvbnQ6bnRoLWNoaWxkKDEpJywgJyNjbDEgPiBjZW50ZXI6bnRoLWNoaWxkKDEpID4gYTpudGgtY2hpbGQoMSknLCAnLm5leHQtYnV0dG9uLmJ0bi1sZy50ZXh0LXdoaXRlLmJ0bi1pbmZvLmJ0bicsICdidXR0b24jYnRuNi5idG4uYnRuLW91dGxpbmUtcHJpbWFyeS5idG4tY2FwdGNoYS5tLTInLCAnLmNvbC1tZC04ID4gZm9ybTpudGgtY2hpbGQoMTcpID4gYnV0dG9uOm50aC1jaGlsZCgzKScsICdkaXYuYm94LW1haW46bnRoLWNoaWxkKDIpID4gZGl2Om50aC1jaGlsZCg0KSA+IGE6bnRoLWNoaWxkKDEpJywgJ2Rpdi5jb2x1bW46bnRoLWNoaWxkKDIpID4gZm9udDpudGgtY2hpbGQoMikgPiBhOm50aC1jaGlsZCg4KSddLAogICAgICAgICc0JzogWycuZXhjbHVkZS1wb3BhZC5vcGVuLWNvbnRpbnVlLWJ0bi1vcmcuYnRuLXByaW1hcnkuYnRuJ10sCiAgICAgICAgJzUnOiBbJyN5dWlkZWEtYnRtYnRuJywgJ2Rpdi5jb21wbGV0ZSBhLmJ0bicsICdidXR0b24jZy1yZWNhcHRjaGEuZ29idCcsICcjbW9saWVuID4gYTpudGgtY2hpbGQoMSknLCAnYSNzdXJsMS5idG4tbWFpbi5nZXQtbGluaycsICcjd3BzYWZlLXNucCA+IGE6bnRoLWNoaWxkKDEpJywgJy5jbG9zZS1hZC1tb2RhbC1nby1haGVhZC5jbG9zZScsICdidXR0b24jaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluay5idG4tbWFpbi5nZXQtbGluaycsICdidXR0b24jaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluay5idG4ueWJ0bi55YnRuLWFjY2VudC1jb2xvci5idG4tY2FwdGNoYScsICdidXR0b24jaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluay5idG4uYnRuLW91dGxpbmUtcHJpbWFyeS5idG4tbGcuYnRuLWJsb2NrLmJ0bi1jYXB0Y2hhJ10sCiAgICAgICAgJzcnOiBbJ2J1dHRvbiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rLmJ0bi5idG4tcHJpbWFyeS5idG4tZ29vLmJ0bi1jYXB0Y2hhJ10sCiAgICAgICAgJzknOiBbJ2Rpdi5sZHMtZWxsaXBzaXMnXX07CiAgICBsZXQgX3RpbWVvdXRNb2RlID0gT2JqZWN0LmtleXModGltZW91dE1vZGUpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfdGltZW91dE1vZGUubGVuZ3RoOyBpKyspIHtmb3IgKGxldCBqID0gMDsgaiA8IHRpbWVvdXRNb2RlW190aW1lb3V0TW9kZVtpXV0ubGVuZ3RoOyBqKyspIHtjbGlja0lmRWxlbWVudEV4aXN0cyh0aW1lb3V0TW9kZVtfdGltZW91dE1vZGVbaV1dW2pdLCArX3RpbWVvdXRNb2RlW2ldKTt9fQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIHNldEludGVydmFsIE1vZGUKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBsZXQgaW50ZXJ2YWxNb2RlID0gewogICAgICAgICczJzogWycjc2x1LWxpbmsnLCAnI21ha2luZ2RpZmZlcmVudHRpbWVyJywgJ2EjZmluYWx4MjIuYnRuLmJ0bnN0ZXAxJywgJyN3Zy1mb3JtID4gLmJ0bnN0ZXAxLmJ0bicsICcjbXlCdXR0b25uID4gc3BhbjpudGgtY2hpbGQoMSknLCAnaW5wdXQuZy1yZWNhcHRjaGEuYnRuLmJ0bi1wcmltYXJ5JywgJyNtZHQuYnRuLmJ0bi1wcmltYXJ5LnRleHQtd2hpdGUubmV4dC1idXR0b24nLCAnZGl2LmNvbHVtbjpudGgtY2hpbGQoMikgPiBmb250Om50aC1jaGlsZCgyKSA+IGE6bnRoLWNoaWxkKDgpJywgJ2J1dHRvbiNtYWluLWJ1dHRvbi5jbGFpbS1idXR0b24uYnRuLmJ0bi1sZy5idG4tYWNjZW50JywgJ2EuZ2V0LWxpbmsuYmctcmVkLTYwMC5weC04LnB5LTIucm91bmRlZC1tZC5pbmxpbmUtYmxvY2snXSwKICAgICAgICAnNSc6IFsnYS5idG4tbWFpbi5nZXQtbGluaycsICdhLmJ0bi5tLTIuYnRuLXN1Y2Nlc3MnLCAnLmJ0bi1kYW5nZXIuYnRuLXJhaXNlZCcsICcjbGluazFzLmJ0bi1wcmltYXJ5LmJ0bicsICcuY2xvc2UtbWUgPiBhOm50aC1jaGlsZCgxKScsICdidXR0b24jbGluay5idG4uYnRuLXByaW1hcnknLCAnI2J0bjYuYnRuLWNhcHRjaGEuYnRuLXByaW1hcnkuYnRuJywgJ2EuYnRuLmJ0bi1wcmltYXJ5LmdldC1saW5rLnRleHQtd2hpdGUnLCAnI21ha2luZ2RpZmZlcmVudHRpbWVyOSA+IC5idG4tc3VjY2Vzcy5idG4nXSwKICAgICAgICAnNyc6IFsnI25leHRCdXR0b24nLCAnYnV0dG9uI2dldF9saW5rLmJ0bi5idG4tcHJpbWFyeS5idG4tc20nXX07CiAgICBsZXQgX2ludGVydmFsTW9kZSA9IE9iamVjdC5rZXlzKGludGVydmFsTW9kZSk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9pbnRlcnZhbE1vZGUubGVuZ3RoOyBpKyspIHtmb3IgKGxldCBqID0gMDsgaiA8IGludGVydmFsTW9kZVtfaW50ZXJ2YWxNb2RlW2ldXS5sZW5ndGg7IGorKykge2NsaWNrSWZFbGVtZW50RXhpc3RzKGludGVydmFsTW9kZVtfaW50ZXJ2YWxNb2RlW2ldXVtqXSwgK19pbnRlcnZhbE1vZGVbaV0sICdzZXRJbnRlcnZhbCcpO319CiAgICB3YWl0Rm9yRWxtKCdhLnMtYnRuLWYnLCBzbXAgPT4gcmVkaXJlY3Qoc21wLmhyZWYsIGZhbHNlKSk7CiAgICB3YWl0Rm9yRWxtKCcjeXVpZGVhLWJ0bWJ0bicsIG95ZSA9PiByZWRpcmVjdChveWUuaHJlZiwgZmFsc2UpKTsKICAgIHdhaXRGb3JFbG0oJ2RpdiN3cHNhZmUtbGluayA+IGEnLCBmdW5jdGlvbihlbGVtZW50KSB7Y29uc3QgcmVnZXggPSAvcmVkaXJlY3Q9KC4qKScsLzsKICAgIGNvbnN0IG0gPSByZWdleC5leGVjKGVsZW1lbnQub25jbGljay50b1N0cmluZygpKVsxXTsgbG9jYXRpb24uaHJlZiA9IEpTT04ucGFyc2UoYXRvYihtKSkuc2FmZWxpbms7fSk7CiAgICBpZiAodHlwZW9mIGhjYXB0Y2hhPT0ib2JqZWN0IiAmJiB0eXBlb2YgYXBpQ291bnRlcj09Im9iamVjdCIpIHsgd2luZG93LmFwcF9jb3VudHJ5X3Zpc2l0b3I9IiI7CiAgICAgICAgd2luZG93LmhjYXB0Y2hhLmdldFJlc3BvbnNlPSgpPT57fTsKICAgICAgICB3aW5kb3cuYXBpQ291bnRlci5nZW5lcmF0ZVVSTCgpOwogICAgICAgIHdpbmRvdy5hcGlDb3VudGVyLnJlZGlyZWN0VG8oYnAoImJ1dHRvbi5idXR0b24tZWxlbWVudC12ZXJpZmljYXRpb24iKSk7fQogICAgaWYgKHR5cGVvZiB0b2tlblVSTD09InN0cmluZyIpIHsgcmVkaXJlY3QoYXRvYih3aW5kb3cudG9rZW5VUkwpKTt9CiAgICBpZiAobG9jYXRpb24uaG9zdCA9PT0gJ2ZhdWNldHBheS5pbycpIHt9IGVsc2Uge0NhcHRjaGFzdWIoJ2Zvcm0udGV4dC1jZW50ZXInKTt9CiAgICBpZiAoWyd3d3cuNHNoYXJlZC5jb20nLCAnc3RmbHkubWUnXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHt9IGVsc2Uge0NhcHRjaGFzdWIoImZvcm1bYWN0aW9uPScnXSIpO30KICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnd3d3LnVwbG9hZC00ZXZlci5jb20nKSB7fSBlbHNlIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1vdXRsaW5lLXdoaXRlLmJ0bicsIDMpO30KICAgIGlmIChicCgnI2xpbmstdmlldyA+IGRpdltzdHlsZT0iZGlzcGxheTogbm9uZTsiXScpKSB7YnAoJyNsaW5rLXZpZXcgPiBkaXZbc3R5bGU9ImRpc3BsYXk6IG5vbmU7Il0nKS5zdHlsZS5kaXNwbGF5ID0gJyc7fQogICAgaWYgKGxvY2F0aW9uLmhvc3QgPT09ICd1cGxvYWRoYXZlbi5jb20nKSB7fSBlbHNlIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYnV0dG9uLmJ0bi1ibG9jay5idG4tc3VjY2VzcycsIDUsICdzZXRJbnRlcnZhbCcpO30KICAgIGlmIChbJ2N0YmwubWUnLCAnenNob3J0LmNjJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xICYmIGxvY2F0aW9uLnNlYXJjaCA9PT0gJycpIHtsb2NhdGlvbiA9ICdodHRwczovL21kbi5yZXN0Lz91cmw4aj0nICsgbG9jYXRpb24uaHJlZjt9CiAgICBpZiAobG9jYXRpb24uaG9zdCA9PT0gJ2ZjLWxjLmNvbScpIHt3aW5kb3cudG9wICE9IHdpbmRvdy5zZWxmO30gZWxzZSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2J1dHRvbiNzdWJtaXRidG4uZy1yZWNhcHRjaGEuYnRuLmJ0bi1wcmltYXJ5JywgMyk7fQogICAgaWYgKFsndXBsb2FkaGF2ZW4uY29tJywgJ3BhdGFrLmRyb3B6Lnh5eicsICdteS5kcm9wei54eXonXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHt9IGVsc2Uge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdidXR0b24uYnRuLmJ0bi1zdWNjZXNzJywgNyk7fQogICAgaWYgKFsncGFpZDQubGluaycsICdwb25zZWxoYXJpYW4uY29tJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7d2luZG93LnRvcCAhPSB3aW5kb3cuc2VsZjt9IGVsc2Uge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLWNhcHRjaGEuYnRuLXNtLmJ0bi1wcmltYXJ5LmJ0bicsIDUpO30KICAgIGlmIChbJ3d3dy5zb2xpZGZpbGVzLmNvbScsICd1c2Vyc2RyaXZlLmNvbScsICd3b3JrdXBsb2FkLmNvbSddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSkge30gZWxzZSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tc20uYnRuLWRlZmF1bHQuYnRuJywgNSwgJ3NldEludGVydmFsJyk7fQogICAgaWYgKFsnY29pbi5tZycsICdyYW5jYWguY29tJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7d2luZG93LnRvcCAhPSB3aW5kb3cuc2VsZjt9IGVsc2Uge2lmIChlbGVtZW50RXhpc3RzKCcjbGlua3MnKSkgeyBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsgYnAoJyNsaW5rcyA+IGZvcm06bnRoLWNoaWxkKDIpJykuc3VibWl0KCk7fSwgMzAwMCk7fX0KICAgIGlmIChbJ2tvbnN0YW50aW5vdmEubmV0JywgJ21vYmlsZXJldmlldy5pbmZvJ10uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7fSBlbHNlIHtpZiAoZWxlbWVudEV4aXN0cygnI21ha2luZ2RpZmZlcmVudHRpbWVyJykpIHsgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7IGJwKCcjdXJsX3F1ID4gYTpudGgtY2hpbGQoMSknKS5jbGljaygpO30sIDMwMDApO319CiAgICBpZiAoWydyYW5jYWguY29tJywndHJhbmdjaHUubmV3cycsICd0ZWNoYWNvZGUuY29tJywnZG93bmZpbGUuc2l0ZScsJ3VwbG9hZC00ZXZlci5jb20nXS5pbmNsdWRlcyh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpID4gLTEpIHt3aW5kb3cudG9wICE9IHdpbmRvdy5zZWxmO30gZWxzZSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2lucHV0LmJ0bi5idG4tcHJpbWFyeScsIDUpO30KICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnZmF1Y2V0cGF5LmlvJyAmJiBicCgnLmgtY2FwdGNoYScpICE9PSBudWxsKSB7dmFyIGZwID0gZnVuY3Rpb24oKSB7aWYgKHdpbmRvdy5ncmVjYXB0Y2hhLmdldFJlc3BvbnNlPy4oKS5sZW5ndGggPiAwKSB7YnAoJy5idG4tZGFuZ2VyLmJ0bi1sZy5idG4nKS5jbGljaygpOyBjbGVhckludGVydmFsKGZjcCk7fX07dmFyIGZjcCA9IHNldEludGVydmFsKGZwLCA1MDApO30KICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAndGVrbm9zaW1wbGUuY29tJyAmJiBicCgnLnNsdS1jYXB0Y2hhJykgIT09IG51bGwpIHt2YXIgdHMgPSBmdW5jdGlvbigpIHtpZiAod2luZG93LmdyZWNhcHRjaGEuZ2V0UmVzcG9uc2U/LigpLmxlbmd0aCA+IDApIHticCgnI3NsdS1jb250aW51ZS5zbHUtYnV0dG9uJykuY2xpY2soKTsgY2xlYXJJbnRlcnZhbChrcyk7fX07dmFyIGtzID0gc2V0SW50ZXJ2YWwodHMsIDUwMCk7fQogICAgaWYgKFsndHJhbmdjaHUubmV3cycsICdkb3duZmlsZS5zaXRlJywgJ3RlY2hhY29kZS5jb20nXS5pbmNsdWRlcyh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpID4gLTEgJiYgYnAoJy5jYXB0Y2hhJykgIT09IG51bGwpIHt2YXIgbyA9IGZ1bmN0aW9uKCkge2lmICh3aW5kb3cuZ3JlY2FwdGNoYS5nZXRSZXNwb25zZT8uKCkubGVuZ3RoID4gMCkge2JwKCcjcHJvY2VlZCcpLmNsaWNrKCk7IGNsZWFySW50ZXJ2YWwoayk7fX07dmFyIGsgPSBzZXRJbnRlcnZhbChvLCA1MDApO30KICAgIGlmIChbJ2Jsb2dtYWRvLmNvbScsJ2ZjLWxjLmNvbScsICdjaG9veW9taS5jb20nLCdwYWlkNC5saW5rJywndXNlcnNkcml2ZS5jb20nLCAnemVudHVtLmNsdWInLCAncGF0YWsuZHJvcHoueHl6JywgJ215LmRyb3B6Lnh5eicsICd3b3JrdXBsb2FkLmNvbScsICd0YWl3YW5jbmFuLmNvbScsJ3NvbGFyY2hhaW5lLmNvbScsJ3Nob3J0aXQucHcnLCdkanhtYXphLmluJywnc3RhcmZhdWNldC5uZXQnXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHt3aW5kb3cudG9wICE9IHdpbmRvdy5zZWxmO30gZWxzZSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2J1dHRvbi5idG46bnRoLWNoaWxkKDQpJywgMiwgJ3NldEludGVydmFsJyk7fQogICAgaWYgKFsnYml0bGlua3MucHcnLCdheWVsYWRzLmNvbScsICdhcGthZG1pbi5jb20nLCdjYXNoZWFybi5jYycsJ3JhbmNhaC5jb20nLCdkaWdpdGFsbmF6Lm5ldCcsJ3VwbG9hZC00ZXZlci5jb20nLCdoZXh1cGxvYWQubmV0JywndXBmaWxlcy5hcHAnLCdjdXQteS5jbycsJ2tlZXBsaW5rcy5vcmcnLCdmaWxlc2hhcmUuYWRzaG9ydHVybC5jb20nLCdib3dmaWxlLmNvbScsJ2xldHN1cGxvYWQuaW8nLCd3b3JrdXBsb2FkLmNvbSddLmluY2x1ZGVzKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSkgPiAtMSkge30gZWxzZSB7aWYgKGVsZW1lbnRFeGlzdHMoJ2Rpdi5jb2wtbWQtNDpudGgtY2hpbGQoMiknKSkgeyBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsgYnAoJ2Rpdi5jb2wtbWQtNDpudGgtY2hpbGQoMikgPiBzcGFuOm50aC1jaGlsZCgxKSA+IGltZzpudGgtY2hpbGQoMSknKS5jbGljaygpO30sIDUwMDApO319CiAgICBsZXQgTnVtY29kZSA9IGJwKCdpbnB1dC5jYXB0Y2hhX2NvZGUnKTsgbGV0IERpZ2l0TnVtOwogICAgZnVuY3Rpb24gZ2V0TGVmdCAoZCkge3JldHVybiBwYXJzZUludChkLnN0eWxlLnBhZGRpbmdMZWZ0KTt9CiAgICBpZiAoTnVtY29kZSkge0RpZ2l0TnVtID0gTnVtY29kZS5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGRyZW5bMF0uY2hpbGRyZW47CiAgICBOdW1jb2RlLnZhbHVlID0gW10uc2xpY2UuY2FsbChEaWdpdE51bSkuc29ydChmdW5jdGlvbiAoZDEsIGQyKSB7cmV0dXJuIGdldExlZnQoZDEpIC0gZ2V0TGVmdChkMik7fSkubWFwKGZ1bmN0aW9uKGQpe3JldHVybiBkLnRleHRDb250ZW50O30pLmpvaW4oJycpO30KICAgIGxldCAkID0gd2luZG93LmpRdWVyeTsgbGV0IHJlc3BlY3QgPSAnaHR0cHM6Ly9iYXMubnVydWwtaHVkYS5vci5pZC8/dXJsPSc7IC8vIERvbid0IHVzZSBNeSBTY3JpcHRzIGlmIFlvdSBDaGFuZ2UvUmVtb3ZlIE15IEJsb2dzLCBFeGNlcHQgWW91IE1ha2UgRG9uYXRpb25zISEhLgogICAgaWYgKGxvY2F0aW9uLmhvc3QgPT09ICd3d3cuNHNoYXJlZC5jb20nKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5kM3RvcFRpdGxlJykpIHskKCcucHJlbWl1bScpLnRleHQoJ0lNUE9SVEFOVCBUUklDS1MgQnkgQmxvZ2dlclBlbXVsYSA6IFdhaXQgNSBTZWNvbmQgb3IgbW9yZSAsIERvbnQgQ2xvc2UgdGhpcyBQYWdlICxSaWdodCBDbGljayBIZXJlIExpbmsgQWJvdmUsIE9wZW4gTGluayBpbiBOZXcgVGFiLCBDbG9zZSB0aGUgVGFicyBpZiBZb3VyIEZpbGUgbm90IERvd25sb2FkZWQsIFRyeSBhZ2FpbiB0aGUgUmlnaHQgQ2xpY2sgTWV0aG9kcywgYXQgVGhpcyBUaW1lIGkgRG9udCBoYXZlIElkZWEgdG8gTWFrZSBpdCBBdXRvICwgRG8gdGhlIFNhbWUgVHJpY2sgZm9yIEFsbCBGaWxlIFR5cGUgaW4gNHNoYXJlZCBTaXRlIC4gUmVnYXJkcy4uLicpO319CiAgICBpZiAoWydzaG9ydC5jcm9jbGl4Lm1lJywnd3d3LmFkejdzaG9ydC5zcGFjZSddLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSkge2Z1bmN0aW9uIGZpcmVNb3VzZUV2ZW50cyhxdWVyeSkgeyBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihxdWVyeSk7CiAgICBpZiAoIWVsZW1lbnQpIHJldHVybjsgWydtb3VzZW92ZXInLCAnbW91c2Vkb3duJywgJ21vdXNldXAnLCAnY2xpY2snXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7aWYgKGVsZW1lbnQuZmlyZUV2ZW50KSB7IGVsZW1lbnQuZmlyZUV2ZW50KCdvbicgKyBldmVudE5hbWUpO30gZWxzZSB7IGNvbnN0IGV2ZW50T2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7CiAgICAgZXZlbnRPYmplY3QuaW5pdEV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgZmFsc2UpOyBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRPYmplY3QpO319KTt9CiAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7IGlmICgkKCIjbGluayIpLmxlbmd0aCA+IDApIHsgZmlyZU1vdXNlRXZlbnRzKCIjbGluayIpO319LCA1MDApOwogICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkgeyBpZiAoJCgiaW5wdXQjY29udGludWUiKS5sZW5ndGggPiAwKSB7ZmlyZU1vdXNlRXZlbnRzKCJpbnB1dCNjb250aW51ZSIpO30KICAgIGlmICgkKCJhI2NvbnRpbnVlLmJ1dHRvbiIpLmxlbmd0aCA+IDApIHtmaXJlTW91c2VFdmVudHMoImEjY29udGludWUuYnV0dG9uIik7fX0sIDkwMDApOyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2lmICgkKCIjYnRuLW1haW4iKS5sZW5ndGggPCAwKSByZXR1cm47IGZpcmVNb3VzZUV2ZW50cygiI2J0bi1tYWluIik7fSwgNTAwMCk7fQogICAgaWYgKFsndXBmaWxlcy5hcHAnLCAnY3V0LXkuY28nXS5pbmRleE9mKGxvY2F0aW9uLmhvc3QpID4gLTEpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmdldC1saW5rLmJ0bi1kb3dubG9hZC5idG4tcHJpbWFyeS5idG4nLCA3KTt9IGVsc2UgaWYgKGxvY2F0aW9uLmhvc3QgPT09ICdyb2RqdWxpYW4uY29tJykge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdhLmJ0bi5idG4tcHJpbWFyeS5idG4tbGcuZ2V0LWxpbmsnLCA1LCAnc2V0SW50ZXJ2YWwnKTt9IGVsc2UgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigiYXkubGl2ZSIpICE9IC0xIHx8IGxvY2F0aW9uLmhyZWYuaW5kZXhPZigiYXlsaW5rLmNvIikgIT0gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCJnaXRsaW5rLnBybyIpICE9IC0xKSB7IHZhciBmb3JtID0gJCgnI2dvLWxpbmsnKTsKICAgICQuYWpheCh7dHlwZTogJ1BPU1QnLCBhc3luYzogdHJ1ZSwgdXJsOiBmb3JtLmF0dHIoJ2FjdGlvbicpLCBkYXRhOiBmb3JtLnNlcmlhbGl6ZSgpLCBkYXRhVHlwZTogJ2pzb24nLCBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7cmVkaXJlY3QoZGF0YS51cmwpO319KTt9IGVsc2UgaWYgKGVsZW1lbnRFeGlzdHMoJyNnby1saW5rJykpIHskKCIjZ28tbGluayIpLnVuYmluZCgpLnN1Ym1pdChmdW5jdGlvbihlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpOyB2YXIgZm9ybSA9ICQodGhpcyk7IHZhciB1cmwgPSBmb3JtLmF0dHIoJ2FjdGlvbicpOyBjb25zdCBwZXNhbiA9IGZvcm0uZmluZCgnYnV0dG9uJyk7IGNvbnN0IG5vdGZvcnNhbGUgPSAkKCIubmF2YmFyLWNvbGxhcHNlLmNvbGxhcHNlIik7IGNvbnN0IGJsb2dnZXIgPSAkKCIubWFpbi1oZWFkZXIiKTsgY29uc3QgcGVtdWxhID0gJCgiLmNvbC1zbS02LmhpZGRlbi14cyIpOwogICAgJC5hamF4KHt0eXBlOiAiUE9TVCIsIHVybDogdXJsLCBkYXRhOiBmb3JtLnNlcmlhbGl6ZSgpLCBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHsgcGVzYW4uYXR0cigiZGlzYWJsZWQiLCAiZGlzYWJsZWQiKTsgJCgnYS5nZXQtbGluaycpLnRleHQoJ0J5cGFzc2VkIGJ5IEJsb2dnZXJwZW11bGEnKTsKICAgIG5vdGZvcnNhbGUucmVwbGFjZVdpdGgoJzxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCAsIGNvbC1tZC0xMiB0ZXh0LWNlbnRlciIgb25jbGljaz0iamF2YXNjcmlwdDogcmV0dXJuIGZhbHNlOyI+PGI+VGhhbmtzIGZvciB1c2luZyBCeXBhc3MgQWxsIFNob3J0bGlua3MgU2NyaXB0cyBhbmQgZm9yIERvbmF0aW9ucyAsIFJlZ2FyZHMgOiBCbG9nZ2VycGVtdWxhPC9iPjwvYnV0dG9uPicpOwogICAgYmxvZ2dlci5yZXBsYWNlV2l0aCgnPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0ICwgY29sLW1kLTEyIHRleHQtY2VudGVyIiBvbmNsaWNrPSJqYXZhc2NyaXB0OiByZXR1cm4gZmFsc2U7Ij48Yj5UaGFua3MgZm9yIHVzaW5nIEJ5cGFzcyBBbGwgU2hvcnRsaW5rcyBTY3JpcHRzIGFuZCBmb3IgRG9uYXRpb25zICwgUmVnYXJkcyA6IEJsb2dnZXJwZW11bGE8L2I+PC9idXR0b24+Jyk7CiAgICBwZW11bGEucmVwbGFjZVdpdGgoJzxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCAsIGNvbC1tZC0xMiB0ZXh0LWNlbnRlciIgb25jbGljaz0iamF2YXNjcmlwdDogcmV0dXJuIGZhbHNlOyI+PGI+VGhhbmtzIGZvciB1c2luZyBCeXBhc3MgQWxsIFNob3J0bGlua3MgU2NyaXB0cyBhbmQgZm9yIERvbmF0aW9ucyAsIFJlZ2FyZHMgOiBCbG9nZ2VycGVtdWxhPC9iPjwvYnV0dG9uPicpO30sIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCwgeGhyKSB7bG9jYXRpb24uaHJlZj1yZXNwZWN0K3Jlc3VsdC51cmw7fX0pO30pO30KICAgIGNvbnN0IGJhcyA9IChoID0+IHsgY29uc3QgcmVzdWx0ID0geyBpc05vdGlmeU5lZWRlZDogZmFsc2UsIHJlZGlyZWN0RGVsYXk6IDAsIGxpbms6IHVuZGVmaW5lZCB9OwogICAgc3dpdGNoIChoLmhvc3QpIHtjYXNlICdiYXMubnVydWwtaHVkYS5vci5pZCc6IGNhc2UgJ3JvdGF0b3IubnVydWwtaHVkYS5zY2guaWQnOiBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdzbicpKSB7CiAgICAgICAgcmVzdWx0LmxpbmsgPSBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpICsgJyZzbj0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdzbicpLnJlcGxhY2UoJyZtPTEnLCAnJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gNTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdzdWJfaWQnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3NpdGVfaWQnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2lwX2FkZHJlc3MnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmc3ViX2lkPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3N1Yl9pZCcpICsgJyZzaXRlX2lkPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NpdGVfaWQnKSArICcmaXBfYWRkcmVzcz0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdpcF9hZGRyZXNzJyk7IHJlc3VsdC5yZWRpcmVjdERlbGF5ID0gdmFsYndhbGw7IHJlc3VsdC5pc05vdGlmeU5lZWRlZCA9IHRydWU7IHJldHVybiByZXN1bHQ7CiAgICB9IGVsc2UgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnWC1BbXotQWxnb3JpdGhtJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1DcmVkZW50aWFsJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1EYXRlJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1TaWduZWRIZWFkZXJzJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1FeHBpcmVzJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdYLUFtei1TaWduYXR1cmUnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmWC1BbXotQWxnb3JpdGhtPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ1gtQW16LUFsZ29yaXRobScpICsgJyZYLUFtei1DcmVkZW50aWFsPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ1gtQW16LUNyZWRlbnRpYWwnKSArICcmWC1BbXotRGF0ZT0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdYLUFtei1EYXRlJykgKyAnJlgtQW16LVNpZ25lZEhlYWRlcnM9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnWC1BbXotU2lnbmVkSGVhZGVycycpICsgJyZYLUFtei1FeHBpcmVzPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ1gtQW16LUV4cGlyZXMnKSArICcmWC1BbXotU2lnbmF0dXJlPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ1gtQW16LVNpZ25hdHVyZScpOyByZXN1bHQucmVkaXJlY3REZWxheSA9IDU7IHJlc3VsdC5pc05vdGlmeU5lZWRlZCA9IHRydWU7IHJldHVybiByZXN1bHQ7CiAgICB9IGVsc2UgaWYgKGgucGF0aG5hbWUgPT09ICcvJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnc3NhJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdpZCcpKSB7CiAgICAgICAgcmVzdWx0LmxpbmsgPSBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpICsgJyZzc2E9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnc3NhJykgKyAnJmlkPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2lkJykucmVwbGFjZSgnJm09MScsICcnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2lkJykpIHsKICAgICAgICByZXN1bHQubGluayA9IGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyAnJmlkPScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2lkJykucmVwbGFjZSgnJm09MScsICcnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2FydGljbGUnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmYXJ0aWNsZT0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdhcnRpY2xlJykucmVwbGFjZSgnJm09MScsICcnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2FudGlib3QnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmYW50aWJvdD0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdhbnRpYm90JykucmVwbGFjZSgnJm09MScsICcnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2NvZGUnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICcmY29kZT0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdjb2RlJykucmVwbGFjZSgnJm09MScsICcnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3ZpZXdlZCcpKSB7CiAgICAgICAgcmVzdWx0LmxpbmsgPSBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpICsgJyZ2aWV3ZWQ9JyArIGguc2VhcmNoUGFyYW1zLmdldCgndmlld2VkJykucmVwbGFjZSgnJm09MScsICcnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLnBhdGhuYW1lID09PSAnL3Nob3J0bGluay5waHAnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnc2wnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICdzbCcgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NsJykucmVwbGFjZSgnJm09MScsICcnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJyMnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKSArICQobG9jYXRpb24pLmF0dHIoJ2hhc2gnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ2Jsb29nZXJzcG9vdC4nKSkge3dpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ2h0dHBzOi8vc29mdGluZGV4LndlYnNpdGUnKyAobG9jYXRpb24uc2VhcmNoKS5zdWJzdHJpbmcoMjgpKTsKICAgIH0gZWxzZSBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCdnb3MyLnVybGNhc2gnKSkge3dpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ2h0dHBzOi8vdXJsY2FzaC5jbGljaycrIChsb2NhdGlvbi5zZWFyY2gpLnN1YnN0cmluZygzMSkpOwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ3RvcGZhdWNldC5jbGljaycpKSB7CiAgICAgICAgcmVzdWx0LmxpbmsgPSBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvdG9wZmF1Y2V0LmNsaWNrLy50ZXN0KHUpKVswXTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSA1OyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0OwogICAgfSBlbHNlIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSkgewogICAgICAgIHJlc3VsdC5saW5rID0gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKS5yZXBsYWNlKCcmbT0xJywgJycpLnJlcGxhY2UoJzxiciAvPicsICcnKTsgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSB2YWxkZWxheTsgcmVzdWx0LmlzTm90aWZ5TmVlZGVkID0gdHJ1ZTsgcmV0dXJuIHJlc3VsdDsgfSBicmVhazsKICAgICAgICBkZWZhdWx0OiBicmVhazt9fSkobmV3IFVSTChsb2NhdGlvbi5ocmVmKSk7CiAgICBpZiAoYmFzKSB7IGNvbnN0IHsgaXNOb3RpZnlOZWVkZWQsIHJlZGlyZWN0RGVsYXksIGxpbmsgfSA9IGJhczsKICAgIGlmIChpc05vdGlmeU5lZWRlZCkgeyBub3RpZnkoYFBsZWFzZSBXYWl0IGEgbW9tZW50IC4uLi4uWW91IHdpbGwgYmUgUmVkaXJlY3RlZCB0byBZb3VyIERlc3RpbmF0aW9uIGluICR7cmVkaXJlY3REZWxheX0gc2Vjb25kc2ApO30KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtsb2NhdGlvbi5ocmVmID0gbGluazt9LCByZWRpcmVjdERlbGF5ICogMTAwMCk7fQogICAgY29uc3QgbCA9IChoID0+IHtjb25zdCBiID0gaC5wYXRobmFtZSA9PT0gJy92ZXJpZnkvJyAmJiAvXlw/KFteJl0rKS8udGVzdChoLnNlYXJjaCk7IGNvbnN0IHAgPSBoLnBhdGhuYW1lID09PSAnL2Jsb2czL3ZlcmlmeS8nICYmIC9eXD8oW14mXSspLy50ZXN0KGguc2VhcmNoKTsKICAgIHN3aXRjaCAoaC5ob3N0KSB7Y2FzZSAnb2tyem9uZS5jb20nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL2d0bGluay5jby8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnZXppbWcuY28nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL2VuZy5lemltZy5jby8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAna2ltby5tYSc6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8vYmxvZy5hZGZsb3ouY28vJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgIGNhc2UgJ2VkdWN1ci5jb20nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL2Jsb2cuZmx5cmFyLmNvbS8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAndGVjbXVuZG8ubmV0JzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9nby5qYWVsaW5rLnVzLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdleGFta2hhdGEuY29tJzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9wbGF5bGluay54eXovJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgIGNhc2UgJ2V4YW1zb2x1dGlvbi5pbic6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8va3Vrc2xpbmNzLnh5ei8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnbXl0b3A1LmNsdWInOiBpZiAoYikgeyBtZXRhKCdodHRwczovL3RlY2huZW1vLnh5ei9ibG9nLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdsZWRpZmhhLmNvbSc6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8vcHJvY2Vzcy5sZWRpZmhhLmNvbS8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnYWR5YnJhbmRzLmluJzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9teXRvcDUuY2x1Yi92ZXJpZnkvPycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdmb3JleHNoYXJlLm5ldCc6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8vc2hvcnR1cmwuc2gycnQuY29tLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd3d3cubG9vdGNhc2gudmlwJzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9hZHMubG9vdGNhc2gudmlwLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd3d3cuYWxsY3J5cHRvdGlwcy5jb20nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL3plbnNob3J0LmNvbS8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnZ2FtZXJmYW5nLmluJzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9mYXV4LmdhbWVyZmFuZy5pbi90ZWNoLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICdlY29ub21pYXJlbGV2YW50ZS5jb20uYnInOiBpZiAoYikgeyBtZXRhKCdodHRwczovL3Nocmlua2dvbGQuY29tLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd0ZWNocmF5emVyLmNvbSc6IGlmIChiKSB7IG1ldGEoJ2h0dHBzOi8vdGVjaHJheXplci5jb20vaW5zdXJhbmNlLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd0ZWVyY2x1Yi5jb20nOiBpZiAoYikgeyBtZXRhKCdodHRwczovL3d3dy5hbGxjcnlwdG90aXBzLmNvbS92ZXJpZnkvPycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd0ZWNoYm95ei54eXonOiBjYXNlICdzdHVkeXN0YXIueHl6JzogaWYgKGIpIHsgbWV0YSgnaHR0cHM6Ly9zaG9ydDJmbHkueHl6LycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICBjYXNlICd6dWJhLmxpbmsnOiBpZiAoL15cLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7IHJldHVybiAnaHR0cHM6Ly9nby56dWJhLmxpbmsvJyArIFJlZ0V4cC4kMTsgfSBicmVhazsKICAgIGNhc2UgJ2ZhdWNldGh1Yi5seSc6IGlmICgvXlwvaHNcL1wvKFteXC9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHtyZXR1cm4gJ2h0dHBzOi8vZ29hZHMubHkvJyArIFJlZ0V4cC4kMTt9YnJlYWs7CiAgICBjYXNlICdjZWtpcC5zaXRlJzogY2FzZSAnd3d3LmNla2lwLnNpdGUnOiBpZiAoL15cL2dvXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgeyBtZXRhKGF0b2IoUmVnRXhwLiQxKSk7fSBicmVhazsKICAgIGNhc2UgJ3NsLmVhc3lzbC5jbGljayc6IGlmICgvXlwvc3RlcDFcLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7cmV0dXJuICdodHRwczovL2Vhc3lzbC5jbGljay8nICsgUmVnRXhwLiQxO31icmVhazsKICAgIGNhc2UgJ3d3dy5naWZhbnMuY29tJzogaWYgKC9eXC9saW5rXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9zaG9ydGxpbmsucHJ6LnB3LycgKyBSZWdFeHAuJDE7fWJyZWFrOwogICAgY2FzZSAnem9uZWFybi5iaXonOiBpZiAoL15cLyguKykvLnRlc3QoaC5wYXRobmFtZSkgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd0b2snKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXQoJ3RvaycpO31icmVhazsKICAgIGNhc2UgJ251bGxlZHNhZmUuY29tJzogaWYgKC9eXC9saW5rXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9nb2xpbmsubnVsbGVkc2FmZS5jb20vJyArIFJlZ0V4cC4kMTt9YnJlYWs7CiAgICBjYXNlICdzdGVwMC5zaG9ydGxpbmtzLmNsaWNrJzogaWYgKC9eXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkgeyByZXR1cm4gJ2h0dHBzOi8vc2hvcnRsaW5rcy5jbGljay8nICsgUmVnRXhwLiQxOyB9IGJyZWFrOwogICAgY2FzZSAnbS5rb25ndXRvZGF5LmNvbSc6IGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdzYWZlJykpIHsgbWV0YShhdG9iKGguc2VhcmNoUGFyYW1zLmdldCgnc2FmZScpKSk7fSBicmVhazsKICAgIGNhc2UgJ2NyeXB0by1mYXVjZXQueHl6JzogaWYgKC9eXC9iaXRjb1wvbGlua1wvKFteXC9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHtyZXR1cm4gJ2h0dHBzOi8vZG9jdG9yLWdyb3Vwcy5jb20vbGluay8nICsgUmVnRXhwLiQxO31icmVhazsKICAgIGNhc2UgJ3d3dy5tZXlrbWVuLmNvbSc6IGlmIChoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpKSB7cmV0dXJuICdodHRwczovL2FyYWJwbHVzMi5jby8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKS5zdWJzdHJpbmcoMjIpO30gYnJlYWs7CiAgICBjYXNlICdob3Jyb3JiaXRjb2luLmNvbSc6IGlmIChoLnNlYXJjaFBhcmFtcy5oYXMoJ2RleCcpKSB7IG1ldGEoJ2h0dHBzOi8vcGFueWxpbmsuY29tLy8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdkZXgnKS5zdWJzdHJpbmcoMSkpO30gYnJlYWs7CiAgICBjYXNlICdmcm9nZ3lyZXZpZXdzLmNvbSc6IGlmIChoLnNlYXJjaFBhcmFtcy5oYXMoJ21mbGluaycpKSB7IG1ldGEoJ2h0dHBzOi8vZnJvZ2d5cmV2aWV3cy5jb20vZ28vJyArIGguc2VhcmNoUGFyYW1zLmdldCgnbWZsaW5rJykpO30gYnJlYWs7CiAgICBjYXNlICd0ZWNobW9keS5pbyc6IGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdjaGVjaycpKSB7IG1ldGEoZGVjb2RlVVJJQ29tcG9uZW50KGguc2VhcmNoUGFyYW1zLmdldCgnY2hlY2snKSkpO30gYnJlYWs7CiAgICAvL2Nhc2UgJ3N0dWR5dW8uY29tJzogaWYgKGgucGF0aG5hbWUgPT09ICcvcHJvMi92ZXJpZnkvJyAmJiAvXlw/KFteJl0rKS8udGVzdChoLnNlYXJjaCkpIHsgbWV0YSgnaHR0cHM6Ly9jc2QueG1vZC5pbi8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAneG1vZC5pbic6IGlmIChoLnBhdGhuYW1lID09PSAnL2Jsb2cvdmVyaWZ5LycgJiYgL15cPyhbXiZdKykvLnRlc3QoaC5zZWFyY2gpKSB7IG1ldGEoJ2h0dHBzOi8vbXl0b3A1LmNsdWIvdmVyaWZ5Lz8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnYmluZ2VmbGl4Lnh5eic6IGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdsaW5rJykpIHttZXRhICgnaHR0cHM6Ly9saW5reWVhcm4uY29tLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2xpbmsnKSk7fWJyZWFrOwogICAgY2FzZSAnaG9zdGluZzRsaWZldGltZS5jb20nOiBpZiAoaC5wYXRobmFtZSA9PT0gJy9ibG9nL3ZlcmlmeS8nICYmIC9eXD8oW14mXSspLy50ZXN0KGguc2VhcmNoKSkgeyBtZXRhKCdodHRwczovL2FiY3Nob3J0LmNvbS8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgY2FzZSAnYWNvcnRhbWUueHl6JzogaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7bG9jYXRpb24uaHJlZiA9Imh0dHBzOi8vcm90YXRvci5udXJ1bC1odWRhLnNjaC5pZC8/dXJsPSIrKGF0b2Iod2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpKSk7fSBicmVhazsKICAgIGNhc2UgJ2Jsb2cudGV4dHBhZ2UueHl6JzogaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnYWpodmdhZGhkaGdrZHN2a2QnKSkgeyBtZXRhKCdodHRwczovL3Nob3J0LnVybDJnby5pbi8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdhamh2Z2FkaGRoZ2tkc3ZrZCcpKTt9IGJyZWFrOwogICAgY2FzZSAnZ2FkZ2V0cy50ZWNoeW1lZGllcy5jb20nOiBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygndG9rZW4nKSkgeyBtZXRhKCdodHRwczovL2Jsb2cuZGlzaGV5ZS5jb20vJyArIGguc2VhcmNoUGFyYW1zLmdldCgndG9rZW4nKSk7fSBicmVhazsKICAgIGNhc2UgJ3Nob3J0LmNsaWNrc2NvaW4uY29tJzogY2FzZSAnd2F0Y2hkb2dlLnh5eic6IGNhc2UgJ2RvZ2VjbGljay5uZXQnOiBpZiAoL15cL2Njc2xcLyhbXi9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHtyZXR1cm4gJ2h0dHBzOi8vY2NzbC54eXovJyArIFJlZ0V4cC4kMTt9YnJlYWs7CiAgICBjYXNlICdqcmxpbmtzLmluJzogaWYgKGgucGF0aG5hbWUgPT09ICcvc2FmZTIucGhwJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2xpbmsnKSkgeyBtZXRhKCdodHRwczovL2ludGVybmV0LndlYmhvc3Rpbmd0aXBzLmNsdWIvJyArIGguc2VhcmNoUGFyYW1zLmdldCgnbGluaycpKTt9IGJyZWFrOwogICAgY2FzZSAnY3JhenlibG9nLmluJzogY2FzZSAnd3d3LmNyYXp5YmxvZy5pbic6IGlmIChoLnBhdGhuYW1lID09PSAnL3hob2QvdmVyaWZ5LycgJiYgL15cPyhbXiZdKykvLnRlc3QoaC5zZWFyY2gpKSB7IG1ldGEoJ2h0dHBzOi8vcmVkZC5jcmF6eWJsb2cuaW4vJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgIGNhc2UgJ2Jsb2cudXJsYmhhcmF0Lnh5eic6IGlmIChoLnBhdGhuYW1lID09PSAnL3NhZmUucGhwJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2xpbmsnKSkgeyByZXR1cm4gJ2h0dHBzOi8vZ2V0LnVybGJoYXJhdC54eXovc2FmZS5waHA/bGluaz0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdsaW5rJyk7fSBicmVhazsKICAgIGNhc2UgJ3Nob3J0MmZseS54eXonOiBjYXNlICdjYnNob3J0LmNvbSc6IGlmICggaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSAmJiBoLmhyZWYuaW5jbHVkZXMoJ2Jsb29nZXJzcG9vdC4nKSApIHt3aW5kb3cubG9jYXRpb24uYXNzaWduKCdodHRwczovL3NvZnRpbmRleC53ZWJzaXRlJysgKGxvY2F0aW9uLnNlYXJjaCkuc3Vic3RyaW5nKDE0NykpO30gYnJlYWs7CiAgICBjYXNlICdkb2dlY2xpY2submV0JzogaWYgKC9eXC9zaG9ydFwvKFteL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9zaG9ydC5jbGlja3Njb2luLmNvbS8nICsgUmVnRXhwLiQxO30gZWxzZSBpZiAoL15cL2Njc2xcLyhbXi9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHtyZXR1cm4gJ2h0dHBzOi8vY2NzbC54eXovJyArIFJlZ0V4cC4kMTt9YnJlYWs7CiAgICBjYXNlICdjbGlja3Njb2luLmNvbSc6IGlmICgvXlwvc2hvcnRcLyhbXi9dKykvLnRlc3QoaC5wYXRobmFtZSkpIHsgcmV0dXJuICdodHRwczovL3Nob3J0LmNsaWNrc2NvaW4uY29tLycgKyBSZWdFeHAuJDE7fSBlbHNlIGlmICgvXlwvc2hvcnRjY3NsXC8oW14vXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7IHJldHVybiAnaHR0cHM6Ly9jY3NsLnh5ei8nICsgUmVnRXhwLiQxO30gYnJlYWs7CiAgICBjYXNlICdibG9nLmNyYXp5YmxvZy5pbic6IGlmICgvXlwvc3RlcFxkKz9cLyhbXi9dKykkLy50ZXN0KGgucGF0aG5hbWUpKSB7cmV0dXJuICdodHRwczovL3dwbGluay5vbmxpbmUvJyArIFJlZ0V4cC4kMTt9IGVsc2UgaWYgKC9eXC92aXNpdFxkKz9cL3N0ZXBcZCs/XC8oW14vXSspJC8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9jYmxpbmsuY3JhenlibG9nLmluLycgKyBSZWdFeHAuJDE7fWJyZWFrOwogICAgY2FzZSAnYW5pbWUuZHV0Y2h5Y29ycC5zcGFjZSc6IGNhc2UgJ21vdmllcy5kdXRjaHljb3JwLnNwYWNlJzogY2FzZSAndGVjaC5kdXRjaHljb3JwLnNwYWNlJzogY2FzZSAnY29vbC10aW1lLmR1dGNoeWNvcnAuc3BhY2UnOiBpZiAoL15cL3JlZGlyW14uXSs/XC5waHAkLy50ZXN0KGgucGF0aG5hbWUpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnY29kZScpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldCgnY29kZScpICsgJz92ZXJpZj0wJzt9YnJlYWs7CiAgICBjYXNlICdraWl3LmljdSc6IGlmIChoLnBhdGhuYW1lID09PSAnL2NoZWNrLnBocCcgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdhbGlhcycpJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd3aXMnKSYmIGguc2VhcmNoUGFyYW1zLmhhcygnc2l3JykpeyByZXR1cm4gJ2h0dHBzOi8va2lpdy5pY3UvJyArIGguc2VhcmNoUGFyYW1zLmdldCgnYWxpYXMnKSsgJz93aXM9JyArIGguc2VhcmNoUGFyYW1zLmdldCgnd2lzJykrICcmc2l3PScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NpdycpO30gYnJlYWs7CiAgICBjYXNlICdsczJlYXJuLmluJzogaWYgKCBoLnNlYXJjaFBhcmFtcy5oYXMoJ3VybCcpICYmIGguaHJlZi5pbmNsdWRlcygnYmxvb2dlcnNwb290LicpICkge3dpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ2h0dHBzOi8vc29mdGluZGV4LndlYnNpdGUnKyAobG9jYXRpb24uc2VhcmNoKS5zdWJzdHJpbmcoMTMwKSk7fSBlbHNlIGlmIChoLnNlYXJjaFBhcmFtcy5oYXMoJ2FwaScpICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKTt9IGJyZWFrOwogICAgY2FzZSAnbHMyZWFybi5jb20nOiBjYXNlICdiZXN0dXJsLmxpbmsnOiBpZiAoIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCdibG9vZ2Vyc3Bvb3QuJykgKSB7d2luZG93LmxvY2F0aW9uLmFzc2lnbignaHR0cHM6Ly9zb2Z0aW5kZXgud2Vic2l0ZScrIChsb2NhdGlvbi5zZWFyY2gpLnN1YnN0cmluZygxNDQpKTt9IGVsc2UgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnYXBpJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpO30gYnJlYWs7CiAgICBjYXNlICdiaXJkdXJscy5jb20nOiBjYXNlICdsaW5rcmV4Lm5ldCc6IGNhc2UgJ3NvZnRpbmRleC53ZWJzaXRlJzogY2FzZSAnZGFzaC1mcmVlLmNvbSc6IGNhc2UgJ293bGxpbmsubmV0JzogY2FzZSAnZXhlLmlvJzogaWYgKGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluZGV4T2YoJyMnKSkgeyByZXR1cm4gJ2h0dHBzOi8vJyArIGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyBoLmhyZWYuc3Vic3RyKGguaHJlZi5pbmRleE9mKCcjJykpOyB9IGVsc2UgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnYXBpJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpO30gYnJlYWs7CiAgICBjYXNlICd1c2FsaW5rLmlvJzogY2FzZSAnY2xrcy5wcm8nOiBpZiAoIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCdibG9vZ2Vyc3Bvb3QuJykgKSB7d2luZG93LmxvY2F0aW9uLmFzc2lnbignaHR0cHM6Ly9zb2Z0aW5kZXgud2Vic2l0ZScrIChsb2NhdGlvbi5zZWFyY2gpLnN1YnN0cmluZygyMTkpKTt9IGVsc2UgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluY2x1ZGVzKCdtaW5lc2hvci4nKSkge3JldHVybiAnaHR0cHM6Ly8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKTt9IGVsc2UgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykgJiYgaC5ocmVmLmluZGV4T2YoJyMnKSkgeyByZXR1cm4gJ2h0dHBzOi8vJyArIGguc2VhcmNoUGFyYW1zLmdldCgndXJsJykgKyBoLmhyZWYuc3Vic3RyKGguaHJlZi5pbmRleE9mKCcjJykpOyB9IGVsc2UgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnYXBpJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpO30gYnJlYWs7CiAgICBkZWZhdWx0OiBicmVhazt9IH0pKG5ldyBVUkwobG9jYXRpb24uaHJlZikpOyBpZiAobCkge2xvY2F0aW9uLmhyZWYgPSBsOyB9CiAgICBsZXQgYXBpQnlwYXNzVmlwID0ge3NlbGVjdG9yczogWycjc3RlcGlkJywgJy5sb2NrZWQnLCAnI3N0ZXBzJywgJyNsaW5rJywgJyN0YXJnZXRidG4nLCAnI3RoZUxpbmtJRCcsICcubG9ja2VkLWJ1dHRvbiddLAogICAgcmU6IC9tYm9vc3RcLm1lfGxldHNib29zdFwubmV0fHNvY2lhbC11bmxvY2tcLmNvbXxib29zdG1lXC5saW5rfHN1YjJ1bmxvY2tcLm5ldHxzdWIydW5sb2NrXC5jb20vLH07CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFwaUJ5cGFzc1ZpcC5zZWxlY3RvcnMubGVuZ3RoOyBpKyspIHtCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYShhcGlCeXBhc3NWaXAucmUsIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKGFwaUJ5cGFzc1ZpcC5zZWxlY3RvcnNbaV0pKSB7ZmV0Y2goJ2h0dHBzOi8vYXBpLmJ5cGFzcy52aXAvJyx7ImhlYWRlcnMiOiB7ImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsIngtcmVxdWVzdGVkLXdpdGgiOiJYTUxIdHRwUmVxdWVzdCJ9LCJib2R5IjpuZXcgVVJMU2VhcmNoUGFyYW1zKHt1cmw6ZG9jdW1lbnQuVVJMfSksIm1ldGhvZCI6IlBPU1QiLH0pLnRoZW4ocmVzPT5yZXMuanNvbigpKS50aGVuKHJlcz0+e2lmKHJlcy5zdGF0dXMhPT0ic3VjY2VzcyIpIHtyZWRpcmVjdChyZXMuZGVzdGluYXRpb24pO319KTt9fSk7fQogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL291by50b2RheS8sIGZ1bmN0aW9uKCkge2xvY2F0aW9uLmhyZWYgPSBuZXh0VXJsO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3lvc2hhcmUubmV0LywgZnVuY3Rpb24oKSB7IGJwKCcjeXVpZGVhJykuc3VibWl0KCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hhcmVtb2RzLmNvbS8sIGZ1bmN0aW9uKCkgeyAkKCcjZEZvcm0nKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cGxvYWQuZWUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2RfbCcsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NwZWN4Lm1lLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idXR0JywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdG1rZXIuY29tLywgZnVuY3Rpb24oKSB7IGJwKCcjc3VibWl0X2ZpcnN0X3BhZ2UnKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wcnguZWUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2ZpbmFsX2xpbmsnLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8xaW5rLmNjLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNjb3VudGluZ2J0bicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwLWxvYWQub25lLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNzdWJtaXRidG4nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tYWtlbW9uZXl3aXRodXJsLmNvbS8sIGZ1bmN0aW9uKCkgeyBicCgnI2hpZGRlbiBmb3JtJykuc3VibWl0KCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGp4bWF6YS5pbi8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjd2FpdDFidXR0b24nLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ldm9sb2FkLmlvLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNnZW5lcmF0ZWJ0bicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NyeXB0b3NoLnByby8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjRWFybkJ1dHRvbicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2tlZXBsaW5rcy5vcmcvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2J0bmNoYW5nZScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RoZWNvbm9teS5tZS8sIHsnLyc6IFsnbGluaycsICdodHRwczovL2xpbmsudGhlY29ub215Lm1lLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wdW55YWJsb2cubXkuaWQvLCB7Jy9zYWZlLnBocCc6IFsnbGluaycsICdodHRwczovL3E4Yy54eXovJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21rb21zZWwuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNkb3dubG9hZGZpbGUnLCAxMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZHJvcC5kb3dubG9hZC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLWRvd25sb2FkJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvamFyZGltYS5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1wcmltYXJ5LmJ0bicsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3BsYXlzdG9yZS5wdy8sIGZ1bmN0aW9uKCkgeyAkKCcuY29sLW1kLSA+IGZvcm06bnRoLWNoaWxkKDEpJykuc3VibWl0KCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMXNob3J0bGluay5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI3JlZGlyZWN0LWxpbmsnLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9maWxlLXVwbG9hZC5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2Rvd25sb2FkLWJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21pcnJvcmVkLnRvLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5sYXJnZXIuc2Vjb25kYXJ5JywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZm9yZXgtdHJuZC5jb218Z2F3Ym5lLmNvbS8sIGZ1bmN0aW9uKCkgeyBicCgnI2V4Zm9hcnktZm9ybScpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21vZGViYWNhLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLXN1Y2Nlc3MuYnRuJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbW9kc2ZpcmUuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5kb3dubG9hZC1idXR0b24nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zYWhpdHl0LmNvbS8sIHsnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL2dvb2dsZS52MmxpbmtzLmNvbS8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGRkcml2ZS5tZS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLW91dGxpbmUtcHJpbWFyeScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21lZGlwb3N0Lm9yZy8sIHsnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwOi8vbGlua3MubWVkaXBvc3Qub3JnLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC92aWRlb2x5cmljcy5pbi8sIHsnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwOi8vc2VyMy5jcmF6eWJsb2cuaW4vJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2phbWVlbHRpcHMudXMvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2NvbnRpbnVlX2J1dHRvbl8xJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYW50b25pbW9zLmRlLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNjYnQnLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWNoeWFkamVjdGl2ZXMuY29tLywgeycvY2hlY2svJzogW1JleEJwLCAnaHR0cHM6Ly9kZW1vLnB2aWRseS5pbi8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXNlcnNkcml2ZS5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1kb3dubG9hZC5idG4nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wb3N0LmNvcHlkZXYuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tc3VjY2Vzcy5idG4nLCA2KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cHBpdC5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1wcmltYXJ5LmJ0bi14bC5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9rcmFrZW5maWxlcy5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmRvd25sb2FkLW5vdy10ZXh0JywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ28uaW5zdXJnbG9iYWwueHl6LywgeycvJzogWydsaW5rJywgJ2h0dHBzOi8vbGluay5pbnN1cmdsb2JhbC54eXovJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fkc3kucHd8bGlua3BheS5jY3x3aS5jcnxwbmR4LmxpdmUvLCBmdW5jdGlvbigpIHsgYnAoJyNsaW5rLXZpZXcnKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5lZ2VlLm5ldC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLXhzLmJ0bi1wcmltYXJ5LmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3ppcHB5c2hhcmUuY29tfGZpbGVkbS5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2RsYnV0dG9uJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmlsZGlyaW0uaW58YmlsZGlyaW0uZXUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2J0blBlcm1pc3Npb24nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91c2Vyc2Nsb3VkLmNvbXxkb3N5YS5jby8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjYnRuX2Rvd25sb2FkJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaGV4dXBsb2FkLm5ldC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLXN1Y2Nlc3MuYnRuLWxnLmJ0bicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NvbGlkZmlsZXMuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tc20uYnRuLXByaW1hcnkuYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmF1Y2V0cGF5LmlvLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tYmxvY2suYnRuLXByaW1hcnkuYnRuJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ2V0LnVybGJoYXJhdC54eXovLCB7Jy9zYWZlLnBocCc6IFsnbGluaycsICdodHRwczovL3ZpZGVvLmVhcm5zcGFjZS5pbi8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaW5zdXJhbmNlLXNwYWNlLnh5ei8sIHsnLyc6IFsnbGluaycsICdodHRwczovL2xpbmsuaW5zdXJhbmNlLXNwYWNlLnh5ei8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGFpbHl1cGxvYWRzLm5ldC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuaW5uZXIgPiBhOm50aC1jaGlsZCg5KScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZpbGVzLmltLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tZG93LmJ0bicsIDIpO2JwKCcjRjEnKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jb29rbGlrZS5pbmZvfG1vZGVsLXRhcy10ZXJiYXJ1LmNvbS8sIHsnLyc6IFsnbGluaycsICdodHRwczovL3lvdXNtLmxpbmsvJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xldHMuNWdldC5uZXQvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmp1bXBfbGluayA+IGE6bnRoLWNoaWxkKDEpJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3Nob3J0Lm9yZy8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcudGltZXIucmVkaXJlY3QnLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tZWdhdXB0by5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2RpcmVjdF9saW5rID4gYTpudGgtY2hpbGQoMSknLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kZWxpc2h3ZWxsLmNvbXxhcnRpc2tpbmkuY29tLywgeycvJzogWydsaW5rJywgJ2h0dHBzOi8vbGluay5wYWlkNGxpbmsubmV0LyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90aW55dXJsLnNvLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4uYnRuLXNlY29uZGFyeScsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RvdXBsb2Fkcy5uZXQvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1wcmltYXJ5LmJ0bi1sZy5idG4tYmxvY2suYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGFrZW0uY298dGhlbW9ybmluZ3RyaWJ1bmUuY29tLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vcHVzaC5iZG5ld3N4LmNvbS8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaW5mb3JtYXhvbmxpbmUuY29tfGdhbWlucGxheS5jb20vLCB7Jy8nOiBbJ2xpbmsnLCAnaHR0cHM6Ly9nby5hZHNsaW5rZmx5Lm9ubGluZS8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd2ViaG9zdGluZ3RpcHMuY2x1Yi8sIHsnL3NhZmUucGhwJzogWydsaW5rJywgJ2h0dHBzOi8vanJsaW5rcy5pbi9zYWZlMi5waHA/bGluaz0nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGl0ZWNvaW4uaG9zdHxza2lwYWRzLmNsaWNrLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyN3QnRuJywgMywgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcG9uc2VsaGFyaWFuLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjbGluay12aWV3JykpIHt3aW5kb3cuc2Nyb2xsVG8oMCw5OTk5KTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbXA0dXBsb2FkLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjdG9kbCcsIDIpOyQoImZvcm1bbmFtZT0nRjEnXSIpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlY2hyZm91ci5jb218dmVnYW5hbC5jb3x2ZWdhbmhvLmNvLywgeycvZ28vJzogW1JleEJwLCAnaHR0cHM6Ly9wdXNoLmJkbmV3c3guY29tLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rZXJsb2FkLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCIjZG93bmxvYWQgZm9ybSBpbnB1dFtpZD0nYnV0dG9uMSddIiwgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXllbGFkcy5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1ibC5idG4tcHJpbWFyeS5idG4nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9rYXJ5YXdhbi5jby5pZC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdidXR0b24jYnRuLmJnLWJsdWUtMTAwLnRleHQtYmx1ZS02MDAnLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hZGZvYy51cy8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjc2tpcCcpKSB7bGV0IGFkZiA9IGJwKCcuc2tpcCcpLmhyZWY7cmVkaXJlY3QoYWRmKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd3Auc2VraWxhc3Rla25vLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdkaXYgPiBkaXYgPiBidXR0b24nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9sZXRzdXBsb2FkLmlvLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2J1dHRvbi5idG4uYnRuLS1wcmltYXJ5LnR5cGUtLXVwcGVyY2FzZScsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NhbWEtcHJvLmNvbXxtaWtsNGZvcmV4LmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJ2Ejc3VibWl0QnRuJywgc21wYiA9PiByZWRpcmVjdChzbXBiLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2luZm9ybWF4b25saW5lLmNvbXxnYW1pbnBsYXkuY29tLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vZ28uYWRzbGlua2ZseS5vbmxpbmUvJ10sfSwgZmFsc2UpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xhcmdlc3RwYW5lbC5pbnxlYXJubWUuY2x1Ynx1c2FuZXdzdG9kYXkuY2x1Yi8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjdHAtc25wMicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2hlYWxkYWQuY29tfGdhbWFsay1zZWhldGsuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5zdWJtaXRCdG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hc3NldHRvd29ybGQuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy50ZXh0LWNhcGl0YWxpemUuYnRuLW91dGxpbmUtc3VjY2Vzcy5idG4nLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jaG9veW9taS5jb218YmxvZ21hZG8uY29tLywgKCkgPT4gd2FpdEZvckVsbSgiLmdldC1saW5rID4gYTpudGgtY2hpbGQoMSkiLCBjaG8gPT4gcmVkaXJlY3QoY2hvLmhyZWYpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmVzdGZvbnRzLnByby8sICgpID0+IHdhaXRGb3JFbG0oIi5kb3dubG9hZC1mb250LWJ1dHRvbiA+IGE6bnRoLWNoaWxkKDEpIiwgcHJvID0+IHJlZGlyZWN0KHByby5ocmVmKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2N1dHQubmV0fGN1dC15Lm5ldHxjdXR0eS5hcHAvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI3N1Ym1pdC1idXR0b24nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kb2NzLmdvb2dsZS5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI3VjLWRsLWljb24nKSkge2JwKCcjZG93bmxvYWRGb3JtJykuc3VibWl0KCk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd29ya3VwbG9hZC5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI2Rvd25sb2FkJykpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1wcmlvLmJ0bicsIDIpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWNodXMud2Vic2l0ZS8sIGZ1bmN0aW9uKCkgeyAkKCcuY29kZS1ibG9jay00LmNvZGUtYmxvY2sgPiBmb3JtJykuc3VibWl0KCk7JCgnLnRvcG5hdiA+IGZvcm0nKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9rYWx2aWR1ZGVzLmlufHRlY2h3aXRoc2FuaWthbnQuaW4vLCAoKSA9PiB3YWl0Rm9yRWxtKCdkaXYjZ2V0bGlua2J0biBjZW50ZXIgYScsIGthbHYgPT4gcmVkaXJlY3Qoa2Fsdi5ocmVmKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzFsaW5rLmNsdWIvLCBmdW5jdGlvbigpIHskKCJhW3RhcmdldD0nX2JsYW5rJ10iKS5yZW1vdmVBdHRyKCJ0YXJnZXQiKTtjbGlja0lmRWxlbWVudEV4aXN0cygnI2Rvd25sb2FkJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvemVndHJlbmRzLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZ28nLCAzKTtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJzdWInLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9mb3JleC1hcnRpY2xlcy5jb218Zm9yZXhsYXAuY29tfGZvcmV4bWFiLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcub3RvID4gYTpudGgtY2hpbGQoMSknLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hdXRvbW90dXIuY2x1YnxzYW5veWJvbml0by5jbHViLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScsIDMpO2JwKCcjcGFnZTInKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cGxvYWRoYXZlbi5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmFsZXJ0ID4gYTpudGgtY2hpbGQoMSknLCAyKTticCgnI2Zvcm0tZG93bmxvYWQnKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cGZpbGVzLmFwcHxjdXQteS5jby8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjY2FwdGNoYURvd25sb2FkJykpIHt9ZWxzZXticCgnZm9ybS50ZXh0LWNlbnRlcicpLnN1Ym1pdCgpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9weXRob25kdW55YXNpLmNvbS8sICgpID0+IHdhaXRGb3JFbG0oIiNjb3VudGRvd24zID4gc3BhbjpudGgtY2hpbGQoMSkgPiBhOm50aC1jaGlsZCgxKSIsIHBpdCA9PiByZWRpcmVjdChwaXQuaHJlZikpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saXRleGJsb2cuY29tLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpKSB7fWVsc2V7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5iZy1wcmltYXJ5LmJ0bicsIDUpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rc3B5LmNjLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5za2lwQnV0dG9uJykpIHtsZXQgbHNwID0gYnAoJy5za2lwQnV0dG9uJykuaHJlZjtyZWRpcmVjdChsc3AsIGZhbHNlKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmN2Yy54eXp8YmN2Yy5pbmsvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmpzLXNjcm9sbC10cmlnZ2VyLmJ0bi14bC5idG4tb3V0bGluZS5idG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yYWNlZGVwYXJ0bWVudC5jb20vLCBmdW5jdGlvbigpIHskKCJhW3RhcmdldD0nX2JsYW5rJ10iKS5yZW1vdmVBdHRyKCJ0YXJnZXQiKTtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ1dHRvbi0tY3RhJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaHhmaWxlLmNvfGV4LWxvYWQuY29tfG1lZ2FkYi5uZXQvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1kb3cuYnRuJywgMik7YnAoImZvcm1bbmFtZT0nRjEnXSIpLnN1Ym1pdCgpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Rpbnl1cmwuaXMvLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygndWwgPiBsaSA+IGEnKSkge2NvbnN0IGxpbmsgPSBicCgnYVtpZF49bmV3c2tpcC1idG5dJykuaHJlZjtyZWRpcmVjdChsaW5rKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWVnYTR1cC5vcmcvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnaW5wdXQuYnRuLmJ0bi1pbmZvLmJ0bi1zbScsIDIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuYnRuLWRhcmsuYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXBsb2FkZXYub3JnLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNkc3BlZWQgPiBpbnB1dDpudGgtY2hpbGQoMyknLCAxKTsgY2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5kaXJlY3RsJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmF5ZmlsZXMuY29tfGFub25maWxlcy5jb218b3BlbmxvYWQuY2N8bG9sYWJpdHMuc2V8bGV0c3VwbG9hZC5jYy8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjZG93bmxvYWQtdXJsJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZng0dmlwLmNvbS8sIGZ1bmN0aW9uKCkgeyQoImEgI2J1dHRvbjFbZGlzYWJsZWQ9J2Rpc2FibGVkJ10iKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjYnV0dG9uMScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FsdGJsb2dnZXIubmV0LywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5mb3JtLXNlbmQubS0yLmJ0bi1jYXB0Y2hhLmJ0bi1vdXRsaW5lLXByaW1hcnkuYnRuJywgMywgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2F0b3NoaS13aW4ueHl6fHNob3J0ZXJhbGwuY29tfHByb21vLXZpc2l0cy5zaXRlLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5ib3gtbWFpbiA+IGJ1dHRvbjpudGgtY2hpbGQoMyknLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9teW5ld3NtZWRpYS5jby8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjbXlCdG4uY3NzQnRuLm15QnRuJywgMyk7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNueEJ0bi5jc3NCdG4ubnhCdG4nLCA1KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zZW5kLmNtfHJhY2F0eS5uZXR8ZmlsZXMuaW18c2hhcmVtb2RzLmNvbXxjbGlja251cGxvYWQudG98bW9kc2Jhc2UuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNkb3dubG9hZGJ0bicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N1YjJnZXQuY29tLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJyNidXR1bmxvY2snKSkge2xldCBzdWJ0ID0gYnAoJyNidXR1bmxvY2sgPiBhOm50aC1jaGlsZCgxKScpLmhyZWY7cmVkaXJlY3Qoc3VidCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Rha2VmaWxlLmxpbmsvLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI0YxJykpIHticCgnZGl2Lm5vLWd1dHRlcjpudGgtY2hpbGQoMikgPiBmb3JtOm50aC1jaGlsZCgxKScpLnN1Ym1pdCgpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NsYWltY2xpY2tzLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdkaXYuY29sLW1kLTEyOm50aC1jaGlsZCgyKSA+IGZvcm06bnRoLWNoaWxkKDExKSA+IGJ1dHRvbjpudGgtY2hpbGQoNCknLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hYy50b3RzdWdla2kuY29tLywgZnVuY3Rpb24oKSB7JCgiYVt0YXJnZXQ9J19ibGFuayddIikucmVtb3ZlQXR0cigidGFyZ2V0Iik7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tbGcuYnRuLXN1Y2Nlc3MuYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmV4a29taW4ueHl6LywgZnVuY3Rpb24oKSB7JCgiYVt0YXJnZXQ9J19ibGFuayddIikucmVtb3ZlQXR0cigidGFyZ2V0Iik7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tY2FwdGNoYS5idG4tZGFuZ2VyLmJ0bicsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwdG9iaGFpLmluZm98c2hvcnRsaW5rdG8uaW5mb3x1cGxpbmt0by52aXB8YnJidXNoYXJlLmluZm8vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJ0bi1ibG9jay5idG4tcHJpbWFyeS5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaG9ydGl0LnB3LywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5wdWxzZS5idG4tcHJpbWFyeS5idG4nLCA1KTtjbGlja0lmRWxlbWVudEV4aXN0cygnYSNidG4yLmJ0bi5idG4tcHJpbWFyeS5wdWxzZScsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RoZXByaWNlLmJpenxtYXNzaXZlLm15LmlkfGFjdGl2aXR5Lm15LmlkfGNhdmlldy5teS5pZC8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCdhLmJ0bi5idG4tcHJpbWFyeS5tLTIuYnRuLWNhcHRjaGEnLCA2KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cGxvYWQtNGV2ZXIuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoImlucHV0W25hbWU9J21ldGhvZF9mcmVlJ10iLCAyKTtjbGlja0lmRWxlbWVudEV4aXN0cygnI2Rvd25Mb2FkTGlua0J1dHRvbicsIDUpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZpbGVzaGFyZS5hZHNob3J0dXJsLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuZG93bmxvYWQtdGltZXIgPiBhOm50aC1jaGlsZCgxKSA+IHNwYW46bnRoLWNoaWxkKDEpJywgNCwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZXhlZS5hcHB8ZXhlby5hcHAvLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI2JlZm9yZS1jYXB0Y2hhJykpIHsgc2V0VGltZW91dChmdW5jdGlvbigpIHticCgnI2JlZm9yZS1jYXB0Y2hhJykuc3VibWl0KCk7fSwgMjAwMCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzFmaWNoaWVyLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjcGFzcycpKXt9ZWxzZSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tb3JhbmdlLmJ0bi1nZW5lcmFsLm9rJywgMSk7YnAoJy5hbGMnKS5zdWJtaXQoKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd3JpdGVkcm9pZC5ldS5vcmcvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI3Nob3J0UG9zdExpbmsnLCAzKTt3YWl0Rm9yRWxtKCIjc2hvcnRHb1RvTGluayIsIGRybyA9PiByZWRpcmVjdChkcm8uaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yYW5jYWguY29tfG1lbmplbGFqYWhpLmNvbXxzaG9ydGx5Lnh5enxueWF3YW5nLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcuZ2V0LWxpbmsuYnRuLWxnLmJ0bi1zdWNjZXNzLmJ0bicsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Byb3ZpcmFsaG9zdC5jb218ZXhhbXRhZGthLmNvbS8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjd2FpdDFidXR0b24nLCAzKTtjbGlja0lmRWxlbWVudEV4aXN0cygnI3dhaXQyYnV0dG9uJywgNSwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaGVhbGRhZC5jb218Z2FtYWxrLXNlaGV0ay5jb218bmV3Zm9yZXgub25saW5lfGZvcmV4LWdvbGQubmV0fHdvcmxkLXRyaXBzLm5ldHxtb2JpMmMuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5zdWJtaXRCdG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hZHNnby5kaWdpdGFsfG5ld3Nub3diZC5jb218dGVjaHVzLndlYnNpdGUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLm15QnV0dG9uJywgMik7ICQoJy5jb2RlLWJsb2NrLTEuY29kZS1ibG9jayA+IGZvcm0nKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hbm9ueW0ubmluamEvLCBmdW5jdGlvbigpIHt2YXIgZmQgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnLycpLnNsaWNlKC0xKVswXTtyZWRpcmVjdChgaHR0cHM6Ly9hbm9ueW0ubmluamEvZG93bmxvYWQvZmlsZS9yZXF1ZXN0LyR7ZmR9YCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXB0b2JveC5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYS5iaWctYnV0dG9uLWdyZWVuOm50aC1jaGlsZCgxKScsIDIpOyBjbGlja0lmRWxlbWVudEV4aXN0cygnLmRvd25sb2FkLWJ0bicsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL29uLXNjcm9sbC5jb218ZGl1ZGVteS5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmJsb2dfYnRuLnNob3dfYnRuJywgMyk7d2FpdEZvckVsbSgiI25leHQiLCByb2xsID0+IHJlZGlyZWN0KHJvbGwuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jYXNoZWFybi5jY3xiaXRsaW5rcy5wdy8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuaC1jYXB0Y2hhJykgJiYgKCcuZy1yZWNhcHRjaGEnKSkge31lbHNle2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjYnQnLCAzLCAnc2V0SW50ZXJ2YWwnKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3RmbHkubWUvLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHt9ZWxzZXtjbGlja0lmRWxlbWVudEV4aXN0cygnLmZvcm0tc2VuZC5tLTIuYnRuLWNhcHRjaGEuYnRuLW91dGxpbmUtcHJpbWFyeS5idG4nLCAzKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaS1wb2xscy5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYnV0dG9uI2J0bicsIDIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjYW5jaG9yX2J1dHRvbicsIDIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCdhI3NhZmVfbGluaycsIDMwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zdXJhdHJlc21pLmlkLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2J1dHRvbiNobW4uYnRuLW1vcmUnLCAzLCAnc2V0SW50ZXJ2YWwnKTtjbGlja0lmRWxlbWVudEV4aXN0cygnYSNobW4uYnRuLW1vcmUnLDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jsb2ctZm9yYWxsLmNvbS8sIGZ1bmN0aW9uKCl7dmFyIGJ5cGFzc2xpbmtzID0gYXRvYihgYUgke2JwKCIjbGFuZGluZyBbbmFtZT0nZ28nXSIpLnZhbHVlLnNwbGl0KCJhSCIpLnNsaWNlKDEpLmpvaW4oImFIIil9YCk7IHJlZGlyZWN0KGJ5cGFzc2xpbmtzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9vbGFtb3ZpZXMuY3lvdS8sIGZ1bmN0aW9uKCkge2xldCBvbW8gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMV0uaW5uZXJUZXh0LnNwbGl0KCJcbiIpWzhdLnNwbGl0KCIgIilbM10uc3BsaXQoIlwiIilbMV07cmVkaXJlY3Qob21vKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcGthZG1pbi5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLnRleHQgPiBhOm50aC1jaGlsZCg0KSA+IGltZzpudGgtY2hpbGQoMSknLCAxKTticCgnLmRvd25sb2FkLWZpbGUtYnV0dG9uID4gZm9ybTpudGgtY2hpbGQoMSknKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9uZXdzaGFyc2guY29tLywgeycvYm94LW9mZmljZS92ZXJpZnkvJzogW1JleEJwLCAnaHR0cHM6Ly9oci52aWthc2htZXdhZGEuY29tLyddLCcvZW5nbGlzaC92ZXJpZnkvJzogW1JleEJwLCAnaHR0cHM6Ly9jcmF6eWJsb2cuaW4vaGFyc2gvdmVyaWZ5Lz8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd3JpdGVkcm9pZC5pbi8sIGZ1bmN0aW9uKCkge2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjc2hvcnRQb3N0TGluaycsIDUpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcjc2hvd01vZGFsQWRzJywgMyk7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNzaG9ydEdvVG9MaW5rLmJ1dHRvbicsIDUpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Zvc2FuLmNvLywgZnVuY3Rpb24oKSB7JCgiYVt0YXJnZXQ9J19ibGFuayddIikucmVtb3ZlQXR0cigidGFyZ2V0Iik7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5lbGVtZW50b3Itc2l6ZS1sZycsIDIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCcud3BkbS1kb3dubG9hZC1saW5rJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvNHNoYXJlZC5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLmpzRG93bmxvYWRCdXR0b24nLCAyKTtpZiAoZWxlbWVudEV4aXN0cygnLmZyZWVEb3dubG9hZEJ1dHRvbicpKSB7YnAoImZvcm1bbmFtZV49J3JlZGlyZWN0VG9EM0Zvcm0nXSIpLnN1Ym1pdCgpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yaWFkY3J5cHRvLmNvbXxkb25pYTJ0ZWNoLmNvbS8sIGZ1bmN0aW9uKCkge3ZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dwc2FmZWxpbmstbGFuZGluZycpOyByZWRpcmVjdChKU09OLnBhcnNlKGF0b2IoZm9ybS5uZXd3cHNhZmVsaW5rLnZhbHVlKSkubGlua3IpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21vYmkyYy5jb218bmV3Zm9yZXgub25saW5lfHdvcmxkLXRyaXBzLm5ldHxmb3JleC1nb2xkLm5ldHxoZWFsZGFkLmNvbXxnYW1hbGstc2VoZXRrLmNvbXxtb2JpdGFhay5jb20vLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI2dvX2QnLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9lbml0LmlufGNsay5hc2lhfGNsaWNrc2ZseS5jb20vLCBmdW5jdGlvbigpIHt2YXIgbGlua2J5cGFzcyA9IGF0b2IoYGFIJHticCgiI2xpbmstdmlldyBbbmFtZT0ndG9rZW4nXSIpLnZhbHVlLnNwbGl0KCJhSCIpLnNsaWNlKDEpLmpvaW4oImFIIil9YCk7cmVkaXJlY3QobGlua2J5cGFzcyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYnRjcGFueS5jb218em9tYmllYnRjLmNvbXxibG9nLnp1YmF0ZWNuby5jb218bmV3cy5jbGFpbWZleS5jb218YmF0dGxlcm95YWwub25saW5lLywgZnVuY3Rpb24oKSB7JCgnI2xpbmsxcy1mb3JtJykuc3VibWl0KCk7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNuZXh0LXN0ZXAtYnV0dG9uJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd2ViaG9zdGluZ3Bvc3QuY29tLywgZnVuY3Rpb24oKSB7JCgiYVtvbmNsaWNrPSd3aW5kb3cub3BlbiddIikucmVtb3ZlQXR0cigib25jbGljayIpO3dhaXRGb3JFbG0oJ2Ejc3VybC5idG4uYnRuLXNtLm0tMi5idG4tc3VjY2VzcycsIGZjYyA9PiByZWRpcmVjdChmY2MuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kYWdhODgudG9kYXkvLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI3RyYWZmaWMtY291bnRkb3duLTFzJykpIHtjb25zdCBkYWdhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3dyYXBwZXInKTsgZm9yIChjb25zdCBlbGVtZW50IG9mIGRhZ2EpIHtlbGVtZW50LnJlbW92ZSgpO319fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc29sYXJjaGFpbmUuY29tLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJyNjYXB0Y2hhU2hvcnRsaW5rJykpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYnV0dG9uLmJ0bjpudGgtY2hpbGQoNCknLCAyKTt9IGVsc2Uge2JwKCcuYm94LWJvZHkgPiBmb3JtOm50aC1jaGlsZCgyKScpLnN1Ym1pdCgpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yb2RqdWxpYW4uY29tLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJyN0cmFmZmljLWNvdW50ZG93bi0xcycpKSB7Y29uc3Qgcm9qdSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaXRlLWNvbnRlbnQnKTsgZm9yIChjb25zdCBlbGVtZW50IG9mIHJvanUpIHtlbGVtZW50LnJlbW92ZSgpO319fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXBsb2FkcmFyLmNvbXxjaGVkcml2ZS5jb218dXB0b21lZ2EubWUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnLm1uZ2V6LWZyZWUtZG93bmxvYWQnLCAyKTtjbGlja0lmRWxlbWVudEV4aXN0cygnI2RpcmVjdF9saW5rID4gYTpudGgtY2hpbGQoMSknLCAyKTskKCcjZG93bmxvYWRidG4nKS5jbGljaygpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2F6bWF0aC5pbmZvfGF6dHJhdmVscy5uZXR8dGVjaGFjb2RlLmNvbS8sICgpID0+e2lmIChlbGVtZW50RXhpc3RzKCcjbWVnYXVybC12ZXJpZmllZC1jYXB0Y2hhJykpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnYnV0dG9uLmgtY2FwdGNoYScsIDMpO30gZWxzZSB7c3VibWl0KCIjbWVnYXVybC1iYW5uZXItcGFnZSIsIDUpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zdHVkeXVvLmNvbS8sIHsnL3Byby8nOiBbJ2xpbmsnLCAnaHR0cHM6Ly9zaHJpbmtwYXkuY3JhenlibG9nLmluJ10sJy9zaG9ydC92ZXJpZnkvJzogW1JleEJwLCAnaHR0cHM6Ly9yZWRkLmNyYXp5YmxvZy5pbiddLCAnL2Jsb2cvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHBzOi8vc3BlZWR5bmV3cy54eXovdmVyaWZ5Lz8nXSx9LCBmYWxzZSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3JhenlibG9nLmluLywgeyAnL2ZpbmFuY2UvJzogWydsaW5rJywgJ2h0dHBzOi8vc2hyaW5rcGF5LmNyYXp5YmxvZy5pbiddLCcvaGFycy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cHM6Ly9yZWRkLmNyYXp5YmxvZy5pbiddLCAnL2hhcnNoL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL3NlcjMuY3JhenlibG9nLmluLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC85eHVwbG9hZC5hc2lhLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJyNjb250YWluZXIgPiB0YWJsZTpudGgtY2hpbGQoMTUpID4gdGJvZHk6bnRoLWNoaWxkKDEpID4gdHI6bnRoLWNoaWxkKDIpID4gdGQ6bnRoLWNoaWxkKDEpID4gYTpudGgtY2hpbGQoMSknLCAyKTskKCJmb3JtW25hbWU9J0YxJ10iKS5zdWJtaXQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9uYXRoYW5hZWxkYW4ucHJvfGZyZWRkeW9jdGF2aW8ucHJvfGRhdmlzb25iYXJrZXIucHJvLywgZnVuY3Rpb24oKSB7IHZhciB1cmxzID0gbmV3IFVSTChkb2N1bWVudC5VUkwpOyB2YXIgZGVzdCA9IHVybHMuc2VhcmNoUGFyYW1zLmdldCgiZGVzdCIpOyB2YXIgZGVjb2RlZCA9IGRlY29kZVVSSShkZXN0KTtyZWRpcmVjdChkZWNvZGVkKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yZWtvbmlzZS5jb20vLCAoKT0+e2xldCB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7eGhyLm9ubG9hZD0oKT0+cmVkaXJlY3QoSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KS51cmwpO3hoci5vcGVuKCJHRVQiLCJodHRwczovL2FwaS5yZWtvbmlzZS5jb20vdW5sb2NrcyIrbG9jYXRpb24ucGF0aG5hbWUsdHJ1ZSk7eGhyLnNlbmQoKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ibG9nLWV2ZXJ5dGhpbmcuY29tLywgZnVuY3Rpb24oKSB7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJ2J1dHRvbi5idG4uYnRuLXdhcm5pbmcnLCAyKTtpZiAoZWxlbWVudEV4aXN0cygnI19jaV9kJykpIHt3aW5kb3cuc2Nyb2xsVG8oeyBsZWZ0OiAwLCB0b3A6IGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBiZWhhdmlvcjogInNtb290aCIgfSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3dyYmxvZ2dlcnMuY29tLywgKCkgPT4ge2lmIChlbGVtZW50RXhpc3RzKCdkaXYuY29sLXNtLTQnKSl7Y2xpY2tJZkVsZW1lbnRFeGlzdHMoJy5idG4tZGFuZ2VyLmJ0bi1ibG9jay5idG4nLCAyKTt9ZWxzZXt2YXIganUgPSBzZXRJbnRlcnZhbCggKCkgPT4ge2NsaWNrKCIjbmV4dHBhZ2VsaW5rIik7IGNsZWFySW50ZXJ2YWwoanUpO30sMzAwMCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2N1dGluLml0LywgZnVuY3Rpb24oKSB7bGV0IHRpbiA9IFsuLi5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IildLmZpbHRlcihlbGVtID0+IGVsZW0uaW5uZXJUZXh0ICE9PSAiIilbM10uaW5uZXJUZXh0LnNwbGl0KCJcbiIpWzE0XS5zcGxpdCgiICIpWzldLnJlcGxhY2UoIjsiLCAiIikucmVwbGFjZUFsbCgiXCIiLCAiIik7cmVkaXJlY3QodGluKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wbGF5bmFuby5vbmxpbmUvLCBmdW5jdGlvbigpIHtjbGlja0lmRWxlbWVudEV4aXN0cygnI3dhdGNoLWxpbmsnLCAyKTtjbGlja0lmRWxlbWVudEV4aXN0cygnLndhdGNoLW5leHQtYnRuLmJ0bi1wcmltYXJ5LmJ1dHRvbicsIDIpO2NsaWNrSWZFbGVtZW50RXhpc3RzKCdidXR0b24uYnV0dG9uLmJ0bi1wcmltYXJ5LndhdGNoLW5leHQtYnRuJywgNSwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd2lraS10b3BpYS5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHt9ZWxzZXtjbGlja0lmRWxlbWVudEV4aXN0cygiaW5wdXRbc3R5bGVePSdmb250LXdlaWdodDogNzAwJ10iLCAyLCAnc2V0SW50ZXJ2YWwnKTtjbGlja0lmRWxlbWVudEV4aXN0cygiaW5wdXRbc3R5bGVePSdmb250LXdlaWdodDogNTAwJ10iLCAzLCAnc2V0SW50ZXJ2YWwnKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWVkaWFmaXJlLmNvbS8sIGZ1bmN0aW9uKCkge3ZhciBiYXNzOyB2YXIgbWQgPSBmdW5jdGlvbiBjbG9zZVdpbmRvd3MoKXt3aW5kb3cuY2xvc2UoKTsgY2xlYXJJbnRlcnZhbChiYXNzKTt9O3ZhciBtZiA9IGJwKCcuZG93bmxvYWRfbGluayAuaW5wdXQnKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsgY29uc29sZS5sb2cobWYpOyBsb2NhdGlvbi5yZXBsYWNlKG1mKTsgYmFzcyA9IHNldEludGVydmFsKG1kLCAxMDAwICogNSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgveXRzdWJtZS5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLmNvbnQxJykpIHtsZXQgeXRzdWIgPSBicCgiI21zZy1ib3gzLW8gPiBkaXYgPiBkaXYgPiBkaXYuY29sLW1kLTQudGV4dC1jZW50ZXIgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYuY29sLW1kLTguY29sLW1kLW9mZnNldC0yLnRleHQteHMtY2VudGVyID4gZGl2ID4gZGl2ID4gc2NyaXB0IikuaW5uZXJIVE1MLnNwbGl0KCc7JylbN10uc3BsaXQoJz0nKVsxXS5yZXBsYWNlQWxsKCdcJycsICIiKTtyZWRpcmVjdCh5dHN1Yik7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2R1dGNoeWNvcnAuc3BhY2V8ZHV0Y2h5Y29ycC5vdmh8Z3RsaW5rLmNvfGJlaW5ndGVrLmNvbXx6c2hvcnQuY2N8dHdpdG9uZXQuY29tfG1kbi5yZXN0fGFudG9uaW1vcy5kZXxjdGJsLm1lfG9paS5pb3x3b3JkY291bnRlci5pY3V8ZmMtbGMuY29tfG15YXNpZXR2LmNjfHphZ2wuaW4vLCBmdW5jdGlvbigpIHt2YXIgdGlja2VyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsgdHJ5e3dpbmRvdy5ncmVjYXB0Y2hhLmV4ZWN1dGUoKTsgY2xlYXJJbnRlcnZhbCh0aWNrZXIpO30gY2F0Y2goZSkge319LDMwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZhdWNldC53b3JrfHRlY2hsZWFybmluZ3R1YmUuaW58d2lsZGJsb2cubWV8YmxvZ2dpbmdsYXNzLmNvbXx0ZWNobm9mbGlwLmlufGFyYWh0ZWtuby5jb218bW9wYWhlYWx0aC5jb218d2Vsb3ZlY3J5cHRvLnh5enxjcnlwdG8tYmxvZy54eXp8amlvdGVjaC5uZXR8Y3J5cHRvNHR1bi5jb218YWRzaG9ydHVybC5jb218ZGlnaXRhbG5hei5uZXQvLCBmdW5jdGlvbigpIHt2YXIgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPW5ld3dwc2FmZWxpbmtdIik7cmVkaXJlY3QoSlNPTi5wYXJzZShhdG9iKGVsLnZhbHVlKSkubGlua3IpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmt2ZXJ0aXNlLmNvbXxsaW5rdmVydGlzZS5kb3dubG9hZC8sIGZ1bmN0aW9uKCkge3ZhciBsaW5rdmVyID0gbmV3IFhNTEh0dHBSZXF1ZXN0OyBsaW5rdmVyLnJlc3BvbnNlVHlwZSA9ICdqc29uJzsgbGlua3Zlci5vcGVuKCdHRVQnLCBgaHR0cHM6Ly9tYWluLWJ5cGFzcy1zZXJ2ZXIudGsvdjM/JHtkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNsaWNlKDAsLTEpfWAsICEwKTsgbGlua3Zlci5vbmxvYWQgPSBmdW5jdGlvbihuKSB7NCA9PT0gbGlua3Zlci5yZWFkeVN0YXRlICYmIHJlZGlyZWN0KHRoaXMucmVzcG9uc2UuZGVzdGluYXRpb24pO307IGxpbmt2ZXIuc2VuZChudWxsKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kcml2ZS5nb29nbGUuY29tLywgZnVuY3Rpb24oKSB7dmFyIGRnID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJy8nKS5zbGljZSgtMilbMF07aWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdkcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8nKSkge3JlZGlyZWN0KGBodHRwczovL2RyaXZlLmdvb2dsZS5jb20vdS8wL3VjP2lkPSR7ZGd9JmV4cG9ydD1kb3dubG9hZGApLnJlcGxhY2UoJzxiciAvPicsICcnKTt9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdkcml2ZS5nb29nbGUuY29tL3UvMC91Yz9pZCcpKSB7YnAoJyNkb3dubG9hZC1mb3JtJykuc3VibWl0KCk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWRzaG5rLmNvbXxhZHNocmluay5pdC8sICgpID0+IHtsZXQgYWRzaCA9c2V0SW50ZXJ2YWwoKCk9PntpZih0eXBlb2YgX3NoYXJlZERhdGE9PSJvYmplY3QiJiYwIGluIF9zaGFyZWREYXRhJiYiZGVzdGluYXRpb24iaW4gX3NoYXJlZERhdGFbMF0pe2NsZWFySW50ZXJ2YWwoYWRzaCk7ZG9jdW1lbnQud3JpdGUoX3NoYXJlZERhdGFbMF0uZGVzdGluYXRpb24pO3JlZGlyZWN0KGRvY3VtZW50LmJvZHkudGV4dENvbnRlbnQpO31lbHNlIGlmKHR5cGVvZiBfX19yZWFjdGpzRCE9InVuZGVmaW5lZCImJnR5cGVvZiB3aW5kb3dbX19fcmVhY3Rqc0Qub109PSJvYmplY3QiJiZ0eXBlb2Ygd2luZG93W19fX3JlYWN0anNELm9dLmRlc3Q9PSJzdHJpbmciKXtjbGVhckludGVydmFsKGFkc2gpO3JlZGlyZWN0KHdpbmRvd1tfX19yZWFjdGpzRC5vXS5kZXN0KTt9fSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvOTlmYXVjZXQuY29tfHJlYWRpLm9ubGluZXxjZW1wYWthamF5YS5jb218ZnJlZWJpdGNvaW4uZnVufG9ubGluZXRlb3JpLm15LmlkfHh0cmFiaXRzLmNsaWNrfG9ubGluZWluY29tcy5jb218cHVueWFibG9nLm15LmlkfDktYW5pbWllLmNvfHRyaWJ1bmNyeXB0by5jb218Yml0eml0ZS5jb218bml2YXByb2ZpdC54eXp8dmlkZW9jbGlwLmluZm98cHVueWFtZXJrLnRvcHxseWNvc2xpbmsuY29tfGFkdXp6LmNvbXxzb2x0b3NoaW5kby5jb218dGVjaGxlZXRzLnh5enxtb2RkaW5nem9uZS5pbnxjcnlwdG8tZmkubmV0fGNsYWltY3J5cHRvLmNjfG91cmNvaW5jYXNoLnh5enxwb2tldG9vbndvcmxkLmNvbXxzYXBpY2EueHl6fGNodWtzYmxvZy5mdW58YmlvaW5mbHUuY29tfHNvbmljYnRjLmNvbXxoZWFsdGhibG9vZy54eXp8cHViZ3F1b3Rlcy5jb218bS5saW5rbXVtZXQub25saW5lfHdlYjlhY2FkZW15LmNvbXxzdHVkeWlzLnh5enx3ZWJjb2luLmNvaW5yYWluLm9ubGluZS8sIGZ1bmN0aW9uKCl7dmFyIGJ5cGFzc2xpbmsgPSBhdG9iKGBhSCR7YnAoIiNsYW5kaW5nIFtuYW1lPSdnbyddIikudmFsdWUuc3BsaXQoImFIIikuc2xpY2UoMSkuam9pbigiYUgiKX1gKTsgcmVkaXJlY3QoYnlwYXNzbGluaywgZmFsc2UpO30pOwogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZT09KCdzb2x2ZW1lZGlhLmNvbScpICE9IC0xICl7bGV0IFBIUkFTRVM9WyIxLjIxIGdpZ2F3YXR0cyIsIjQgOCAxNSAxNiAyMyA0MiIsIjUgZG9sbGFyIHNoYWtlIiwiNiBmZWV0IG9mIHNub3ciLCI4dGggY2hldnJvbiIsImEgd2lsZCBjYXB0Y2hhIGFwcGVhcnMiLCJhYmVsaWFuIGdyYXBlIiwiYWJpZGUgd2l0aCBtZSIsImFicmFjYWRhYnJhIiwiYWJzZW50IHdpdGhvdXQgbGVhdmUiLCJhYnNvbHV0ZSB6ZXJvIiwiYWNjaWRlbnRhbGx5IG9uIHB1cnBvc2UiLCJhY2Ugb2Ygc3BhZGVzIiwiYWNyb3NzIHRoZSBib2FyZCIsImFkYXB0IGltcHJvdmUiLCJhZGFwdCBpbXByb3ZlIHN1Y2NlZWQiLCJhZ2FpbnN0IHRoZSBncmFpbiIsImFncmVlIHRvIGRpc2FncmVlIiwiYWwgY2Fwb25lIiwiYWxsIGRhbmNpbmciLCJhbGwgZ3Jvd24gdXAiLCJhbGwgb2YgdGhlIGFib3ZlIiwiYWxsIHNpbmdpbmciLCJhbGwgeW91ciBiYXNlIiwiYWxsZXJnaWMgcmVhY3Rpb24iLCJhbG1vc3QgZ290IGl0IiwiYWx3YXlzIHRoZXJlIiwiYW0gaSBoYXBweSIsImFuY2hvcnMgYXdheSIsImFuZCB0aGF0J3MgdGhlIHdheSBpdCBpcyIsImFuZ2VsIGZvb2QiLCJhbm90aGVyIGNhc3RsZSIsImFudGkgZGVudGl0ZSIsImFwcGxlIGp1aWNlIiwiYXBwbGUgcGllIiwiYXBwbGUgc2F1Y2UiLCJhcHJpbCBtYXkiLCJhcHJpbCBzaG93ZXJzIiwiYXJlIHdlIHRoZXJlIHlldCIsImFyZSB5b3UgcmVhZHkiLCJhcmUgeW91IHRoZSBrZXltYXN0ZXIiLCJhcm15IHRyYWluaW5nIiwiYXJteSB0cmFpbmluZyBzaXIiLCJhcm91bmQgaGVyZSIsImFzIGkgc2VlIGl0IiwiYXMgeW91IHdpc2giLCJhc2sgcXVlc3Rpb25zIiwiYXR0aWxhIHRoZSBodW4iLCJhdXRvIGRyaXZpbmciLCJhd2Vzb21lIGR1ZGUiLCJhd2Vzb21lIHNhdWNlIiwiYXpnb3RocyBvZiBrcmlhIiwiYmFiZWwgZmlzaCIsImJhYnkgYmx1ZXMiLCJiYWJ5IGJvb21lciIsImJhYnkgc3RlcHMiLCJiYWNrIHRvIGJhc2ljcyIsImJhY2sgdHJhY2siLCJiYWNrZ3JvdW5kIG5vaXNlIiwiYmFjb24gYW5kIGVnZ3MiLCJiYWQgYm9va3MiLCJiYWQgZWdnIiwiYmFpdCB0aGUgbGluZSIsImJha2VkIGluIGEgcGllIiwiYmFsZCBlYWdsZSIsImJhbGwgb2YgY29uZnVzaW9uIiwiYmFuYW5hIGJyZWFkIiwiYmFuYW5hIHNwbGl0IiwiYmFuYW5hIHN0YW5kIiwiYmFuZ2VycyBhbmQgbWFzaCIsImJhcmJlciBjaGFpciIsImJhcmtpbmcgbWFkIiwiYmFza2V0IGNhc2UiLCJiYXRlZCBicmVhdGgiLCJiYXRoIHRvd2VsIiwiYmF0aCB3YXRlciIsImJhdHRsZSByb3lhbGUiLCJiYXppbmdhIiwiYmUgY2FyZWZ1bCIsImJlIG1pbmUiLCJiZSBteSBmcmllbmQiLCJiZSBuaWNlIiwiYmUgbmltYmxlIGJlIHF1aWNrIiwiYmUgc2VyaW91cyBub3ciLCJiZWFjaCBiYWxsIiwiYmVhbiB0b3duIiwiYmVhbnMgYW5kIHJpY2UiLCJiZWF1dGlmdWwgZnJpZW5kc2hpcCIsImJlZSBsaW5lIiwiYmVlbiB0aGVyZSIsImJlZXIgaW4gYSBib3R0bGUiLCJiZWVyIGluIHRoZSBib3R0bGUiLCJiZWVzIGtuZWVzIiwiYmVnIHRoZSBxdWVzdGlvbiIsImJlbGlldmUgbWUiLCJiZWx0IHVwIiwiYmVybGluIHdhbGwiLCJiZXN0IGZpdCBsaW5lIiwiYmVzdCBzZWxsZXIiLCJiZXR0ZXIgY2FsbCBzYXVsIiwiYmV0dGVyIGhhbGYiLCJiZXR0ZXIgbmV4dCB0aW1lIiwiYmV5b25kIG1lIiwiYmlnIGJyb3RoZXIiLCJiaWcga2FodW5hIGJ1cmdlciIsImJpZyBub3NlIiwiYmlnIHNjcmVlbiIsImJpZ2dlciBpbiB0ZXhhcyIsImJpa2UgcmlkZXIiLCJiaXJkIGNhZ2UiLCJiaXJ0aGRheSBib3kiLCJiaXJ0aGRheSBnaXJsIiwiYml6YXJybyBqZXJyeSIsImJsYWNrIGFuZCB3aGl0ZSIsImJsYWNrIGNvZmZlZSIsImJsYWNrIGdvbGQiLCJibGFjayBqYWNrIiwiYmxhY2sgbW9uZGF5IiwiYmxhaGJsYWhibGFoIiwiYmxhemUgYSB0cmFpbCIsImJsZXNzIHlvdSIsImJsaW5kZWQgYnkgc2NpZW5jZSIsImJsb2cgdGhpcyIsImJsb29kIHR5cGUiLCJibHVlIGNoZWVzZSIsImJsdWUgcmliYm9uIiwiYmx1ZSBza3kiLCJib2IgbG9ibGF3IiwiYm9keSBzdXJmaW5nIiwiYm9pbGVkIGNhYmJhZ2UiLCJib24gdm95YWdlIiwiYm9uZCBqYW1lcyBib25kIiwiYm9uZSBkcnkiLCJib251cyBwb2ludHMiLCJib251cyByb3VuZCIsImJvb2sgcmVhZGluZyIsImJvb2sgd29ybSIsImJvb21lcmFuZyIsImJvcm4gdG8gcnVuIiwiYm90cyBhcmUgYmFkIG0na2F5IiwiYm90dGxlZCB3YXRlciIsImJvd3RpZXMgYXJlIGNvb2wiLCJib3ggamVsbHkgZmlzaCIsImJveCBraXR0eSIsImJveCBvZiBjaG9jb2xhdGVzIiwiYnJhYWFpbnMiLCJicmFuZCBzcGFua2luZyBuZXciLCJicmVhZCBvZiBsaWZlIiwiYnJlYWsgdGhlIGljZSIsImJyaWNrIGhvdXNlIiwiYnJva2VuIGhlYXJ0IiwiYnJva2VuIHJlY29yZCIsImJydWNlIGxlZSIsImJydXNoIHlvdXIgdGVldGgiLCJidWNrbGUgeW91ciBzaG9lIiwiYnVmZmFsbyB3aW5nIiwiYnVubnkgcmFiYml0IiwiYnVyZ2VyIHdpdGggZnJpZXMiLCJidXJuaW5nIG9pbCIsImJ1cm50IHNpZW5uYSIsImJ1dGxlciBkaWQgaXQiLCJidXR0ZXIgc2lkZSBkb3duIiwiYnV0dG9uIGZseSIsImJ1eSBzb21lIHRpbWUiLCJieSBhbmQgbGFyZ2UiLCJieSB0aGUgYm9hcmQiLCJieSB0aGUgYm9vayIsImJ5IHRoZSBzZWFzaG9yZSIsImNhYmJhZ2UgYm9yc2h0IiwiY2FiYmFnZSBzdGV3IiwiY2Flc2FyIHNhbGFkIiwiY2FsbCBtZSIsImNhbGwgbWUgbWF5YmUiLCJjYW4gaSBsb3ZlIiwiY2FuIHlvdSBzZWUiLCJjYW5keSBhcHBsZSIsImNhbmR5IGNhbmUiLCJjYXBpdGFsIGdhaW4iLCJjYXB0Y2hhIGluIHRoZSByeWUiLCJjYXIgdHJvdWJsZSIsImNhcmJvbiBjb3B5IiwiY2FyYm9uIGZvb3RwcmludCIsImNhcmQgc2hhcnAiLCJjYXJkLXNoYXJwIiwiY2FycGUgZGllbSIsImNhcnJ5IGEgdG93ZWwiLCJjYXJyeSBvbiIsImNhcnkgZ3JhbnQiLCJjYXNlIGNsb3NlZCIsImNhdCBnb3QgeW91ciB0b25ndWUiLCJjYXRjaCB0aGUgbWFuIiwiY2F0cyBhbmQgZG9ncyIsImNhdHMgcGFqYW1hcyIsImNoYWlzZSBsb3VuZ2UiLCJjaGFsbGVuZ2UgYWNjZXB0ZWQiLCJjaGFuZ2UgdGhlIHdvcmxkIiwiY2hhbmdlIHlvdXJzZWxmIiwiY2hhbm5lbCBzdXJmaW5nIiwiY2hhcmxleSBob3JzZSIsImNoYXJsaWUgYml0IG1lIiwiY2hhcm0gb2ZmZW5zaXZlIiwiY2hhcm1lZCBsaWZlIiwiY2hlY2sgeW91ciBjb2F0IiwiY2hlY2sgeW91ciB3b3JrIiwiY2hlZXNlIGJ1cmdlciIsImNoZWVzZSBmcmllcyIsImNoZWVzZSBzdGVhayIsImNoZXJyeSBvbiB0b3AiLCJjaGlja2VuIGZlZWQiLCJjaGlja2VuIG5vb2RsZSIsImNoaWNrZW4gc2FsYWQiLCJjaGlja2VuIHNvdXAiLCJjaGluIGJveSIsImNoaXQgY2hhdCIsImNob2NvIGxhemVyIGJvb20iLCJjaG9jb2xhdGUgY29va2llIiwiY2hvY29sYXRlIG1pbGsiLCJjaG93IGRvd24iLCJjaHVjayBub3JyaXMiLCJjaXJjbGUgb2YgbGlmZSIsImNpdmlsIHdhciIsImNsZWFuIGFuZCBzaGlueSIsImNsZWFuIGhhbmRzIiwiY2xlYXIgYmx1ZSB3YXRlciIsImNsZWFyIHNhaWxpbmciLCJjbGljaywgY2xpY2ssIGNsaWNrIiwiY2xpZmYgaGFuZ2VyIiwiY2xvZCBob3BwZXIiLCJjbG9zZSBxdWFydGVycyIsImNsb3VkIG5pbmUiLCJjbG93biBhcm91bmQiLCJjb2ZmZWUgY2FuIiwiY29sZCBjb21mb3J0IiwiY29sZCBmZWV0IiwiY29sZCBoYXQiLCJjb2xkIHNob3VsZGVyIiwiY29sZCB0dXJrZXkiLCJjb2xlc2xhdyIsImNvbGxhYm9yYXRlIGFuZCBsaXN0ZW4iLCJjb2xvcmVkIHBhcGVyIiwiY29tZSBhbG9uZyIsImNvbWUgYWxvbmcgcG9uZCIsImNvbWUgYmFjayIsImNvbWUgY2xlYW4iLCJjb21lIG9uIGRvd24iLCJjb21lIHdoYXQgbWF5IiwiY29tZm9ydCB6b25lIiwiY29tbWEgY29tbWEiLCJjb21tb24gbGF3IiwiY29tcGxleCBudW1iZXIiLCJjb25zdHJ1Y3Rpb24gYWhlYWQiLCJjb29raWUgY3V0dGVyIiwiY29vbCBoZWFkcyBwcmV2YWlsIiwiY29wIGFuIGF0dGl0dWRlIiwiY29yIGJsaW1leSIsImNvcmRvbiBibGV1IiwiY29ybmVkIGJlZWYiLCJjb3R0b24gb24iLCJjb3VudCB5b3VyIGNoYW5nZSIsImNvdW50aW5nIHNoZWVwIiwiY292ZXJlZCBicmlkZ2UiLCJjcmFiIGNha2UiLCJjcmF5b2xhIiwiY3JlYW0gYW5kIHN1Z2FyIiwiY3JlYXRlIG5ldyB0aGluZ3MiLCJjcmVhdGl2ZSBwcm9jZXNzIiwiY3JlYXRpdmUgdmlzaW9uIiwiY3JlZXB5IGNyYXdsZXIiLCJjcmltZSBvZiBwYXNzaW9uIiwiY3JvY29kaWxlIHRlYXJzIiwiY3JvcCB1cCIsImNyb3NzIHRoZSByb2FkIiwiY3Jvc3MgdGhlIHJ1Ymljb24iLCJjdWJpYyBzcGxpbmUiLCJjdWN1bWJlciBzYW5kd2ljaCIsImN1cCBjYWtlIiwiY3VwaWQncyBhcnJvdyIsImN1cmF0ZSdzIGVnZyIsImN1cnJ5IGZhdm91ciIsImN1dCBhbmQgcnVuIiwiY3V0IHRoZSBtdXN0YXJkIiwiZGFsZWsgYXN5bHVtIiwiZGFsbGFzIHRleGFzIiwiZGFuY2UgYWxsIG5pZ2h0IiwiZGFuaXNoIHJvYm90IGRhbmNlcnMiLCJkYXJrIGhvcnNlIiwiZGFzIG9vbnR6IiwiZGF2aWQgYWZ0ZXIgZGVudGlzdCIsImRlYWQgYmF0dGVyeSIsImRlYWQgcmluZ2VyIiwiZGVhbCBtZSBpbiIsImRlYXIgY29va2llIiwiZGVhciBtciB2ZXJub24iLCJkZWFyIHNpciIsImRlZXAgdGhvdWdodCIsImRlZXAgd2F0ZXJzIiwiZGhhcm1hIGluaXRpYXRpdmUiLCJkaWNlZCBvbmlvbiIsImRpZGRseSBzcXVhdCIsImRpZ2l0YWwgY2xvY2siLCJkaW5nIGEgbGluZyIsImRpbm5lciBiZWxsIiwiZGlub3NhdXIgc3BhY2VzaGlwIiwiZGlzaCB3YXRlciIsImRvIGEgbGl0dGxlIGRhbmNlIiwiZG8gYmUgZG8gYmUgZG8iLCJkbyBpdCBub3ciLCJkbyBtb3JlIHNpdHVwcyIsImRvIG5vdCB0b3VjaCIsImRvIG9yIGRvIG5vdCIsImRvIHVudG8gb3RoZXJzIiwiZG8gd2FoIGRpdHR5IiwiZG8geW91IGJlbGlldmUgaW4gbWlyYWNsZXMiLCJkbyB5b3UgbG92ZSBtZSIsImRvY3RvciBjYWxpZ2FyaSIsImRvY3RvciB3aG8iLCJkb2N0b3Igd2hvPyIsImRvZSBhIGRlZXIiLCJkb2cgZGF5cyIsImRvZydzIGJyZWFrZmFzdCIsImRvZydzIGRpbm5lciIsImRvZ2FwdXMiLCJkb2dzIGFuZCBjYXRzIGxpdmluZyB0b2dldGhlciIsImRvbGxhciBiaWxsIiwiZG9sbGFyIHNpZ25zIiwiZG9sbGFycyB0byBkb251dHMiLCJkb21lc3RpYyBzcHlpbmciLCJkb24ndCBiZSBsYXRlIiwiZG9uJ3QgY291bnQgb24gaXQiLCJkb24ndCBkYXdkbGUiLCJkb24ndCBzdG9wIiwiZG9uJ3Qgd2FzdGUgdGltZSIsImRvbmUgdGhhdCIsImRvbmtleSdzIHllYXJzIiwiZG9vZGFoIG1hbiIsImRvdWJsZSBjcm9zcyIsImRvdWJsZSBjcm9zc2VkIiwiZG91YmxlIGR1dGNoIiwiZG91YmxlIGp1bXAiLCJkb3VibGUgcmFpbmJvdyIsImRvdWJsZSB0aW1lIiwiZG91YmxlIHdoYW1teSIsImRvd24gdGhlIGhhdGNoIiwiZG93biB0aGUgcmFiYml0IGhvbGUiLCJkb3dud2FyZCBzbG9wZSIsImRyYWcgcmFjZSIsImRyYWdvbiB3aXRoIG1hdGNoZXMiLCJkcmFnb25mbHkiLCJkcmFtYXRpYyBjaGlwbXVuayIsImRyYXcgYSBibGFuayIsImRyYXdpbmcgYm9hcmQiLCJkcmVhbSBiaWciLCJkcmluayBtaWxrIiwiZHJpdmUgbWUgdG8gZmlyZW56ZSIsImRyb3AgdGFibGUgdXNlcnMiLCJkcnVtaGVhZCIsImRydW1tZXIgYm95IiwiZHJ5IGNsZWFuIG9ubHkiLCJkdWVsaW5nIGJhbmpvcyIsImR1c2sgdGlsbCBkYXduIiwiZHVzdCBidW5ueSIsImR1c3QgdXAiLCJkdXZldCBkYXkiLCJkeW5hbW8gY2xvY2siLCJlYXIgY2FuZHkiLCJlYXIgbWFyayIsImVhciBtdWZmcyIsImVhc3kgYXMgY2FrZSIsImVhc3kgYXMgcGllIiwiZWFzeSBwZWFzeSIsImVhc3kgc3RyZWV0IiwiZWF0IGNvdXMgY291cyIsImVhdCBvdXQiLCJlYXQgeW91ciBkaW5uZXIiLCJlYXQgeW91ciB2ZWdnaWVzIiwiZWF0IHlvdXIgdml0YW1pbnMiLCJlY2tzIHdoeSB6ZWUiLCJlZGdhciBkZWdhcyIsImVnZyBvbiIsImVnZ3MgdGVyIG1pbmF0ZSIsImVpZ2h0eSBzaXgiLCJlbGVjdHJvIGhlYWQiLCJlbGV2YXRvciBnb2luZyB1cCIsImVtcGVyb3IncyBjbG90aGVzIiwiZW1waXJlIHN0YXRlIG9mIG1pbmQiLCJlbmQgb2Ygc3RvcnkiLCJlbmdsaXNoIG11ZmZpbiIsImVuam95IGxpZmUiLCJlcm1haGdlcmQgY2FwY2hlciIsImV2aWwgZXllIiwiZXZpbCBnZW5pdXMiLCJleGNlZWRpbmdseSB3ZWxsIHJlYWQiLCJleGNsYW1hdGlvbiIsImV4ZXJjaXNlIG1vcmUiLCJleHRyYSBjaGVlc2UiLCJmYWNlIHRoZSBtdXNpYyIsImZhY2UgdG8gZmFjZSIsImZhZGUgYXdheSIsImZhaXIgYW5kIHNxdWFyZSIsImZhaXIgcGxheSIsImZhaXJ5IGdvZG1vdGhlciIsImZhaXJ5IHRhbGUiLCJmYWl0IGFjY29tcGxpIiwiZmFsbCBndXkiLCJmYWxsaW5nIHBpYW5vcyIsImZhbmN5IGZyZWUiLCJmYW5jeSBwYW50cyIsImZhciBhd2F5IiwiZmFyc2ljYWwgYXF1YXRpYyBjZXJlbW9ueSIsImZhc2hpb24gdmljdGltIiwiZmFzdCBhbmQgbG9vc2UiLCJmYXN0IGFzbGVlcCIsImZhdGhlciB0aW1lIiwiZmF0aGVyIHVuY2xlIiwiZmF0aG9tIG91dCIsImZhdmEgYmVhbnMiLCJmZWVkaW5nIGZyZW56eSIsImZlZWxpbmcgYmx1ZSIsImZlbGxvdyB0cmF2ZWxsZXIiLCJmZXplcyBhcmUgY29vbCIsImZpZWxkIGRheSIsImZpZnRoIGNvbHVtbiIsImZpbGwgaXQgdXAiLCJmaWx0aHkgZGlydHkgbWVzcyIsImZpbHRoeSByaWNoIiwiZmluYWdsZSdzIGxhdyIsImZpbmFsIGFuc3dlciIsImZpbmdlciBsaWNraW4gZ29vZCIsImZpcmUgYnJpbSBzdG9uZSIsImZpcmVjcmFja2VyIiwiZmlyc3QgY29udGFjdCIsImZpcnN0IHBvc3QiLCJmaXJzdCB3YXRlciIsImZpcnN0IHdvcmxkIiwiZmlzaCBhbmQgY2hpcHMiLCJmaXNoIG9uIiwiZmlzaHkgc21lbGwiLCJmbGFnIGRheSIsImZsYXQgZm9vdCIsImZsYXQgb3V0IiwiZmxhdCB0aXJlIiwiZmxpcGFkZWxwaGlhIiwiZmxpcGZsb3BzIiwiZmx1eCBjYXBhY2l0b3IiLCJmb2xsb3cgbWUiLCJmb2xzb20gcHJpc29uIiwiZm9vbCdzIHBhcmFkaXNlIiwiZm9vbHMgZ29sZCIsImZvciBrZWVwcyIsImZvciBzdXJlIiwiZm9yIHRoZSBiaXJkcyIsImZvciB0aGUgZ3JpcHBlciIsImZvcmJpZGRlbiBmcnVpdCIsImZvcmVnb25lIGNvbmNsdXNpb24iLCJmb3JnZXQgdGhpcyIsImZvcmdldCB5b3UiLCJmb3JrIGtuaWZlIHNwb29uIiwiZm9ydHkgdHdvIiwiZm91bCBwbGF5IiwiZm91ciBieSB0d28iLCJmcmFiam91cyBkYXkiLCJmcmFuY2UiLCJmcmFua2x5IG15IGRlYXIiLCJmcmVlIGhhdCIsImZyZWV6aW5nIHRlbXBlcmF0dXJlcyIsImZyZW5jaCBmcmllZCIsImZyZW5jaCBmcmllcyIsImZyZW5jaCBwaHJhc2VzIiwiZnJlc2ggd2F0ZXIiLCJmcmllZCBpY2VzIiwiZnJpZWQgcmljZSIsImZyaWVuZCB6b25lIiwiZnJvemVuIHBlYXMiLCJmcnVpdCBzYWxhZCIsImZ1ZGR5IGR1ZGR5IiwiZnVsbCBob3VzZSIsImZ1bGwgbW9udHkiLCJmdWxsIG9mIHN0YXJzIiwiZnVsbCBzdG9wIiwiZnVsbCB0aWx0IiwiZnVuIHdpdGggZmxhZ3MiLCJmdW5ueSBmYXJtIiwiZnVzaWxsaSBqZXJyeSIsImZ1enp5IHd1enp5IiwiZ2Fkem9va3MiLCJnYW1lIGlzIHVwIiwiZ2FuZ25hbSBzdHlsZSIsImdhcmRlbiBvZiBlZGVuIiwiZ2FybGljIHl1bSIsImdhdGhlcnMgbW9zcyIsImdlZSBsb3Vpc2UiLCJnZWUgd2hpeiIsImdlZXogbG91aXNlIiwiZ2VuZSBwYXJtZXNhbiIsImdlbmVyYWwgdHNvIiwiZ2VuZXJhdGlvbiB4IiwiZ2VuZ2hpcyBraGFuIiwiZ2VvcmdlIHdhc2hpbmd0b24iLCJnZXQgb3V0IiwiZ2V0IG92ZXIgaXQiLCJnZXQgd2VsbCIsImdldCB5b3VyIGdvYXQiLCJnaWFudCBidW5ueSByYWJiaXQiLCJnaWFudCBwYW5kYSIsImdpZGR5IGdvYXQiLCJnaWZ0IGhvcnNlIiwiZ2ltbWUgcGl6emEiLCJnaW5nZXIgYnJlYWQiLCJnaXZlIG9yIHRha2UiLCJnbGFzcyBjZWlsaW5nIiwiZ2xhemVkIGRvbnV0IiwiZ2xvYmFsIHdhcm1pbmciLCJnbyBiZXJzZXJrIiwiZ28gZnVydGhlciIsImdvIGdhZGdldCBnbyIsImdvZXMgdG8gZWxldmVuIiwiZ29sZCBtZWRhbCIsImdvbGQgcmVjb3JkIiwiZ29sbHkgamVlcGVycyIsImdvbmUgZG9sYWxseSIsImdvbmUgZmlzaGluZyIsImdvb2QgYWZ0ZXJub29uIiwiZ29vZCBhcyBnb2xkIiwiZ29vZCBidWRkeSIsImdvb2QgZGF5IiwiZ29vZCBldmVuaW5nIiwiZ29vZCBmb3Igbm90aGluZyIsImdvb2QgZ3JpZWYiLCJnb29kIGpvYiIsImdvb2QgbHVjayIsImdvb2QgbW9ybmluZyIsImdvb2QgbmlnaHQiLCJnb29kIG5pZ2h0IGFuZCBnb29kIGx1Y2siLCJnb29kIHJpZGRhbmNlIiwiZ29vZCBzYW1hcml0YW4iLCJnb29kIHdvcmsiLCJnb29keSBnb29keSBndW1kcm9wcyIsImdvb2R5IGd1bWRyb3AiLCJnb29keSB0d28gc2hvZXMiLCJnb29zZWJ1bXBzIiwiZ29yZG9uIGJlbm5ldHQiLCJnb3QgbXkgbW9qbyIsImdvdGhhbSBjaXR5IiwiZ290aGljIGFyY2giLCJnb3RoaWMgY2h1cmNoIiwiZ3JhaW4gb2Ygc2FsdCIsImdyYW5kIHNsYW0iLCJncmFwZSBzb2RhIiwiZ3Jhc3MgdXAiLCJncmF2ZXlhcmQgc2hpZnQiLCJncmF2eSB0cmFpbiIsImdyZWFzZSB0aGUgc2tpZHMiLCJncmVhc2VkIGxpZ2h0bmluZyIsImdyZWF0IHNjb3R0IiwiZ3JlYXQgdW53YXNoZWQiLCJncmVnb3J5IHBlY2siLCJncmlkbG9jayIsImdyaWxsZWQgY2hlZXNlIiwiZ3JvdW5kaG9nIGRheSIsImdydW1weSBjYXQiLCJndWluZWEgcGlnIiwiZ3VpdGFyIHBsYXllciIsImd1bSBzaG9lIiwiZ3VuZyBobyIsImhhYnNvbnMgY2hvaWNlIiwiaGFkIGEgZ3JlYXQgZmFsbCIsImhhZCBtZSBhdCBoZWxsbyIsImhhaXJ5IGV5ZWJhbGwiLCJoYWxjeW9uIGRheXMiLCJoYWxmIGRvbmUiLCJoYWxmIGVtcHR5IiwiaGFsZiBmdWxsIiwiaGFsZiBpbmNoIiwiaGFsbG93ZWQgZ3JvdW5kIiwiaGFscCBtZWgiLCJoYW0gYW5kIGNoZWVzZSIsImhhbWJ1cmdlciBidW4iLCJoYW1tZXIgdGltZSIsImhhbmQgb3ZlciBmaXN0IiwiaGFuZHMgZG93biIsImhhbmdlcnMgYW5kIG1hc2giLCJoYXBweSBhbm5pdmVyc2FyeSIsImhhcHB5IGJsZXNzaW5ncyIsImhhcHB5IGNsYXBweSIsImhhcHB5IHJldGlyZW1lbnQiLCJoYXBweSB0cmFpbHMiLCJoYXJkIGNhcHRjaGEgaXMgaGFyZCIsImhhcmQgY2hlZXNlIiwiaGFyZCBsaW5lcyIsImhhcmQgc2hhcnAiLCJoYXJkZW5lZCBwcmVzdG9vcG5pY2tzIiwiaGFycCBvbiIsImhhc3RlIG1ha2VzIHdhc3RlIiwiaGF0IGhlYWQiLCJoYXQgdHJpY2siLCJoYXZlIGEgcHVycG9zZSIsImhhdmUgYW4gaW5rbGluZyIsImhhdmUgY291cmFnZSIsImhhdmUgZnVuIiwiaGUgbG92ZXMgaGVyIiwiaGVhZCBjYXNlIiwiaGVhZCBob25jaG8iLCJoZWFkIG92ZXIgaGVlbHMiLCJoZWFkcyB1cCIsImhlYWx0aCBmb29kIiwiaGVhbHRoeSBmb29kIiwiaGVhciBoZWFyIiwiaGVhciBtZSByb2FyIiwiaGVhcnQgYnJlYWsiLCJoZWFydCBzdHJpbmdzIiwiaGVhcnQncyBjb250ZW50IiwiaGVhcnRhY2hlIiwiaGVhdCB1cCIsImhlYXRlZCBkZWJhdGUiLCJoZWF2ZW5zIHRvIGJldHN5IiwiaGVhdnkgbWV0YWwiLCJoZWViaWUgamVlYmllcyIsImhlbGxvIG5ld21hbiIsImhlbGxvIHN3ZWV0aWUiLCJoZWxsbyB3YXRzb24iLCJoZWxsbyB3b3JsZCIsImhlcmUgb3IgdGhlcmUiLCJoZXJlJ3Mgam9obm55IiwiaGV5IGJyb3RoZXIiLCJoaWdnbGVkeSBwaWdnbGVkeSIsImhpZ2dzIGJvc29uIiwiaGlnaCBkZWYiLCJoaWdoIGZpdmUiLCJoaWdoIGZseWVyIiwiaGlnaCBob3JzZSIsImhpZ2ggc2xlZXBlciIsImhpZ2ggdGltZSIsImhpbSB3aXRoIGhlciIsImhpc3N5IGZpdCIsImhpc3RvcnkgcmVwZWF0cyBpdHNlbGYiLCJoaXQgdGhlIGhheSIsImhpdCB0aGUgc2FjayIsImhvYWdpZSByb2xsIiwiaG9iYnkgaG9yc2UiLCJob2Jzb24ncyBjaG9pY2UiLCJob2N1cyBwb2N1cyIsImhvaSBwb2xsb2kiLCJob2l0eS10b2l0eSIsImhvbGQgeW91ciBob3JzZXMiLCJob2xkIHlvdXIgdG9uZ3VlIiwiaG9tZSBqYW1lcyIsImhvbmV5IG11c3RhcmQiLCJob29yYXkgaGVucnkiLCJob3BzIGEgZGFpc3kiLCJob3JzZSBhbmQgY2FydCIsImhvcnNlJ3MgbW91dGgiLCJob3QgYmxvb2RlZCIsImhvdCBkaWdnaXR5IGRvZyIsImhvdCBkb2cgcm9sbCIsImhvdCBwb2xhIiwiaG90IHNhdWNlIiwiaG92ZXIgaGFuZCIsImhvdyBhYm91dCBsdW5jaCIsImhvdyBhYm91dCB0aGF0IiwiaG93IGFyZSB5b3UiLCJob3cgaW50ZXJlc3RpbmciLCJob3cgbm93LCBicm93biBjb3ciLCJob3cgcXVhaW50IiwiaG93IHN3ZWV0IiwiaG93J3MgaXQgZ29pbmciLCJob3dkeSBwYXJ0bmVyIiwiaHVnIG1lIiwiaHVnZ2xlIG11Z2dsZSIsImh1bGsgc21hc2giLCJodW5reS1kb3J5IiwiaHVzaCBwdXBwaWVzIiwiaSBhbSBjYXB0Y2hhIiwiaSBhbSBmaW5lIiwiaSBhbSBoZXJlIiwiaSBjYW4gZG8gdGhpcyIsImkgY2FuIGZpeCBpdCIsImkgaGF2ZSBmYWxsZW4iLCJpIGtub3cgbm90aGluZyIsImkgbGlrZSBodW1hbnMiLCJpIGxpa2UgcGVvcGxlIiwiaSBsaWtlIHR1cnRsZXMiLCJpIGxpa2UgeW91IiwiaSBsb3ZlIGRlYWRsaW5lcyIsImkgbG92ZSBsYW1wIiwiaSBsb3ZlIHlvdSIsImkgbWFkZSB0ZWEiLCJpIG1vdXN0YWNoZSB5b3Ugd2h5IiwiaSBzYXcgdGhhdCIsImkgc2VlIiwiaSB0aGluayBpIGFtIiwiaSB0aGluayBpIGNhbiIsImkgdGhpbmsgc28iLCJpIHdhbnQgY29udHJvbCIsImknbGwgbWFrZSB0ZWEiLCJpJ20gYmF0bWFuIiwiaSdtIGJsZXNzZWQiLCJpJ20gYmx1c2hpbmciLCJpJ20gY29sZCBicnIiLCJpJ20gb25seSBodW1hbiIsImknbSBzbyBjb2xkIiwiaSdtIHNvcnJ5IiwiaSdtIHNvcnJ5IGRhdmUiLCJpJ20geW91cnMiLCJpY2UgdG8gbWVldCB5b3UiLCJpZGsgbXkgYmZmIGppbGwiLCJpZiBpdCBmaXRzIiwiaW0gY29sZC4gYnJyIiwiaW1hZ2luZSBpbnNwaXJlIGNyZWF0ZSIsImluIGEgYm94IiwiaW4gbGltYm8iLCJpbiBvdmVyIG15IGhlYWQiLCJpbiBzcGFkZXMiLCJpbiBzdGl0Y2hlcyIsImluIHRoZSBhaXIiLCJpbiB0aGUgYm94IiwiaW4gdGhlIGNhcnQiLCJpbiB0aGUgY2x1YiIsImluIHRoZSBkb2xkcnVtcyIsImluIHRoZSBsaW1lbGlnaHQiLCJpbmR1c3RyaWFsIHJldm9sdXRpb24iLCJpbmZyYSBkaWciLCJpbnNpZGUgb3V0IiwiaXMgaXQgZW5vdWdoIiwiaXMgaXQgaG90IiwiaXMgaXQgaG90PyIsImlzIGl0IGhvdCBpbiBoZXJlIiwiaXMgaXQgcGx1Z2dlZCBpbiIsImlzIGxvdyIsIml0IGRvZXNuJ3QgY291bnQiLCJpdCBoYXBwZW5zIiwiaXQgaHVydHMiLCJpdCBpcyBjZXJ0YWluIiwiaXQgaXMgZW5vdWdoIiwiaXQgd2lsbCBwYXNzIiwiaXQncyBvdmVyIiwiaXQncyBzdXBlciBlZmZlY3RpdmUiLCJpdm9yeSB0b3dlciIsImphYmJlciB3b2NreSIsImphY2sgYmUgbmltYmxlIiwiamFtIHRvbW9ycm93IiwiamF5IGdhdHNieSIsImplcmsgc3RvcmUiLCJqZXJyeSBidWlsdCIsImppbW15IGNyaWNrZXQiLCJqaW1teSBob3JuZXIiLCJqb2huIGxlbm5vbiIsImpvaG4gc3RlaW5iZWNrIiwianVtcCBoaWdoZXIiLCJqdW1wIG92ZXIiLCJqdW1wIHRoZSBjYW5kbGVzdGljayIsImp1bXAgdGhlIGd1biIsImp1bXBpbmcgamFjayIsImp1bmUganVseSIsImp1c3QgZGFuY2UiLCJqdXN0IGRlc2VydHMiLCJqdXN0IGRyaXZlIiwianVzdCBmcmllbmRzIiwianVzdCBpbiB0aW1lIiwia2FuZ2Fyb28gY291bnQiLCJrYXJtYSBwb2ludHMiLCJrZWVwIGNhbG0iLCJrZXlib2FyZCIsImtleWJvYXJkIGNhdCIsImtoeWJlciBwYXNzIiwia2ljayB0aGUgY2FuIiwia2ljayB5b3VyIGhlZWxzIiwia2luZG5lc3Mgb2Ygc3RyYW5nZXJzIiwia2luZyBhcnRodXIiLCJraXNzIG1lIiwia2l0dGVuIG1pdHRlbnMiLCJraXR0eSBrYXQiLCJrbGF0dSBiZXJhZGEgbmlrdG8iLCJrbmljayBrbmFjayIsImtub2NrIGF0IHRoZSBkb29yIiwia25vY2sgYmFjayIsImtub2NrIGtub2NrIGtub2NrIHBlbm55Iiwia25vY2sgb2ZmIiwia25vY2sgb24gd29vZCIsImtub3cgdGhlIHJvcGVzIiwia25vdyB0aHkgc2VsZiIsImtub3cgeW91ciBwYXJhZG94ZXMiLCJrbm93IHlvdXIgcmlnaHRzIiwia251Y2tsZSBkb3duIiwia29zaGVyIGRpbGwiLCJrdW5kYWxpbmkgZXhwcmVzcyIsImxhYm91ciBvZiBsb3ZlIiwibGFkaWVzIGZpcnN0IiwibGFnZXIgZnJlbnp5IiwibGFtZSBkdWNrIiwibGFyZHktZGFyZHkiLCJsYXJrIGFib3V0IiwibGFzZXIgYmVhbXMiLCJsYXN0IHN0cmF3IiwibGF0ZXIgZ2F0b3IiLCJsYXVnaCBhdCBtZSIsImxhdyBvZiBzaW5lcyIsImxhd24gZ2lsYW5kIiwibGF6eSBzdW5kYXkiLCJsZWFwIGhpZ2hlciIsImxlYXBzIGFuZCBib3VuZHMiLCJsZWFybiBjaGFsbGVuZ2UgaW1wcm92ZSIsImxlYXJuIGZyb20gbWlzdGFrZXMiLCJsZWFybiBzdWNjZWVkIiwibGVhcm4gdGhlIHJvcGVzIiwibGVhcm4sIGFkdmFuY2UiLCJsZWF2ZSBicml0bmV5IGFsb25lIiwibGVhdmUgbWUgYWxvbmUiLCJsZWZ0IG9yIHJpZ2h0IiwibGVmdCByaWdodCIsImxlZnR5IGxvb3NleSIsImxlc3MgaXMgbW9yZSIsImxldCBnbyIsImxldCBpdCBiZSIsImxldCBtZSBrbm93IiwibGV0IG1lIG91dCIsImxldHMgZWF0IiwibGV2ZWwgcGxheWluZyBmaWVsZCIsImxpYmVydHkgYmVsbCIsImxpYnJhcnkgYm9vayIsImxpY2tldHkgc3BsaXQiLCJsaWUgbG93IiwibGlnaHQgc2xlZXBlciIsImxpa2UgYSBib3NzIiwibGlrZSB0aGUgZGlja2VucyIsImxpbmVhciBhbGdlYnJhIiwibGl0dGxlIGJpcmQgdG9sZCBtZSIsImxpdHRsZSBib2JieSB0YWJsZXMiLCJsaXR0bGUgZGlkIGhlIGtub3ciLCJsaXR0bGUgc2lzdGVyIiwibGl2ZSBmcmVlIiwibGl2ZSBpbiB0aGUgbW9tZW50IiwibGl2ZSBpbiB0aGUgbm93IiwibGl2ZSBsaWZlIiwibGl2ZSBsb25nICsgcHJvc3BlciIsImxpdmUgbG92ZSBpbnRlcm5ldCIsImxpdmUgbG92ZSB0eXBlIiwibGl2ZSB0cmFuc21pc3Npb24iLCJsaXZlIHdpdGggcHVycG9zZSIsImxpdmUgeW91ciBkcmVhbSIsImxpdmluZyBkYXlsaWdodHMiLCJsaXZpbmcgdGhpbmdzIiwibGl6YXJkIHBvaXNvbnMgc3BvY2siLCJsbyBhbmQgYmVob2xkIiwibG9hZiBvZiBicmVhZCIsImxvY2FsIGRlcmJ5IiwibG9sIGNhdCIsImxvbGxlcnNrYXRlcyIsImxvbGx5IHBvcCIsImxvbmRvbiBjYWxsaW5nIiwibG9uZyBkaXZpc2lvbiIsImxvbmcgaW4gdGhlIHRvb3RoIiwibG9vayBhd2F5IiwibG9vayBiZWZvcmUgY3Jvc3NpbmciLCJsb29rIGJvdGggd2F5cyIsImxvb2tpbmcgZ2xhc3MiLCJsb3NlIGZhY2UiLCJsb3N0IGxvdmUiLCJsb3VkIG11c2ljIiwibG92ZSBpcyBhdXRvbWF0aWMiLCJsb3ZlIGlzIGJsaW5kIiwibG92ZSBsaWZlIiwibG92ZSBtZSIsImxvdmUgeW91IiwibG92ZS1oYXRlIiwibG92ZXkgZG92ZXkiLCJsdWNpbGxlIDIiLCJsdWNreSB5b3UiLCJsdWR3aWcgdmFuIiwibHVtcHkgZ3JhdnkiLCJsdW5hdGljIGZyaWRnZSIsImx1bmNoIHRpbWUiLCJsdW5jaCB0dWVzZGF5IiwibWFkIGhhdHRlciIsIm1hZCBzY2llbmNlIiwibWFnaWMgZGVjb2RlciByaW5nIiwibWFnaWMgZWlnaHQgYmFsbCIsIm1hZ2ljYWwgcmVhbGlzbSIsIm1hZ25ldGljIG1vbm9wb2xlIiwibWFpbiBjaGFuY2UiLCJtYWpvciBpbnRlcnNlY3Rpb24iLCJtYWtlIGEgYmVlIGxpbmUiLCJtYWtlIGhhc3RlIiwibWFrZSBpdCBzbyIsIm1ha2UgbXkgZGF5IiwibWFueSBoYXBweSByZXR1cm5zIiwibWFueSB3aXNoZXMiLCJtYXBsZSBzeXJ1cCIsIm1hcmJsZSByeWUiLCJtYXJjaWEgbWFyY2lhIG1hcmNpYSIsIm1hcmUncyBuZXN0IiwibWFyZ2luIG9mIGVycm9yIiwibWFyayBpdCB6ZXJvIiwibWFya2V0IGZvcmNlcyIsIm1hcnJ5IG1lIiwibWFycyByb3ZlciIsIm1hdGggdGVzdCIsIm1heWFuIHJ1aW5zIiwibWVhIGN1bHBhIiwibWVhdCBhbmQgZHJpbmsiLCJtZWF0IHdpdGggZ3JhdnkiLCJtZWRkbGluZyBraWRzIiwibWVkaWEgZnJlbnp5IiwibWVsb2R5IHBvbmQiLCJtZW4gaW4gc3VpdHMiLCJtZW5kIGZlbmNlcyIsIm1lb3cgbWVvdyIsIm1ldHJvcG9saXMiLCJtZXhpY2FuIHdhdmUiLCJtaWNrZXkgZmlubiIsIm1pbGVzIHRvIGdvIiwibWlsayB3YXMgYSBiYWQgY2hvaWNlIiwibWlsa3NoYWtlIiwibWlsbGlvbiBkb2xsYXJzIiwibWlsb2tvIHBsdXMiLCJtaWxva28gcGx1cyB2ZWxsb2NldCIsIm1pbXN5IGJvcm9nb3ZlcyIsIm1pbmNlZCBvYXRocyIsIm1pbmQgdGhlIGdhcCIsIm1pbnR5IGZyZXNoIiwibWlzaC1tYXNoIiwibWlzcyB5b3UiLCJtaXN0ZXIgd2lsc29uIiwibW9kZXJuIGxvdmUiLCJtb2UncyB0YXZlcm4iLCJtb20gYW5kIGRhZCIsIm1vbmV5IGxlbmRlciIsIm1vbyBzaG9vIHBvcmsiLCJtb29uIGNoZWVzZSIsIm1vb3QgcG9pbnQiLCJtb3JlIGJldHRlciIsIm1vcmUgY2hvY29sYXRlIiwibW9yZSBjb2ZmZWUiLCJtb3JlIGNvdyBiZWxsIiwibW9yZSBpbnRlcm5ldHMiLCJtb3JuaW5nIHBlcnNvbiIsIm1vc3QgaW50ZXJlc3RpbmcgbWFuIiwibW9zdCBsaWtlbHkiLCJtb3RoZXIgY291bnRyeSIsIm1vdGhlciBlYXJ0aCIsIm1vdGxleSBjcmV3IiwibW91dGggd2F0ZXJpbmciLCJtb3ZlIGFsb25nIiwibW92ZSBtb3VudGFpbnMiLCJtb3ZlIG92ZXIiLCJtb3ZlYWJsZSBmZWFzdCIsIm1vdmVycyBhbmQgc2hha2VycyIsIm1vdmllIHN0YXIiLCJtcnMgcm9iaW5zb24iLCJtdWZmbGVkIHJhcCBtdXNpYyIsIm11bHRpIHBhc3MiLCJtdW0ncyB0aGUgd29yZCIsIm11bWJvIGp1bWJvIiwibXVycGh5J3MgbGF3IiwibXVzaHkgcGVhcyIsIm11c2ljIG1hY2hpbmUiLCJtdXN0YWNoaW9lZCIsIm15IGJhZCIsIm15IGJlYXRpbmcgaGVhcnQiLCJteSBiZXR0ZXIgaGFsZiIsIm15IGRlYXIgd2F0c29uIiwibXkgZnJpZW5kcyBjYW4ndCBkYW5jZSIsIm15IG1pbmQncyBleWUiLCJteSBzb3VyY2VzIHNheSBubyIsIm5haXNlIGNhaW4iLCJuYW1ieS1wYW1ieSIsIm5hbWUgZHJvcCIsIm5hbm9vIG5hbm9vIiwibmFwIHRpbWUiLCJuYXJyb3cgbWluZGVkIiwibmF1dGljYWwgcGhyYXNlcyIsIm5lIHJlZ3JldHMiLCJuZWFyIHRhbm5oYXVzZXIgZ2F0ZSIsIm5lYXJ0IHN0cmluZ3MiLCJuZWNrYmVhcmQiLCJuZWVkIGEgYmlnZ2VyIGJvYXQiLCJuZWVkcyBtdXN0IiwibmVyY29sYXMgY2VyZyIsIm5lc3QgZWdnIiwibmV2ZXIgZ2l2ZSB1cCIsIm5ldmVyIGdvbm5hIGdpdmUgeW91IHVwIiwibmV2ZXIgbWluZCIsIm5ldmVyIHF1aXQiLCJuZXcgeW9yayBjaXR5IiwibmljZSBqb2IiLCJuaWNlIG1hcm1vdCIsIm5pY2UgdG8gbWVldCB5b3UiLCJuaWdodCBvd2wiLCJuaXAgYW5kIHR1Y2siLCJuaXR0eSBncml0dHkiLCJubyBicmFpbmVyIiwibm8gY3J5aW5nIGluIGJhc2ViYWxsIiwibm8gZGljZSIsIm5vIGZyaWVuZCBvZiBtaW5lIiwibm8gaG9sZHMgYmFycmVkIiwibm8gbWVhbnMgbm8iLCJubyByZWdyZXRzIiwibm8gc291cCBmb3IgeW91Iiwibm8gc3Bvb24iLCJubyBzdGlua2luZyBiYWRnZXMiLCJubyB0aW1lIHRvIGV4cGxhaW4iLCJubyB3YXkiLCJub2JvZHkgaG9tZSIsIm5vbmUgb2YgdGhlIGFib3ZlIiwibm9wZSBjaHVjayB0ZXN0YSIsIm5vc2UgYmxlZWQiLCJub3N5IHBhcmtlciIsIm5vdCBhIGJvdCIsIm5vdCBpbiBrYW5zYXMiLCJub3QgeWV0Iiwibm93IGFuZCBmb3JldmVyIiwibm93IGxvb2sgaGVyZSIsIm50aCBkZWdyZWUiLCJudWwgcG9pbnRzIiwibnVtYSBudW1hIiwibnV0IGNhc2UiLCJudXRyaXRpb24iLCJueWFuIGNhdCIsIm55cXVpc3QgcmF0ZSIsIm9mIGNvdXJzZSIsIm9mZiB0aGUgcmVjb3JkIiwib2ggYnJvdGhlciIsIm9oIGVtIGdlZSIsIm9oIGhhaSIsIm9oIHNpZ2giLCJvaCBzbyBjbG9zZSIsIm9oIHllcyIsIm9oIHlvdSIsIm9oLHlvdSIsIm9oLCB3YWl0Iiwib2tleSBkb2tleSIsIm9sZCBoYXQiLCJvbGQgbWFuIHdpbnRlciIsIm9sZCBzaG9lIiwib20gbm9tIG5vbSIsIm9uIGEgYm9hdCIsIm9uIGNsb3VkIG5pbmUiLCJvbiB0aGUgYmFsbCIsIm9uIHRoZSBxdCIsIm9uLW9mZiIsIm9uY2UgYWdhaW4iLCJvbmNlIHVwb24gYSB0aW1lIiwib25lIGRheSBtb3JlIiwib25lIGZlbGwgc3dvb3AiLCJvbmUgaGl0IHdvbmRlciIsIm9uZSBzbWFsbCBzdGVwIGZvciBtYW4iLCJvbmUgc3RvcCBzaG9wIiwib25lIHdheSIsIm9uZSB3YXkgc3RyZWV0Iiwib25lLCB0d28sIHRocmVlIiwib25seSB3YXkgdG8gYmUgc3VyZSIsIm9vbnR6IG9vbnR6Iiwib29wcyBhIGRhaXN5Iiwib3BlbiBzZWFzb24iLCJvcGVuIHNlc2FtZSIsIm9yYW5nZSBqdWljZSIsIm90aGVyIHdvcmxkbHkiLCJvdXQgb2Ygc29ydHMiLCJvdXQgb2YgdG9uZXIiLCJvdXRsb29rIGdvb2QiLCJvdmVyIHRoZSBoaWxsIiwib3ZlciB0aGUgbW9vbiIsIm92ZXIgdGhlIHRvcCIsIm92ZXIgdGhlcmUiLCJveGZvcmQgdW5pdmVyc2l0eSIsIm94byBjdWJlIiwicGFpbnQgaXQgcmVkIiwicGFuZG9yYSdzIGJveCIsInBhbnRzIG9uIHRoZSBncm91bmQiLCJwYXBlciBqYW0iLCJwYXBlciBwbGF0ZSIsInBhcnRpYWwgZGVyaXZhdGl2ZSIsInBhcnRseSBjbG91ZHkiLCJwYXJ0eSBvbiBnYXJ0aCIsInBhc3NpbmcgbGFuZSIsInBhdGNoIG9mIGdyYXNzIiwicGF0aCBsZXNzIHRha2VuIiwicGF0aWVuY2UgY2hpbGQiLCJwYXR0eSBjYWtlIiwicGF5IHRoZSBmZXJyeW1hbiIsInBlYSBicmFpbiIsInBlYXJseSB3aGl0ZXMiLCJwZWcgb3V0IiwicGVsbCBtZWxsIiwicGVubnkgbG9hZmVyIiwicGVvcGxlIGxpa2UgbWUiLCJwZXBlIHNpbHZpYSIsInBlcHBlciBwb3QiLCJwZXBwZXJvbmkgcGl6emEiLCJwZXBwZXJzIGFuZCBvbmlvbnMiLCJwZXJmZWN0IHdvcmxkIiwicGVzdGVyIHBvd2VyIiwicGV0ZXIgb3V0IiwicGhpbGFkZWxwaGlhIiwicGhvbmUgaG9tZSIsInBpY2sgbWUiLCJwaWNrIHVwIHN0aWNrcyIsInBpY2tsZSBqdWljZSIsInBpY2tsZWQgcGVwcGVycyIsInBpY3R1cmUgcGVyZmVjdCIsInBpZSBhcmUgcm91bmQiLCJwaWUgYXJlIHNxdWFyZWQiLCJwaWUgY2hhcnQiLCJwaWVjZSBvZiBjYWtlIiwicGlnJ3MgZWFyIiwicGlnZ3liYWNrIiwicGluIG1vbmV5IiwicGlwZSBkb3duIiwicGlwZSBkcmVhbSIsInBpcGluZyBob3QiLCJwaXR0ZXIgcGF0dGVyIiwicGl6emEgdG9wcGluZyIsInBsYWluIHNhaWxpbmciLCJwbGF5IGEgZ2FtZSIsInBsYXkgYWdhaW4iLCJwbGF5IGJhbGwiLCJwbGF5IGhvb2tleSIsInBsYXkgaXQgYWdhaW4gc2FtIiwicGxlYXNlZCBhcyBwdW5jaCIsInBsZW50eSBvZiB0aW1lIiwicGx1Z2dlZCBuaWNrZWwiLCJwbHVzIG9yIG1pbnVzIiwicG9ja2V0IHNpemVkIiwicG9kIGJheSBkb29ycyIsInBvZXRpYyBqdXN0aWNlIiwicG9pbnQgYmxhbmsiLCJwb2ludCB0byBwb2ludCIsInBvaW50cyBkb250IG1hdHRlciIsInBvaW50cyBmb250IG1hdHRlciIsInBvaXNvbiBhcHBsZSIsInBvbGl0aWNhbCBwYXJ0eSIsInBvbGl0aWNhbHkgY29ycmVjdCIsInBvbHkncyBjcmFja2VyIiwicG9uZCBsaWZlIiwicG9vbCBib3kiLCJwb29sIGhhbGwiLCJwb29sIGhvdXNlIiwicG9vciBob3VzZSIsInBvcmsgcGllcyIsInBvdW5kIGNha2UiLCJwb3dlciBkcmVzc2luZyIsInBvd2VyIHRvb2wiLCJwcmFjdGljZSBtYWtlcyBwZXJmZWN0IiwicHJlc3MgaW50byBzZXJ2aWNlIiwicHJpbWUgdGltZSIsInByaW1yb3NlIHBhdGgiLCJwcmludCBvdXQiLCJwcmludCBwYXBlciIsInByaW50ZXIgcGFwZXIiLCJwcm9wYW5lIGFjY2Vzc29yaWVzIiwicHVibGljIGdvb2QiLCJwdWRkaW5nIHBvcHMiLCJwdWZmeSBzaGlydCIsInB1bXBraW4gcGllIiwicHVwcHkgZG9nIiwicHVwcHkgbG92ZSIsInB1c2ggaGFyZGVyIiwicHVzaCBvbiIsInB1c2ggdGhlIGVkZ2UiLCJwdXNoIHRoZSBlbnZlbG9wZSIsInB5cnJoaWMgdmljdG9yeSIsInF1YWxpdHkgdGltZSIsInF1ZWVuIG5lZmVydGl0aSIsInF1ZWVuIG9mIGhlYXJ0cyIsInF1ZWVuJ3MgeWFjaHQiLCJxdWVzdGlvbiBldmVyeXRoaW5nIiwicXVlc3Rpb24gbWFyayIsInF1aWQgcHJvIHF1byIsInF1b3RhdGlvbnMiLCJyYWNrIGFuZCBydWluIiwicmFjayB5b3VyIGJyYWlucyIsInJhaW4gZ28gYXdheSIsInJhaW4gdG9uaWdodCIsInJhaW55IGRheXMiLCJyYWlzZSBjYWluIiwicmFzcGJlcnJ5IHRhcnQiLCJyZWFjaCBoaWdoZXIiLCJyZWFkIGFsbCBvdmVyIiwicmVhZCBtZSwgd3JpdGUgbWUiLCJyZWFkIG15IG1haWwiLCJyZWFkeSBzZXQgZ28iLCJyZWFsIGhvb3B5IGZyb29kIiwicmVhbCBtY2NveSIsInJlZCBoZXJyaW5nIiwicmVkIHRhcGUiLCJyZWQgd2hpdGUgYW5kIGJsdWUiLCJyZWQtaGFuZGVkIiwicmVkdXBsaWNhdGVkIHBocmFzZXMiLCJyZW1haW4gY2FsbSIsInJlbnQtYS1zd2FnIiwicmVzcGVjdCBtZSIsInJldHVybiB0byBzZW5kZXIiLCJyZXZlcnNlIHRoZSBwb2xhcml0eSIsInJoaW5vIGJlZXRsZSIsInJob2RlaXNsYW5kIiwicmh5bWUgbm9yIHJlYXNvbiIsInJoeW1pbmcgc2xhbmciLCJyaWNlIGFuZCBiZWFucyIsInJpY2Ugam9iIiwicmlkZSB0aGUgc3Vid2F5IiwicmlmZi1yYWZmIiwicmlnaHQgaGFuZCB0dXJuIiwicmlnaHQgbGVmdCIsInJpZ2h0eSB0aWdodHkiLCJyaW5nIGZlbmNpbmciLCJyaW5nIGZlbnJpbmciLCJyaW5reS1kaW5rIiwicmlzZSBhbmQgc2hpbmUiLCJyaXZlciBzb25nIiwicml2ZXIgc3R5eCIsInJvYWQgYXBwbGVzIiwicm9hZCBsZXNzIHRyYXZlbGxlZCIsInJvYXN0IGJlZWYiLCJyb2JlIG9mIHNhZmZyb24iLCJyb2NrZXQgc2NpZW5jZSIsInJvZGVudHMgb2YgdW51c3VhbCBzaXplIiwicm9mbGNvcHRlciIsInJvbGwgYWdhaW4iLCJyb2xsIG92ZXIiLCJyb2xsZXIgc2thdGVzIiwicm9sbGluZyBzdG9uZSIsInJvb2Z0b3AiLCJyb29tIGZvciBhY3Rpdml0aWVzIiwicm9vbW1hdGUgYWdyZWVtZW50Iiwicm9vdCBiZWVyIGZsb2F0Iiwicm9wZSBidXJuIiwicm9zZWJ1ZCIsInJvc2llIGxlYSIsInJvdWdoIGRpYW1vbmQiLCJyb3VuZCBvbmUiLCJyb3VuZCByb2JpbiIsInJvdW5kIHRhYjFlIiwicm91dGUgb25lIiwicm93IGJvYXQiLCJyb3kgZyBiaXYiLCJyb3lhbCBmbHVzaCIsInJ1Ymljb24gY3Jvc3NlZCIsInJ1bGUgb2YgY2hvbWlvIiwicnVsZSBvZiB0aHVtYiIsInJ1bSBkbyIsInJ1biBhbW9rIiwicnVuIGF3YXkiLCJydW4gZmFydGhlciIsInJ1biB0aGUgZ2F1bnRsZXQiLCJydW4gdGhyb3VnaCIsInJ1bm55IG5vc2UiLCJzYWJlciB0b290aCIsInNhY3JlZCBjb3ciLCJzYWZlIHN0cmVldHMiLCJzYWZlciBzdHJlZXRzIiwic2FmZXR5IGZpcnN0Iiwic2FsYWQgZGF5cyIsInNhbHQgYW5kIHBlcHBlciIsInNhbHR5IGNoZWVzZSIsInNhbWUgc2FtZSIsInNhbmR5IGJlYWNoIiwic2F0dXJkYXkgZGV0ZW50aW9uIiwic2F1Y3kiLCJzYXVlciBrcmF1dCIsInNhdXNhZ2VzIiwic2F2ZSBmYWNlIiwic2F2ZSBpdCIsInNhdmUgb3VyIGJsdXRocyIsInNhdm9pciBmYWlyZSIsInNheCBhbmQgdmlvbGlucyIsInNheSBjaGVlc2UiLCJzY2hvb2wgaXMgY29vbCIsInNjaWVuY2UgY2xhc3MiLCJzY2llbmNlIGZhaXIiLCJzY2llbmNlIGl0IHdvcmtzIiwic2NpZW5jZSBwcm9qZWN0Iiwic2NvdCBmcmVlIiwic2NyZXcgZHJpdmVyIiwic2VhIGNoYW5nZSIsInNlYSBzaGVsbCIsInNlYSBzaG9yZSIsInNlYXR0bGUiLCJzZWUgcmVkIiwic2VlIHlhIiwic2VlLXNhdyIsInNlZWsgYmVhdXR5Iiwic2VlbXMgbGVnaXQiLCJzZWl6ZSB0aGUgZGF5Iiwic2VsZWN0IGZyb20gdGFibGUiLCJzZW5kIHBhY2tpbmciLCJzZW5pb3IgY2l0aXplbiIsInNldmVuIGF0ZSBuaW5lIiwic2V2ZW4gc2lnbnMiLCJzZXplIHRoZSBkYXkiLCJzaGFrZSBhIGxlZyIsInNoYWtlbiBub3Qgc3RpcnJlZCIsInNoYWtlcnMgYW5kIG1vdmVycyIsInNoYW5lIGNvbWUgYmFjayIsInNoYXJwIHBlbmNpbCIsInNoYXJwIHN0aWNrIiwic2hlIGxvdmVzIGhpbSIsInNoZSBzZWxscyIsInNoZSBzZWxscyBzZWFzaGVsbHMiLCJzaGUncyBhIHdpdGNoIiwic2hlbGRvbiBhbHBoYSBmaXZlIiwic2hpbGx5LXNoYWxseSIsInNoaXAgc2hhcGUiLCJzaG9lIHNoaW5lIiwic2hvZXMgc2hpbmUiLCJzaG9vdCB0aHJvdWdoIiwic2hvdWxkZXIgb2Ygb3Jpb24iLCJzaG93IGRvd24iLCJzaHVmZmxlIHRoZSBkZWNrIiwic2ljayBwdXBweSIsInNpZ25hbCB5b3VyIHR1cm5zIiwic2lnbnMgcG9pbnQgdG8geWVzIiwic2lsZW5jZSBpcyBnb2xkZW4iLCJzaWx2ZXIgYmVsbHMiLCJzaWx2ZXIgYnVsbGV0Iiwic2lsdmVyIGhvaW5nIiwic2lsdmVyIGxpbmluZyIsInNpbHZlciBzcG9vbiIsInNpbiBjb3MgdGFuIiwic2luY2Ugd2hlbiIsInNpbmcgYSBzb25nIiwic2l4ZXMgYW5kIHNldmVucyIsInNpeHRlZW4gcG9pbnQgdHVybiIsInNraWRyb3ciLCJza2lwIGEgdHVybiIsInNreSdzIHRoZSBsaW1pdCIsInNreW5ldCBpcyB3YXRjaGluZyIsInNreW5ldCBrbm93cyIsInNreW5ldCB3YXRjaGVzIiwic2xlZXAgdGlnaHQiLCJzbGVlcHkgaG9sbG93Iiwic2xpbXkgZ29vcCIsInNsaXBwZXJ5IHNsb3BlIiwic2xvYW5lIHJhbmdlciIsInNsb3cgZG93biIsInNsb3cgbWlsZW5reSBsaXphcmRzIiwic2x1c2ggZnVuZCIsInNseXRoeSB0b3ZlcyIsInNtYWxsIGZyaWVzIiwic21hbGwgZnJ5Iiwic21hcnQgY2FzdWFsIiwic21hcnQgcGhvbmUiLCJzbWFzaGVkIHBvdGF0byIsInNtZWxsIHRoYXQiLCJzbWVsbGluZyBzYWx0Iiwic21va2VkIHNhbG1vbiIsInNuYWtlIGV5ZXMiLCJzbmFwc2hvdCIsInNuYXJlIGRydW0iLCJzbmVlemluZyBiYWJ5IHBhbmRhIiwic25vb3AgbGlvbiIsInNub3cgZHJpZnQiLCJzbm93IGZsdXJyeSIsInNub3cgc2hvdmVsIiwic28gZmFyIGF3YXkiLCJzbyBsaWZlIGxpa2UiLCJzbyBzbyIsInNvZCdzIGxhdyIsInNvZnQga2l0dHkgd2FybSBraXR0eSIsInNvZnQga2l0dHksIHdhcm0ga2l0dHkiLCJzb21lYm9keSB0aGF0IGkgdXNlZCB0byBrbm93Iiwic29uaWMgc2NyZXcgZHJpdmVyIiwic29ycnkgZGF2ZSIsInNvcnJ5IHNpZ2h0Iiwic291ZmZsZSBnaXJsIiwic291bmQgYml0ZSIsInNvdW5kIG9mIHNpcmVucyIsInNvdW5kIG91dCIsInNvdXIgZ3JhcGVzIiwic3BhY2UgaXMgYmlnIiwic3BhY2UgcGx1bWJlciIsInNwYW5nbGVkIGJhbm5lciIsInNwZWVkaW5nIGJ1bGxldCIsInNwZWxsaW5nIGJlZSIsInNwZW5kIHRpbWUiLCJzcGljayBhbmQgc3BhbiIsInNwaWN5Iiwic3BpY3kgaG90Iiwic3BpbiBkb2N0b3IiLCJzcGl0dGluZyBmZWF0aGVycyIsInNwaXR0aW5nIGltYWdlIiwic3BvaWxlcnMiLCJzcHJlYWQgdGhlIG5ldCIsInNwcmluZyB3YXRlciIsInNwcnVjZSB1cCIsInNxdWFyZSBtZWFsIiwic3F1YXJlIG9uZSIsInNxdWVha3kgY2xlYW4iLCJzcXVpcnJlbCBmcmllbmQiLCJzdCBqb2hucyBiYXkiLCJzdGFsbGEgc3RlbGxhIiwic3RhbmQgYW5kIGRlbGl2ZXIiLCJzdGFuZCBieSBtZSIsInN0YW5kIHVwIGd1eSIsInN0YXIgc3BhbmdsZWQiLCJzdGFyIHdhcnMga2lkIiwic3RhcnQgZnJvbSBzY3JhdGNoIiwic3RheSBzYWZlIiwic3RlYWsgYW5kIGVnZ3MiLCJzdGVhbSBwdW5rIiwic3RlZXJpbmcgd2hlZWwiLCJzdGVwIGJhY2siLCJzdGVwIG92ZXIiLCJzdGV2ZSBob2x0Iiwic3RldmUgam9icyIsInN0aWNreSB3aWNrZXQiLCJzdGluZyBsaWtlIGEgYmVlIiwic3RpbmtpbmcgcmljaCIsInN0aW5reSBmZWV0Iiwic3RvbmUgc291cCIsInN0b25lJ3MgdGhyb3ciLCJzdG9ueSBoZWFydGVkIiwic3Rvb2wgcGlnZW9uIiwic3RvcCB3YWlzdGluZyB0aW1lIiwic3RyYW5nZXIgZGFuZ2VyIiwic3RyZWFtcyBvZiBvY2VhbnVzIiwic3RyaWtlIGEgbWF0Y2giLCJzdHJpa2UgdGhyZWUiLCJzdHJpbmcgYWxvbmciLCJzdHJpbmcgY2hlZXNlIiwic3R1Y2sgaW4gbXVkIiwic3R1bXAgdXAiLCJzdWRvIG1ha2Ugc2FuZHdpY2giLCJzdWxwaHVyIHNtZWxsIiwic3VtbW9uIGluZ2xpcCIsInN1biB0enUgc2F5cyIsInN1bmRheSIsInN1bnNoaW5lIiwic3VwZXIgc3RhciIsInN1cmYgYW5kIHR1cmYiLCJzdXJmYWNlIGludGVncmFsIiwic3dhbiBzb25nIiwic3dlZXQgZHJlYW1zIiwic3dlZXR5IHBpZSIsInN3aXJsaW5nIHZvcnRleCBvZiBlbnRyb3B5IiwidGFjbyB0dWVzZGF5IiwidGFrZSBhIGxvb2siLCJ0YWtlIGFuIHVtYnJlbGxhIiwidGFrZSBjYXJlIiwidGFrZSBpdCBhbGwiLCJ0YWtlIG91dCBmb29kIiwidGFrZSBwb3RsdWNrIiwidGFrZSB0aGUgY2FrZSIsInRha2UgdW1icmFnZSIsInRha2Ugd3JvbmcgdHVybnMiLCJ0YWtlbiBhYmFjayIsInRhbGsgdGhlIHRhbGsiLCJ0YWxrIHRvIHN0cmFuZ2VycyIsInRhbGsgdHVya2V5IiwidGFsbCBidWlsZGluZyIsInRhbGwgc3RvcnkiLCJ0YXN0ZXMgZ29vZCIsInRhc3RlcyBsaWtlIGNoaWNrZW4iLCJ0ZWEgZWFybCBncmF5IGhvdCIsInRlYSBsZWFmIiwidGVhIHdpdGggamFtIiwidGVhIHdpdGggbWlsayIsInRlYXIgdXMgYXBhcnQiLCJ0ZWNobmljb2xvciB5YXduIiwidGVmbG9uIHByZXNpZGVudCIsInRlaCBpbnRlciB3ZWJzIiwidGVuIGZvdXIiLCJ0ZXNsYSBjb2lsIiwidGhhbmsgeW91IiwidGhhbmsgeW91LCBjb21lIGFnYWluIiwidGhhdCBlc2NhbGF0ZWQgcXVpY2tseSIsInRoYXQgaHVydHMiLCJ0aGF0IHdpbGwgbm90IHdvcmsiLCJ0aGF0J3MgYSBmYWN0IGphY2siLCJ0aGF0J3MgYWxsIGZvbGtzIiwidGhhdCdzIGVub3VnaCIsInRoYXQncyBob3QiLCJ0aGF0J3MgaXQiLCJ0aGF0J3MgbXkgc3BvdCIsInRoYXQncyByaWdodCIsInRoZSBiZWUncyBrbmVlcyIsInRoZSBiaWJsZSIsInRoZSBiaWcgYXBwbGUiLCJ0aGUgYmlnIGNoZWVzZSIsInRoZSBiaWcgZWFzeSIsInRoZSBjYXQgbGFkeSIsInRoZSBjYXRzIGNyYWRsZSIsInRoZSBkZW5uaXMgc3lzdGVtIiwidGhlIGR1ZGUgYWJpZGVzIiwidGhlIGV4dHJhIG1pbGUiLCJ0aGUgbmV4dCBsZXZlbCIsInRoZSBuaWdodG1hbiBjb21ldGgiLCJ0aGUgb25lIGV5ZWQgbWFuIGlzIGEga2luZyIsInRoZSBvdGhlciBzaWRlIiwidGhlIHRyaWJlIGhhcyBzcG9rZW4iLCJ0aGUgeWVsbG93IGtpbmciLCJ0aGVyZSBpcyBubyBzcG9vbiIsInRoZXJlIGlzIG9ubHkgenVsIiwidGhlcmUgb25jZSB3YXMiLCJ0aGVzZSBwYXJ0cyIsInRoZXkgYXJlIHdhdGNoaW5nIiwidGhleSBhdGUgaXQiLCJ0aGljayBhbmQgdGhpbiIsInRoaW4gYWlyIiwidGhpbmsgY3JlYXRlIGRvIiwidGhpbmsgZ3JlZW4iLCJ0aGluayBoYXJkIiwidGhpbmsgdHdpY2UiLCJ0aGlua2luZyBjYXAiLCJ0aGlyZCBkZWdyZWUiLCJ0aGlydHkgb25lIGRheXMiLCJ0aGlzIGlzIGl0IiwidGhpcyBpcyBub3QgZmFrZSIsInRoaXMgaXMgc3BhcnRhIiwidGhpcyBvciB0aGF0IiwidGhpcyBzdGF0ZW1lbnQgaXMgZmFsc2UiLCJ0aHJlZSBzaG9ydCB3b3JkcyIsInRocmVlIHN0cmlrZXMiLCJ0aHJvdWdoIHRoZSBncmFwZXZpbmUiLCJ0aHVtYnMgdXAiLCJ0aHVuZGVyIHN0b3JtIiwidGlja2VkIG9mZiIsInRpY2tsZSB0aGUgaXZvcmllcyIsInRpY2tsZWQgaXZvcmllcyIsInRpY2tsZWQgcGluayIsInRpZGUgb3ZlciIsInRpZ2h0IGxpcHBlZCIsInRpbWUgYW5kIHBhcGVyIiwidGltZSBjaXJjdWl0cyIsInRpbWUgZmxpZXMiLCJ0aW1lIGlzIGFuIGlsbHVzaW9uIiwidGltZSBsb3JkIiwidGltZSBtYWNoaW5lIiwidGltZSB3aWxsIHRlbGwiLCJ0aW1lcyBzcXVhcmUiLCJ0aW5rZXIncyBkYW0iLCJ0byBib290IiwidG9hc3QgcG9pbnRzIiwidG9lIHRoZSBsaW5lIiwidG9lLWN1cmxpbmciLCJ0b2dldGhlciBhZ2FpbiIsInRvbyBiYWQiLCJ0b28gbGF0ZSIsInRvbyBtYW55IGNvb2tzIiwidG9vIG1hbnkgc2VjcmV0cyIsInRvbyBzYWx0eSIsInRvb2RsZSBvbyIsInRvcCBkb2ciLCJ0b3AgZHJhd2VyIiwidG9wIG5vdGNoIiwidG9wIHRlbiIsInRvcHN5IHR1cnZ5IiwidG9wc3ktdHVydnkiLCJ0b3RhbCBzaGFtYmxlIiwidG93ZWwgZHJ5IiwidG93ZXIgb2Ygc3RyZW5ndGgiLCJ0b3kgc29sZGllciIsInRyYWZmaWMgamFtIiwidHJhZmZpYyBsaWdodCIsInRyYWluIHN1cmZpbmciLCJ0cmF2ZWwgc2l6ZSIsInRyZWF0IHlvc2VsZiIsInRyaWNrIG9yIHRyZWF0IiwidHJpY2tsZSBkb3duIiwidHJvbG9sb2xvbCIsInRydWUgYmx1ZSIsInRydWUgbGlmZSIsInRydXN0IG1lIiwidHVja2VyZWQgb3V0IiwidHVuYSBmaXNoIiwidHVuZSBpbiIsInR1cmtleSBzYW5kd2ljaCIsInR1cm4gc2lnbmFsIiwidHVybiB0aGUgdGFibGVzIiwidHVybiB1cCB0cnVtcHMiLCJ0d2VudHkgZWlnaHQgZGF5cyIsInR3ZW50eSBmb3VyIHNldmVuIiwidHdlbnR5IG9uZSIsInR3ZW50eSB0aHJlZSIsInR3byBjZW50cyB3b3J0aCIsInR3byBoYW5kcyIsInR3byBsZWZ0IGZlZXQiLCJ0d28gdG9uZSIsInUgamVsbHkiLCJ1bWJyZWxsYSBjb3Jwb3JhdGlvbiIsInVuY2hhcnRlZCBpc2xhbmQiLCJ1bmNsZSBsZW8iLCJ1bmRlciB0aGUgc2VhIiwidW5kZXJwYW50cyIsInVuaW9uIGphY2siLCJ1bmxpbWl0ZWQgd2lzaGVzIiwidW50aWVkIGxhY2VzIiwidW50aWwgbmV4dCB0aW1lIiwidW50aWwgdG9tb3Jyb3ciLCJ1bnRpbCB0b25pZ2h0IiwidXAgYW5kIGF3YXkiLCJ1cCBvciBkb3duIiwidXBwZXIgY3J1c3QiLCJ1cHBlciBoYW5kIiwidXBzIGEgZGFpc3kiLCJ1cHNpZGUgZG93biIsInVwdm90ZSB0aGlzIiwidXB3YXJkIHNsb3BlIiwidXJiYW4gbXl0aCIsInVzdWFsIHN1c3BlY3RzIiwidXUgZGQgbHIgbHIgYmEiLCJ2YW4gc3VyZmluZyIsInZhbmlsbGEgaWNlIGNyZWFtIiwidmVnIG91dCIsInZlZ2FuIGRpZXQiLCJ2ZWdhbiB6b21iaWUgd2FudHMgZ3JhaW5zIiwidmVnZXRhcmlhbiIsInZlcnkgZG91YnRmdWwiLCJ2ZXJ5IG5pY2UiLCJ2aWNlIHZlcnNhIiwidmljaW91cyBjeWNsZSIsInZpZGVvIHRhcGUiLCJ2aWVubmEgY2FsbGluZyIsInZpcnR1ZSBvZiBuZWNlc3NpdHkiLCJ2aXMgYSB2aXMiLCJ2b2NhbCBtaW5vcml0eSIsInZvZ29uIHBvZXRyeSIsInZvaWd0IGthbXBmIiwidm9ycGFsIHN3b3JkIiwidm90ZSBwYW5jYWtlcyIsIndha2Ugb2YgdGhlIGZsb29kIiwid2FsayBmcmVlIiwid2FsayB0aGUgcGxhbmsiLCJ3YWxrIHRoZSB3YWxrIiwid2FudCBtb3JlIiwid2FycCBzcGVlZCIsIndhc2ggd2hpdGVzIHNlcGFyYXRlbHkiLCJ3YXRjaCBjLWJlYW1zIGdsaXR0ZXIiLCJ3YXRjaCBtZSIsIndhdGNoIG91dCIsIndhdGVyIGdhdGUiLCJ3YXggcG9ldGljIiwid2F5IHRvIGdvIiwid2F5IHRvIGdvIGRvbm55Iiwid2UgZ28gZm9yd2FyZHMiLCJ3ZSBsaWtlIHRoZSBtb29uIiwid2Vha2VzdCBsaW5rIiwid2Vhc2VsIHdvcmRzIiwid2VsY29tZSB0byBlYXJ0aCIsIndlbGwgZG9uZSIsIndlbGwgaGVlbGVkIiwid2VsbCBpc24ndCB0aGF0IHNwZWNpYWwiLCJ3ZWxsIG5vdyIsIndlbGwgcmVhZCIsIndleWxhbiB5dXRhbmkiLCJ3aGF0IGV2ZW4iLCJ3aGF0IGV2ZXIiLCJ3aGF0IGZvciIsIndoYXQgaWYiLCJ3aGF0IGlzIGZvciBkaW5uZXIiLCJ3aGF0IGlzIHlvdXIgcXVlc3QiLCJ3aGF0IHNob3VsZCB3ZSBjYWxsIG1lIiwid2hhdCB0byBzZWUiLCJ3aGF0J3MgdGhhdCIsIndoZWVsIGdyb3VwIiwid2hlbiB3aGVyZSIsIndoZXJlIHRvIGdvIiwid2hldCB5b3VyIGFwcGV0aXRlIiwid2hpc3RsZSBhbmQgZmx1dGUiLCJ3aGl0ZSBhcyBzbm93Iiwid2hpdGUgYnJlYWQiLCJ3aGl0ZSBlbGVwaGFudCIsIndoaXRlIHJhYmJpdCIsIndobyBhbSBpIiwid2hvIGFyZSB5b3UiLCJ3aG8gaXMgaXQiLCJ3aG8geW91IGdvbm5hIGNhbGwiLCJ3aG8sIHdoYXQsIHdoZXJlIiwid2hvYSB0aGVyZSIsIndob2xlIG5pbmUgeWFyZHMiLCJ3aG9sZSBzaGViYW5nIiwid2hvb3BlZSBjdXNoaW9uIiwid2hvb3BzIGEgZGFpc3kiLCJ3aWNrZWQgd2l0Y2giLCJ3aWRlIGJlcnRoIiwid2lsZCBhbmQgY3JhenkgZ3V5cyIsIndpbGQgYW5kIHdvb2xseSIsIndpbGQgZ29vc2UgY2hhc2UiLCJ3aWxkIHdlc3QiLCJ3aWxseSBuaWxseSIsIndpbiBoYW5kcyBkb3duIiwid2luZG93IGRyZXNzaW5nIiwid2luZyBpdCIsIndpbm5pbmciLCJ3aW50ZXIgaXMgY29taW5nIiwid2ludGVyIHNub3ciLCJ3aXNkb20gb2YgaW5nbGlwIiwid2lzZG9tIHRlZXRoIiwid2lzaHktd2FzaHkiLCJ3aXRoIGJlbGxzIG9uIiwid2l0aG91dCBhIGRvdWJ0Iiwid29vZiB3b29mIiwid29yZCBmb3Igd29yZCIsIndvcmRzIG9mIHdpc2RvbSIsIndvcmsgb3V0Iiwid291bGQgeW91IGJlbGlldmUiLCJ3cmlnaHQgZmx5ZXIiLCJ3cml0aW5nIGRlc2siLCJ4IGFsbCB0aGUgeSIsInh5bG9waG9uZSIsInlhZGEgeWFkYSIsInlhZGRhIHlhZGRhIHlhZGRhIiwieWVhaCByaWdodCIsInllYXIgZG90IiwieWVlIGhhdyIsInllbGxpbmcgZ29hdCIsInllbGxvdyBiZWxseSIsInllcyBkZWZpbml0ZWx5IiwieWVzIG1hJ2FtIiwieWVzIHNpciIsInllcyB0aGlzIGlzIGRvZyIsInlvdSBhcmUgaGFwcHkiLCJ5b3UgYXJlIGhlcmUiLCJ5b3UgY2FuIGRvIHRoaXMiLCJ5b3UgZG9uJ3Qgc2F5IiwieW91IGZpcnN0IiwieW91IGdvb2QiLCJ5b3UgaGF2ZSBteSBzdGFwbGVyIiwieW91IHJvY2siLCJ5b3UgdGhlIG1hbiIsInlvdSB3aW4iLCJ5b3UncmUgaW4gbXkgc3BvdCIsInlvdSdyZSBub3QgbGlzdGVuaW5nIiwieW91J3JlIHdlbGNvbWUiLCJ6aWcgemFnIiwiem9tYmllIGF0dGFjayIsInpvbWJpZSBwcm9tIiwid2hvIHdoYXQgd2hlcmUiLF07CiAgICBmdW5jdGlvbiBzb2x2ZW1lZChiKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkYXRhbGlzdCIpO2Euc2V0QXR0cmlidXRlKCJpZCIsImFkY29weV9waHJhc2VzIik7Zm9yKHZhciBjPTA7YzxQSFJBU0VTLmxlbmd0aDsrK2MpYS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoUEhSQVNFU1tjXSkpO2IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxiLm5leHRTaWJsaW5nKTtiLnNldEF0dHJpYnV0ZSgibGlzdCIsYS5pZCk7fWZvcih2YXIgc2NyaXB0cz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksaT0wO2k8c2NyaXB0cy5sZW5ndGg7KytpKWlmKHNjcmlwdHNbaV0uc3JjLmluZGV4T2YoInNvbHZlbWVkaWEuY29tIik+IC0xKXtkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLGZ1bmN0aW9uIGMoYSl7aWYoL15hZGNvcHlfcmVzcG9uc2UvLnRlc3QoYS50YXJnZXQuaWQpKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS50eXBlLGMpO3ZhciBiPWEudGFyZ2V0O3NvbHZlbWVkKGIpO2IuYmx1cigpO2IuZm9jdXMoKTt9fSk7YnJlYWs7fX0KfX0pKCk7"},{"name":"adLBypasser [v1.6] || Ouo.Io, Uii.Io, Exe.Io, Bc.Vc, Adf.Ly & More ✔ NO ADS","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.ouo.io/*","*://*.ouo.press/*","*://*.uii.io/*","*://*.passgen.icu/*","*://*.wordcounter.icu/*","*://*.exe.io/*","*://*.exey.io/*","*://*.exey.app/*","*://*.bc.vc/*","*://*.bcvc.live/*","*://*.bcvc.xyz/*","*://*.ouo.today/*","*://*.doaipomer.com/*","*://*.adf.ly/*","*://*.hurirk.net/*","*://*.usfinf.net/*","*://*.xervoo.net/*","*://*.pro/*","*://*.met.bz/*","*://*.shrinkearn.com/*","*://*.tei.ai/*","*://*.makemoneywithurl.com/*","*://*.clk.sh/*","*://*.iir.ai/*","*://*.shrink.pe/*","*://*.aii.sh/*","*://*.shrtfly.com/*","*://*.stfly.me/*","*://*.nbyts.online/*","*://*.shrinkurl.org/*","*://*.shrinkme.io/*","*://*.shrinke.me/*","*://*.smoner.com/*","*://*.shortearn.eu/*","*://*.adfoc.us/*","*://*.fc.lc/*","*://*.fc-lc.com/*","*://*.tr.link/*","*://*.aylink.co/*","*://*.yindex.xyz/*","*://*.gitizle.vip/*","*://*.uzunversiyon.xyz/*","*://*.shtms.co/*","*://*.findi.pro/*","*://*.gitlink.pro/*","*://*.bildirim.eu/*","*://*.bildirim.in/*","*://*.ppcnt.net/*","*://*.pnd.tl/*","*://*.pnd.one/*","*://*.pnd.money/*","*://*.pnd.fyi/*","*://*.pndx.live/*","*://*.shr.cash/*","*://*.acn.vin/*","*://*.pubiza.com/*","*://*.lnk.parts/*","*://*.lnkparts.com/*","*://*.zunsoach.com/*","*://*.urlcik.com/*","*://*.recaptcha.net/recaptcha/*","*://*.google.com/recaptcha/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671066989340,"data":{}},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/439469-adlbypasser-v1-6-ouo-io-uii-io-exe-io-bc-vc-adf-ly-more-no-ads/code/adLBypasser%20%5Bv16%5D%20%7C%7C%20OuoIo,%20UiiIo,%20ExeIo,%20BcVc,%20AdfLy%20%20More%20%E2%9C%94%20NO%20ADS.user.js","uuid":"321ab533-de0e-4aa7-a890-c64721b51978","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIE5PIEFEUwovLyBAbmFtZTphciAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg2KjYr9mI2YYg2KXYudmE2KfZhtin2KoKLy8gQG5hbWU6YmcgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUINCR0JXQlyDQoNCV0JrQm9CQ0JzQmAovLyBAbmFtZTpjcyAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgxb3DgUROw4kgUkVLTEFNWQovLyBAbmFtZTpkYSAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgSU5HRU4gQU5OT05DRVIKLy8gQG5hbWU6ZGUgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIEtFSU5FIFdFUkJVTkcKLy8gQG5hbWU6ZWwgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIM6nzqnOoc6ZzqMgzpTOmc6RzqbOl86czpnOo86VzpnOowovLyBAbmFtZTplbiAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgTk8gQURTCi8vIEBuYW1lOmVvICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBORU5JVUogUkVLTEFNT0oKLy8gQG5hbWU6ZXMgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIFNJTiBBTlVOQ0lPUwovLyBAbmFtZTpmaSAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgRUkgTUFJTk9LU0lBCi8vIEBuYW1lOmZyICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBQQVMgREUgUFVCUwovLyBAbmFtZTpmci1DQSAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgUEFTIERFIFBVQlMKLy8gQG5hbWU6aGUgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUINec15zXkCDXpNeo16HXldee15XXqgovLyBAbmFtZTpodSAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgTklOQ1NFTkVLIEhJUkRFVMOJU0VLCi8vIEBuYW1lOmlkICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBUQU5QQSBJS0xBTgovLyBAbmFtZTppdCAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgTkVTU1VOQSBQVUJCTElDSVTDgAovLyBAbmFtZTprbyAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg6rSR6rOgIOyXhuydjAovLyBAbmFtZTpqYSAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg5bqD5ZGK44Gq44GXCi8vIEBuYW1lOm5iICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBOTyBBRFMKLy8gQG5hbWU6bmwgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIEdFRU4gQURWRVJURU5USUVTCi8vIEBuYW1lOnBsICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBCRVogUkVLTEFNCi8vIEBuYW1lOnB0LUJSICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBOTyBBRFMKLy8gQG5hbWU6cm8gICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIEbEglLEgiBSRUNMQU1FCi8vIEBuYW1lOnJ1ICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCDQkdCV0Jcg0KDQldCa0JvQkNCc0KsKLy8gQG5hbWU6c2sgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIMW9SUFETkUgUkVLTEFNWQovLyBAbmFtZTpzciAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg0J3QldCc0JAg0J7Qk9Cb0JDQodCQCi8vIEBuYW1lOnN2ICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBJTkdBIEFOTk9OU0VSCi8vIEBuYW1lOnRoICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCDguYTguKHguYjguKHguLXguYLguIbguKnguJPguLIKLy8gQG5hbWU6dHIgICAgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIFJFS0xBTVNJWgovLyBAbmFtZTp1ayAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQg0J3QldCc0JDQhCDQoNCV0JrQm9CQ0JzQmAovLyBAbmFtZTp1ZyAgICAgICAgICAgIGFkTEJ5cGFzc2VyIFt2MS42XSB8fCBPdW8uSW8sIFVpaS5JbywgRXhlLklvLCBCYy5WYywgQWRmLkx5ICYgTW9yZSDinJQgTk8gQURTCi8vIEBuYW1lOnZpICAgICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCBLSMOUTkcgUVXhuqJORyBDw4FPCi8vIEBuYW1lOnpoLUNOICAgICAgICAgYWRMQnlwYXNzZXIgW3YxLjZdIHx8IE91by5JbywgVWlpLklvLCBFeGUuSW8sIEJjLlZjLCBBZGYuTHkgJiBNb3JlIOKclCDml6Dlub/lkYoKLy8gQG5hbWU6emgtVFcgICAgICAgICBhZExCeXBhc3NlciBbdjEuNl0gfHwgT3VvLklvLCBVaWkuSW8sIEV4ZS5JbywgQmMuVmMsIEFkZi5MeSAmIE1vcmUg4pyUIOeEoeW7o+WRigovLyBAZGVzY3JpcHRpb24gICAgICAgIFF1aWNrbHkgYWR2ZXJ0aXNpbmcgbGluayBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjphciAgICAg2KrYrti32Yog2KfZhNin2LnZhNin2YbYp9iqINio2LPYsdi52KkKLy8gQGRlc2NyaXB0aW9uOmJnICAgICDQkdGK0YDQt9C+INGA0LXQutC70LDQvNC90LAg0LLRgNGK0LfQutCwIGJ5cGFzcyDRgdC60YDQuNC/0YIKLy8gQGRlc2NyaXB0aW9uOmNzICAgICBSeWNobGUgcmVrbGFtbsOtIHByb3BvamVuw60gYnlwYXNzIHNrcmlwdAovLyBAZGVzY3JpcHRpb246ZGEgICAgIEh1cnRpZ3QgcmVrbGFtZSBsaW5rIGJ5cGFzcyBzY3JpcHQKLy8gQGRlc2NyaXB0aW9uOmRlICAgICBTY2huZWxsIHdlcmJ1bmcgbGluayBieXBhc3Mgc2tyaXB0Ci8vIEBkZXNjcmlwdGlvbjplbCAgICAgzpPPgc6uzrPOv8+BzrcgzrTOuc6xz4bOt868zrnPg8+EzrnOus6uIM+Dz43Ovc60zrXPg863IM60zq3Pg868zrfPgiDPg8+Nzr3OtM61z4POt8+CCi8vIEBkZXNjcmlwdGlvbjplbiAgICAgUXVpY2tseSBhZHZlcnRpc2luZyBsaW5rIGJ5cGFzcyBzY3JpcHQKLy8gQGRlc2NyaXB0aW9uOmVvICAgICBSYXBpZGUgcmVrbGFtYW50YSBsaWdpbG8gYnlwYXNzIHNjcmlwdAovLyBAZGVzY3JpcHRpb246ZXMgICAgIEVubGFjZSBkZSBwdWJsaWNpZGFkIHLDoXBpZGFtZW50ZSBkZWwgc2NyaXB0IGRlIGJ5cGFzcwovLyBAZGVzY3JpcHRpb246ZmkgICAgIE5vcGVhc3RpIG1haW5vcyBsaW5ra2kgb2hpdHVza8Okc2lraXJqb2l0dXMKLy8gQGRlc2NyaXB0aW9uOmZyICAgICBTY3JpcHQgZGUgYnlwYXNzIGRlIGxpYWlzb24gZGUgcHVibGljaXTDqSByYXBpZGUKLy8gQGRlc2NyaXB0aW9uOmZyLUNBICBTY3JpcHQgZGUgYnlwYXNzIGRlIGxpYWlzb24gZGUgcHVibGljaXTDqSByYXBpZGUKLy8gQGRlc2NyaXB0aW9uOmhlICAgICDXkdee15TXmdeo15XXqiDXpNeo16HXldedINen15nXqdeV16gg15zXoten15XXoyDXoden16jXmdek15gKLy8gQGRlc2NyaXB0aW9uOmh1ICAgICBHeW9yc2FuIGhpcmRldMOpc2kgbGluayBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjppZCAgICAgU2NyaXB0IGJ5cGFzcyB0YXV0YW4gaWtsYW4gY2VwYXQKLy8gQGRlc2NyaXB0aW9uOml0ICAgICBTY3JpcHQgZGkgYnlwYXNzIGRpIGNvbGxlZ2FtZW50byBwdWJibGljaXRhcmlvIHJhcGlkYW1lbnRlCi8vIEBkZXNjcmlwdGlvbjpqYSAgICAg6L+F6YCf44Gr44Oq44Oz44Kv44OQ44Kk44OR44K544K544Kv44Oq44OX44OI44KS5bqD5ZGK44GZ44KLCi8vIEBkZXNjcmlwdGlvbjprbyAgICAg7Iug7IaN7ZWY6rKMIOq0keqzoCDrp4Htgawg67CU7J20IO2MqOyKpCDsiqTtgazrpr3tirgKLy8gQGRlc2NyaXB0aW9uOm5iICAgICBRdWlja2x5IGFkdmVydGlzaW5nIGxpbmsgYnlwYXNzIHNjcmlwdAovLyBAZGVzY3JpcHRpb246bmwgICAgIFNuZWwgYWR2ZXJ0aXNpbmcgbGluayBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjpwbCAgICAgU3p5YmtpZSBza3J5cHQgb2JlasWbY2lhIGxpbmvDs3cgcmVrbGFtb3d5Y2gKLy8gQGRlc2NyaXB0aW9uOnB0LUJSICBRdWlja2x5IGFkdmVydGlzaW5nIGxpbmsgYnlwYXNzIHNjcmlwdAovLyBAZGVzY3JpcHRpb246cm8gICAgIFJhcGlkIHB1YmxpY2l0YXRlIGxpbmsgc2NyaXB0IGJ5cGFzcwovLyBAZGVzY3JpcHRpb246cnUgICAgINCR0YvRgdGC0YDQvtC1INGA0LXQutC70LDQvNC40YDRg9C50YLQtSDRgdC60YDQuNC/0YIg0L7QsdGF0L7QtNCwINGB0YHRi9C70LrQuAovLyBAZGVzY3JpcHRpb246c2sgICAgIFLDvWNobG8gcmVrbGFtbsO9IG9ka2F6IGJ5cGFzcyBzY3JpcHQKLy8gQGRlc2NyaXB0aW9uOnNyICAgICDQkdGA0LfQviDRgNC10LrQu9Cw0LzQvdC1INCy0LXQt9C1INCx0LjQv9Cw0LjRgiDRgdC60YDQuNC/0YLQsAovLyBAZGVzY3JpcHRpb246c3YgICAgIFNuYWJidCByZWtsYW0gbMOkbmsgYnlwYXNzIHNjcmlwdAovLyBAZGVzY3JpcHRpb246dGggICAgINCR0YDQt9C+INGA0LXQutC70LDQvNC90LUg0LLQtdC30LUg0LHQuNC/0LDQuNGCINGB0LrRgNC40L/RgtCwCi8vIEBkZXNjcmlwdGlvbjp0ciAgICAgSMSxemzEsSBiaXIgxZ9la2lsZGUgcmVrbGFtIGxpbmtpIGdlw6dtZSBiZXRpxJ9pCi8vIEBkZXNjcmlwdGlvbjp1ayAgICAg0KjQstC40LTQutC1INGA0LXQutC70LDQvNC90LUg0L/QvtGB0LjQu9Cw0L3QvdGPIGJ5cGFzcwovLyBAZGVzY3JpcHRpb246dWcgICAgIFF1aWNrbHkgYWR2ZXJ0aXNpbmcgbGluayBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjp2aSAgICAgTmhhbmggY2jDs25nIHF14bqjbmcgY8OhbyBsacOqbiBr4bq/dCBieXBhc3Mgc2NyaXB0Ci8vIEBkZXNjcmlwdGlvbjp6aC1DTiAg5b+r6YCf5bm/5ZGK6ZO+5o6l5peB6Lev6ISa5pysCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg5b+r6YCf5buj5ZGK6Y+I5o6l5peB6Lev6IWz5pysCi8vIEBhdXRob3IgICAgICAgICAgICAgZmlyNHRvemRlbgovLyBAdmVyc2lvbiAgICAgICAgICAgIDEuNgovLyBAbGljZW5zZSAgICAgICAgICAgIE1JVAovLyBAbmFtZXNwYWNlICAgICAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvdXNlcnMvODIxMzE3Ci8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoub3VvLmlvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5vdW8ucHJlc3MvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnVpaS5pby8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoucGFzc2dlbi5pY3UvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLndvcmRjb3VudGVyLmljdS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZXhlLmlvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5leGV5LmlvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5leGV5LmFwcC8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouYmMudmMvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmJjdmMubGl2ZS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouYmN2Yy54eXovKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLm91by50b2RheS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZG9haXBvbWVyLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouYWRmLmx5LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5odXJpcmsubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi51c2ZpbmYubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi54ZXJ2b28ubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wcm8vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLm1ldC5iei8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouc2hyaW5rZWFybi5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnRlaS5haS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoubWFrZW1vbmV5d2l0aHVybC5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmNsay5zaC8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouaWlyLmFpLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zaHJpbmsucGUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmFpaS5zaC8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouc2hydGZseS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnN0Zmx5Lm1lLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5uYnl0cy5vbmxpbmUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnNocmlua3VybC5vcmcvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnNocmlua21lLmlvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zaHJpbmtlLm1lLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zbW9uZXIuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zaG9ydGVhcm4uZXUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmFkZm9jLnVzLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5mYy5sYy8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZmMtbGMuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi50ci5saW5rLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5heWxpbmsuY28vKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnlpbmRleC54eXovKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmdpdGl6bGUudmlwLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi51enVudmVyc2l5b24ueHl6LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5zaHRtcy5jby8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZmluZGkucHJvLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5naXRsaW5rLnByby8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouYmlsZGlyaW0uZXUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmJpbGRpcmltLmluLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wcGNudC5uZXQvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnBuZC50bC8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoucG5kLm9uZS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyoucG5kLm1vbmV5LyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wbmQuZnlpLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wbmR4LmxpdmUvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLnNoci5jYXNoLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5hY24udmluLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5wdWJpemEuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5sbmsucGFydHMvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICo6Ly8qLmxua3BhcnRzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouenVuc29hY2guY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi51cmxjaWsuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAqOi8vKi5yZWNhcHRjaGEubmV0L3JlY2FwdGNoYS8qCi8vIEBtYXRjaCAgICAgICAgICAgICAgKjovLyouZ29vZ2xlLmNvbS9yZWNhcHRjaGEvKgovLyBAaWNvbiAgICAgICAgICAgICAgIGh0dHBzOi8vaS5pYmIuY28vY2JjMnBKNS91bmtub3duLnBuZwovLyBAcmVxdWlyZSAgICAgICAgICAgIGh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0zLjYuMC5taW4uanMKLy8gPT0vVXNlclNjcmlwdD09CgokKGZ1bmN0aW9uICgpIHsKICAgIGxldCBlID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpCiAgICAgICAgLCB0ID0ge307CiAgICBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoIm91by5pbyIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJvdW8ucHJlc3MiKSkKICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgiL2dvIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAkKCIjZm9ybS1nbyIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJtaXQoKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2Zvcm0tZ28iKQogICAgICAgICAgICAgICAgLm9uKCJzdWJtaXQiLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiLiIpCiAgICAgICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgJCgiI2Zvcm0tY2FwdGNoYSIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJtaXQoKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2Zvcm0tY2FwdGNoYSIpCiAgICAgICAgICAgICAgICAub24oInN1Ym1pdCIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInBhc3NnZW4uaWN1IikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoIndvcmRjb3VudGVyLmljdSIpKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDVlMyk7CiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKSkgewogICAgICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi0iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi4iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgICAgICB0W2VdID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICExID09PSAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5pcygiOmRpc2FibGVkIikgJiYgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgLm9uKCJjbGljayIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiZXhleS5pbyIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJleGV5LmFwcCIpKQogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpKSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgICAgICAgICBfbWV0aG9kOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfbWV0aG9kJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBfY3NyZlRva2VuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfY3NyZlRva2VuJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBhZF9mb3JtX2RhdGE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bdW5sb2NrZWRdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW3VubG9ja2VkXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgfSwgZSA9PiB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICAgICAgfSkKICAgICAgICB9LCAxZTQpOwogICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikpIHsKICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgIC5pcygiOmRpc2FibGVkIikgJiYgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgIC5jbGljaygpCiAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgLm9uKCJjbGljayIsIG4gPT4gewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICB9KQogICAgfSBlbHNlIHsKICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAkKCIjYmVmb3JlLWNhcHRjaGEiKQogICAgICAgICAgICAgICAgICAgIC5zdWJtaXQoKQogICAgICAgICAgICB9LCAxZTMpLCAkKCIjYmVmb3JlLWNhcHRjaGEiKQogICAgICAgICAgICAub24oInN1Ym1pdCIsIG4gPT4gewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICB9KQogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiYmN2Yy54eXoiKSB8fCBsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiYmN2Yy5saXZlIikpICQucG9zdCgiL2xuLnBocD93ZHM9IiArIHh5eiwgewogICAgICAgIHhkZjogewogICAgICAgICAgICBhZmc6IHRaCiAgICAgICAgICAgICwgYmZnOiBjVwogICAgICAgICAgICAsIGNmZzogY0gKICAgICAgICAgICAgLCBqa2k6IHRrbgogICAgICAgICAgICAsIGRmZzogc1cKICAgICAgICAgICAgLCBlZmc6IHNICiAgICAgICAgICAgICwgcnQ6ICQoIiNyZWNhcHRjaGFUb2tlbiIpCiAgICAgICAgICAgICAgICAudmFsKCkKICAgICAgICB9CiAgICAgICAgLCBvams6ICJqZmhnIgogICAgfSwgZSA9PiB7CiAgICAgICAgZSA9IEpTT04ucGFyc2UoZSksIGxvY2F0aW9uLmhyZWYgPSBlLm1lc3NhZ2UudXJsCiAgICB9KTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJvdW8udG9kYXkiKSkgbG9jYXRpb24uaHJlZiA9IG5leHRVcmw7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiZG9haXBvbWVyLmNvbSIpKSB3aW5kb3cuY2xvc2UoKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJodXJpcmsubmV0IikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInVzZmluZi5uZXQiKSB8fCBsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgieGVydm9vLm5ldCIpKQogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCIvYWQvbG9ja2VkIikpIGxvY2F0aW9uLmhyZWYgPSAiLy0iICsgZS5nZXQoImgiKSArICIvIiArIGUuZ2V0KCJ1cmwiKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICQoIiNza2lwX2J1MnR0b24iKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJocmVmIikgJiYgKGNsZWFySW50ZXJ2YWwodFtlXSksIGxvY2F0aW9uLmhyZWYgPSBkZWNvZGVVUklDb21wb25lbnQoJCgiI3NraXBfYnUydHRvbiIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCJocmVmIikKICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCJkZXN0PSIpWzFdKSkKICAgICAgICAgICAgfSwgMWUzKQogICAgICAgIH0KICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCIucHJvIikgJiYgbG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgiL3B1c2hyZWRpcmVjdCIpKSBsb2NhdGlvbi5ocmVmID0gZS5nZXQoImRlc3QiKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJtZXQuYnoiKSkgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgX21ldGhvZDogJCgiaW5wdXRbbmFtZT0nX21ldGhvZCddIikKICAgICAgICAgICAgLnZhbCgpCiAgICAgICAgLCBhbGlhczogJCgiaW5wdXRbbmFtZT0nYWxpYXMnXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgX2NzcmZUb2tlbjogJCgiaW5wdXRbbmFtZT0nX2NzcmZUb2tlbiddIikKICAgICAgICAgICAgLnZhbCgpCiAgICAgICAgLCBjaTogJCgiaW5wdXRbbmFtZT0nY2knXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgY3VpOiAkKCJpbnB1dFtuYW1lPSdjdWknXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgY2lpOiAkKCJpbnB1dFtuYW1lPSdjaWknXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgcmVmOiAkKCJpbnB1dFtuYW1lPSdyZWYnXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogJCgiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgIC52YWwoKQogICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiAkKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAudmFsKCkKICAgIH0sIGUgPT4gewogICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgfSk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgidGVpLmFpIikpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKSkgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICQucG9zdCgiL2xpbmtzL2dvIiwgewogICAgICAgICAgICAgICAgX21ldGhvZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX21ldGhvZCddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgYWRfZm9ybV9kYXRhOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgIH0sIGUgPT4gewogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGUudXJsCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwgMWU0KTsKICAgICAgICBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY29udGludWUiKSkgewogICAgICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi0iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi4iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgICAgICB0W2VdID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICExID09PSAkKCIjY29udGludWUiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNjb250aW51ZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljaygpCiAgICAgICAgICAgICAgICB9LCAxZTMpLCAkKCIjY29udGludWUiKQogICAgICAgICAgICAgICAgLm9uKCJjbGljayIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgibWFrZW1vbmV5d2l0aHVybC5jb20iKSkgJCgiI2hpZGRlbiBmb3JtIikKICAgICAgICAuc3VibWl0KCk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiaWlyLmFpIikpCiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDFlNCk7CiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKSkgewogICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAuc3BsaXQoIi4iKQogICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICExID09PSAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgLmlzKCI6ZGlzYWJsZWQiKSAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAub24oImNsaWNrIiwgbiA9PiB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgIH0pCiAgICB9IGVsc2UgJCgiYnV0dG9uW3R5cGU9J3N1Ym1pdCddIikKICAgICAgICAuY2xpY2soKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJhaWkuc2giKSkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpKSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgICAgICAgICBfbWV0aG9kOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfbWV0aG9kJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBfY3NyZlRva2VuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfY3NyZlRva2VuJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBhZF9mb3JtX2RhdGE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bdW5sb2NrZWRdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW3VubG9ja2VkXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgfSwgZSA9PiB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICAgICAgfSkKICAgICAgICB9LCA1ZTMpOwogICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgIC5vbigiY2xpY2siLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInN0Zmx5Lm1lIikpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikgPyBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgICAgICAgICBfbWV0aG9kOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfbWV0aG9kJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBfY3NyZlRva2VuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfY3NyZlRva2VuJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBhZF9mb3JtX2RhdGE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bdW5sb2NrZWRdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW3VubG9ja2VkXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgfSwgZSA9PiB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICAgICAgfSkKICAgICAgICB9LCA1ZTMpIDogJCgiI3N1Ym1pdF9kYXRhIikKICAgICAgICAuc3VibWl0KCk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgibmJ5dHMub25saW5lIikpCiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRMaW5rIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgIC5vbigiY2xpY2siLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSBsb2NhdGlvbi5ocmVmID0gJCgiI3N1cmwiKQogICAgICAgICAgICAuYXR0cigiaHJlZiIpOwogICAgZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInNocmlua3VybC5vcmciKSkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpKSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgICAgICAgICBfbWV0aG9kOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfbWV0aG9kJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBfY3NyZlRva2VuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfY3NyZlRva2VuJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCBhZF9mb3JtX2RhdGE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlbltmaWVsZHNdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW2ZpZWxkc10nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bdW5sb2NrZWRdIjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX1Rva2VuW3VubG9ja2VkXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgfSwgZSA9PiB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICAgICAgfSkKICAgICAgICB9LCAxNWUzKTsKICAgICAgICBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpKSB7CiAgICAgICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiLiIpCiAgICAgICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgITEgPT09ICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmlzKCI6ZGlzYWJsZWQiKSAmJiAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljaygpCiAgICAgICAgICAgICAgICB9LCAxZTMpLCAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAub24oImNsaWNrIiwgbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJzaHJpbmtlLm1lIikpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKSkgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICQucG9zdCgiL2xpbmtzL2dvIiwgewogICAgICAgICAgICAgICAgX21ldGhvZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX21ldGhvZCddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgX2NzcmZUb2tlbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX2NzcmZUb2tlbiddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgYWRfZm9ybV9kYXRhOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bZmllbGRzXSI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19Ub2tlbltmaWVsZHNdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW3VubG9ja2VkXSI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19Ub2tlblt1bmxvY2tlZF0nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgIH0sIGUgPT4gewogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGUudXJsCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwgMTJlMyk7CiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKSkgewogICAgICAgICAgICBsZXQgZSA9IChsb2NhdGlvbi5ob3N0bmFtZSArIERhdGUubm93KCkpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi0iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIl8iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpCiAgICAgICAgICAgICAgICAuc3BsaXQoIi4iKQogICAgICAgICAgICAgICAgLmpvaW4oIiIpOwogICAgICAgICAgICB0W2VdID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICExID09PSAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5pcygiOmRpc2FibGVkIikgJiYgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgLm9uKCJjbGljayIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgic21vbmVyLmNvbSIpKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDE1ZTMpOwogICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgIC5vbigiY2xpY2siLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInNob3J0ZWFybi5ldSIpKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDE1ZTMpOwogICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikpIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkKICAgICAgICAgICAgICAgIH0sIDFlMyksICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgIC5vbigiY2xpY2siLCBuID0+IHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRbZV0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoImFkZm9jLnVzIikpIGNsaWNrX3VybCAmJiAobG9jYXRpb24uaHJlZiA9IGNsaWNrX3VybCk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiZmMtbGMuY29tIikpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikgJiYgJC5wb3N0KCIvbGlua3MvZ28iLCB7CiAgICAgICAgYWRfZm9ybV9kYXRhOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpCiAgICAgICAgICAgIC52YWx1ZQogICAgfSwgZSA9PiB7CiAgICAgICAgbG9jYXRpb24uaHJlZiA9IGUudXJsCiAgICB9KTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJheWxpbmsuY28iKSB8fCBsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgieWluZGV4Lnh5eiIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJnaXRpemxlLnZpcCIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJ1enVudmVyc2l5b24ueHl6IikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInNodG1zLmNvIikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoImZpbmRpLnBybyIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJnaXRsaW5rLnBybyIpKSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgYXBwICYmIGFwcC5jc3JmICYmICQucG9zdCgiL2dldC90ayIsIHsKICAgICAgICBfYTogX2EKICAgICAgICAsIF90OiBfdAogICAgICAgICwgX2Q6IF9kCiAgICB9LCBlID0+IHsKICAgICAgICAkLnBvc3QoIi9saW5rcy9nbzIiLCB7CiAgICAgICAgICAgIGFsaWFzOiBsb2NhdGlvbi5wYXRobmFtZS5zdWJzdHIoMSwgbG9jYXRpb24ucGF0aG5hbWUubGVuZ3RoIC0gMSkKICAgICAgICAgICAgLCBjc3JmOiBhcHAuY3NyZgogICAgICAgICAgICAsIHRrbjogZS50aAogICAgICAgIH0sIGUgPT4gewogICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZS51cmwKICAgICAgICB9KQogICAgfSk7CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiYmlsZGlyaW0uZXUiKSB8fCBsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiYmlsZGlyaW0uaW4iKSkgJCgiI2J0blBlcm1pc3Npb24iKQogICAgICAgIC5jbGljaygpOwogICAgZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInBwY250Lm5ldCIpKSB3aW5kb3cuY2xvc2UoKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJwbmQub25lIikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInBuZC5tb25leSIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJwbmQuZnlpIikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInBuZHgubGl2ZSIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJzaHIuY2FzaCIpIHx8IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJhY24udmluIikpCiAgICAgICAgaWYgKCQoImlucHV0W25hbWU9J2FkX2Zvcm1fZGF0YSddIikgJiYgJCgiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAudmFsKCkpIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAkLnBvc3QoIi9saW5rcy9nbyIsIHsKICAgICAgICAgICAgICAgIF9tZXRob2Q6ICQoImlucHV0W25hbWU9J19tZXRob2QnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbCgpCiAgICAgICAgICAgICAgICAsIF9jc3JmVG9rZW46ICQoImlucHV0W25hbWU9J19jc3JmVG9rZW4nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbCgpCiAgICAgICAgICAgICAgICAsIGFkX2Zvcm1fZGF0YTogJCgiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWwoKQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW2ZpZWxkc10iOiAkKCJpbnB1dFtuYW1lPSdfVG9rZW5bZmllbGRzXSddIikKICAgICAgICAgICAgICAgICAgICAudmFsKCkKICAgICAgICAgICAgICAgICwgIl9Ub2tlblt1bmxvY2tlZF0iOiAkKCJpbnB1dFtuYW1lPSdfVG9rZW5bdW5sb2NrZWRdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWwoKQogICAgICAgICAgICB9LCBlID0+IHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBlLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sIDFlNCk7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiLiIpCiAgICAgICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgJCgiI2xpbmstdmlldyIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJtaXQoKQogICAgICAgICAgICAgICAgfSwgMWUzKSwgJCgiI2xpbmstdmlldyIpCiAgICAgICAgICAgICAgICAub24oInN1Ym1pdCIsIG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodFtlXSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoImxuay5wYXJ0cyIpKQogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCIvZ28iKSkgJCgiaGVhZCIpCiAgICAgICAgICAgIC5hcHBlbmQoJzxzY3JpcHQ+JCgiI3NraXBfZm9ybSIpLnN1Ym1pdCgpOzxcL3NjcmlwdD4nKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbGV0IGUgPSAobG9jYXRpb24uaG9zdG5hbWUgKyBEYXRlLm5vdygpKQogICAgICAgICAgICAgICAgLnNwbGl0KCItIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCJfIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKQogICAgICAgICAgICAgICAgLnNwbGl0KCIuIikKICAgICAgICAgICAgICAgIC5qb2luKCIiKTsKICAgICAgICAgICAgdFtlXSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAhMSA9PT0gJCgiI2NzdWJtaXQiKQogICAgICAgICAgICAgICAgICAgICAgICAuaXMoIjpkaXNhYmxlZCIpICYmICgkKCIjY3N1Ym1pdCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soKSwgJCgiI2NzdWJtaXQiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCkpCiAgICAgICAgICAgICAgICB9LCAxZTMpLCAkKCIjY3N1Ym1pdCIpCiAgICAgICAgICAgICAgICAub24oImNsaWNrIiwgbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgibG5rcGFydHMuY29tIikgfHwgbG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoInp1bnNvYWNoLmNvbSIpKSB3aW5kb3cuY2xvc2UoKTsKICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJ1cmxjaWsuY29tIikpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nYWRfZm9ybV9kYXRhJ10iKSkgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICQucG9zdCgiL2xpbmtzL2dvIiwgewogICAgICAgICAgICAgICAgX21ldGhvZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX21ldGhvZCddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgX2NzcmZUb2tlbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT0nX2NzcmZUb2tlbiddIikKICAgICAgICAgICAgICAgICAgICAudmFsdWUKICAgICAgICAgICAgICAgICwgYWRfZm9ybV9kYXRhOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdhZF9mb3JtX2RhdGEnXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgICAgICAsICJfVG9rZW5bZmllbGRzXSI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19Ub2tlbltmaWVsZHNdJ10iKQogICAgICAgICAgICAgICAgICAgIC52YWx1ZQogICAgICAgICAgICAgICAgLCAiX1Rva2VuW3VubG9ja2VkXSI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J19Ub2tlblt1bmxvY2tlZF0nXSIpCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlCiAgICAgICAgICAgIH0sIGUgPT4gewogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGUudXJsCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwgNWUzKTsKICAgICAgICBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpKSB7CiAgICAgICAgICAgIGxldCBlID0gKGxvY2F0aW9uLmhvc3RuYW1lICsgRGF0ZS5ub3coKSkKICAgICAgICAgICAgICAgIC5zcGxpdCgiLSIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiXyIpCiAgICAgICAgICAgICAgICAuam9pbigiIikKICAgICAgICAgICAgICAgIC5zcGxpdCgiLiIpCiAgICAgICAgICAgICAgICAuam9pbigiIik7CiAgICAgICAgICAgIHRbZV0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgITEgPT09ICQoIiNpbnZpc2libGVDYXB0Y2hhU2hvcnRsaW5rIikKICAgICAgICAgICAgICAgICAgICAgICAgLmlzKCI6ZGlzYWJsZWQiKSAmJiAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljaygpCiAgICAgICAgICAgICAgICB9LCAxZTMpLCAkKCIjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluayIpCiAgICAgICAgICAgICAgICAub24oImNsaWNrIiwgbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0W2VdKQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9IGVsc2UgbG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgiL3JlY2FwdGNoYSIpICYmIHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAkKCIucmVjYXB0Y2hhLWNoZWNrYm94LWNoZWNrbWFyayIpCiAgICAgICAgICAgIC5jbGljaygpCiAgICB9LCAxZTMpCn0pOw==","requires":[{"meta":{"name":"jquery-3.6.0.min.js","url":"https://code.jquery.com/jquery-3.6.0.min.js","ts":1671066989338,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="}]},{"name":"YouTube评论翻译按钮","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://www.youtube.com/*","*://www.youtube.com/watch*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671066989341,"data":{}},"enabled":true,"position":7,"file_url":"https://greasyfork.org/scripts/456108-youtube%E8%AF%84%E8%AE%BA%E7%BF%BB%E8%AF%91%E6%8C%89%E9%92%AE/code/YouTube%E8%AF%84%E8%AE%BA%E7%BF%BB%E8%AF%91%E6%8C%89%E9%92%AE.user.js","uuid":"d768c0f6-5e83-409c-a9fa-75d43f8cec09","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgWW91VHViZeivhOiuuue/u+ivkeaMiemSrgovLyBAbmFtZTphZiAgICAgICAgICBZb3V0dWJlIG9wbWVya2luZyB2ZXJ0YWxpbmcga25vcHBpZQovLyBAbmFtZTpheiAgICAgICAgICBZb3V0dWJlIMWfyZlyaCB0yZlyY8O8bcmZIGTDvHltyZlzaQovLyBAbmFtZTppZCAgICAgICAgICBUb21ib2wgdGVyamVtYWhhbiBrb21lbnRhciBZb3V0dWJlCi8vIEBuYW1lOm1zICAgICAgICAgIEJ1dGFuZyB0ZXJqZW1haGFuIHVsYXNhbiBZb3V0dWJlCi8vIEBuYW1lOmJzICAgICAgICAgIER1Z21lIHphIHByaWpldm9kIGtvbWVudGFyYSBuYSBZb3V0dWJlLXUKLy8gQG5hbWU6Y2EgICAgICAgICAgQm90w7MgZGUgdHJhZHVjY2nDsyBkZSBjb21lbnRhcmlzIGRlIFlvdXR1YmUKLy8gQG5hbWU6Y3MgICAgICAgICAgVGxhxI3DrXRrbyBwxZlla2xhZHUga29tZW50w6HFmWUgbmEgWW91VHViZQovLyBAbmFtZTpkYSAgICAgICAgICBZb3V0dWJlIGtvbW1lbnRhcm92ZXJzw6Z0dGVsc2Vza25hcAovLyBAbmFtZTpkZSAgICAgICAgICBTY2hhbHRmbMOkY2hlIHp1ciDDnGJlcnNldHp1bmcgdm9uIFlvdXR1YmUtS29tbWVudGFyZW4KLy8gQG5hbWU6ZXQgICAgICAgICAgWW91dHViZSdpIGtvbW1lbnRhYXJpZGUgdMO1bGtpbWlzZSBudXBwCi8vIEBuYW1lOmVuICAgICAgICAgIFlvdXR1YmUgY29tbWVudCB0cmFuc2xhdGlvbiBidXR0b24KLy8gQG5hbWU6ZXMgICAgICAgICAgQm90w7NuIGRlIHRyYWR1Y2Npw7NuIGRlIGNvbWVudGFyaW9zIGRlIFlvdXR1YmUKLy8gQG5hbWU6ZXUgICAgICAgICAgWW91dHViZWtvIGlydXpraW5hayBpdHp1bHR6ZWtvIGJvdG9pYQovLyBAbmFtZTpmciAgICAgICAgICBCb3V0b24gZGUgdHJhZHVjdGlvbiBkZXMgY29tbWVudGFpcmVzIFlvdXR1YmUKLy8gQG5hbWU6Z2wgICAgICAgICAgQm90w7NuIGRlIHRyYWR1Y2nDs24gZGUgY29tZW50YXJpb3MgZGUgWW91dHViZQovLyBAbmFtZTpociAgICAgICAgICBZb3V0dWJlIGd1bWIgemEgcHJpamV2b2Qga29tZW50YXJhCi8vIEBuYW1lOnp1ICAgICAgICAgIElua2lub2JobyB5b2t1aHVtdXNoYSBhbWF6d2FuYSBlLVlvdVR1YmUKLy8gQG5hbWU6aXMgICAgICAgICAgw57DvcOwaW5nYXJobmFwcHVyIFlvdVR1YmUgYXRodWdhc2VtZGEKLy8gQG5hbWU6aXQgICAgICAgICAgUHVsc2FudGUgZGkgdHJhZHV6aW9uZSBkZWkgY29tbWVudGkgZGkgWW91dHViZQovLyBAbmFtZTpzdyAgICAgICAgICBLaXR1ZmUgY2hhIGt1dGFmc2lyaSBtYW9uaSBrd2VueWUgWW91dHViZQovLyBAbmFtZTpsdiAgICAgICAgICBZb3V0dWJlIGtvbWVudMSBcnUgdHVsa2/FoWFuYXMgcG9nYQovLyBAbmFtZTpsdCAgICAgICAgICBZb3V0dWJlIGtvbWVudGFybyB2ZXJ0aW1vIG15Z3R1a2FzCi8vIEBuYW1lOmh1ICAgICAgICAgIFlvdXR1YmUgbWVnamVneXrDqXMgZm9yZMOtdMOhcyBnb21iCi8vIEBuYW1lOm5sICAgICAgICAgIFZlcnRhYWxrbm9wIHZvb3IgWW91VHViZS1jb21tZW50YWFyCi8vIEBuYW1lOnV6ICAgICAgICAgIFlvdXR1YmUgc2hhcmhpbmkgdGFyamltYSBxaWxpc2ggdHVnbWFzaQovLyBAbmFtZTpwbCAgICAgICAgICBQcnp5Y2lzayB0xYJ1bWFjemVuaWEga29tZW50YXJ6eSBuYSBZb3VUdWJlCi8vIEBuYW1lOnB0ICAgICAgICAgIEJvdMOjbyBkZSB0cmFkdcOnw6NvIGRlIGNvbWVudMOhcmlvcyBkbyBZb3V0dWJlCi8vIEBuYW1lOnJvICAgICAgICAgIEJ1dG9uIGRlIHRyYWR1Y2VyZSBhIGNvbWVudGFyaWlsb3IgWW91dHViZQovLyBAbmFtZTpzcSAgICAgICAgICBCdXRvbmkgaSBww6tya3RoaW1pdCB0w6sga29tZW50ZXZlIG7DqyBZb3V0dWJlCi8vIEBuYW1lOnNrICAgICAgICAgIFRsYcSNaWRsbyBwcmVrbGFkdSBrb21lbnTDoXJvdiBuYSBZb3VUdWJlCi8vIEBuYW1lOnNsICAgICAgICAgIEd1bWIgemEgcHJldm9kIGtvbWVudGFyamV2IFlvdXR1YmUKLy8gQG5hbWU6c3IgICAgICAgICAg0JTRg9Cz0LzQtSDQt9CwINC/0YDQtdCy0L7QtCDQutC+0LzQtdC90YLQsNGA0LAg0L3QsCDQmNC+0YPRgtGD0LHQtS3RgwovLyBAbmFtZTpmaSAgICAgICAgICBZb3V0dWJlLWtvbW1lbnR0aWVuIGvDpMOkbm7DtnNwYWluaWtlCi8vIEBuYW1lOnN2ICAgICAgICAgIFlvdXR1YmUta29tbWVudGFyw7Z2ZXJzw6R0dG5pbmdza25hcHAKLy8gQG5hbWU6dmkgICAgICAgICAgTsO6dCBk4buLY2ggYsOsbmggbHXhuq1uIFlvdXR1YmUKLy8gQG5hbWU6dHIgICAgICAgICAgWW91dHViZSB5b3J1bSDDp2V2aXJpIGJ1dG9udQovLyBAbmFtZTpiZSAgICAgICAgICDQmtC90L7Qv9C60LAg0L/QtdGA0LDQutC70LDQtNGDINC60LDQvNC10L3RgtCw0YDRi9GP0Z4gWW91dHViZQovLyBAbmFtZTpiZyAgICAgICAgICDQkdGD0YLQvtC9INC30LAg0L/RgNC10LLQvtC0INC90LAg0LrQvtC80LXQvdGC0LDRgNC4INCyIFlvdXR1YmUKLy8gQG5hbWU6a3kgICAgICAgICAgWW91dHViZSDQutC+0LzQvNC10L3RgtCw0YDQuNC5INC60L7RgtC+0YDRg9GDINCx0LDRgdC60YvRh9GLCi8vIEBuYW1lOmtrICAgICAgICAgIFlvdXR1YmUg0L/RltC60ZbRgNGW0L0g0LDRg9C00LDRgNGDINGC0q/QudC80LXRgdGWCi8vIEBuYW1lOm1rICAgICAgICAgINCa0L7Qv9GH0LUg0LfQsCDQv9GA0LXQstC+0LQg0L3QsCDQutC+0LzQtdC90YLQsNGA0Lgg0L3QsCBZb3VUdWJlCi8vIEBuYW1lOm1uICAgICAgICAgIFlvdXR1YmUg0YHRjdGC0LPRjdCz0LTQu9C40LnQsyDQvtGA0YfRg9GD0LvQsNGFINGC0L7QstGHCi8vIEBuYW1lOnJ1ICAgICAgICAgINCa0L3QvtC/0LrQsCDQv9C10YDQtdCy0L7QtNCwINC60L7QvNC80LXQvdGC0LDRgNC40LXQsiDQvdCwIFlvdXR1YmUKLy8gQG5hbWU6dWsgICAgICAgICAg0JrQvdC+0L/QutCwINC/0LXRgNC10LrQu9Cw0LTRgyDQutC+0LzQtdC90YLQsNGA0ZbQsiBZb3V0dWJlCi8vIEBuYW1lOmVsICAgICAgICAgIM6azr/Phc68z4DOryDOvM61z4TOrM+Gz4HOsc+DzrfPgiDPg8+Hzr/Ou86vz4nOvSDPg8+Ezr8gWW91dHViZQovLyBAbmFtZTpoeSAgICAgICAgICBZb3V0dWJlINW01aXVr9W21aHVotWh1bbVuNaC1anVtdW41oLVttW21aXWgNWrINWp1aHWgNWj1bTVodW21bjWgtWp1bXVodW2INWv1bjVs9Wh1a8KLy8gQG5hbWU6dXIgICAgICAgICAg24zZiNm524zZiNioINiq2KjYtdix25Ig2qnYpyDYqtix2KzZhduBINio2bnZhgovLyBAbmFtZTphciAgICAgICAgICDYstixINiq2LHYrNmF2Kkg2KfZhNiq2LnZhNmK2YIg2LnZhNmJINin2YTZitmI2KrZitmI2KgKLy8gQG5hbWU6ZmEgICAgICAgICAg2K/aqdmF2Ycg2KrYsdis2YXZhyDZhti42LEg24zZiNiq24zZiNioCi8vIEBuYW1lOm5lICAgICAgICAgIFlvdXR1YmUg4KSf4KS/4KSq4KWN4KSq4KSj4KWAIOCkheCkqOClgeCkteCkvuCkpiDgpKzgpJ/gpKgKLy8gQG5hbWU6bXIgICAgICAgICAgWW91VHViZSDgpJ/gpL/gpKrgpY3gpKrgpKPgpYAg4KSt4KS+4KS34KS+4KSC4KSk4KSwIOCkrOCkn+CkowovLyBAbmFtZTpoaSAgICAgICAgICDgpK/gpYLgpJ/gpY3gpK/gpYLgpKwg4KSf4KS/4KSq4KWN4KSq4KSj4KWAIOCkheCkqOClgeCkteCkvuCkpiDgpKzgpJ/gpKgKLy8gQG5hbWU6YXMgICAgICAgICAgWW91dHViZSBjb21tZW50IOCmheCmqOCngeCmrOCmvuCmpiDgpqzgp4Hgpp/gpr7gpq4KLy8gQG5hbWU6Ym4gICAgICAgICAg4KaH4KaJ4Kaf4Ka/4KaJ4KasIOCmruCmqOCnjeCmpOCmrOCnjeCmryDgpoXgpqjgp4Hgpqzgpr7gpqYg4Kas4KeL4Kak4Ka+4KauCi8vIEBuYW1lOnBhICAgICAgICAgIOCor+CpguCon+Cov+CoiuCorCDgqJ/gqL/gqbHgqKrgqKPgqYAg4KiF4Kio4KmB4Ki14Ki+4KimIOCorOCon+CoqAovLyBAbmFtZTpndSAgICAgICAgICBZb3VUdWJlIOCqn+Cqv+CqquCrjeCqquCqo+CrgCDgqoXgqqjgq4HgqrXgqr7gqqYg4Kqs4Kqf4KqoCi8vIEBuYW1lOm9yICAgICAgICAgIOCtn+CtgeCsn+CtjeCtn+CtgeCsrOCtjSDgrK7grKjgrY3grKTgrKzgrY3grZ8g4KyF4Kyo4K2B4Kys4Ky+4KymIOCsrOCsn+CsqOCtjSB8Ci8vIEBuYW1lOnRhICAgICAgICAgIFlvdXR1YmUg4K6V4K6w4K+B4K6k4K+N4K6k4K+BIOCuruCviuCutOCuv+CuquCvhuCur+CusOCvjeCuquCvjeCuquCvgSDgrqrgr4rgrqTgr43grqTgrr7grqngr40KLy8gQG5hbWU6dGUgICAgICAgICAgWW91dHViZSDgsLXgsY3gsK/gsL7gsJbgsY3gsK8g4LCF4LCo4LGB4LC14LC+4LCm4LCCIOCwrOCwn+CwqOCxjQovLyBAbmFtZTprbiAgICAgICAgICDgsq/gs4Hgsp/gs43gsq/gs4Lgsqzgs40g4LKV4LK+4LKu4LOG4LKC4LKf4LONIOCyheCyqOCzgeCyteCyvuCypiDgsqzgsp/gsqjgs40KLy8gQG5hbWU6bWwgICAgICAgICAgWW91dHViZSDgtJXgtK7gtKjgtY3gtLHgtY0g4LS14LS/4LS14LW84LSk4LWN4LSk4LSoIOC0rOC0n+C1jeC0n+C1ugovLyBAbmFtZTpzaSAgICAgICAgICBZb3V0dWJlIOC2heC2r+C3hOC3g+C3iiDgtrTgtrvgt5Lgt4Dgtrvgt4rgtq3gtrEg4La24Lec4Lat4LeK4Lat4La4Ci8vIEBuYW1lOnRoICAgICAgICAgIOC4m+C4uOC5iOC4oeC5geC4m+C4peC4hOC4p+C4suC4oeC4hOC4tOC4lOC5gOC4q+C5h+C4mSBZb3V0dWJlCi8vIEBuYW1lOmxvICAgICAgICAgIOC6m+C6uOC7iOC6oeC7geC6m+C6hOC6s+C7gOC6q+C6seC6mSBZb3V0dWJlCi8vIEBuYW1lOm15ICAgICAgICAgIFlvdXR1YmUg4YCZ4YC+4YCQ4YC64YCB4YC74YCA4YC6IOGAmOGArOGAnuGArOGAleGAvOGAlOGAuuGAgeGAnOGAr+GAkOGAugovLyBAbmFtZTprYSAgICAgICAgICBZb3V0dWJlIOGDmeGDneGDm+GDlOGDnOGDouGDkOGDoOGDlOGDkeGDmOGDoSDhg5fhg5Dhg6Dhg5Lhg5vhg5zhg5jhg6Eg4YOm4YOY4YOa4YOQ4YOZ4YOYCi8vIEBuYW1lOmFtICAgICAgICAgIOGLqOGLqeGJsuGLqeGJpSDhiqDhiLXhibDhi6vhi6jhibUg4Ym14Yit4YyJ4YidIOGJgeGIjeGNjQovLyBAbmFtZTprbSAgICAgICAgICDhnpThn4rhnrzhno/hnrvhnoThnpThnoDhnpThn5Lhnprhn4Lhnpjhno/hnrfhnpnhn4ThnpThnpvhn4sgWW91dHViZQovLyBAbmFtZTp6aC1DTiAgICAgICAgICBZb3VUdWJl6K+E6K6657+76K+R5oyJ6ZKuCi8vIEBuYW1lOnpoLVRXICAgICAgICAgIFlvdVR1YmXoqZXoq5bnv7vora/mjInpiJUKLy8gQG5hbWU6emgtSEsgICAgICAgICAgWW91VHViZeivhOiuuue/u+ivkeaMiemSrgovLyBAbmFtZTpqYSAgICAgICAgICBZb3V0dWJl44Kz44Oh44Oz44OI57+76Kiz44Oc44K/44OzCi8vIEBuYW1lOmtvICAgICAgICAgIOycoO2KnOu4jCDrjJPquIAg67KI7JetIOuyhO2KvAovLyBAZGVzY3JpcHRpb246ICAgICAgICAgICAg5ZyoWW91VHViZeeahOivhOiuuuS4iua3u+WKoOS4gOS4que/u+ivkeaMiemSrgovLyBAZGVzY3JpcHRpb246YWYgICAgICAgICAgVm9lZyAnbiB2ZXJ0YWFsa25vcHBpZSBieSBZb3VUdWJlLW9wbWVya2luZ3MKLy8gQGRlc2NyaXB0aW9uOmF6ICAgICAgICAgIFlvdVR1YmUgxZ/JmXJobMmZcmluyZkgdMmZcmPDvG3JmSBkw7x5bcmZc2kgyZlsYXbJmSBlZGluCi8vIEBkZXNjcmlwdGlvbjppZCAgICAgICAgICBUYW1iYWhrYW4gdG9tYm9sIHRlcmplbWFoYW4ga2Uga29tZW50YXIgWW91VHViZQovLyBAZGVzY3JpcHRpb246bXMgICAgICAgICAgVGFtYmFoa2FuIGJ1dGFuZyB0ZXJqZW1haCBwYWRhIHVsYXNhbiBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpicyAgICAgICAgICBEb2RhanRlIGR1Z21lIHphIHByZXZvZCBuYSBZb3VUdWJlIGtvbWVudGFyZQovLyBAZGVzY3JpcHRpb246Y2EgICAgICAgICAgQWZlZ2VpeCB1biBib3TDsyBkZSB0cmFkdWNjacOzIGFscyBjb21lbnRhcmlzIGRlIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmNzICAgICAgICAgIFDFmWlkZWp0ZSBkbyBrb21lbnTDocWZxa8gbmEgWW91VHViZSB0bGHEjcOtdGtvIHDFmWVrbGFkdQovLyBAZGVzY3JpcHRpb246ZGEgICAgICAgICAgVGlsZsO4aiBlbiBvdmVyc8OmdC1rbmFwIHRpbCBZb3VUdWJlLWtvbW1lbnRhcmVyCi8vIEBkZXNjcmlwdGlvbjpkZSAgICAgICAgICBGw7xnZW4gU2llIFlvdVR1YmUtS29tbWVudGFyZW4gZWluZSBTY2hhbHRmbMOkY2hlIHp1bSDDnGJlcnNldHplbiBoaW56dQovLyBAZGVzY3JpcHRpb246ZXQgICAgICAgICAgTGlzYWdlIFlvdVR1YmUnaSBrb21tZW50YWFyaWRlbGUgdMO1bGtlbnVwcAovLyBAZGVzY3JpcHRpb246ZW4gICAgICAgICAgQWRkIGEgdHJhbnNsYXRlIGJ1dHRvbiB0byBZb3VUdWJlIGNvbW1lbnRzCi8vIEBkZXNjcmlwdGlvbjplcyAgICAgICAgICBBZ3JlZ3VlIHVuIGJvdMOzbiBkZSB0cmFkdWNjacOzbiBhIGxvcyBjb21lbnRhcmlvcyBkZSBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpldSAgICAgICAgICBHZWhpdHUgaXR6dWx0emVrbyBib3RvaWEgWW91VHViZS1rbyBpcnV6a2luZXRhbgovLyBAZGVzY3JpcHRpb246ZnIgICAgICAgICAgQWpvdXRlciB1biBib3V0b24gZGUgdHJhZHVjdGlvbiBhdXggY29tbWVudGFpcmVzIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmdsICAgICAgICAgIEVuZ2FkZSB1biBib3TDs24gZGUgdHJhZHVjacOzbiBhb3MgY29tZW50YXJpb3MgZGUgWW91VHViZQovLyBAZGVzY3JpcHRpb246aHIgICAgICAgICAgRG9kYWp0ZSBndW1iIHphIHByaWpldm9kIFlvdVR1YmUga29tZW50YXJpbWEKLy8gQGRlc2NyaXB0aW9uOnp1ICAgICAgICAgIEVuZ2V6YSBpbmtpbm9iaG8geW9rdWh1bXVzaGEgZW1hendhbmVuaSBlLVlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmlzICAgICAgICAgIELDpnR0dSDDvsO9w7BpbmdhaG5hcHBpIHZpw7AgWW91VHViZSBhdGh1Z2FzZW1kaXIKLy8gQGRlc2NyaXB0aW9uOml0ICAgICAgICAgIEFnZ2l1bmdpIHVuIHB1bHNhbnRlIGRpIHRyYWR1emlvbmUgYWkgY29tbWVudGkgZGkgWW91VHViZQovLyBAZGVzY3JpcHRpb246c3cgICAgICAgICAgT25nZXphIGtpdHVmZSBjaGEga3V0YWZzaXJpIGt3ZW55ZSBtYW9uaSB5YSBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpsdiAgICAgICAgICBQaWV2aWVub2ppZXQgdHVsa2/FoWFuYXMgcG9ndSBZb3VUdWJlIGtvbWVudMSBcmllbQovLyBAZGVzY3JpcHRpb246bHQgICAgICAgICAgUHJpZMSXa2l0ZSB2ZXJ0aW1vIG15Z3R1a8SFIHByaWUg4oCeWW91VHViZeKAnCBrb21lbnRhcsWzCi8vIEBkZXNjcmlwdGlvbjpodSAgICAgICAgICBBZGogaG96esOhIGVneSBmb3Jkw610w6FzaSBnb21ib3QgYSBZb3VUdWJlLW1lZ2plZ3l6w6lzZWtoZXoKLy8gQGRlc2NyaXB0aW9uOm5sICAgICAgICAgIFZvZWcgZWVuIHZlcnRhYWxrbm9wIHRvZSBhYW4gWW91VHViZS1vcG1lcmtpbmdlbgovLyBAZGVzY3JpcHRpb246dXogICAgICAgICAgWW91VHViZSBzaGFyaGxhcmlnYSB0YXJqaW1hIHR1Z21hc2kgcW8nc2hpbmcKLy8gQGRlc2NyaXB0aW9uOnBsICAgICAgICAgIERvZGFqIHByenljaXNrIHTFgnVtYWN6ZW5pYSBkbyBrb21lbnRhcnp5IFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnB0ICAgICAgICAgIEFkaWNpb25lIHVtIGJvdMOjbyBkZSB0cmFkdcOnw6NvIGFvcyBjb21lbnTDoXJpb3MgZG8gWW91VHViZQovLyBAZGVzY3JpcHRpb246cm8gICAgICAgICAgQWTEg3VnYcibaSB1biBidXRvbiBkZSB0cmFkdWNlcmUgbGEgY29tZW50YXJpaWxlIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnNxICAgICAgICAgIFNodG8gbmrDqyBidXRvbiBww6tya3RoaW1pIG7DqyBrb21lbnRldCBuw6sgWW91VHViZQovLyBAZGVzY3JpcHRpb246c2sgICAgICAgICAgUHJpZGFqdGUgdGxhxI1pZGxvIHByZWtsYWR1IGRvIGtvbWVudMOhcm92IG5hIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnNsICAgICAgICAgIEtvbWVudGFyamVtIHYgWW91VHVidSBkb2RhanRlIGd1bWIgemEgcHJldmFqYW5qZQovLyBAZGVzY3JpcHRpb246c3IgICAgICAgICAg0JTQvtC00LDRmNGC0LUg0LTRg9Cz0LzQtSDQt9CwINC/0YDQtdCy0L7QtCDQvdCwINCY0L7Rg9Ci0YPQsdC1INC60L7QvNC10L3RgtCw0YDQtQovLyBAZGVzY3JpcHRpb246ZmkgICAgICAgICAgTGlzw6TDpCBrw6TDpG5uw7ZzcGFpbmlrZSBZb3VUdWJlLWtvbW1lbnR0ZWloaW4KLy8gQGRlc2NyaXB0aW9uOnN2ICAgICAgICAgIEzDpGdnIHRpbGwgZW4gw7Z2ZXJzw6R0dG5pbmdza25hcHAgaSBZb3VUdWJlLWtvbW1lbnRhcmVyCi8vIEBkZXNjcmlwdGlvbjp2aSAgICAgICAgICBUaMOqbSBuw7p0IGThu4tjaCB2w6BvIG5o4bqtbiB4w6l0IHRyw6puIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnRyICAgICAgICAgIFlvdVR1YmUgeW9ydW1sYXLEsW5hIMOnZXZpcmkgZMO8xJ9tZXNpIGVrbGV5aW4KLy8gQGRlc2NyaXB0aW9uOmJlICAgICAgICAgINCU0LDQtNCw0LnRhtC1INC60L3QvtC/0LrRgyDQv9C10YDQsNC60LvQsNC00YMg0Z4g0LrQsNC80LXQvdGC0LDRgNGL0ZYgWW91VHViZQovLyBAZGVzY3JpcHRpb246YmcgICAgICAgICAg0JTQvtCx0LDQstC10YLQtSDQsdGD0YLQvtC9INC30LAg0L/RgNC10LLQvtC0INC60YrQvCDQutC+0LzQtdC90YLQsNGA0LjRgtC1INCyIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmt5ICAgICAgICAgIFlvdVR1YmUg0LbQvtGA0YPQvNC00LDRgNGL0L3QsCDQutC+0YLQvtGA0YPRgyDQsdCw0YHQutGL0YfRi9C9INC60L7RiNGD0qPRg9C3Ci8vIEBkZXNjcmlwdGlvbjprayAgICAgICAgICBZb3VUdWJlINC/0ZbQutGW0YDQu9C10YDRltC90LUg0LDRg9C00LDRgNGDINGC0q/QudC80LXRgdGW0L0g0pvQvtGB0YvSo9GL0LcKLy8gQGRlc2NyaXB0aW9uOm1rICAgICAgICAgINCU0L7QtNCw0ZjRgtC1INC60L7Qv9GH0LUg0LfQsCDQv9GA0LXQstC+0LQg0LLQviDQutC+0LzQtdC90YLQsNGA0LjRgtC1INC90LAgWW91VHViZQovLyBAZGVzY3JpcHRpb246bW4gICAgICAgICAgWW91VHViZS3QuNC50L0g0YHRjdGC0LPRjdCz0LTRjdC70LQg0L7RgNGH0YPRg9C70LDRhSDRgtC+0LLRh9C70YPRg9GAINC90Y3QvNC90Y0g0q/SrwovLyBAZGVzY3JpcHRpb246cnUgICAgICAgICAg0JTQvtCx0LDQstGM0YLQtSDQutC90L7Qv9C60YMg0L/QtdGA0LXQstC+0LTQsCDQsiDQutC+0LzQvNC10L3RgtCw0YDQuNC4IFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnVrICAgICAgICAgINCU0L7QtNCw0LnRgtC1INC60L3QvtC/0LrRgyDQv9C10YDQtdC60LvQsNC00YMg0LTQviDQutC+0LzQtdC90YLQsNGA0ZbQsiBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjplbCAgICAgICAgICDOoM+Bzr/Pg864zq3Pg8+EzrUgzq3Ovc6xIM66zr/Phc68z4DOryDOvM61z4TOrM+Gz4HOsc+DzrfPgiDPg8+EzrEgz4PPh8+MzrvOuc6xIM+Ezr/PhSBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpoeSAgICAgICAgICDUsdW+1aXVrNWh1oHWgNWl1oQg1anVodaA1aPVtNWh1bbVuNaC1anVtdWh1bYg1a/VuNWz1aHVryBZb3VUdWJlINW01aXVr9W21aHVotWh1bbVuNaC1anVtdW41oLVttW21aXWgNW41oLVtAovLyBAZGVzY3JpcHRpb246dXIgICAgICAgICAgWW91VHViZSDYqtio2LXYsdmI2rog2YXbjNq6INiq2LHYrNmF24Eg2qnYpyDYqNm52YYg2LTYp9mF2YQg2qnYsduM2rrblAovLyBAZGVzY3JpcHRpb246YXIgICAgICAgICAg2KPYttmBINiy2LEg2KrYsdis2YXYqSDYpdmE2Ykg2KrYudmE2YrZgtin2KogWW91VHViZQovLyBAZGVzY3JpcHRpb246ZmEgICAgICAgICAg24zaqSDYr9qp2YXZhyDYqtix2KzZhdmHINio2Ycg2YbYuNix2KfYqiBZb3VUdWJlINin2LbYp9mB2Ycg2qnZhtuM2K8KLy8gQGRlc2NyaXB0aW9uOm5lICAgICAgICAgIFlvdVR1YmUg4KSf4KS/4KSq4KWN4KSq4KSj4KWA4KS54KSw4KWC4KSu4KS+IOCkheCkqOClgeCkteCkvuCkpiDgpKzgpJ/gpKgg4KSl4KSq4KWN4KSo4KWB4KS54KWL4KS44KWNCi8vIEBkZXNjcmlwdGlvbjptciAgICAgICAgICBZb3VUdWJlIOCkn+Ckv+CkquCljeCkquCko+CljeCkr+CkvuCkguCkruCkp+CljeCkr+ClhyDgpK3gpL7gpLfgpL7gpILgpKTgpLAg4KSs4KSf4KSjIOCknOCli+CkoeCkvgovLyBAZGVzY3JpcHRpb246aGkgICAgICAgICAgWW91VHViZSDgpJ/gpL/gpKrgpY3gpKrgpKPgpL/gpK/gpYvgpIIg4KSu4KWH4KSCIOCkheCkqOClgeCkteCkvuCkpiDgpKzgpJ/gpKgg4KSc4KWL4KSh4KS84KWH4KSCCi8vIEBkZXNjcmlwdGlvbjphcyAgICAgICAgICDgpofgpongpp/gpr/gpongpqzgp7Ag4Kau4Kao4KeN4Kak4Kas4KeN4Kav4KakIOCmj+Cmn+CmviDgpoXgpqjgp4Hgpqzgpr7gpqYg4Kas4KeB4Kaf4Ka+4KauIOCmr+Cni+CmlyDgppXgp7DgppUKLy8gQGRlc2NyaXB0aW9uOmJuICAgICAgICAgIFlvdVR1YmUg4Kau4Kao4KeN4Kak4Kas4KeN4Kav4KeHIOCmj+CmleCmn+CmvyDgpoXgpqjgp4Hgpqzgpr7gpqYg4Kas4KeL4Kak4Ka+4KauIOCmr+Cni+CmlyDgppXgprDgp4HgpqgKLy8gQGRlc2NyaXB0aW9uOnBhICAgICAgICAgIFlvdVR1YmUg4Kif4Ki/4Kmx4Kiq4Kij4KmA4KiG4KiCIOCoteCov+CpseComiDgqIfgqbHgqJUg4KiF4Kio4KmB4Ki14Ki+4KimIOCorOCon+CoqCDgqLjgqLzgqL7gqK7gqLIg4KiV4Kiw4KmLCi8vIEBkZXNjcmlwdGlvbjpndSAgICAgICAgICBZb3VUdWJlIOCqn+Cqv+CqquCrjeCqquCqo+CrgOCqk+CqruCqvuCqgiDgqoXgqqjgq4HgqrXgqr7gqqYg4Kqs4Kqf4KqoIOCqieCqruCrh+CqsOCriwovLyBAZGVzY3JpcHRpb246b3IgICAgICAgICAg4K2f4K2B4Kyf4K2N4K2f4K2B4Kys4K2NIOCsruCsqOCtjeCspOCsrOCtjeCtn+Csl+CtgeCsoeCsv+CsleCssOCthyDgrI/grJUg4KyF4Kyo4K2B4Kys4Ky+4KymIOCsrOCsn+CsqOCtjSDgrK/grYvgrKHgrKjgrY3grKTgrYEgfAovLyBAZGVzY3JpcHRpb246dGEgICAgICAgICAgWW91VHViZSDgrpXgrrDgr4HgrqTgr43grqTgr4HgrpXgrrPgrr/grrLgr40g4K6u4K+K4K604K6/4K6q4K+G4K6v4K6w4K+N4K6q4K+N4K6q4K+BIOCuquCviuCupOCvjeCupOCuvuCuqeCviOCumuCvjSDgrprgr4fgrrDgr43grpXgr43grpXgrrXgr4Hgrq7gr40KLy8gQGRlc2NyaXB0aW9uOnRlICAgICAgICAgIFlvdVR1YmUg4LC14LGN4LCv4LC+4LCW4LGN4LCv4LCy4LCV4LGBIOCwheCwqOCxgeCwteCwvuCwpiDgsKzgsJ/gsKjgsY3igIzgsKjgsYEg4LCc4LGL4LCh4LC/4LCC4LCa4LCC4LCh4LC/Ci8vIEBkZXNjcmlwdGlvbjprbiAgICAgICAgICBZb3VUdWJlIOCyleCyvuCyruCzhuCyguCyn+CzjeKAjOCyl+Cys+Cyv+Cyl+CzhiDgsoXgsqjgs4HgsrXgsr7gsqYg4LKs4LKf4LKo4LONIOCyheCyqOCzjeCyqOCzgSDgsrjgs4fgsrDgsr/gsrjgsr8KLy8gQGRlc2NyaXB0aW9uOm1sICAgICAgICAgIFlvdVR1YmUg4LSF4LSt4LS/4LSq4LWN4LSw4LS+4LSv4LSZ4LWN4LSZ4LSz4LS/4LSy4LWH4LSV4LWN4LSV4LWNIOC0kuC0sOC1gSDgtLXgtL/gtLXgtbzgtKTgtY3gtKTgtKgg4LSs4LSf4LWN4LSf4LW6IOC0muC1h+C1vOC0leC1jeC0leC1geC0lQovLyBAZGVzY3JpcHRpb246c2kgICAgICAgICAgWW91VHViZSDgtoXgtq/gt4Tgt4Pgt4og4LeD4Laz4LeE4LePIOC2tOC2u+C3kuC3gOC2u+C3iuC2reC2sSDgtrbgt5zgtq3gt4rgtq3gtrjgtprgt4og4LaR4Laa4LeKIOC2muC2u+C2seC3iuC2sQovLyBAZGVzY3JpcHRpb246dGggICAgICAgICAg4LmA4Lie4Li04LmI4Lih4Lib4Li44LmI4Lih4LmB4Lib4Lil4LiE4Lin4Liy4Lih4LiE4Li04LiU4LmA4Lir4LmH4LiZ4LmD4LiZIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOmxvICAgICAgICAgIOC7gOC6nuC6teC7iOC6oeC6m+C6uOC7iOC6oeC7geC6m+C6nuC6suC6quC6suC7g+C6quC7iOC6hOC6s+C7gOC6q+C6seC6mSBZb3VUdWJlCi8vIEBkZXNjcmlwdGlvbjpteSAgICAgICAgICBZb3VUdWJlIOGAmeGAvuGAkOGAuuGAgeGAu+GAgOGAuuGAmeGAu+GArOGAuOGAnuGAreGAr+GAtyDhgJjhgKzhgJ7hgKzhgJXhgLzhgJThgLrhgJvhgJThgLog4YCB4YCc4YCv4YCQ4YC64YCQ4YCF4YC64YCB4YCvIOGAkeGAiuGAt+GAuuGAleGAq+GBiwovLyBAZGVzY3JpcHRpb246a2EgICAgICAgICAg4YOT4YOQ4YOQ4YOb4YOQ4YOi4YOU4YOXIOGDl+GDkOGDoOGDkuGDm+GDkOGDnOGDmOGDoSDhg6bhg5jhg5rhg5Dhg5nhg5ggWW91VHViZSDhg5nhg53hg5vhg5Thg5zhg6Lhg5Dhg6Dhg5Thg5Hhg6jhg5gKLy8gQGRlc2NyaXB0aW9uOmFtICAgICAgICAgIOGJoFlvdVR1YmUg4Yqg4Yi14Ymw4Yur4Yuo4Ym24Ym9IOGIi+GLrSDhi6jhibXhiK3hjInhiJ0g4YmB4YiN4Y2NIOGLq+GKreGIiQovLyBAZGVzY3JpcHRpb246a20gICAgICAgICAg4Z6U4Z6T4Z+S4Z6Q4Z+C4Z6Y4Z6U4Z+K4Z684Z6P4Z674Z6E4Z6U4Z6A4Z6U4Z+S4Z6a4Z+C4Z6R4Z+F4Z6Y4Z6P4Z634Z6Z4Z+E4Z6U4Z6b4Z+LIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnpoLUNOICAgICAgICAgIOWcqFlvdVR1YmXnmoTor4TorrrkuIrmt7vliqDkuIDkuKrnv7vor5HmjInpkq4KLy8gQGRlc2NyaXB0aW9uOnpoLVRXICAgICAgICAgIOWcqFlvdVR1YmXnmoToqZXoq5bkuIrmt7vliqDkuIDlgIvnv7vora/mjInpiJUKLy8gQGRlc2NyaXB0aW9uOnpoLUhLICAgICAgICAgIOWcqFlvdVR1YmXnmoTor4TorrrkuIrmt7vliqDkuIDkuKrnv7vor5HmjInpkq4KLy8gQGRlc2NyaXB0aW9uOmphICAgICAgICAgIFlvdVR1YmUg44Gu44Kz44Oh44Oz44OI44Gr57+76Kiz44Oc44K/44Oz44KS6L+95Yqg44GZ44KLCi8vIEBkZXNjcmlwdGlvbjprbyAgICAgICAgICBZb3VUdWJlIOuMk+q4gOyXkCDrsojsl60g67KE7Yq8IOy2lOqwgAovLyBAbmFtZXNwYWNlICAgICBodHRwczovL2dpdGh1Yi5jb20vbGlua3dhbmdnbwovLyBAdmVyc2lvbiAgICAgICA1LjAuMgovLyBAYXV0aG9yICAgICAgICBsaW5rd2FuZ2dvCi8vIEBjb3B5cmlnaHQgICAgIDIwMjIsIGxpbmt3YW5nZ28gKGh0dHBzOi8vZ2l0aHViLmNvbS9saW5rd2FuZ2dvKQovLyBAaWNvbiAgICAgICAgICBkYXRhOmltYWdlL3gtaWNvbjtiYXNlNjQsQUFBQkFBRUFFQkFBQUFFQUlBQm9CQUFBRmdBQUFDZ0FBQUFRQUFBQUlBQUFBQUVBSUFBQUFBQUFBQVFBQUJJTEFBQVNDd0FBQUFBQUFBQUFBQUQvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBQUFEL0VBQUEvMEFBQVA5QUFBRC9jQUFBLzRBQUFQK0FBQUQvZ0FBQS80QUFBUCtBQUFEL1FBQUEvMEFBQVA4US8vLy9BUC8vL3dELy8vOEFBQUQvWUFBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvMkQvLy84QUFBRC9NQUFBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFEL01BQUEvMUFBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOFFFUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8yQUFBUCtBQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy80T0QvLzFCUS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQK0FBQUQvZ0FBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vLy8vLy8vLy8vLy93TUQvL3lBZy8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC9nQUFBLzRBQUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvLy8vLy8vLy8vLy8vN0N3Ly84Z0lQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvNEFBQVArQUFBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vNE9ELy8wQkEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUCtBQUFEL1VBQUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvWUFBQS96QUFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBL3pELy8vOEFBQUQvWUFBQS8vOEFBUC8vQUFELy93QUEvLzhBQVAvL0FBRC8vd0FBLy84QUFQLy9BQUQvL3dBQS8vOEFBUC8vQUFELy93QUEvMkQvLy84QS8vLy9BUC8vL3dBQUFQOFFBQUQvUUFBQS8wQUFBUCtBQUFEL2dBQUEvNEFBQVArQUFBRC9nQUFBLzRBQUFQOUFBQUQvUUFBQS94RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLy8vQVAvLy93RC8vLzhBLy8vL0FQLy8vd0QvLy84QS8vLy9BUC8vL3dELy8vOEEvLzhBQVAvL0FBREFBd0FBZ0FFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBZ0FFQUFNQURBQUQvL3dBQS8vOEFBQT09Ci8vIEBtYXRjaCAgICAgICAgICo6Ly93d3cueW91dHViZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAqOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoKgovLyBAY29tcGF0aWJsZSAgICBjaHJvbWUKLy8gQGNvbXBhdGlibGUgICAgZmlyZWZveAovLyBAY29tcGF0aWJsZSAgICBlZGdlCi8vIEBncmFudCAgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGdyYW50ICAgICAgICAgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgIEdNX25vdGlmaWNhdGlvbgovLyBAc291cmNlICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbGlua3dhbmdnby95b3V0dWJlLWNvbW1lbnQtdHJhbnNsYXRlCi8vIEBzdXBwb3J0VVJMICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9saW5rd2FuZ2dvL3lvdXR1YmUtY29tbWVudC10cmFuc2xhdGUvaXNzdWVzCi8vIEBkZXNjcmlwdGlvbiDlnKhZb3VUdWJl55qE6K+E6K665LiK5re75Yqg5LiA5Liq57+76K+R5oyJ6ZKuICjvv6N54pa9LO+/oynila0KLy8gPT0vVXNlclNjcmlwdD09Ci8qIGdsb2JhbHMgJCB3YWl0Rm9yS2V5RWxlbWVudHMgKi8KLy8gQFsgWW91IGNhbiBmaW5kIGFsbCBzb3VyY2UgY29kZXMgaW4gR2l0SHViIHJlcG8gXQoKIWZ1bmN0aW9uKCkgewogICAgInVzZSBzdHJpY3QiOwogICAgZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsKICAgICAgICBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBleHBvcnRzOwogICAgICAgIH07CiAgICAgICAgdmFyIGV4cG9ydHMgPSB7fSwgT3AgPSBPYmplY3QucHJvdG90eXBlLCBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eSwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgfHwgZnVuY3Rpb24ob2JqLCBrZXksIGRlc2MpIHsKICAgICAgICAgICAgb2JqW2tleV0gPSBkZXNjLnZhbHVlOwogICAgICAgIH0sICRTeW1ib2wgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8ICJAQGl0ZXJhdG9yIiwgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCAiQEBhc3luY0l0ZXJhdG9yIiwgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8ICJAQHRvU3RyaW5nVGFnIjsKICAgICAgICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLAogICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMCwKICAgICAgICAgICAgICAgIHdyaXRhYmxlOiAhMAogICAgICAgICAgICB9KSwgb2JqW2tleV07CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGRlZmluZSh7fSwgIiIpOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlOwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7CiAgICAgICAgICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yLCBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSksIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7CiAgICAgICAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShnZW5lcmF0b3IsICJfaW52b2tlIiwgewogICAgICAgICAgICAgICAgdmFsdWU6IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkKICAgICAgICAgICAgfSksIGdlbmVyYXRvcjsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJub3JtYWwiLAogICAgICAgICAgICAgICAgICAgIGFyZzogZm4uY2FsbChvYmosIGFyZykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAidGhyb3ciLAogICAgICAgICAgICAgICAgICAgIGFyZzogZXJyCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGV4cG9ydHMud3JhcCA9IHdyYXA7CiAgICAgICAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsKICAgICAgICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fQogICAgICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30KICAgICAgICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9CiAgICAgICAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307CiAgICAgICAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9KSk7CiAgICAgICAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTsKICAgICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJiBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiYgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSAmJiAoSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSk7CiAgICAgICAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpOwogICAgICAgIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHsKICAgICAgICAgICAgWyAibmV4dCIsICJ0aHJvdyIsICJyZXR1cm4iIF0uZm9yRWFjaCgoZnVuY3Rpb24obWV0aG9kKSB7CiAgICAgICAgICAgICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIChmdW5jdGlvbihhcmcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHsKICAgICAgICAgICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpOwogICAgICAgICAgICAgICAgaWYgKCJ0aHJvdyIgIT09IHJlY29yZC50eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmcsIHZhbHVlID0gcmVzdWx0LnZhbHVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiAib2JqZWN0IiA9PSB0eXBlb2YgdmFsdWUgJiYgaGFzT3duLmNhbGwodmFsdWUsICJfX2F3YWl0IikgPyBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKHZhbHVlMikgewogICAgICAgICAgICAgICAgICAgICAgICBpbnZva2UoIm5leHQiLCB2YWx1ZTIsIHJlc29sdmUsIHJlamVjdCk7CiAgICAgICAgICAgICAgICAgICAgfSksIChmdW5jdGlvbihlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlKCJ0aHJvdyIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgICAgICAgICAgICB9KSkgOiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKChmdW5jdGlvbih1bndyYXBwZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkLCByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgfSksIChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW52b2tlKCJ0aHJvdyIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgcHJldmlvdXNQcm9taXNlOwogICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2ludm9rZSIsIHsKICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihtZXRob2QsIGFyZykgewogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID0gcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHsKICAgICAgICAgICAgdmFyIHN0YXRlID0gInN1c3BlbmRlZFN0YXJ0IjsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG1ldGhvZCwgYXJnKSB7CiAgICAgICAgICAgICAgICBpZiAoImV4ZWN1dGluZyIgPT09IHN0YXRlKSB0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTsKICAgICAgICAgICAgICAgIGlmICgiY29tcGxldGVkIiA9PT0gc3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoInRocm93IiA9PT0gbWV0aG9kKSB0aHJvdyBhcmc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZvaWQgMCwKICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogITAKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yIChjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZCwgY29udGV4dC5hcmcgPSBhcmc7IDspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlOwogICAgICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgibmV4dCIgPT09IGNvbnRleHQubWV0aG9kKSBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7IGVsc2UgaWYgKCJ0aHJvdyIgPT09IGNvbnRleHQubWV0aG9kKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgic3VzcGVuZGVkU3RhcnQiID09PSBzdGF0ZSkgdGhyb3cgc3RhdGUgPSAiY29tcGxldGVkIiwgY29udGV4dC5hcmc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSAicmV0dXJuIiA9PT0gY29udGV4dC5tZXRob2QgJiYgY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuYXJnKTsKICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9ICJleGVjdXRpbmciOwogICAgICAgICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTsKICAgICAgICAgICAgICAgICAgICBpZiAoIm5vcm1hbCIgPT09IHJlY29yZC50eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9IGNvbnRleHQuZG9uZSA/ICJjb21wbGV0ZWQiIDogInN1c3BlbmRlZFlpZWxkIiwgcmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAidGhyb3ciID09PSByZWNvcmQudHlwZSAmJiAoc3RhdGUgPSAiY29tcGxldGVkIiwgY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7CiAgICAgICAgICAgIHZhciBtZXRob2ROYW1lID0gY29udGV4dC5tZXRob2QsIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZE5hbWVdOwogICAgICAgICAgICBpZiAodm9pZCAwID09PSBtZXRob2QpIHJldHVybiBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgInRocm93IiA9PT0gbWV0aG9kTmFtZSAmJiBkZWxlZ2F0ZS5pdGVyYXRvci5yZXR1cm4gJiYgKGNvbnRleHQubWV0aG9kID0gInJldHVybiIsIAogICAgICAgICAgICBjb250ZXh0LmFyZyA9IHZvaWQgMCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCksICJ0aHJvdyIgPT09IGNvbnRleHQubWV0aG9kKSB8fCAicmV0dXJuIiAhPT0gbWV0aG9kTmFtZSAmJiAoY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCAKICAgICAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciICsgbWV0aG9kTmFtZSArICInIG1ldGhvZCIpKSwgCiAgICAgICAgICAgIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7CiAgICAgICAgICAgIGlmICgidGhyb3ciID09PSByZWNvcmQudHlwZSkgcmV0dXJuIGNvbnRleHQubWV0aG9kID0gInRocm93IiwgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnLCAKICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZzsKICAgICAgICAgICAgcmV0dXJuIGluZm8gPyBpbmZvLmRvbmUgPyAoY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWUsIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2MsIAogICAgICAgICAgICAicmV0dXJuIiAhPT0gY29udGV4dC5tZXRob2QgJiYgKGNvbnRleHQubWV0aG9kID0gIm5leHQiLCBjb250ZXh0LmFyZyA9IHZvaWQgMCksIAogICAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbCkgOiBpbmZvIDogKGNvbnRleHQubWV0aG9kID0gInRocm93IiwgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLCAKICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykgewogICAgICAgICAgICB2YXIgZW50cnkgPSB7CiAgICAgICAgICAgICAgICB0cnlMb2M6IGxvY3NbMF0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgMSBpbiBsb2NzICYmIChlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV0pLCAyIGluIGxvY3MgJiYgKGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdLCAKICAgICAgICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7CiAgICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9OwogICAgICAgICAgICByZWNvcmQudHlwZSA9ICJub3JtYWwiLCBkZWxldGUgcmVjb3JkLmFyZywgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkgewogICAgICAgICAgICB0aGlzLnRyeUVudHJpZXMgPSBbIHsKICAgICAgICAgICAgICAgIHRyeUxvYzogInJvb3QiCiAgICAgICAgICAgIH0gXSwgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpLCB0aGlzLnJlc2V0KCEwKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7CiAgICAgICAgICAgIGlmIChpdGVyYWJsZSkgewogICAgICAgICAgICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdOwogICAgICAgICAgICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7CiAgICAgICAgICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgaXRlcmFibGUubmV4dCkgcmV0dXJuIGl0ZXJhYmxlOwogICAgICAgICAgICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQyKCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsrK2kgPCBpdGVyYWJsZS5sZW5ndGg7ICkgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkgcmV0dXJuIG5leHQyLnZhbHVlID0gaXRlcmFibGVbaV0sIAogICAgICAgICAgICAgICAgICAgICAgICBuZXh0Mi5kb25lID0gITEsIG5leHQyOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDIudmFsdWUgPSB2b2lkIDAsIG5leHQyLmRvbmUgPSAhMCwgbmV4dDI7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgbmV4dDogZG9uZVJlc3VsdAogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBkb25lUmVzdWx0KCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgdmFsdWU6IHZvaWQgMCwKICAgICAgICAgICAgICAgIGRvbmU6ICEwCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lUHJvcGVydHkoR3AsICJjb25zdHJ1Y3RvciIsIHsKICAgICAgICAgICAgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLAogICAgICAgICAgICBjb25maWd1cmFibGU6ICEwCiAgICAgICAgfSksIGRlZmluZVByb3BlcnR5KEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCAiY29uc3RydWN0b3IiLCB7CiAgICAgICAgICAgIHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvbiwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMAogICAgICAgIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdG9TdHJpbmdUYWdTeW1ib2wsICJHZW5lcmF0b3JGdW5jdGlvbiIpLCAKICAgICAgICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHsKICAgICAgICAgICAgdmFyIGN0b3IgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBnZW5GdW4gJiYgZ2VuRnVuLmNvbnN0cnVjdG9yOwogICAgICAgICAgICByZXR1cm4gISFjdG9yICYmIChjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCAiR2VuZXJhdG9yRnVuY3Rpb24iID09PSAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpKTsKICAgICAgICB9LCBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6IChnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIAogICAgICAgICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvckZ1bmN0aW9uIikpLCBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCksIAogICAgICAgICAgICBnZW5GdW47CiAgICAgICAgfSwgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgX19hd2FpdDogYXJnCiAgICAgICAgICAgIH07CiAgICAgICAgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0pKSwgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkgewogICAgICAgICAgICB2b2lkIDAgPT09IFByb21pc2VJbXBsICYmIChQcm9taXNlSW1wbCA9IFByb21pc2UpOwogICAgICAgICAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLCBQcm9taXNlSW1wbCk7CiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIDogaXRlci5uZXh0KCkudGhlbigoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTsKICAgICAgICAgICAgfSkpOwogICAgICAgIH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCksIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsICJHZW5lcmF0b3IiKSwgZGVmaW5lKEdwLCBpdGVyYXRvclN5bWJvbCwgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9KSksIGRlZmluZShHcCwgInRvU3RyaW5nIiwgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gIltvYmplY3QgR2VuZXJhdG9yXSI7CiAgICAgICAgfSkpLCBleHBvcnRzLmtleXMgPSBmdW5jdGlvbih2YWwpIHsKICAgICAgICAgICAgdmFyIG9iamVjdCA9IE9iamVjdCh2YWwpLCBrZXlzID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIGtleXMucHVzaChrZXkpOwogICAgICAgICAgICByZXR1cm4ga2V5cy5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgICAgICAgICAgICBmb3IgKDtrZXlzLmxlbmd0aDsgKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGtleTIgPSBrZXlzLnBvcCgpOwogICAgICAgICAgICAgICAgICAgIGlmIChrZXkyIGluIG9iamVjdCkgcmV0dXJuIG5leHQudmFsdWUgPSBrZXkyLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBuZXh0LmRvbmUgPSAhMCwgbmV4dDsKICAgICAgICAgICAgfTsKICAgICAgICB9LCBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7CiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LAogICAgICAgICAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA9IDAsIHRoaXMubmV4dCA9IDAsIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB2b2lkIDAsIHRoaXMuZG9uZSA9ICExLCAKICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5hcmcgPSB2b2lkIDAsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAKICAgICAgICAgICAgICAgICFza2lwVGVtcFJlc2V0KSBmb3IgKHZhciBuYW1lIGluIHRoaXMpICJ0IiA9PT0gbmFtZS5jaGFyQXQoMCkgJiYgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiYgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSAmJiAodGhpc1tuYW1lXSA9IHZvaWQgMCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdGhpcy5kb25lID0gITA7CiAgICAgICAgICAgICAgICB2YXIgcm9vdFJlY29yZCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uOwogICAgICAgICAgICAgICAgaWYgKCJ0aHJvdyIgPT09IHJvb3RSZWNvcmQudHlwZSkgdGhyb3cgcm9vdFJlY29yZC5hcmc7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ydmFsOwogICAgICAgICAgICB9LAogICAgICAgICAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5kb25lKSB0aHJvdyBleGNlcHRpb247CiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkLnR5cGUgPSAidGhyb3ciLCByZWNvcmQuYXJnID0gZXhjZXB0aW9uLCBjb250ZXh0Lm5leHQgPSBsb2MsIGNhdWdodCAmJiAoY29udGV4dC5tZXRob2QgPSAibmV4dCIsIAogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYXJnID0gdm9pZCAwKSwgISFjYXVnaHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldLCByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uOwogICAgICAgICAgICAgICAgICAgIGlmICgicm9vdCIgPT09IGVudHJ5LnRyeUxvYykgcmV0dXJuIGhhbmRsZSgiZW5kIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksICJjYXRjaExvYyIpLCBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksICJmaW5hbGx5TG9jIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzRmluYWxseSkgdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOwogICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIGhhc093bi5jYWxsKGVudHJ5LCAiZmluYWxseUxvYyIpICYmIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmaW5hbGx5RW50cnkgJiYgKCJicmVhayIgPT09IHR5cGUgfHwgImNvbnRpbnVlIiA9PT0gdHlwZSkgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jICYmIChmaW5hbGx5RW50cnkgPSBudWxsKTsKICAgICAgICAgICAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZC50eXBlID0gdHlwZSwgcmVjb3JkLmFyZyA9IGFyZywgZmluYWxseUVudHJ5ID8gKHRoaXMubWV0aG9kID0gIm5leHQiLCAKICAgICAgICAgICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jLCBDb250aW51ZVNlbnRpbmVsKSA6IHRoaXMuY29tcGxldGUocmVjb3JkKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHsKICAgICAgICAgICAgICAgIGlmICgidGhyb3ciID09PSByZWNvcmQudHlwZSkgdGhyb3cgcmVjb3JkLmFyZzsKICAgICAgICAgICAgICAgIHJldHVybiAiYnJlYWsiID09PSByZWNvcmQudHlwZSB8fCAiY29udGludWUiID09PSByZWNvcmQudHlwZSA/IHRoaXMubmV4dCA9IHJlY29yZC5hcmcgOiAicmV0dXJuIiA9PT0gcmVjb3JkLnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnLCAKICAgICAgICAgICAgICAgIHRoaXMubWV0aG9kID0gInJldHVybiIsIHRoaXMubmV4dCA9ICJlbmQiKSA6ICJub3JtYWwiID09PSByZWNvcmQudHlwZSAmJiBhZnRlckxvYyAmJiAodGhpcy5uZXh0ID0gYWZ0ZXJMb2MpLCAKICAgICAgICAgICAgICAgIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykgcmV0dXJuIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpLCAKICAgICAgICAgICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KSwgQ29udGludWVTZW50aW5lbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2F0Y2g6IGZ1bmN0aW9uKHRyeUxvYykgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgidGhyb3ciID09PSByZWNvcmQudHlwZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3duOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsKICAgICAgICAgICAgICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSwKICAgICAgICAgICAgICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLAogICAgICAgICAgICAgICAgICAgIG5leHRMb2M6IG5leHRMb2MKICAgICAgICAgICAgICAgIH0sICJuZXh0IiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdm9pZCAwKSwgQ29udGludWVTZW50aW5lbDsKICAgICAgICAgICAgfQogICAgICAgIH0sIGV4cG9ydHM7CiAgICB9CiAgICBmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpLCB2YWx1ZSA9IGluZm8udmFsdWU7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgcmV0dXJuIHZvaWQgcmVqZWN0KGVycm9yKTsKICAgICAgICB9CiAgICAgICAgaW5mby5kb25lID8gcmVzb2x2ZSh2YWx1ZSkgOiBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7CiAgICB9CiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogICAgfQogICAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8ICExLCBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9ICEwLCAKICAgICAgICAgICAgInZhbHVlIiBpbiBkZXNjcmlwdG9yICYmIChkZXNjcmlwdG9yLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICAgICAgICByZXR1cm4gcHJvdG9Qcm9wcyAmJiBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpLCBzdGF0aWNQcm9wcyAmJiBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpLCAKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7CiAgICAgICAgICAgIHdyaXRhYmxlOiAhMQogICAgICAgIH0pLCBDb25zdHJ1Y3RvcjsKICAgIH0KICAgIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgICByZXR1cm4gKGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSkpIGluIG9iaiA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLAogICAgICAgICAgICBjb25maWd1cmFibGU6ICEwLAogICAgICAgICAgICB3cml0YWJsZTogITAKICAgICAgICB9KSA6IG9ialtrZXldID0gdmFsdWUsIG9iajsKICAgIH0KICAgIGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogICAgICAgIHJldHVybiBmdW5jdGlvbihhcnIpIHsKICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKICAgICAgICB9KGFycikgfHwgZnVuY3Rpb24oYXJyLCBpKSB7CiAgICAgICAgICAgIHZhciBfaSA9IG51bGwgPT0gYXJyID8gbnVsbCA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyWyJAQGl0ZXJhdG9yIl07CiAgICAgICAgICAgIGlmIChudWxsICE9IF9pKSB7CiAgICAgICAgICAgICAgICB2YXIgX3MsIF9lLCBfeCwgX3IsIF9hcnIgPSBbXSwgX24gPSAhMCwgX2QgPSAhMTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKF94ID0gKF9pID0gX2kuY2FsbChhcnIpKS5uZXh0LCAwID09PSBpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QoX2kpICE9PSBfaSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICBfbiA9ICExOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBmb3IgKDshKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApIDsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIF9kID0gITAsIF9lID0gZXJyOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9uICYmIG51bGwgIT0gX2kucmV0dXJuICYmIChfciA9IF9pLnJldHVybigpLCBPYmplY3QoX3IpICE9PSBfcikpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBfYXJyOwogICAgICAgICAgICB9CiAgICAgICAgfShhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOwogICAgICAgIH0oKTsKICAgIH0KICAgIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsKICAgICAgICBpZiAobykgewogICAgICAgICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIG8pIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogICAgICAgICAgICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7CiAgICAgICAgICAgIHJldHVybiAiT2JqZWN0IiA9PT0gbiAmJiBvLmNvbnN0cnVjdG9yICYmIChuID0gby5jb25zdHJ1Y3Rvci5uYW1lKSwgIk1hcCIgPT09IG4gfHwgIlNldCIgPT09IG4gPyBBcnJheS5mcm9tKG8pIDogIkFyZ3VtZW50cyIgPT09IG4gfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikgPyBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pIDogdm9pZCAwOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7CiAgICAgICAgKG51bGwgPT0gbGVuIHx8IGxlbiA+IGFyci5sZW5ndGgpICYmIChsZW4gPSBhcnIubGVuZ3RoKTsKICAgICAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07CiAgICAgICAgcmV0dXJuIGFycjI7CiAgICB9CiAgICBmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgewogICAgICAgIHZhciBpdCA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsKICAgICAgICBpZiAoIWl0KSB7CiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiAibnVtYmVyIiA9PSB0eXBlb2Ygby5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGl0ICYmIChvID0gaXQpOwogICAgICAgICAgICAgICAgdmFyIGkgPSAwLCBGID0gZnVuY3Rpb24oKSB7fTsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgczogRiwKICAgICAgICAgICAgICAgICAgICBuOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgPj0gby5sZW5ndGggPyB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lOiAhMAogICAgICAgICAgICAgICAgICAgICAgICB9IDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogITEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb1tpKytdCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBlOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBmOiBGCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKICAgICAgICB9CiAgICAgICAgdmFyIGVyciwgbm9ybWFsQ29tcGxldGlvbiA9ICEwLCBkaWRFcnIgPSAhMTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGl0ID0gaXQuY2FsbChvKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IGl0Lm5leHQoKTsKICAgICAgICAgICAgICAgIHJldHVybiBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lLCBzdGVwOwogICAgICAgICAgICB9LAogICAgICAgICAgICBlOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICBkaWRFcnIgPSAhMCwgZXJyID0gZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIG5vcm1hbENvbXBsZXRpb24gfHwgbnVsbCA9PSBpdC5yZXR1cm4gfHwgaXQucmV0dXJuKCk7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIGlmIChkaWRFcnIpIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CiAgICBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsKICAgICAgICB2YXIga2V5ID0gZnVuY3Rpb24oaW5wdXQsIGhpbnQpIHsKICAgICAgICAgICAgaWYgKCJvYmplY3QiICE9IHR5cGVvZiBpbnB1dCB8fCBudWxsID09PSBpbnB1dCkgcmV0dXJuIGlucHV0OwogICAgICAgICAgICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07CiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHByaW0pIHsKICAgICAgICAgICAgICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgImRlZmF1bHQiKTsKICAgICAgICAgICAgICAgIGlmICgib2JqZWN0IiAhPSB0eXBlb2YgcmVzKSByZXR1cm4gcmVzOwogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gKCJzdHJpbmciID09PSBoaW50ID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7CiAgICAgICAgfShhcmcsICJzdHJpbmciKTsKICAgICAgICByZXR1cm4gInN5bWJvbCIgPT0gdHlwZW9mIGtleSA/IGtleSA6IFN0cmluZyhrZXkpOwogICAgfQogICAgdmFyIGN1dHRlbnRMYW5nLCBHb29nbGVXZWIgPSAgZnVuY3Rpb24oKSB7CiAgICAgICAgZnVuY3Rpb24gR29vZ2xlV2ViMigpIHsKICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdvb2dsZVdlYjIpLCBfZGVmaW5lUHJvcGVydHkodGhpcywgIm5hbWUiLCB2b2lkIDApLCB0aGlzLm5hbWUgPSAiR29vZ2xlV2ViIjsKICAgICAgICB9CiAgICAgICAgdmFyIGZuLCBfdHJhbnNsYXRlOwogICAgICAgIHJldHVybiBfY3JlYXRlQ2xhc3MoR29vZ2xlV2ViMiwgWyB7CiAgICAgICAgICAgIGtleTogInRyYW5zbGF0ZSIsCiAgICAgICAgICAgIHZhbHVlOiAoZm4gPSAgX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoKGZ1bmN0aW9uIF9jYWxsZWUocGFyYW1zKSB7CiAgICAgICAgICAgICAgICB2YXIgdGV4dCwgX3BhcmFtcyRmcm9tLCBmcm9tLCBfcGFyYW1zJHRvLCB0bywgc2VhcmNoUGFyYW1zLCB1cmw7CiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoKGZ1bmN0aW9uKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICg7Oykgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dCA9IHBhcmFtcy50ZXh0LCBfcGFyYW1zJGZyb20gPSBwYXJhbXMuZnJvbSwgZnJvbSA9IHZvaWQgMCA9PT0gX3BhcmFtcyRmcm9tID8gImF1dG8iIDogX3BhcmFtcyRmcm9tLCAKICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmFtcyR0byA9IHBhcmFtcy50bywgdG8gPSB2b2lkIDAgPT09IF9wYXJhbXMkdG8gPyAiemgtQ04iIDogX3BhcmFtcyR0bywgKHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMpLmFwcGVuZCgiY2xpZW50IiwgImd0eCIpLCAKICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZCgic2wiLCBmcm9tKSwgc2VhcmNoUGFyYW1zLmFwcGVuZCgidGwiLCB0byksIHNlYXJjaFBhcmFtcy5hcHBlbmQoImRqIiwgIjEiKSwgCiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoImR0IiwgInQiKSwgc2VhcmNoUGFyYW1zLmFwcGVuZCgiZHQiLCAicm0iKSwgc2VhcmNoUGFyYW1zLmFwcGVuZCgicSIsIHRleHQpLCAKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gImh0dHBzOi8vdHJhbnNsYXRlLmdvb2dsZWFwaXMuY29tL3RyYW5zbGF0ZV9hL3NpbmdsZT8iICsgc2VhcmNoUGFyYW1zLCBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZldGNoKHVybCkudGhlbigoZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuanNvbigpOwogICAgICAgICAgICAgICAgICAgICAgICB9KSkpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLCBfY2FsbGVlKTsKICAgICAgICAgICAgfSkpLCBfdHJhbnNsYXRlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgX25leHQodm9pZCAwKTsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24oX3gpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdHJhbnNsYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJ0cmFuc2Zvcm0iLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24ocXVlcnksIHJlc3VsdCkgewogICAgICAgICAgICAgICAgdmFyIHRleHQgPSBxdWVyeS50ZXh0LCB0byA9IHF1ZXJ5LnRvLCBzcmMgPSByZXN1bHQuc3JjLCByZWFsRnJvbSA9IHJlc3VsdC5zcmMgfHwgcXVlcnkuZnJvbSwgciA9IHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgICAgICAgICAgICAgIHJhdzogcmVzdWx0LAogICAgICAgICAgICAgICAgICAgIGxpbms6ICJodHRwczovL3RyYW5zbGF0ZS5nb29nbGUuY29tLz9zbD0iLmNvbmNhdChzcmMgfHwgImF1dG8iLCAiJnRsPSIpLmNvbmNhdCh0bywgIiZ0ZXh0PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodGV4dCksICImb3A9dHJhbnNsYXRlIiksCiAgICAgICAgICAgICAgICAgICAgZnJvbTogcmVhbEZyb20sCiAgICAgICAgICAgICAgICAgICAgdG86IHRvCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICByLnJlc3VsdCA9IHJlc3VsdC5zZW50ZW5jZXMubWFwKChmdW5jdGlvbihzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAidHJhbnMiIGluIHMgPyBzLnRyYW5zIDogIiI7CiAgICAgICAgICAgICAgICAgICAgfSkpLmpvaW4oIiIpLnNwbGl0KCJcbiIpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgICAgIHJldHVybiByOwogICAgICAgICAgICB9CiAgICAgICAgfSBdKSwgR29vZ2xlV2ViMjsKICAgIH0oKSwgZ29vZ2xlV2ViID0gbmV3IEdvb2dsZVdlYiwgd2hpdGVNYXBwaW5nID0gewogICAgICAgICJ6aC1DTiI6ICJ6aC1DTiIsCiAgICAgICAgInpoLUhhbnMtQ04iOiAiemgtQ04iLAogICAgICAgICJ6aC1UVyI6ICJ6aC1UVyIsCiAgICAgICAgInpoLUhhbnQtVFciOiAiemgtVFciLAogICAgICAgICJ6aC1IYW50LUhLIjogInpoLVRXIiwKICAgICAgICAiZmlsLVBIIjogInRsIiwKICAgICAgICAibW5pLU10ZWkiOiAibW5pLU10ZWkiCiAgICB9LCBnb29nbGVTdXBwb3J0ID0gWyAic3EiLCAiYXIiLCAiYW0iLCAiYXMiLCAiYXoiLCAiZWUiLCAiYXkiLCAiZ2EiLCAiZXQiLCAib3IiLCAib20iLCAiZXUiLCAiYmUiLCAiYm0iLCAiYmciLCAiaXMiLCAicGwiLCAiYnMiLCAiZmEiLCAiYmhvIiwgImFmIiwgInR0IiwgImRhIiwgImRlIiwgImR2IiwgInRpIiwgImRvaSIsICJydSIsICJmciIsICJzYSIsICJ0bCIsICJmaSIsICJmeSIsICJrbSIsICJrYSIsICJnb20iLCAiZ3UiLCAiZ24iLCAia2siLCAiaHQiLCAia28iLCAiaGEiLCAibmwiLCAia3kiLCAiZ2wiLCAiY2EiLCAiY3MiLCAia24iLCAiY28iLCAia3JpIiwgImhyIiwgInF1IiwgImt1IiwgImNrYiIsICJsYSIsICJsdiIsICJsbyIsICJsdCIsICJsbiIsICJsZyIsICJsYiIsICJydyIsICJybyIsICJtZyIsICJtdCIsICJtciIsICJtbCIsICJtcyIsICJtayIsICJtYWkiLCAibWkiLCAibW5pLU10ZWkiLCAibW4iLCAiYm4iLCAibHVzIiwgIm15IiwgImhtbiIsICJ4aCIsICJ6dSIsICJuZSIsICJubyIsICJwYSIsICJwdCIsICJwcyIsICJueSIsICJhayIsICJqYSIsICJzdiIsICJzbSIsICJzciIsICJuc28iLCAic3QiLCAic2kiLCAiZW8iLCAic2siLCAic2wiLCAic3ciLCAiZ2QiLCAiY2ViIiwgInNvIiwgInRnIiwgInRlIiwgInRhIiwgInRoIiwgInRyIiwgInRrIiwgImN5IiwgInVnIiwgInVyIiwgInVrIiwgInV6IiwgImVzIiwgIml3IiwgImVsIiwgImhhdyIsICJzZCIsICJodSIsICJzbiIsICJoeSIsICJpZyIsICJpbG8iLCAiaXQiLCAieWkiLCAiaGkiLCAic3UiLCAiaWQiLCAianciLCAiZW4iLCAieW8iLCAidmkiLCAiemgtVFciLCAiemgtQ04iLCAidHMiIF0sIGdldEdvb2dsZUxhbmd1YWdlU3VwcG9ydCA9IGZ1bmN0aW9uKGxhbmcyKSB7CiAgICAgICAgaWYgKGxhbmcyIGluIHdoaXRlTWFwcGluZykgcmV0dXJuIHdoaXRlTWFwcGluZ1tsYW5nMl07CiAgICAgICAgdmFyIGwgPSBsYW5nMi5zcGxpdCgiLSIpWzBdOwogICAgICAgIHJldHVybiAtMSAhPT0gZ29vZ2xlU3VwcG9ydC5pbmRleE9mKGwpID8gbCA6ICJ6aC1DTiI7CiAgICB9LCBhcGlzID0gewogICAgICAgIGdvb2dsZTogewogICAgICAgICAgICBhcGk6IGdvb2dsZVdlYiwKICAgICAgICAgICAgbGFuZ3VhZ2U6IGdldEdvb2dsZUxhbmd1YWdlU3VwcG9ydAogICAgICAgIH0KICAgIH0sIGJ0blRyYW5zbGF0ZU5hbWUgPSAi57+76K+RIiwgYnRuT3JpZ2luYWxOYW1lID0gIuWOn+aWhyIsIGJ0bk5hbWVNYXAgPSBKU09OLnBhcnNlKCd7InNxIjpbInDDq3JrdGhlam7DqyIsIm9yaWdqaW5hbGUiXSwiYXIiOlsi2YrYqtix2KzZhSIsItij2LXZhNmKIl0sImFtIjpbIuGImOGJsOGIreGMjuGInSIsIuGKpuGIquGMheGKk+GIjSJdLCJhcyI6WyLgpoXgpqjgp4Hgpqzgpr7gpqYg4KaV4Kew4Ka+Iiwi4Kau4KeC4KayIl0sImF6IjpbInTJmXJjw7xtyZkgZXRtyZlrIiwib3JpamluYWwiXSwiZWUiOlsiyZZlIGdiZSBnyZRtZSIsImdiw6N0yZQiXSwiYXkiOlsiamFxdWtpcGHDsWEiLCJ1cmlqaW5hbGEiXSwiZ2EiOlsiYWlzdHJpZ2giLCJidW5haWRoIl0sImV0IjpbInTDtWxraWRhIiwib3JpZ2luYWFsIl0sIm9yIjpbIuCsheCsqOCtgeCsrOCsvuCspiDgrJXgrLAiLCLgrK7grYLgrLMiXSwib20iOlsiaGlpa3V1Iiwia2FuIGphbHFhYmFhIl0sImV1IjpbIml0enVsaSIsImphdG9ycml6a29hIl0sImJlIjpbItC/0LXRgNCw0LrQu9Cw0LTQsNGG0YwiLCLQsNGA0YvQs9GW0L3QsNC70YzQvdGLIl0sImJtIjpbImthIGJhecmbbMmbbWEiLCJ5yZtyyZt5yZtyyZsiXSwiYmciOlsi0L/RgNC10LLQtdC20LTQsNC8Iiwi0L7RgNC40LPQuNC90LDQu9C10L0iXSwiaXMiOlsiw77DvcOwYSIsImZydW1sZWd0Il0sInBsIjpbIlTFgnVtYWN6ecSHIiwib3J5Z2luYcWCIl0sImJzIjpbInByZXZlc3RpIiwib3JpZ2luYWwiXSwiZmEiOlsi2KrYsdis2YXZhyDaqdix2K/ZhiIsItin2LXZhNuMIl0sImJobyI6WyLgpIXgpKjgpYHgpLXgpL7gpKYiLCLgpIXgpLjgpLLgpYAiXSwiYWYiOlsidmVydGFhbCIsIm9vcnNwcm9ua2xpa2UiXSwidHQiOlsi0YLTmdGA0pfQtdC805kg0LjRgtKvIiwi0L7RgNC40LPQuNC90LDQu9GMIl0sImRhIjpbIk92ZXJzw6Z0dGUiLCJvcmlnaW5hbCJdLCJkZSI6WyLDnGJlcnNldHplbiIsIk9yaWdpbmFsIl0sImR2IjpbIt6M3qbeg96q3pbept6J3qfeht6q3oPeqt6C3rAiLCLeh96m3pDesN6N3qoiXSwidGkiOlsi4Yid4Ym14Yit4YyT4YidIiwi4Yqm4Yit4YyC4YqT4YiNIl0sImRvaSI6WyLgpIXgpKjgpYHgpLXgpL7gpKYg4KSV4KSw4KSo4KS+Iiwi4KSu4KWC4KSyIl0sInJ1IjpbItC/0LXRgNC10LLQtdGB0YLQuCIsItC+0YDQuNCz0LjQvdCw0LvRjNC90YvQuSJdLCJmciI6WyJUcmFkdWlyZSIsIm9yaWdpbmFsIl0sInNhIjpbIuCkheCkqOClgeCkteCkpuCkpOCkvyIsIuCkruClguCksiJdLCJ0bCI6WyJJc2FsaW4iLCJvcmloaW5hbCJdLCJmaWwiOlsiSXNhbGluIiwib3JpaGluYWwiXSwiZmkiOlsiS8Okw6RudMOkw6QiLCJhbGt1cGVyw6RpbmVuIl0sImZ5IjpbIm9lcnNldHRlIiwib2Fyc3Byb25rbGlrIl0sImttIjpbIuGelOGegOGelOGfkuGemuGfgiIsIuGeiuGevuGemCJdLCJrYSI6WyLhg5fhg5Dhg6Dhg5Lhg5vhg5zhg5AiLCLhg53hg6Dhg5jhg5Lhg5jhg5zhg5Dhg5rhg6Phg6Dhg5giXSwiZ29tIjpbIuCkheCko+CkleCkvuCksCDgpJXgpLDgpJrgpYsiLCLgpK7gpYLgpLMiXSwiZ3UiOlsi4KqF4Kqo4KuB4Kq14Kq+4KqmIiwi4Kqu4KuC4KqzIl0sImduIjpbIsOxZVwn4bq9bWJvaGFzYSIsInlweWt1ZSJdLCJrayI6WyLQsNGD0LTQsNGA0YMiLCLRgtKv0L/QvdKx0YHSm9CwIl0sImh0IjpbInRyYWR3aSIsIm9yaWppbmFsIl0sImtvIjpbIuuyiOyXre2VmOuLpCIsIuybkOuemOydmCJdLCJoYSI6WyJmYXNzYXJhIiwiYXNhbGkiXSwibmwiOlsidmVydGFsZW4iLCJvcmlnaW5lZWwiXSwia3kiOlsi0LrQvtGC0L7RgNGD0YMiLCLQvtGA0LjQs9C40L3QsNC70LTRg9GDIl0sImdsIjpbInRyYWR1Y2lyIiwib3JpeGluYWwiXSwiY2EiOlsidHJhZHVpciIsIm9yaWdpbmFsIl0sImNzIjpbInDFmWVsb8W+aXQiLCJvcmlnaW7DoWwiXSwia24iOlsi4LKF4LKo4LOB4LK14LK+4LKm4LK/4LK44LOBIiwi4LKu4LOC4LKyIl0sImNvIjpbInRyYWR1Y2UiLCJ1cmlnaW5hbGUiXSwia3JpIjpbInRyYW5zbGV0IiwiZsmUc3TJm20iXSwiaHIiOlsiUHJldmVkaSIsIml6dm9ybmlrIl0sInF1IjpbInRpa3JheSIsImtpa2luIl0sImt1IjpbIndlcmdlcmFuZGluIiwiZXNsw64iXSwiY2tiIjpbItmI25XYsdqv247aldin2YYiLCLalduV2LPbldmGIl0sImxhIjpbInRyYW5zbGF0ZSIsIm9yaWdpbmFsIl0sImx2IjpbInR1bGtvdCIsIm9yacSjaW7EgWxzIl0sImxvIjpbIuC7geC6myIsIuC6leC6u+C7ieC6meC6quC6sOC6muC6seC6miJdLCJsdCI6WyJpxaF2ZXJzdGkiLCJvcmlnaW5hbHVzIl0sImxuIjpbImtvYm9uZ29sYSIsImVzaWthIGV1dGkiXSwibGciOlsib2t1dnZ1bnVsYSIsIi15aWl5ZSJdLCJsYiI6WyJpd3dlcnNldHplbiIsIm9yaWdpbmFsIl0sInJ3IjpbImd1aGluZHVyYSIsInVtd2ltZXJlcmUiXSwicm8iOlsiVHJhZHVjZcibaSIsIm9yaWdpbmFsIl0sIm1nIjpbInRyYW5zbGF0ZSIsInRhbWluXCdueSBmb3RvdHJhIl0sIm10IjpbInRpdHRyYWR1xItpIiwib3JpxKFpbmFsaSJdLCJtciI6WyLgpK3gpL7gpLfgpL7gpILgpKTgpLAg4KSV4KSw4KS+Iiwi4KSu4KWC4KSzIl0sIm1sIjpbIuC0teC0v+C0teC1vOC0pOC1jeC0pOC0qOC0giDgtJrgtYbgtK/gtY3gtK/gtYHgtJUiLCLgtJLgtLHgtL/gtJzgtL/gtKjgtb0iXSwibXMiOlsibWVudGVyamVtYWgiLCJhc2FsIl0sIm1rIjpbItC/0YDQtdCy0LXQtNC4Iiwi0L7RgNC40LPQuNC90LDQu9C10L0iXSwibWFpIjpbIuCkreCkvuCkt+CkvuCkguCkpOCksCDgpJXgpYfgpKjgpL7gpIciLCLgpK7gpYLgpLIiXSwibWkiOlsid2hha2FtYW9yaSIsInRha2V0YWtlIl0sIm1uIjpbItC+0YDRh9GD0YPQu9Cw0YUiLCLRjdGFIl0sImJuIjpbIuCmheCmqOCngeCmrOCmvuCmpiDgppXgprDgpr4iLCLgpq7gp4LgprIiXSwibHVzIjpbImxldGxpbmciLCJkaWsgdGFrIl0sIm15IjpbIuGAmOGArOGAnuGArOGAleGAvOGAlOGAuuGAleGAq+GBiyIsIuGAmeGAsOGAm+GAhOGAuuGAuCJdLCJobW4iOlsidHhoYWlzIiwicXViIl0sInhoIjpbImd1cXVsZWxhIiwieW9xb2JvIl0sInp1IjpbImh1bXVzaGEiLCJva3dhbmdlbXBlbGEiXSwibmUiOlsi4KSF4KSo4KWB4KS14KS+4KSmIOCkl+CksOCljeCkqOClgeCkueCli+CkuOCljSIsIuCkruCljOCksuCkv+CklSJdLCJubyI6WyJvdmVyc2V0dGUiLCJvcHByaW5uZWxpZyJdLCJwYSI6WyLgqIXgqKjgqYHgqLXgqL7gqKYiLCLgqIXgqLjgqLLgqYAiXSwicHQiOlsidHJhZHV6aXIiLCJvcmlnaW5hbCJdLCJwcyI6WyLamNio2Kfak9mHIiwi2KfYtdmE2YoiXSwibnkiOlsibWFzdWxpcmEiLCJjaG95YW1iaXJpcmEiXSwiYWsiOlsia3llcsmbIGFzZcmbIiwiYW5rYXNhIl0sImphIjpbIue/u+iosyIsIuOCquODquOCuOODiuODqyJdLCJzdiI6WyLDlnZlcnPDpHR0Iiwib3JpZ2luYWwtIl0sInNtIjpbImZhXCdhbGlsaXUiLCJtdWFtdWEiXSwic3IiOlsi0L/RgNC10LLQtdGB0YLQuCIsItC+0YDQuNCz0LjQvdCw0LvQvdC4Il0sIm5zbyI6WyJmZXRvbGVsYSIsIm1hdGhvbW8iXSwic3QiOlsiZmV0b2xlbGEiLCJlYSBtYW50bGhhIl0sInNpIjpbIuC2tOC2u+C3kuC3gOC2u+C3iuC2reC2seC2uiDgtprgtrvgtrHgt4rgtrEiLCLgtrjgt5Tgtr3gt4oiXSwiZW8iOlsidHJhZHVraSIsIm9yaWdpbmFsYSJdLCJzayI6WyJwcmVsb8W+acWlIiwib3JpZ2luw6FsbnkiXSwic2wiOlsicHJldmVzdGkiLCJvcmlnaW5hbCJdLCJzdyI6WyJrdXRhZnNpcmkiLCJhc2lsaSJdLCJnZCI6WyJlYWRhci10aGVhbmdhY2hhZGgiLCJ0aMO5c2FpbCJdLCJjZWIiOlsicGFnaHViYWQiLCJvcmloaW5hbCJdLCJzbyI6WyJ0dXJqdW4iLCJhc2Fsa2EgYWgiXSwidGciOlsi0YLQsNGA0rfRg9C80LAg0LrRg9C90LXQtCIsItCw0YHQu9OjIl0sInRlIjpbIuCwheCwqOCxgeCwteCwpuCwv+CwguCwmuCxgSIsIuCwheCwuOCwsuCxgSJdLCJ0YSI6WyLgrq7gr4bgrr7grrTgrr/grqrgr4bgrq/grrDgr40iLCLgroXgrprgrrLgr40iXSwidGgiOlsi4LmB4Lib4Lil4Lig4Liy4Lip4LiyIiwi4LiV4LmJ4LiZ4LiJ4Lia4Lix4LiaIl0sInRyIjpbIsOHZXZpcm1layIsIm9yaWppbmFsIl0sInRrIjpbInRlcmppbWUgZXQiLCJhc3lsIl0sImN5IjpbImN5ZmllaXRodSIsImd3cmVpZGRpb2wiXSwidWciOlsi2Krbldix2KzZidmF25UiLCJvcmlnaW5hbCJdLCJ1ciI6WyLYqtix2KzZhduBIiwi2KfYtdmEIl0sInVrIjpbItC/0LXRgNC10LrQu9Cw0LTQsNGC0LgiLCLQvtGA0LjQs9GW0L3QsNC70YzQvdC40LkiXSwidXoiOlsidGFyamltYSBxaWxpbmciLCJvcmlnaW5hbCJdLCJlcyI6WyJ0cmFkdWNpciIsIm9yaWdpbmFsIl0sIml3IjpbIteq16jXktedIiwi157WsNen15XWudeo1rTXmSJdLCJlbCI6WyLOvM61z4TOsc+Gz4HOrM62z4kiLCLPgM+Bz4nPhM+Mz4TPhc+Azr8iXSwiaGF3IjpbInVudWhpIiwia3VtdSJdLCJzZCI6WyLYqtix2KzZhdmIIiwi2KfYtdmEIl0sImh1IjpbImZvcmTDrXQiLCJlcmVkZXRpIl0sInNuIjpbInNoYW5kdXJhIiwib3JpZ2luYWwiXSwiaHkiOlsi1anVodaA1aPVtNWh1bbVpdWsIiwi1oXWgNWr1aPVq9W21aHVrCJdLCJpZyI6WyJz4bulZ2hhcuG7i2EiLCJtYuG7pSJdLCJpbG8iOlsiaXRhcnVzIiwib3JpaGluYWwiXSwiaXQiOlsidHJhZHVycmUiLCJvcmlnaW5hbGUiXSwieWkiOlsi15DXmdeR16LXqNeW16LXptefIiwi15DWuNeo15nXkteZ16DXotecIl0sImhpIjpbIuCkheCkqOClgeCkteCkvuCkpiDgpJXgpLDgpKjgpL4iLCLgpK7gpYLgpLIiXSwic3UiOlsibmFyamFtYWhrZXVuIiwiYXNsaW5hIl0sImlkIjpbIm1lbmVyamVtYWhrYW4iLCJhc2xpIl0sImp3IjpbIm5lcmplbWFoYWtlIiwiYXNsaW5lIl0sImVuIjpbIlRyYW5zbGF0ZSIsIk9yaWdpbmFsIl0sInlvIjpbInR1beG7jSIsImF0aWzhurliYSJdLCJ2aSI6WyJk4buLY2giLCJuZ3V5w6puIGLhuqNuIl0sInpoLVRXIjpbIue/u+itryIsIuWOn+aWhyJdLCJ6aC1DTiI6WyLnv7vor5EiLCLljp/mlociXSwidHMiOlsiaHVuZHp1bHV4YSIsIm1hbXBlbGEiXX0nKSwgZ2V0QnRuTmFtZXMgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gWyBidG5UcmFuc2xhdGVOYW1lLCBidG5PcmlnaW5hbE5hbWUgXTsKICAgIH0sIHRpdGxlS2V5ID0gInRpdGxlX3RyYW5zbGF0ZV9jbG9zZWQiLCB0aXRsZVRyYW5zbGF0aW9uVHVybmVkT24gPSAiVGl0bGUgVHJhbnNsYXRpb24gVHVybmVkIE9uIiwgdGl0bGVUcmFuc2xhdGlvblR1cm5lZE9mZiA9ICJUaXRsZSBUcmFuc2xhdGlvbiBUdXJuZWQgT2ZmIiwgdGl0bGVUcmFuc2xhdGlvbk1lbnVOYW1lTWFwID0gSlNPTi5wYXJzZSgneyJzcSI6WyJQw6tya3RoaW1pIGkgdGl0dWxsaXQgdSBha3Rpdml6dWEiLCJQw6tya3RoaW1pIGkgdGl0dWxsaXQgdSDDp2FrdGl2aXp1YSJdLCJhciI6WyLYqtmFINiq2LTYutmK2YQg2KrYsdis2YXYqSDYp9mE2LnZhtmI2KfZhiIsItiq2YUg2KXZitmC2KfZgSDYqtix2KzZhdipINin2YTYudmG2YjYp9mGIl0sImFtIjpbIuGIreGLleGItSDhibXhiK3hjInhiJ0g4Ymg4Yit4Ym34YiN4Y2iIiwi4Yit4YuV4Yi1IOGJteGIreGMieGInSDhjKDhjY3hibfhiI0iXSwiYXMiOlsi4Ka24Ka/4Kew4KeL4Kao4Ka+4KauIOCmheCmqOCngeCmrOCmvuCmpiDgpoXgpqgg4KaV4Kew4Ka+IOCmueCniOCmm+CnhyIsIuCmtuCmv+CnsOCni+CmqOCmvuCmriDgpoXgpqjgp4Hgpqzgpr7gpqYg4Kas4Kao4KeN4KanIOCmleCnsOCmviDgprngp4jgppvgp4ciXSwiYXoiOlsiQmHFn2zEscSfxLFuIFTJmXJjw7xtyZlzaSBZYW5kxLFyxLFsZMSxIiwiQmHFn2zEscSfxLFuIFTJmXJjw7xtyZlzaSBTw7ZuZMO8csO8bMO8YiJdLCJlZSI6WyJXb8qLdSBUYW55YSBHyZRtZcmWZcmWZSIsIldvdHNpIFRhbnlhIEfJlG1lyZZlyZZlIl0sImF5IjpbIlRpdHVsbyBKYXF1a2lwYcOxYSBUdXJuZWQiLCJUw610dWxvIEphcXVraXBhw7FheCBqaXN04oCZYW50YXRhd2EiXSwiZ2EiOlsiVGVpZGVhbCBBaXN0cmnDumNow6FuIGFyIHNpw7psIiwiVGVpZGVhbCBBaXN0cmnDumNow6FuIE3DumNodGEiXSwiZXQiOlsiUGVhbGtpcmphIHTDtWxraW1pbmUgb24gc2lzc2UgbMO8bGl0YXR1ZCIsIlBlYWxraXJqYSB0w7Vsa2ltaW5lIG9uIHbDpGxqYSBsw7xsaXRhdHVkIl0sIm9yIjpbIuCshuCsluCtjeCtn+CsviDgrIXgrKjgrYHgrKzgrL7grKYg4Kyf4Kyw4K2N4Kyo4K2NIOCsheCsqOCtjSB8Iiwi4KyG4KyW4K2N4K2f4Ky+IOCsheCsqOCtgeCsrOCsvuCspiDgrKzgrKjgrY3grKYg4Ky54K2L4KyH4KyX4Kyy4Ky+IHwiXSwib20iOlsiSGlpa2thYSBNYXRhIER1cmVlIElycmF0dGkgQmFhZmFtZSIsIkhpaWtrYWEgTWF0YSBEdXJlZSBDdWZhbWUiXSwiZXUiOlsiSXplbmJ1cnVhcmVuIGl0enVscGVuYSBha3RpYmF0dXRhIGRhZ28iLCJJemVuYnVydWFyZW4gaXR6dWxwZW5hIGRlc2FrdGliYXR1dGEgZGFnbyJdLCJiZSI6WyLQn9C10YDQsNC60LvQsNC0INC30LDQs9Cw0LvQvtGe0LrQsNGeINGD0LrQu9GO0YfQsNC90YsiLCLQn9C10YDQsNC60LvQsNC0INC30LDQs9Cw0LvQvtGe0LrQsCDQstGL0LrQu9GO0YfQsNC90YsiXSwiYm0iOlsiVGl0bGUgQmFtYW5hbmthbiBCYW1hbmFua2FuIERhYsmUcmEiLCJUaXRsZSBCYW1hbmFua2FuIEJhbWFuYW5rYW4gRGFmYXJhIl0sImJnIjpbItCf0YDQtdCy0L7QtNGK0YIg0L3QsCDQt9Cw0LPQu9Cw0LLQuNGP0YLQsCDQtSDQstC60LvRjtGH0LXQvSIsItCf0YDQtdCy0L7QtNGK0YIg0L3QsCDQt9Cw0LPQu9Cw0LLQuNC10YLQviDQtSDQuNC30LrQu9GO0YfQtdC9Il0sImlzIjpbIkt2ZWlrdCDDoSB0aXRpbMO+w73DsGluZ3UiLCJTbMO2a2t0IMOhIHRpdGlsw77DvcOwaW5ndSJdLCJwbCI6WyJUxYJ1bWFjemVuaWUgdHl0dcWCw7N3IHfFgsSFY3pvbmUiLCJUxYJ1bWFjemVuaWUgdHl0dcWCw7N3IHd5xYLEhWN6b25lIl0sImJzIjpbIlByZXZvZCBuYXNsb3ZhIGplIHVrbGp1xI1lbiIsIlByZXZvZCBuYXNsb3ZhIGplIGlza2xqdcSNZW4iXSwiZmEiOlsi2KrYsdis2YXZhyDYudmG2YjYp9mGINix2YjYtNmGINi02K8iLCLYqtix2KzZhdmHINi52YbZiNin2YYg2K7Yp9mF2YjYtCDYtNivIl0sImJobyI6WyLgpLbgpYDgpLDgpY3gpLfgpJUg4KSF4KSo4KWB4KS14KS+4KSmIOCkmuCkvuCksuClgiDgpLngpYsg4KSX4KSH4KSyIOCkrOCkviIsIuCktuClgOCksOCljeCkt+CklSDgpIXgpKjgpYHgpLXgpL7gpKYg4KSs4KSC4KSmIOCkueCliyDgpJfgpIfgpLIg4KSs4KS+Il0sImFmIjpbIlRpdGVsdmVydGFsaW5nIGFhbmdlc2tha2VsIiwiVGl0ZWx2ZXJ0YWxpbmcgYWZnZXNrYWtlbCJdLCJ0dCI6WyLQotC40YLRg9C7INGC05nRgNKX0LXQvNOZ0YHQtSDQutCw0LHRi9C30YvQu9C00YsiLCLQotC40YLRg9C7INGC05nRgNKX0LXQvNOZ0YHQtSDRgdKv0L3QtNC1Il0sImRhIjpbIlRpdGVsb3ZlcnPDpnR0ZWxzZSBlciBzbMOlZXQgdGlsIiwiVGl0ZWxvdmVyc8OmdHRlbHNlIGVyIHNsw6VldCBmcmEiXSwiZGUiOlsiVGl0ZWzDvGJlcnNldHp1bmcgZWluZ2VzY2hhbHRldCIsIlRpdGVsw7xiZXJzZXR6dW5nIGRlYWt0aXZpZXJ0Il0sImR2IjpbIt6Q3qreg96q3preqSDejN6m3oPeqt6W3qbeid6nIN6H3q7egt6w3obert6B3rDeit6o3oferN6I3qwiLCLekN6q3oPeqt6a3qkg3ozept6D3qrelt6m3onepyDegt6o3ofesN6I3qfejd6n3orept6H3qgiXSwidGkiOlsi4Ym14Yit4YyJ4YidIOGKo+GIreGKpeGIteGJsiDhibDhi4jhiIrhi5EiLCLhibXhiK3hjInhiJ0g4Yqj4Yit4Yql4Yi14YmyIOGJsOGLk+GMveGLqeGNoiJdLCJkb2kiOlsi4KS24KWA4KSw4KWN4KS34KSVIOCkheCkqOClgeCkteCkvuCkpiDgpJrgpL7gpLLgpYIg4KS54KWLIOCkl+Ckr+CkviIsIuCktuClgOCksOCljeCkt+CklSDgpIXgpKjgpYHgpLXgpL7gpKYg4KSs4KSC4KSmIOCkueCliyDgpJfgpK/gpL4iXSwicnUiOlsi0J/QtdGA0LXQstC+0LQg0LfQsNCz0L7Qu9C+0LLQutC+0LIg0LLQutC70Y7Rh9C10L0iLCLQn9C10YDQtdCy0L7QtCDQt9Cw0LPQvtC70L7QstC60L7QsiDQvtGC0LrQu9GO0YfQtdC9Il0sImZyIjpbIlRyYWR1Y3Rpb24gZHUgdGl0cmUgYWN0aXbDqWUiLCJUcmFkdWN0aW9uIGR1IHRpdHJlIGTDqXNhY3RpdsOpZSJdLCJzYSI6WyLgpLbgpYDgpLDgpY3gpLfgpJUg4KSF4KSo4KWB4KS14KS+4KSmIOCkmuCkvuCksuClgiIsIuCktuClgOCksOCljeCkt+CklSDgpIXgpKjgpYHgpLXgpL7gpKYg4KSF4KS14KSw4KWB4KSm4KWN4KSnIl0sInRsIjpbIk5ha2Etb24gYW5nIFBhZ3Nhc2FsaW4gbmcgUGFtYWdhdCIsIk5ha2Etb2ZmIGFuZyBQYWdzYXNhbGluIG5nIFBhbWFnYXQiXSwiZmkiOlsiT3RzaWtvbiBrw6TDpG5uw7ZzIHDDpMOkbGzDpCIsIk90c2lrb24ga8Okw6RubsO2cyBwb2lzdGV0dHUga8OkeXTDtnN0w6QiXSwiZnkiOlsiVGl0ZWxvZXJzZXR0aW5nIHluc2tlYWtlbGUiLCJUaXRlbG9lcnNldHRpbmcgw7p0c2tlYWtlbGUiXSwia20iOlsi4Z6A4Z624Z6a4Z6U4Z6A4Z6U4Z+S4Z6a4Z+C4Z6F4Z+G4Z6O4Z6E4Z6H4Z6+4Z6E4Z6P4Z+S4Z6a4Z684Z6c4Z6U4Z624Z6T4Z6U4Z6+4Z6AIiwi4Z6A4Z624Z6a4Z6U4Z6A4Z6U4Z+S4Z6a4Z+C4Z6F4Z+G4Z6O4Z6E4Z6H4Z6+4Z6E4Z6P4Z+S4Z6a4Z684Z6c4Z6U4Z624Z6T4Z6U4Z634Z6RIl0sImthIjpbIuGDoeGDkOGDl+GDkOGDo+GDoOGDmOGDoSDhg5fhg5Dhg6Dhg5Lhg5vhg5Dhg5zhg5gg4YOp4YOQ4YOg4YOX4YOj4YOa4YOY4YOQIiwi4YOh4YOQ4YOX4YOQ4YOj4YOg4YOY4YOhIOGDl+GDkOGDoOGDkuGDm+GDkOGDnOGDmCDhg5Lhg5Dhg5vhg53hg6Dhg5fhg6Phg5rhg5jhg5AiXSwiZ29tIjpbIuCktuClgOCksOCljeCkt+CklSDgpIXgpKPgpJXgpL7gpLAg4KSa4KS+4KSy4KWCIOCkleClh+CksuCkviIsIuCktuClgOCksOCljeCkt+CklSDgpIXgpKPgpJXgpL7gpLAg4KSs4KSC4KSmIOCkleClh+CksuCkviJdLCJndSI6WyLgqrbgq4DgqrDgq43gqrfgqpUg4KqF4Kqo4KuB4Kq14Kq+4KqmIOCqmuCqvuCqsuCrgSIsIuCqtuCrgOCqsOCrjeCqt+CqlSDgqoXgqqjgq4HgqrXgqr7gqqYg4Kqs4KqC4KqnIl0sImduIjpbIlTDrXR1bG8gVHJhZHVjY2nDs24gT8OxZW1ib2d1ZSIsIlTDrXR1bG8gVHJhZHVjY2nDs24gT8OxZW1ib2d1ZSJdLCJrayI6WyLQotCw0pvRi9GA0YvQvyDQsNGD0LTQsNGA0LzQsNGB0Ysg0pvQvtGB0YvQu9C00YsiLCLQotCw0pvRi9GA0YvQvyDQsNGD0LTQsNGA0LzQsNGB0Ysg06nRiNGW0YDRltC70LTRliJdLCJodCI6WyJUcmFkaWtzeW9uIFRpdCBBa3RpdmUiLCJUcmFkaWtzeW9uIFRpdCBFdGVubiJdLCJrbyI6WyLsoJzrqqkg67KI7JetIOy8nOynkCIsIuygnOuqqSDrsojsl63snbQg6rq87KeQIl0sImhhIjpbIkFuIEt1bm5hIEZhc3NhcmFyIFRha2UiLCJBbiBLYXNoZSBGYXNzYXJhciBUYWtlIl0sIm5sIjpbIlRpdGVsdmVydGFsaW5nIGluZ2VzY2hha2VsZCIsIlRpdGVsdmVydGFsaW5nIHVpdGdlc2NoYWtlbGQiXSwia3kiOlsi0JDRgtCw0LvRi9GI0YvQvSDQutC+0YLQvtGA0YPRgyDQutKv0LnQs9Kv0LfSr9C70LTSryIsItCQ0YLQsNC70YvRiNGL0L3Ri9C9INC60L7RgtC+0YDQvNC+0YHRgyDTqdGH0q/RgNKv0LvQs9Op0L0iXSwiZ2wiOlsiVHJhZHVjacOzbiBkbyB0w610dWxvIGFjdGl2YWRhIiwiRGVzYWN0aXZvdXNlIGEgdHJhZHVjacOzbiBkbyB0w610dWxvIl0sImNhIjpbIlRyYWR1Y2Npw7MgZGVsIHTDrXRvbCBhY3RpdmFkYSIsIkxhIHRyYWR1Y2Npw7MgZGVsIHTDrXRvbCBlc3TDoCBkZXNhY3RpdmFkYSJdLCJjcyI6WyJQxZlla2xhZCB0aXR1bGvFryB6YXBudXTDvSIsIlDFmWVrbGFkIHRpdHVsa8WvIHZ5cG51dMO9Il0sImtuIjpbIuCytuCzgOCysOCzjeCyt+Cyv+CyleCzhiDgsoXgsqjgs4HgsrXgsr7gsqbgsrXgsqjgs43gsqjgs4Eg4LKG4LKo4LONIOCyruCyvuCyoeCysuCyvuCyl+Cyv+CypuCzhiIsIuCytuCzgOCysOCzjeCyt+Cyv+CyleCzhiDgsoXgsqjgs4HgsrXgsr7gsqbgsrXgsqjgs43gsqjgs4Eg4LKG4LKr4LONIOCyruCyvuCyoeCysuCyvuCyl+Cyv+CypuCzhiJdLCJjbyI6WyJBIHRyYWR1enppb25lIGRpIHUgdGl0dWx1IGjDqCBhdHRpdmF0YSIsIlRyYWR1enppb25lIGRpIHUgdGl0dWx1IGRpc2F0dGl2YXRhIl0sImtyaSI6WyJUYXl0dWwgVHJhbnNsZXNoyZRuIGTJlG4gT24iLCJUYXl0dWwgVHJhbnNsZXNoyZRuIGTJlG4gxoZmIl0sImhyIjpbIlByaWpldm9kIG5hc2xvdmEgdWtsanXEjWVuIiwiUHJpamV2b2QgbmFzbG92YSBpc2tsanXEjWVuIl0sInF1IjpbIlRpdHVsbyBUcmFkdWNjacOzbiBsbGFua+KAmWFjaGlzcWEiLCJUaXR1bG8gVHJhZHVjY2nDs24gQXBhZ2FzcWEiXSwia3UiOlsiU2VybmF2IFdlcmdlcmEgWml2aXLDriIsIlNlcm5hdiBXZXJnZXIgSsOuIEtpcmluIl0sImNrYiI6WyLZiNuV2LHar9uO2pXYp9mG24wg2YbYp9mI2YbbjNi02KfZhiDYr9in2q/bjNix2LPYp9mI25UiLCLZiNuV2LHar9uO2pXYp9mG24wg2YbYp9mI2YbbjNi02KfZhiDaqdmI2pjYp9mI25XYqtuV2YjblSJdLCJsYSI6WyJUaXR1bHVzIFRyYW5zbGF0aW9uaXMgY29udmVyc3VzIGVzdCIsIlRpdHVsdXMgVHJhbnNsYXRpb24gY29udmVydGl0IE9mZiJdLCJsdiI6WyJWaXJzcmFrc3RhIHR1bGtvxaFhbmEgaWVzbMSTZ3RhIiwiVmlyc3Jha3N0YSB0dWxrb8WhYW5hIGl6c2zEk2d0YSJdLCJsbyI6WyLgu4DgupvgurXgupTguoHgurLgupngu4HgupvguqvgurvguqfguoLgu43gu4ngu4HguqXgu4nguqciLCLguoHgurLgupngu4HgupvguqvgurvguqfguoLgu43gu4ngupbgurfguoHgupvgurTgupQiXSwibHQiOlsiUGF2YWRpbmltbyB2ZXJ0aW1hcyDEr2p1bmd0YXMiLCJQYXZhZGluaW1vIHZlcnRpbWFzIGnFoWp1bmd0YXMiXSwibG4iOlsiVGl0cmUgVHJhZHVjdGlvbiBlZnVuZ29sYW1pIiwiTGlib25nb2xpIHlhIG1vdMOzIHlhIGxpa2FtYm8gZWthbmdhbWkiXSwibGciOlsiT2t1dnZ1dW51bGEgT211dHdlIEt1a29sZWV6ZWRkd2EiLCJPa3V2dnV1bnVsYSBPbXV0d2UgS3V6aWtpZGR3YSJdLCJsYiI6WyJUaXRlbCBJd3dlcnNldHp1bmcgYWdlc2NoYWx0IiwiVGl0ZWwgSXd3ZXJzZXR6dW5nIGF1c2dlc2NoYWx0Il0sInJ3IjpbIlVtdXR3ZSB3YWhpbmR1d2UiLCJVbXV0d2UgVWJ1c29iYW51cm8gYndhemlteWUiXSwicm8iOlsiVHJhZHVjZXJlYSB0aXRsdWx1aSBlc3RlIGFjdGl2YXTEgyIsIlRyYWR1Y2VyZWEgdGl0bHVsdWkgZXN0ZSBkZXphY3RpdmF0xIMiXSwibWciOlsiTG9oYXRlbnkgRGlrYW50ZW55IE5pcmVoaXRyYSIsIkxvaGF0ZW55IERpa2FudGVueSBOZWtlbmEiXSwibXQiOlsiVHJhZHV6empvbmkgdGF0LVRpdG9sdSBNaXhnxKd1bCIsIlRyYWR1enpqb25pIHRhdC1UaXRvbHUgTWl0ZmlqYSJdLCJtciI6WyLgpLbgpYDgpLDgpY3gpLfgpJUg4KSt4KS+4KS34KS+4KSC4KSk4KSwIOCkmuCkvuCksuClgiDgpJXgpYfgpLLgpYciLCLgpLbgpYDgpLDgpY3gpLfgpJUg4KSF4KSo4KWB4KS14KS+4KSmIOCkrOCkguCkpiJdLCJtbCI6WyLgtKTgtLLgtJXgtY3gtJXgtYbgtJ/gtY3gtJ/gtY0g4LS14LS/4LS14LW84LSk4LWN4LSk4LSo4LSCIOC0k+C0o+C0vuC0leC1jeC0leC0vyIsIuC0tuC1gOC1vOC0t+C0lSDgtLXgtL/gtLXgtbzgtKTgtY3gtKTgtKjgtIIg4LST4LSr4LS+4LSV4LWN4LSV4LS/Il0sIm1zIjpbIlRlcmplbWFoYW4gVGFqdWsgRGloaWR1cGthbiIsIlRlcmplbWFoYW4gVGFqdWsgRGltYXRpa2FuIl0sIm1rIjpbItCf0YDQtdCy0L7QtNC+0YIg0L3QsCDQvdCw0YHQu9C+0LLQvtGCINC1INCy0LrQu9GD0YfQtdC9Iiwi0J/RgNC10LLQvtC00L7RgiDQvdCwINC90LDRgdC70L7QstC+0YIg0LUg0LjRgdC60LvRg9GH0LXQvSJdLCJtYWkiOlsi4KS24KWA4KSw4KWN4KS34KSVIOCkheCkqOClgeCkteCkvuCkpiDgpJrgpL7gpLLgpYIiLCLgpLbgpYDgpLDgpY3gpLfgpJUg4KSF4KSo4KWB4KS14KS+4KSmIOCkrOCkguCkpiJdLCJtaSI6WyJUYWl0YXJhIFdoYWthbWFvcmkgS3VhIEh1cmloaWEiLCJJIFdldG8gdGUgV2hha2FtYW9yaSBUYWl0YXJhIl0sIm1uaS1NdGVpIjpbIuqvh+qvpeqvj+qvh+qvnFRpdGxlIFRyYW5zbGF0aW9uIFR1cm5lZCBPbiIsIuqvh+qvpeqvj+qvh+qvnFRpdGxlIFRyYW5zbGF0aW9uIFR1cm5lZCBPZmbqr4rqr6Tqr6Hqr5bqr6Tqr5zqr4Lqr6bqr6siXSwibW4iOlsi0JPQsNGA0YfQs9C40LnQvSDQvtGA0YfRg9GD0LvQs9GL0LMg0LDRgdCw0LDRgdCw0L0iLCLQk9Cw0YDRh9Cz0LjQudC9INC+0YDRh9GD0YPQu9Cz0YvQsyDRg9C90YLRgNCw0LDRgdCw0L0iXSwiYm4iOlsi4Ka24Ka/4Kaw4KeL4Kao4Ka+4KauIOCmheCmqOCngeCmrOCmvuCmpiDgpprgpr7gprLgp4Eg4KaV4Kaw4Ka+IOCmueCmr+CmvOCnh+Cmm+CnhyIsIuCmtuCmv+CmsOCni+CmqOCmvuCmriDgpoXgpqjgp4Hgpqzgpr7gpqYg4Kas4Kao4KeN4KanIl0sImx1cyI6WyJUaXRsZSBMZWhsaW4gVHVybiBPbiBhIG5pIiwiVGl0bGUgbGVobGluIE9mZiBhIG5pIl0sIm15IjpbIuGAgeGAseGAq+GAhOGAuuGAuOGAheGAieGAuiDhgJjhgKzhgJ7hgKzhgJXhgLzhgJThgLrhgIHhgLzhgIThgLrhgLjhgIDhgK3hgK8g4YCW4YC94YCE4YC34YC64YCR4YCs4YC44YCe4YCK4YC64YGLIiwi4YCB4YCx4YCr4YCE4YC64YC44YCF4YCJ4YC6IOGAmOGArOGAnuGArOGAleGAvOGAlOGAuuGAhuGAreGAr+GAgeGAvOGAhOGAuuGAuOGAgOGAreGAryDhgJXhgK3hgJDhgLrhgJHhgKzhgLjhgJ7hgIrhgLrhgYsiXSwiaG1uIjpbIktldiB0eGhhaXMgVGl0bGUgVGlnIFRhdSIsIktldiB0eGhhaXMgbnBlIHJhdWcgbXVhYiB0dWEiXSwieGgiOlsiSW5ndXF1bGVsbyBZZXNpaGxva28gSXZ1bGl3ZSIsIkluZ3VxdWxlbG8gWWVzaWhsb2tvIENpbnlpd2UiXSwienUiOlsiVWt1aHVtdXNoYSBLd2VzaWhsb2tvIEt1dnVsaXdlIiwiVWt1aHVtdXNoYSBLd2VzaWhsb2tvIEt1dmFsaXdlIl0sIm5lIjpbIuCktuClgOCksOCljeCkt+CklSDgpIXgpKjgpYHgpLXgpL7gpKYg4KS44KSV4KWN4KSw4KS/4KSvIOCkreCkr+CliyIsIuCktuClgOCksOCljeCkt+CklSDgpIXgpKjgpYHgpLXgpL7gpKYg4KSs4KSo4KWN4KSmIOCkl+CksOCkv+Ckr+CliyJdLCJubyI6WyJUaXR0ZWxvdmVyc2V0dGVsc2Ugc2zDpXR0IHDDpSIsIlRpdHRlbG92ZXJzZXR0ZWxzZSBzbMOldHQgYXYiXSwicGEiOlsi4Ki44Ki/4Kiw4Kiy4KmH4KiWIOCoheCoqOCpgeCoteCovuCopiDgqJrgqL7gqLLgqYIg4Ki54KmIIiwi4Ki44Ki/4Kiw4Kiy4KmH4KiWIOCoheCoqOCpgeCoteCovuCopiDgqKzgqbDgqKYg4Ki54KmIIl0sInB0IjpbIlRyYWR1w6fDo28gZGUgdMOtdHVsbyBhdGl2YWRhIiwiVHJhZHXDp8OjbyBkZSB0w610dWxvIGRlc2F0aXZhZGEiXSwicHMiOlsi2K8g2LPYsdmE24zaqSDamNio2Kfak9mHINmB2LnYp9mE2Ycg2LTZiNmHIiwi2K8g2LPYsdmE24zaqSDamNio2Kfak9mHINio2YbYr9mHINi02YjZhyJdLCJueSI6WyJLdW1hc3VsaXJhIEt3YW11dHUgS3dheWF0c2lkd2EiLCJLdW1hc3VsaXJhIEt3YW11dHUgS3dhemltaXRzaWR3YSJdLCJhayI6WyJUaXRsZSBOa3llcsmbYXNlIGEgV8mUYWRhbiBubyIsIlRpdGxlIE5reWVyyZthc2UgYSBXyZRhZHVtIl0sImphIjpbIuOCv+OCpOODiOODq+e/u+ios+OCkuOCquODs+OBq+OBl+OBvuOBl+OBnyIsIuOCv+OCpOODiOODq+OBrue/u+ios+OBjOOCquODleOBq+OBquOBo+OBpuOBhOOBvuOBmSJdLCJzdiI6WyJUaXRlbMO2dmVyc8OkdHRuaW5nIGhhciBha3RpdmVyYXRzIiwiVGl0ZWzDtnZlcnPDpHR0bmluZyBhdnN0w6RuZ2QiXSwic20iOlsiVWx1dGFsYSBGYWFsaWxpdWdhIFVhIEtpIiwiVWx1dGFsYSBGYWFsaWxpdWdhIFVhIHRhcGUiXSwic3IiOlsi0J/RgNC10LLQvtC0INC90LDRgdC70L7QstCwINGY0LUg0YPQutGZ0YPRh9C10L0iLCLQn9GA0LXQstC+0LQg0L3QsNGB0LvQvtCy0LAg0ZjQtSDQuNGB0LrRmdGD0YfQtdC9Il0sIm5zbyI6WyJQaGV0b2xlbG8geWEgVGhhZXRsZWxlIGUgQnVsZXTFoXdlIiwiUGhldG9sZWxvIHlhIFRoYWV0bGVsZSBlIFRpbWlsd2UiXSwic3QiOlsiUGhldG9sZWxvIGVhIFNlaGxvb2hvIGUgQnVsZXRzb2UiLCJQaGV0b2xlbG8gZWEgU2VobG9vaG8gRSBUaW5nb2UiXSwic2kiOlsi4La44LeP4Lat4LeY4Laa4LePIOC2tOC2u+C3kuC3gOC2u+C3iuC2reC2seC2uiDgtprgt4rigI3gtrvgt5Lgtrrgt4/gtq3gt4rgtrjgtprgtrrgt5IiLCLgtrjgt4/gtq3gt5jgtprgt48g4La04La74LeS4LeA4La74LeK4Lat4Lax4La6IOC2heC2muC3iuKAjeC2u+C3kuC2uuC2uuC3kiJdLCJlbyI6WyJUaXRvbG8gVHJhZHVrYWRvIMWcYWx0aXRhIiwiVGl0b2xvIFRyYWR1a2FkbyBNYWzFnWFsdGl0YSJdLCJzayI6WyJQcmVrbGFkIHRpdHVsb3YgamUgemFwbnV0w70iLCJQcmVrbGFkIHRpdHVsb3YgamUgdnlwbnV0w70iXSwic2wiOlsiUHJldm9kIG5hc2xvdmEgamUgdmtsb3BsamVuIiwiUHJldm9kIG5hc2xvdmEgamUgaXprbG9wbGplbiJdLCJzdyI6WyJUYWZzaXJpIHlhIEtpY2h3YSBJbWV3YXNod2EiLCJUYWZzaXJpIHlhIEtpY2h3YSBJbWV6aW13YSJdLCJnZCI6WyJFYWRhci10aGVhbmdhY2hhZGggdGlvdGFsIGFpciBhIHRoaW9ubmRhZGggYWlyIiwiRWFkYXItdGhlYW5nYWNoYWRoIHRpb3RhbCBhaXIgYSBjaHVpciBkaGV0aCJdLCJjZWIiOlsiR2ktb24gYW5nIFBhZ2h1YmFkIHNhIFRpdHVsbyIsIkdpLW9mZiBhbmcgVGl0dWxvIG5nYSBIdWJhZCJdLCJzbyI6WyJUdXJqdW1hYWRhIENpd2FhbmthIHdhYSBzaGlkYXkiLCJUdXJqdW1hYWRhIENpd2FhbmthIHdhYSBEZW1peWF5Il0sInRnIjpbItCi0LDRgNK30YPQvNCw0Lgg0YPQvdCy0L7QvSDRhNCw0YrQvtC7INGI0YPQtCIsItCi0LDRgNK30YPQvNCw0Lgg0YPQvdCy0L7QvSDRhdC+0LzTr9GIINC60LDRgNC00LAg0YjRg9C0Il0sInRlIjpbIuCwtuCxgOCwsOCxjeCwt+Cwv+CwlSDgsIXgsKjgsYHgsLXgsL7gsKbgsIIg4LCG4LCo4LGNIOCwmuCxh+Cwr+CwrOCwoeCwv+CwguCwpuCwvyIsIuCwtuCxgOCwsOCxjeCwt+Cwv+CwlSDgsIXgsKjgsYHgsLXgsL7gsKbgsIIg4LCG4LCr4LGNIOCwmuCxh+Cwr+CwrOCwoeCwv+CwguCwpuCwvyJdLCJ0YSI6WyLgrqTgrrLgr4jgrqrgr43grqrgr4Eg4K6u4K+K4K604K6/4K6q4K+G4K6v4K6w4K+N4K6q4K+N4K6q4K+BIOCuh+Cur+CuleCvjeCuleCuquCvjeCuquCun+CvjeCun+CupOCvgSIsIuCupOCusuCviOCuquCvjeCuquCvgSDgrq7gr4rgrrTgrr/grqrgr4bgrq/grrDgr43grqrgr43grqrgr4Eg4K6u4K+B4K6f4K6V4K+N4K6V4K6q4K+N4K6q4K6f4K+N4K6f4K6k4K+BIl0sInRoIjpbIuC5gOC4m+C4tOC4lOC4geC4suC4o+C5geC4m+C4peC4iuC4t+C5iOC4reC5gOC4o+C4t+C5iOC4reC4h+C5geC4peC5ieC4pyIsIuC4m+C4tOC4lOC4geC4suC4o+C5geC4m+C4peC4iuC4t+C5iOC4reC5gOC4o+C4t+C5iOC4reC4h+C5geC4peC5ieC4pyJdLCJ0ciI6WyJCYcWfbMSxayDDh2V2aXJpc2kgQcOnxLFsZMSxIiwiQmHFn2zEsWsgw4dldmlyaXNpIEthcGF0xLFsZMSxIl0sInRrIjpbIkFkecWIIHRlcmppbWVzaSBhw6d5bGR5IiwiQWR5xYggdGVyamltZXNpIMO2w6fDvHJpbGRpIl0sImN5IjpbIlRlaXRsIEN5ZmllaXRoaWFkIFdlZGlcJ2kgRHJvaSBZbWxhZW4iLCJUZWl0bCBDeWZpZWl0aGlhZCBXZWRpXCdpIERpZmZvZGQiXSwidWciOlsi2YXYp9uL2LLbhyDYqtuV2LHYrNmJ2YXZidiz2Ykg2KbbkNqG2YnZhNiv2YkiLCLZhdin24vYstuHINiq25XYsdis2YnZhdmJ2LPZiSDYqtin2YLYp9mE2K/ZiSJdLCJ1ciI6WyLYudmG2YjYp9mGINqp2Kcg2KrYsdis2YXbgSDYotmGINqp2LEg2K/bjNinINqv24zYp9uUIiwi2LnZhtmI2KfZhiDaqdinINiq2LHYrNmF24Eg2KjZhtivINqp2LEg2K/bjNinINqv24zYp9uUIl0sInVrIjpbItCf0LXRgNC10LrQu9Cw0LQg0LfQsNCz0L7Qu9C+0LLQutGW0LIg0YPQstGW0LzQutC90LXQvdC+Iiwi0J/QtdGA0LXQutC70LDQtCDQt9Cw0LPQvtC70L7QstC60LAg0LLQuNC80LrQvdC10L3QviJdLCJ1eiI6WyJTYXJsYXZoYSB0YXJqaW1hc2kgeW9xaWxkaSIsIlNhcmxhdmhhIHRhcmppbWFzaSBvyrtjaGlyaWxnYW4iXSwiZXMiOlsiVHJhZHVjY2nDs24gZGUgdMOtdHVsb3MgYWN0aXZhZGEiLCJUcmFkdWNjacOzbiBkZSB0w610dWxvcyBkZXNhY3RpdmFkYSJdLCJpdyI6WyLXqteo15LXldedINeb15XXqteo16og15TXldek16LXnCIsIteq16jXkteV150g15vXldeq16jXqiDXm9eR15XXmSJdLCJlbCI6WyLOlyDOvM61z4TOrM+Gz4HOsc+Dzrcgz4TOr8+EzrvOv8+FIM61zr3Otc+BzrPOv8+Azr/Ouc6uzrjOt866zrUiLCLOlyDOvM61z4TOrM+Gz4HOsc+Dzrcgz4TOr8+EzrvOv8+FIM6xz4DOtc69zrXPgc6zzr/PgM6/zrnOrs64zrfOus61Il0sImhhdyI6WyJIdWxpIMq7aWEga2EgdW51aGkgaW5vYSIsIlVhIHBpbyBrYSB1bnVoaSBpbm9hIl0sInNkIjpbIti52YbZiNin2YYg2KrYsdis2YXZiCDYotmGINqq2YrZiCIsIti52YbZiNin2YYg2KzZiCDYqtix2KzZhdmIINio2YbYryDaqtmK2Ygg2YjZitmIIl0sImh1IjpbIkEgY8OtbSBmb3Jkw610w6FzYSBiZWthcGNzb2x2YSIsIkEgY8OtbSBmb3Jkw610w6FzYSBraWthcGNzb2x2YSJdLCJzbiI6WyJUaXRsZSBEdWR6aXJvIFlha2FiYXRpZHp3YSIsIlRpdGxlIER1ZHppcm8gWWFrYWR6aW13YSJdLCJoeSI6WyLVjtWl1oDVttWh1aPWgNWrINWp1aHWgNWj1bTVodW21bjWgtWp1bXVuNaC1bbVqCDVtNWr1aHWgdW+1aHVriDVpyIsIlRpdGxlINS51aHWgNWj1bTVodW21bjWgtWp1bXVuNaC1bbVtiDVodW21bvVodW/1b7VodWuINWnIl0sImlnIjpbIkFnYmFueeG7pXLhu6UgbnThu6VnaGFy4buLIGFz4bulc+G7pSBpc2lva3d1IiwiQWdiYW554bulcuG7pSBOdOG7pWdoYXLhu4sgQWhhIl0sImlsbyI6WyJOYWlsdWthdCB0aSBQYXRhcnVzIHRpIFBhdWxvIiwiTmFpZGRlcCB0aSBQYXRhcnVzIHRpIFBhdWxvIl0sIml0IjpbIlRyYWR1emlvbmUgZGVsIHRpdG9sbyBhdHRpdmF0YSIsIlRyYWR1emlvbmUgZGVsIHRpdG9sbyBkaXNhdHRpdmF0YSJdLCJ5aSI6WyLXmNeZ15jXnCDXkNeZ15HXoteo15bXotem15XXoNeSINeQ15XXmdeh15LXoteT16jXmdeZ15gg15DXldeZ16MiLCLXmNeZ15jXnCDXkNeZ15HXoteo15bXotem15XXoNeSINeQ15XXmdeh15LXoteT16jXmdeZ15gg15DWt9eV15XXotenIl0sImhpIjpbIuCktuClgOCksOCljeCkt+CklSDgpIXgpKjgpYHgpLXgpL7gpKYg4KSa4KS+4KSy4KWCIiwi4KS24KWA4KSw4KWN4KS34KSVIOCkheCkqOClgeCkteCkvuCkpiDgpKzgpILgpKYiXSwic3UiOlsiSnVkdWwgVGFyamFtYWhhbiBEaWh1cnVuZ2tldW4iLCJKdWR1bCBUYXJqYW1haGFuIERpcGFyZXVtYW4iXSwiaWQiOlsiVGVyamVtYWhhbiBKdWR1bCBEaWFrdGlma2FuIiwiVGVyamVtYWhhbiBKdWR1bCBEaW1hdGlrYW4iXSwianciOlsiSnVkaHVsIFRlcmplbWFoYW4gRGl1cmlwYWtlIiwiSnVkdWwgVGVyamVtYWhhbiBEaXBhdGVuaSJdLCJlbiI6WyJUaXRsZSBUcmFuc2xhdGlvbiBUdXJuZWQgT24iLCJUaXRsZSBUcmFuc2xhdGlvbiBUdXJuZWQgT2ZmIl0sInlvIjpbIlRpdGFuIEl0dW3hu40gYWvhu41sZSIsIkl0dW3hu40gYWvhu41sZSBQYWEiXSwidmkiOlsixJDDoyBi4bqtdCBi4bqjbiBk4buLY2ggdGnDqnUgxJHhu4EiLCJC4bqjbiBk4buLY2ggdGnDqnUgxJHhu4EgxJHDoyBi4buLIHThuq90Il0sInpoLVRXIjpbIuaomemhjOe/u+itr+W3sumWi+WVnyIsIuaomemhjOe/u+itr+W3sumXnOmWiSJdLCJ6aC1DTiI6WyLmoIfpopjnv7vor5Hlt7LlvIDlkK8iLCLmoIfpopjnv7vor5Hlt7LlhbPpl60iXSwidHMiOlsiVnVodW5kenVsdXhlcmkgQnlhIE5obG9rb21oYWthIGJ5aSBQZnVyaXdpbGUiLCJWdWh1bmR6dWx1eGVyaSBCeWEgTmhsb2tvbWhha2EgYnlpIFRpbWl3ZSJdfScpOwogICAgdmFyIGRlc2NyaXB0aW9uS2V5ID0gImRlc2NyaXB0aW9uX3RyYW5zbGF0ZV9jbG9zZWQiLCBkZXNjcmlwdGlvblRyYW5zbGF0aW9uVHVybmVkT24gPSAiRGVzY3JpcHRpb24gVHJhbnNsYXRpb24gVHVybmVkIE9uIiwgZGVzY3JpcHRpb25UcmFuc2xhdGlvblR1cm5lZE9mZiA9ICJEZXNjcmlwdGlvbiBUcmFuc2xhdGlvbiBUdXJuZWQgT2ZmIiwgZGVzY3JpcHRpb25UcmFuc2xhdGlvbk5vdGljZSA9ICJUbyBlbmFibGUgZGVzY3JpcHRpb24gdHJhbnNsYXRpb24sIHlvdSBuZWVkIHRvIGVuYWJsZSB0aXRsZSB0cmFuc2xhdGlvbiBmaXJzdCIsIGRlc2NyaXB0aW9uVHJhbnNsYXRpb25Ob3RpY2VNYXAgPSBKU09OLnBhcnNlKCd7InNxIjoiUMOrciB0w6sgYWt0aXZpenVhciBww6tya3RoaW1pbiBlIHDDq3JzaGtyaW1pdCwgZHVoZXQgdMOrIGFrdGl2aXpvbmkgZmlsbGltaXNodCBww6tya3RoaW1pbiBlIHRpdHVsbGl0IiwiYXIiOiLZhNiq2YXZg9mK2YYg2KrYsdis2YXYqSDYp9mE2YjYtdmBINiMINiq2K3Yqtin2Kwg2KXZhNmJINiq2YXZg9mK2YYg2KrYsdis2YXYqSDYp9mE2LnZhtmI2KfZhiDYo9mI2YTYp9mLIiwiYW0iOiLhi6jhiJjhjI3hiIjhjKsg4Ym14Yit4YyJ4Yid4YqVIOGIiOGIm+GKleGJg+GJtSDhiJjhjIDhiJjhiKrhi6sg4Yuo4Yit4YuV4Yi1IOGJteGIreGMieGIneGKlSDhiJvhipXhiYPhibUg4Yqg4YiI4Yml4YuO4Ym1IiwiYXMiOiLgpqzgpr/gp7Hgp7DgpqMg4KaF4Kao4KeB4Kas4Ka+4KamIOCmuOCmvuCmruCnsOCnjeCmpeCmrOCmvuCmqCDgppXgp7Dgpr/gpqzgprLgp4csIOCmhuCmquCngeCmqOCmvyDgpqrgp43gp7DgpqXgpq7gp4cg4Ka24Ka/4Kew4KeL4Kao4Ka+4KauIOCmheCmqOCngeCmrOCmvuCmpiDgprjgpr7gpq7gp7Dgp43gpqXgpqzgpr7gpqgg4KaV4Kew4Ka/4KasIOCmsuCmvuCml+Cmv+CmrCIsImF6IjoiVMmZc3ZpciB0yZlyY8O8bcmZc2luaSBha3RpdmzJmcWfZGlybcmZayDDvMOnw7xuIMmZdnbJmWxjyZkgYmHFn2zEsXEgdMmZcmPDvG3JmXNpbmkgYWt0aXYgZXRtyZlsaXNpbml6IiwiZWUiOiJCZSBuw6BuYSBudW1lyZZlyZZlIGfJlG1lyZZlyZZlIG5hd8mUIGTJlCBsYSwgZWxlIGJlIG7DoG5hIHRhbnlhIGfJlG1lyZZlyZZlIG5hd8mUIGTJlCBnYsOjIiwiYXkiOiJRaGFuYW5jaHTigJlhd2kgamFxdWtpcGHDsWEgY2jigJlhbWFuY2hhw7FhdGFraXhhLCBuYXlyYXFhdGF4IHTDrXR1bG8gamFxdWtpcGHDsWEgY2jigJlhbWFuY2hhw7Fhd2EiLCJnYSI6IkNodW4gYWlzdHJpw7pjaMOhbiB0dWFpcmlzY2UgYSBjaHVtYXPDuiwgbsOtIG3Ds3IgZHVpdCBhaXN0cmnDumNow6FuIHRlaWRpbCBhIGNodW1hc8O6IGFyIGR0w7pzIiwiZXQiOiJLaXJqZWxkdXNlIHTDtWxraW1pc2UgbHViYW1pc2VrcyBwZWF0ZSBlc21hbHQgbHViYW1hIHBlYWxraXJqYSB0w7Vsa2ltaXNlIiwib3IiOiLgrKzgrLDgrY3grKPgrY3grKPgrKjgrL4g4KyF4Kyo4K2B4Kys4Ky+4Kym4KyV4K2BIOCsuOCsleCtjeCst+CsriDgrJXgrLDgrL/grKzgrL7grJXgrYEsIOCshuCsquCso+CsmeCtjeCsleCtgSDgrKrgrY3grLDgrKXgrK7grYcg4Kyf4Ky+4KyH4Kyf4Kyy4K2NIOCsheCsqOCtgeCsrOCsvuCspiDgrLjgrJXgrY3grLfgrK4g4KyV4Kyw4Ky/4Kys4Ky+4KyV4K2BIOCsquCsoeCsv+CsrCB8Iiwib20iOiJIaWlra2FhIGlic2EgZGFuZGVlc3Npc3V1ZiwgZHVyc2EgaGlpa2thYSBtYXRhIGR1cmVlIGRhbmRlZXNzaXN1dW4gc2kgYmFyYmFhY2hpc2EiLCJldSI6IkRlc2tyaWJhcGVuZW4gaXR6dWxwZW5hIGdhaXR6ZWtvLCB0aXR1bHVhcmVuIGl0enVscGVuYSBnYWl0dSBiZWhhciBkdXp1IGxlaGVuaWsiLCJiZSI6ItCa0LDQsSDRg9C60LvRjtGH0YvRhtGMINC/0LXRgNCw0LrQu9Cw0LQg0LDQv9GW0YHQsNC90L3Rjywg0YLRgNGN0LHQsCDRgdC/0LDRh9Cw0YLQutGDINGe0LrQu9GO0YfRi9GG0Ywg0L/QtdGA0LDQutC70LDQtCDQt9Cw0LPQsNC70L7RntC60LAiLCJibSI6IldhbGFzYSBrYSDJssmbZsmUbGkgYmFhcmEga8mbLCBpIGthIGthbiBrYSB0aXRyZSBiYW1hbmFua2FuIGJhYXJhIGRhbWluyZsgZsmUbMmUIiwiYmciOiLQl9CwINC00LAg0LDQutGC0LjQstC40YDQsNGC0LUg0L/RgNC10LLQvtC00LAg0L3QsCDQvtC/0LjRgdCw0L3QuNC10YLQviwg0L/RitGA0LLQviDRgtGA0Y/QsdCy0LAg0LTQsCDQsNC60YLQuNCy0LjRgNCw0YLQtSDQv9GA0LXQstC+0LTQsCDQvdCwINC30LDQs9C70LDQstC40LXRgtC+IiwiaXMiOiJUaWwgYcOwIHZpcmtqYSBsw71zaW5nYXLDvsO9w7Bpbmd1IMO+YXJmdHUgZnlyc3QgYcOwIHZpcmtqYSB0aXRpbMO+w73DsGluZ3UiLCJwbCI6IkFieSB3xYLEhWN6ecSHIHTFgnVtYWN6ZW5pZSBvcGlzdSwgbXVzaXN6IG5hanBpZXJ3IHfFgsSFY3p5xIcgdMWCdW1hY3plbmllIHR5dHXFgnUiLCJicyI6IkRhIGJpc3RlIG9tb2d1xIdpbGkgcHJpamV2b2Qgb3Bpc2EsIHBydm8gbW9yYXRlIG9tb2d1xIdpdGkgcHJpamV2b2QgbmFzbG92YSIsImZhIjoi2KjYsdin24wg2YHYudin2YQg2qnYsdiv2YYg2KrYsdis2YXZhyDYqtmI2LbbjNit2KfYqtiMINin2KjYqtiv2Kcg2KjYp9uM2K8g2KrYsdis2YXZhyDYudmG2YjYp9mGINix2Kcg2YHYudin2YQg2qnZhtuM2K8iLCJiaG8iOiLgpLXgpL/gpLXgpLDgpKMg4KSF4KSo4KWB4KS14KS+4KSmIOCkuOCkleCljeCkt+CkriDgpJXgpLDgpYcg4KSW4KS+4KSk4KS/4KSwIOCkquCkueCkv+CksuClhyDgpLbgpYDgpLDgpY3gpLfgpJUg4KSF4KSo4KWB4KS14KS+4KSmIOCkuOCkleCljeCkt+CkriDgpJXgpLDgpYcg4KSV4KWHIOCkquCkoeCkvOClgCIsImFmIjoiT20gYmVza3J5d2luZ3ZlcnRhbGluZyB0ZSBha3RpdmVlciwgbW9ldCBqeSBlZXJzIHRpdGVsdmVydGFsaW5nIGFrdGl2ZWVyIiwidHQiOiLQotCw0YHQstC40YDQu9Cw0LzQsNC90Ysg0YLTmdGA0pfQtdC805kg0LjRgtKvINOp0YfQtdC9LCDQsdCw0YjRgtCwINC40YHQtdC8INGC05nRgNKX0LXQvNOZ0YHQtdC9INGN0YjQu9OZ0YLQtdGA0LPTmSDQutC40YDTmdC6IiwiZGEiOiJGb3IgYXQgYWt0aXZlcmUgYmVza3JpdmVsc2Vzb3ZlcnPDpnR0ZWxzZSBza2FsIGR1IGbDuHJzdCBha3RpdmVyZSB0aXRlbG92ZXJzw6Z0dGVsc2UiLCJkZSI6IlVtIGRpZSBCZXNjaHJlaWJ1bmdzw7xiZXJzZXR6dW5nIHp1IGFrdGl2aWVyZW4sIG3DvHNzZW4gU2llIHp1ZXJzdCBkaWUgVGl0ZWzDvGJlcnNldHp1bmcgYWt0aXZpZXJlbiIsImR2Ijoi3pHeqN6Q3rDeht6w3oPeqN6V3rDend6m3oLesCDek96w3oPep96C3rDekN6w3o3erN6d3qbegt6wIN6H3qzegt6s3oTept6N3rAg3obeqt6D3qreid6m3oHesN6T3qbeht6m3ofeqCDeit6q3oPept6M3qbeid6mIN6T3qbeh96o3pPept6N3rAg3pPesN6D3qfegt6w3pDesN6N3qzend6m3oLesCDeh96s3oLerN6E3qbejd6wIN6G3qreg96m3oLesCDelt6s3oDerN6H3qzeiN6sIiwidGkiOiLhibXhiK3hjInhiJ0g4Ym14Yit4YyJ4YidIOGKleGIneGKleGJheGIteGJk+GIteGNoSDhiJjhjIDhiJjhiK3hibMg4Ym14Yit4YyJ4YidIOGKo+GIreGKpeGIteGJsiDhiqjhibDhir3hiqXhiI4g4Yqj4YiI4YqrIiwiZG9pIjoi4KS14KS/4KS14KSw4KSjIOCkheCkqOClgeCkteCkvuCkpiDgpJfgpYAg4KS44KSV4KWN4KS34KSuIOCkleCksOCkqOClhyDgpLLgpYfgpIgsIOCkpOClgeCkuOClh+CkguCkl+ClgCDgpKrgpYjgpLngpY0g4KSy4KWHIOCktuClgOCksOCljeCktuCklSDgpIXgpKjgpYHgpLXgpL7gpKYg4KSX4KWAIOCkuOCkleCljeCkt+CkriDgpJXgpLDgpKjgpL4g4KS54KWL4KSXIiwicnUiOiLQp9GC0L7QsdGLINCy0LrQu9GO0YfQuNGC0Ywg0L/QtdGA0LXQstC+0LQg0L7Qv9C40YHQsNC90LjRjywg0YHQvdCw0YfQsNC70LAg0L3QtdC+0LHRhdC+0LTQuNC80L4g0LLQutC70Y7Rh9C40YLRjCDQv9C10YDQtdCy0L7QtCDQt9Cw0LPQvtC70L7QstC60LAuIiwiZnIiOiJQb3VyIGFjdGl2ZXIgbGEgdHJhZHVjdGlvbiBkZSBsYSBkZXNjcmlwdGlvbiwgdm91cyBkZXZleiBkXCdhYm9yZCBhY3RpdmVyIGxhIHRyYWR1Y3Rpb24gZHUgdGl0cmUiLCJzYSI6IuCkteCkv+CkteCksOCko+CkvuCkqOClgeCkteCkvuCkpuCkgiDgpLjgpJXgpY3gpLfgpK7gpIIg4KSV4KSw4KWN4KSk4KWB4KSCIOCkquCljeCksOCkpeCkruCkgiDgpLbgpYDgpLDgpY3gpLfgpJXgpL7gpKjgpYHgpLXgpL7gpKbgpIIg4KS44KSV4KWN4KS34KSu4KSCIOCkleCksOCljeCkpOCkteCljeCkr+CkruCljSIsInRsIjoiVXBhbmcgcGFnYW5haGluIGFuZyBwYWdzYXNhbGluIG5nIHBhZ2xhbGFyYXdhbiwga2FpbGFuZ2FuIG1vIG11bmFuZyBwYWdhbmFoaW4gYW5nIHBhZ3Nhc2FsaW4gbmcgcGFtYWdhdCIsImZpIjoiT3RhIGt1dmF1a3NlbiBrw6TDpG5uw7ZzIGvDpHl0dMO2w7ZuIG90dGFtYWxsYSBlbnNpbiBrw6R5dHTDtsO2biBvdHNpa29uIGvDpMOkbm7DtnMiLCJmeSI6Ik9tIGJlc2tyaXV3aW5nc29lcnNldHRpbmcgeW4gdGUgc2tlYWtlbGplbiwgbW9hdHRlIGpvIGVhcnN0IHRpdGVsb2Vyc2V0dGluZyB5bnNrZWFrZWxqZSIsImttIjoi4Z6K4Z6+4Z6Y4Z+S4Z6U4Z644Z6U4Z6+4Z6A4Z6A4Z624Z6a4Z6U4Z6A4Z6U4Z+S4Z6a4Z+C4Z6A4Z624Z6a4Z6W4Z634Z6W4Z6O4Z+M4Z6T4Z62IOGeouGfkuGek+GegOGej+GfkuGemuGevOGenOGelOGevuGegOGegOGetuGemuGelOGegOGelOGfkuGemuGfguGeheGfhuGejuGehOGeh+GevuGehOGeh+GetuGemOGeu+Gek+Gen+Get+GekyIsImthIjoi4YOQ4YOm4YOs4YOU4YOg4YOY4YOa4YOd4YOR4YOY4YOhIOGDl+GDkOGDoOGDkuGDm+GDkOGDnOGDmOGDoSDhg6nhg5Dhg6Hhg5Dhg6Dhg5fhg5Dhg5Xhg5Dhg5MsIOGDr+GDlOGDoCDhg6Phg5zhg5Phg5Ag4YOp4YOQ4YOg4YOX4YOd4YOXIOGDoeGDkOGDl+GDkOGDo+GDoOGDmOGDoSDhg5fhg5Dhg6Dhg5Lhg5vhg5Dhg5zhg5giLCJnb20iOiLgpLXgpLDgpY3gpKPgpKgg4KSF4KSj4KSV4KS+4KSwIOCkuOCkleCljeCkt+CkriDgpJXgpLDgpKrgpL7gpJUsIOCkpOClgeCkruCkleCkvuCkgiDgpKrgpK/gpLLgpYDgpIIg4KS24KWA4KSw4KWN4KS34KSVIOCkheCko+CkleCkvuCksCDgpLjgpJXgpY3gpLfgpK4g4KSV4KSw4KSa4KWLIOCkquCkoeCkn+CksuCliyIsImd1Ijoi4Kq14Kqw4KuN4Kqj4KqoIOCqheCqqOCrgeCqteCqvuCqpuCqqOCrhyDgqrjgqpXgq43gqrfgqq4g4KqV4Kqw4Kq14Kq+IOCqruCqvuCqn+Crhywg4Kqk4Kqu4Kq+4Kqw4KuHIOCqquCqueCrh+CqsuCqviDgqrbgq4DgqrDgq43gqrfgqpUg4KqF4Kqo4KuB4Kq14Kq+4Kqm4Kqo4KuHIOCquOCqleCrjeCqt+CqriDgqpXgqrDgqrXgqr7gqqjgq4Ag4Kqc4Kqw4KuC4KqwIOCqm+CrhyIsImduIjoiSWthdHUgaGFnzIN1w6FpY2hhIG9qZWphcG8gw7FlbWJvaGFzYSDDsWVtb21iZeqejHVweSwgdGVrb3RlduG6vSBvw7FlbWJvaGFwZSByYeG6vSB0w610dWxvIMOxZW1ib2hhc2EiLCJrayI6ItCh0LjQv9Cw0YLRgtCw0LzQsCDQsNGD0LTQsNGA0LzQsNGB0YvQvSDSm9C+0YHRgyDSr9GI0ZbQvSDQsNC70LTRi9C80LXQvSDRgtCw0pvRi9GA0YvQv9GC0Ysg0LDRg9C00LDRgNGD0LTRiyDSm9C+0YHRgyDQutC10YDQtdC6IiwiaHQiOiJQb3UgcMOobcOodCB0cmFkaWtzeW9uIGRlc2tyaXBzeW9uLCBvdSBiZXp3ZW4gYWt0aXZlIHRyYWRpa3N5b24gdGl0IGFuIHByZW15ZSIsImtvIjoi7ISk66qFIOuyiOyXreydhCDtmZzshLHtmZTtlZjroKTrqbQg66i87KCAIOygnOuqqSDrsojsl63snYQg7Zmc7ISx7ZmU7ZW07JW8IO2VqeuLiOuLpC4iLCJoYSI6IkRvbiBrdW5uYSBmYXNzYXJhciBiYXlhbmluLCBrdW5hIGJ1xplhdGFyIGt1bm5hIGZhc3NhcmFyIHRha2UgdHVrdW5hIiwibmwiOiJPbSBkZSB2ZXJ0YWxpbmcgdmFuIGRlIGJlc2NocmlqdmluZyBpbiB0ZSBzY2hha2VsZW4sIG1vZXQgdSBlZXJzdCBkZSB0aXRlbHZlcnRhbGluZyBpbnNjaGFrZWxlbiIsImt5Ijoi0KHSr9GA06nRgtGC06nQvNOpINC60L7RgtC+0YDRg9GD0L3RgyDQuNGI0YLQtdGC0q/SryDSr9GH0q/QvSwg0LDQtNC10LPQtdC90LTQtSDQsNGC0LDQu9GL0YjRgtGL0L0g0LrQvtGC0L7RgNC80L7RgdGD0L0g0LjRiNGC0LXRgtKv0q8g0LrQtdGA0LXQuiIsImdsIjoiUGFyYSBhY3RpdmFyIGEgdHJhZHVjacOzbiBkZSBkZXNjcmljacOzbnMsIHByaW1laXJvIGRlYmVzIGFjdGl2YXIgYSB0cmFkdWNpw7NuIGRvIHTDrXR1bG8iLCJjYSI6IlBlciBoYWJpbGl0YXIgbGEgdHJhZHVjY2nDsyBkZSBsYSBkZXNjcmlwY2nDsywgcHJpbWVyIGhldSBkXCdhY3RpdmFyIGxhIHRyYWR1Y2Npw7MgZGVsIHTDrXRvbCIsImNzIjoiQ2hjZXRlLWxpIHBvdm9saXQgcMWZZWtsYWQgcG9waXN1LCBtdXPDrXRlIG5lanBydmUgcG92b2xpdCBwxZlla2xhZCBuw6F6dnUiLCJrbiI6IuCyteCyv+CyteCysOCyo+CzhiDgsoXgsqjgs4HgsrXgsr7gsqbgsrXgsqjgs43gsqjgs4Eg4LK44LKV4LON4LKw4LK/4LKv4LKX4LOK4LKz4LK/4LK44LKy4LOBLCDgsqjgs4DgsrXgs4Eg4LKu4LOK4LKm4LKy4LOBIOCytuCzgOCysOCzjeCyt+Cyv+CyleCzhiDgsoXgsqjgs4HgsrXgsr7gsqbgsrXgsqjgs43gsqjgs4Eg4LK44LKV4LON4LKw4LK/4LKv4LKX4LOK4LKz4LK/4LK44LKs4LOH4LKV4LOBIiwiY28iOiJQZXIgYXR0aXbDoCBhIHRyYWR1enppb25lIGRpIGRlc2NyaXp6aW9uZSwgYXZldGUgcHJpbWEgZGkgYXR0aXbDoCBhIHRyYWR1enppb25lIGRpIHUgdGl0dWx1Iiwia3JpIjoiRsmUIG1layB5dSBlYnVsIGbJlCB0cmFuc2xldCBkaXNrcmlwc2jJlG4sIHl1IG5pZCBmyZQgbWVrIHl1IGVidWwgZsmUIHRyYW5zbGV0IGRpIHRheXR1bCBmyZRzIiwiaHIiOiJEYSBiaXN0ZSBvbW9ndcSHaWxpIHByaWpldm9kIG9waXNhLCBwcnZvIG1vcmF0ZSBvbW9ndcSHaXRpIHByaWpldm9kIG5hc2xvdmEiLCJxdSI6IkRlc2NyaXBjacOzbiB0aWtyYXl0YSBhdGljaGluYXlraXBhcXFhLCDDsWF3cGFxdGEgdGl0dWx1IHRpa3JheXRhIGF0aWNoaW5heWtpIHRpeWFuIiwia3UiOiJKaSBibyDDp2FsYWtraXJpbmEgd2VyZ2VyYW5kaW5hIHJhdmVraXJpbsOqLCBkaXbDqiBow7tuIHDDqsWfw64gd2VyZ2VyYSBzZXJuYXbDqiDDp2FsYWsgYmlraW4iLCJja2IiOiLYqNuGINqG2KfZhNin2qnaqdix2K/ZhtuMINmI25XYsdqv247aldin2YbbjCDZiNuV2LPZgdiMINm+247ZiNuM2LPYqtuVINiz25XYsduV2KrYpyDZiNuV2LHar9uO2pXYp9mG24wg2YbYp9mI2YbbjNi02KfZhiDahtin2YTYp9qpINio2qnblduM2KoiLCJsYSI6IlV0IHRyYW5zbGF0aW9uZW0gZGVzY3JpcHRpb25lbSB0cmlidWFzLCBkZWJlcyB0aXR1bHVtIHRyYW5zbGF0aW9uaXMgcHJpbXVtIGZhY2VyZSIsImx2IjoiTGFpIGllc3DEk2pvdHUgYXByYWtzdGEgdHVsa2/FoWFudSwgdmlzcGlybXMgaXIgasSBaWVzcMSTam8gbm9zYXVrdW1hIHR1bGtvxaFhbmEiLCJsbyI6IuC7gOC6nuC6t+C7iOC6reC7gOC6m+C6teC6lOC7g+C6iuC7ieC6geC6suC6meC7geC6m+C6hOC6s+C6reC6sOC6l+C6tOC6muC6suC6jSwg4LqX4LuI4Lqy4LqZ4LqV4LuJ4Lqt4LqH4LuA4Lqb4Lq14LqU4LuD4LqK4LuJ4LqB4Lqy4LqZ4LuB4Lqb4Lqr4Lq74Lqn4LqC4LuN4LuJ4LqB4LuI4Lqt4LqZIiwibHQiOiJOb3LEl2RhbWkgxK9qdW5ndGkgYXByYcWhbyB2ZXJ0aW3EhSwgcGlybWlhdXNpYSB0dXJpdGUgxK9nYWxpbnRpIHBhdmFkaW5pbW8gdmVydGltxIUiLCJsbiI6Ik1wbyBuYSBrb2Z1bmdvbGEgbGlib25nb2xpIHlhIG5kaW1ib2xhLCBvc2VuZ2VsaSBsaWJvc28ga29mdW5nb2xhIGxpYm9uZ29saSB5YSBtb3TDsyB5YSBsaWthbWJvIiwibGciOiJPa3Vzb2JvemVzYSBva3V2dnV1bnVsYSBlbm55b255b2xhLCBvbGluYSBva3Vzb29rYSBva3Vzb2JvemVzYSBva3V2dnV1bnVsYSBlbWl0d2UiLCJsYiI6IkZpciBkXCdCZXNjaHJlaXd1bmdzaXd3ZXJzZXR6dW5nIHpcJ2FrdGl2w6lpZXJlbiwgbXVzc3QgRGlyIGFscyDDqWlzY2h0IGRcJ1RpdGVsaXd3ZXJzZXR6dW5nIGFrdGl2w6lpZXJlbiIsInJ3IjoiS3VnaXJhbmdvIHVzaG9ib3plIGd1c29iYW51cmEgaWJpc29iYW51cm8sIHVnb21iYSBrdWJhbnphIGd1a29yYSBpYmlzb2JhbnVybyBieXVtdXR3ZSIsInJvIjoiUGVudHJ1IGEgYWN0aXZhIHRyYWR1Y2VyZWEgZGVzY3JpZXJpaSwgdHJlYnVpZSBzxIMgYWN0aXZhyJtpIG1haSDDrm50w6JpIHRyYWR1Y2VyZWEgdGl0bHVsdWkiLCJtZyI6Ik1iYSBoYWhhZmFoYW5cJ255IGZhbmRpa2FuYSBmYW1hcml0YW5hIGRpYSBtaWxhIHZlbG9taW5hIGFsb2hhIG55IGRpa2FudGVueSBsb2hhdGVueSIsIm10IjoiQmlleCB0aXBwZXJtZXR0aSB0LXRyYWR1enpqb25pIHRhZC1kZXNrcml6empvbmksIGwtZXd3ZWwgdHJpZCB0YXR0aXZhIHQtdHJhZHV6empvbmkgdGF0LXRpdGx1IiwibXIiOiLgpLXgpLDgpY3gpKPgpKgg4KSt4KS+4KS34KS+4KSC4KSk4KSwIOCkuOCkleCljeCkt+CkriDgpJXgpLDgpKPgpY3gpK/gpL7gpLjgpL7gpKDgpYAsIOCkpOClgeCkruCljeCkueCkvuCksuCkviDgpKrgpY3gpLDgpKXgpK4g4KS24KWA4KSw4KWN4KS34KSVIOCkreCkvuCkt+CkvuCkguCkpOCksCDgpLjgpJXgpY3gpLfgpK4g4KSV4KSw4KSj4KWHIOCkhuCkteCktuCljeCkr+CklSDgpIbgpLngpYciLCJtbCI6IuC0teC0v+C0teC0sOC0oyDgtLXgtL/gtLXgtbzgtKTgtY3gtKTgtKjgtIIg4LSq4LWN4LSw4LS14LW84LSk4LWN4LSk4LSo4LSV4LWN4LS34LSu4LSu4LS+4LSV4LWN4LSV4LS+4LW7LCDgtKjgtL/gtJngtY3gtJngtb4g4LSG4LSm4LWN4LSv4LSCIOC0tuC1gOC1vOC0t+C0lSDgtLXgtL/gtLXgtbzgtKTgtY3gtKTgtKjgtIIg4LSq4LWN4LSw4LS14LW84LSk4LWN4LSk4LSo4LSV4LWN4LS34LSu4LSu4LS+4LSV4LWN4LSV4LWH4LSj4LWN4LSf4LSk4LWB4LSj4LWN4LSf4LWNIiwibXMiOiJVbnR1ayBtZW5kYXlha2FuIHRlcmplbWFoYW4gcGVyaWhhbGFuLCBhbmRhIHBlcmx1IG1lbmRheWFrYW4gdGVyamVtYWhhbiB0YWp1ayB0ZXJsZWJpaCBkYWh1bHUiLCJtayI6ItCX0LAg0LTQsCDQvtCy0L7Qt9C80L7QttC40YLQtSDQv9GA0LXQstC+0LQg0L3QsCDQvtC/0LjRgdC+0YIsINC/0YDQstC+INGC0YDQtdCx0LAg0LTQsCDQs9C+INC+0LLQvtC30LzQvtC20LjRgtC1INC/0YDQtdCy0L7QtNC+0YIg0L3QsCDQvdCw0YHQu9C+0LLQvtGCIiwibWFpIjoi4KS14KS/4KS14KSw4KSjIOCkheCkqOClgeCkteCkvuCkpiDgpLjgpJXgpY3gpLfgpK4g4KSV4KSw4KSs4KS+4KSVIOCksuClh+Cksiwg4KSF4KS54KS+4KSB4KSV4KWH4KSBIOCkquCkueCkv+CkqOClhyDgpLbgpYDgpLDgpY3gpLfgpJUg4KSF4KSo4KWB4KS14KS+4KSmIOCkuOCkleCljeCkt+CkriDgpJXgpLDgpKzgpL7gpJUg4KSG4KS14KS24KWN4KSv4KSV4KSk4KS+IOCkheCkm+CkvyIsIm1pIjoiSGVpIHdoYWthaG9oZSBpIHRlIHdoYWthbWFvcml0YW5nYSB3aGFrYWFodWF0YW5nYSwgbWUgd2hha2Fob2UgaSB0ZSB3aGFrYW1hb3JpdGFuZ2EgdGFpdGFyYSBpIHRlIHR1YXRhaGkiLCJtbmktTXRlaSI6Iuqvl+qvpOqvgeqvreqvm+qvlOqvpOqvhOqvgeqvn1RvIGVuYWJsZSBkZXNjcmlwdGlvbiB0cmFuc2xhdGlvbiwgeW91IG5lZWQgdG8gZW5hYmxlIHRpdGxlIHRyYW5zbGF0aW9uIGZpcnN0IiwibW4iOiLQotCw0LnQu9Cx0LDRgNGL0L0g0L7RgNGH0YPRg9C70LPRi9CzINC40LTRjdCy0YXQttKv0q/Qu9GN0YXQuNC50L0g0YLRg9C70LQg0Y3RhdC70Y3RjdC0INCz0LDRgNGH0LPQuNC50L0g0L7RgNGH0YPRg9C70LPRi9CzINC40LTRjdCy0YXQttKv0q/Qu9GN0YUg0YXRjdGA0Y3Qs9GC0Y3QuSIsImJuIjoi4Kas4Kaw4KeN4Kaj4Kao4Ka+IOCmheCmqOCngeCmrOCmvuCmpiDgprjgppXgp43gprfgpq4g4KaV4Kaw4Kak4KeHLCDgpobgpqrgpqjgpr7gppXgp4cg4Kaq4KeN4Kaw4Kal4Kau4KeHIOCmtuCmv+CmsOCni+CmqOCmvuCmriDgpoXgpqjgp4Hgpqzgpr7gpqYg4Ka44KaV4KeN4Ka34KauIOCmleCmsOCmpOCnhyDgprngpqzgp4ciLCJsdXMiOiJEZXNjcmlwdGlvbiB0cmFuc2xhdGlvbiBlbmFibGUgdHVyIGNodWFuIHRpdGxlIHRyYW5zbGF0aW9uIGVuYWJsZSBobWFzYWsgdHVyIGEgbmkiLCJteSI6IuGAluGAseGArOGAuuGAleGAvOGAgeGAu+GAgOGAuiDhgJjhgKzhgJ7hgKzhgJXhgLzhgJThgLrhgIHhgLzhgIThgLrhgLjhgIDhgK3hgK8g4YCW4YC94YCE4YC34YC64YCb4YCU4YC64YGKIOGAgeGAseGAq+GAhOGAuuGAuOGAheGAieGAuiDhgJjhgKzhgJ7hgKzhgJXhgLzhgJThgLrhgIbhgK3hgK/hgIHhgLzhgIThgLrhgLjhgIDhgK3hgK8g4YCm4YC44YCF4YC94YCs4YCW4YC94YCE4YC34YC64YCb4YCU4YC6IOGAnOGAreGAr+GAoeGAleGAuuGAnuGAiuGAuuGBiyIsImhtbiI6IlR4aGF3bSByYXUga29tIHBhYiB0eGhhaXMgY292IGx1cyBwaWF2IHFoaWEsIGtvaiB5dWF2IHRzdW0gdGF1IHFoaWIgbHViIG5wZSB0eGhhaXMgdWEgbnRlaiIsInhoIjoiVWt1dnVtZWxhIHVndXF1bGVsbyBsd2VuZ2NhY2lzbywga3VmdW5la2EgdXZ1bGUgdWt1Z3VxdWxlbHdhIGt3ZXNpaGxva28ga3VxYWxhIiwienUiOiJVa3V6ZSB1bmlrZSBhbWFuZGxhIHVrdWh1bXVzaGEga3dlbmNhemVsbywgdWRpbmdhIHVrdW5pa2EgYW1hbmRsYSB1a3VodW11c2hhIGt3ZXNpaGxva28ga3VxYWxhIiwibmUiOiLgpLXgpLDgpY3gpKPgpKgg4KSF4KSo4KWB4KS14KS+4KSmIOCkuOCkleCljeCkt+CkriDgpJfgpLDgpY3gpKgsIOCkpOCkquCkvuCkiOCkguCksuClhyDgpKrgpLngpL/gpLLgpYcg4KS24KWA4KSw4KWN4KS34KSVIOCkheCkqOClgeCkteCkvuCkpiDgpLjgpJXgpY3gpLfgpK4g4KSX4KSw4KWN4KSoIOCkhuCkteCktuCljeCkr+CklSDgpJsiLCJubyI6IkZvciDDpSBha3RpdmVyZSBiZXNrcml2ZWxzZXNvdmVyc2V0dGVsc2UgbcOlIGR1IGbDuHJzdCBha3RpdmVyZSB0aXR0ZWxvdmVyc2V0dGVsc2UiLCJwYSI6IuCoteCosOCoo+CoqCDgqIXgqKjgqYHgqLXgqL7gqKYg4Kio4KmC4KmwIOCouOCoruCosOCpseCopSDgqJXgqLDgqKgg4Kiy4KiILCDgqKTgqYHgqLngqL7gqKjgqYLgqbAg4Kiq4Ki54Ki/4Kiy4Ki+4KiCIOCouOCov+CosOCosuCph+ColiDgqIXgqKjgqYHgqLXgqL7gqKYg4Kio4KmC4KmwIOCouOCoruCosOCpseCopSDgqJXgqLDgqKgg4Kim4KmAIOCosuCpi+CpnCDgqLngqYgiLCJwdCI6IlBhcmEgaGFiaWxpdGFyIGEgdHJhZHXDp8OjbyBkYSBkZXNjcmnDp8OjbywgcHJpbWVpcm8gdm9jw6ogcHJlY2lzYSBoYWJpbGl0YXIgYSB0cmFkdcOnw6NvIGRvIHTDrXR1bG8iLCJwcyI6ItivINiq2LTYsduM2K0g2pjYqNin2pPZhyDZgdi52KfZhNmI2YTZiCDZhNm+2KfYsdmH2Iwg2KrYp9iz2Ygg2Kfak9iq24zYpyDZhNix2KYg2YTZiNmF2pPbjCDYryDYs9ix2YTbjNqpINqY2KjYp9qT2Ycg2YHYudin2YTZhyDaqdqT2KYiLCJueSI6Ikt1dGkgbXV0c2VndWxlIG1hdGFudGhhdXppZHdlLCBtdXllbmVyYSBrdXlhdHNhIGt1bWFzdWxpcmEgbXV0dSBrYXllIiwiYWsiOiJTyZsgd29iyZttYSBua3llcsmba3llcsmbbXUgbmt5ZXLJm2FzZSBhdHVtaSBhecmbIGFkd3VtYSBhLCDJm3PJmyBzyZsgd3VkaSBrYW4gbWEgYXPJm210aSBua3llcsmbYXNlIHR1bWkgecmbIGFkd3VtYSIsImphIjoi6Kqs5piO44Gu57+76Kiz44KS5pyJ5Yq544Gr44GZ44KL44Gr44Gv44CB44G+44Ga44K/44Kk44OI44Or44Gu57+76Kiz44KS5pyJ5Yq544Gr44GZ44KL5b+F6KaB44GM44GC44KK44G+44GZIiwic3YiOiJGw7ZyIGF0dCBha3RpdmVyYSBiZXNrcml2bmluZ3PDtnZlcnPDpHR0bmluZyBtw6VzdGUgZHUgZsO2cnN0IGFrdGl2ZXJhIHRpdGVsw7Z2ZXJzw6R0dG5pbmciLCJzbSI6IkluYSBpYSBtYWZhaSBvbmEgZmFcJ2FsaWxpdSBmYVwnYW1hdGFsYWdhLCBlIHRhdGF1IG9uYSBlIGZhXCdhYWdhYWdhIG11YW11YSBsZSBmYVwnYWxpbGl1Z2EgdWx1dGFsYSIsInNyIjoi0JTQsCDQsdC40YHRgtC1INC+0LzQvtCz0YPRm9C40LvQuCDQv9GA0LXQstC+0LQg0L7Qv9C40YHQsCwg0L/RgNCy0L4g0LzQvtGA0LDRgtC1INC00LAg0L7QvNC+0LPRg9Gb0LjRgtC1INC/0YDQtdCy0L7QtCDQvdCw0YHQu9C+0LLQsCIsIm5zbyI6IkdvIGtnb250xaFoYSBwaGV0b2xlbG8geWEgdGxoYWxvxaFvLCBvIHN3YW5ldMWhZSBnbyBrZ29udMWhaGEgcGhldG9sZWxvIHlhIHRoYWV0bGVsZSBwZWxlIiwic3QiOiJIbyBsdW1lbGxhIHRsaGFsb3NvIGVhIHRsaGFsb3NvLCB1IGhsb2thIGhvIGx1bWVsbGEgcGhldG9sZWxvIGVhIHNlaGxvb2hvIHBlbGUiLCJzaSI6IuC3gOC3kuC3g+C3iuC2reC2uyDgtrTgtrvgt5Lgt4Dgtrvgt4rgtq3gtrHgtrog4LeD4La24La9IOC2muC3kuC2u+C3k+C2uOC2pywg4LaU4La2IOC2uOC3lOC2veC3kuC2seC3iuC2uCDgtrjgt4/gtq3gt5jgtprgt48g4La04La74LeS4LeA4La74LeK4Lat4Lax4La6IOC3g+C2tuC2vSDgtprgt5Lgtrvgt5Pgtrjgtqcg4LaF4LeA4LeB4LeK4oCN4La6IOC3gOC3miIsImVvIjoiUG9yIGVibGlnaSBwcmlza3JpYnRyYWR1a29uLCB2aSBkZXZhcyB1bnVlIGVibGlnaSB0aXRvbHRyYWR1a29uIiwic2siOiJBayBjaGNldGUgcG92b2xpxaUgcHJla2xhZCBwb3Bpc3UsIG11c8OtdGUgbmFqc2vDtHIgcG92b2xpxaUgcHJla2xhZCBuw6F6dnUiLCJzbCI6IsSMZSDFvmVsaXRlIG9tb2dvxI1pdGkgcHJldm9kIG9waXNhLCBtb3JhdGUgbmFqcHJlaiBvbW9nb8SNaXRpIHByZXZvZCBuYXNsb3ZhIiwic3ciOiJJbGkga3V3ZXplc2hhIHRhZnNpcmkgeWEgbWFlbGV6bywgdW5haGl0YWppIGt1d2V6ZXNoYSB0YWZzaXJpIHlhIGtpY2h3YSBrd2FuemEiLCJnZCI6Ikd1cyBlYWRhci10aGVhbmdhY2hhZGggdHVhaXJpc2dldWwgYSBjaG9tYXNhY2hhZGgsIGZldW1haWRoIHR1IGVhZGFyLXRoZWFuZ2FjaGFkaCB0aW90YWwgYSBjaG9tYXNhY2hhZGggYW4gdG9pc2VhY2giLCJjZWIiOiJBcm9uIG1haGltbyBhbmcgcGFnaHViYWQgc2EgZGVza3JpcHN5b24sIGtpbmFoYW5nbGFuIG5pbW8gbmdhIGktZW5hYmxlIHVuYSBhbmcgcGFnaHViYWQgc2EgdGl0dWxvIiwic28iOiJTaSBhYWQgdSBzdXVydGFnZWxpc28gdGFyanVtYWFkYSBzaGFyYXhhYWRkYSwgd2F4YWFkIHUgYmFhaGFuIHRhaGF5IGluYWFkIG1hcmthIGhvcmUga2FydGkgZ2VsaXNvIHRhcmp1bWFhZGEgY2lud2FhbmthIiwidGciOiLQkdCw0YDQvtC4INGE0LDRitC+0Lsg0LrQsNGA0LTQsNC90Lgg0YLQsNGA0rfRg9C80LDQuCDRgtCw0LLRgdC40YQsINGI0YPQvNC+INCx0L7Rj9C0INCw0LLQstCw0Lsg0YLQsNGA0rfRg9C80LDQuCDRg9C90LLQvtC90YDQviDRhNCw0YrQvtC7INGB0L7Qt9C10LQiLCJ0ZSI6IuCwteCwv+CwteCwsOCwoyDgsIXgsKjgsYHgsLXgsL7gsKbgsL7gsKjgsY3gsKjgsL8g4LCq4LGN4LCw4LC+4LCw4LCC4LCt4LC/4LCC4LCa4LCh4LC+4LCo4LC/4LCV4LC/LCDgsK7gsYDgsLDgsYEg4LCu4LGB4LCC4LCm4LGB4LCX4LC+IOCwtuCxgOCwsOCxjeCwt+Cwv+CwlSDgsIXgsKjgsYHgsLXgsL7gsKbgsL7gsKjgsY3gsKjgsL8g4LCq4LGN4LCw4LC+4LCw4LCC4LCt4LC/4LCC4LCa4LC+4LCy4LC/IiwidGEiOiLgrrXgrr/grrPgrpXgr43grpUg4K6u4K+K4K604K6/4K6q4K+G4K6v4K6w4K+N4K6q4K+N4K6q4K+IIOCuh+Cur+CuleCvjeCulSwg4K6o4K+A4K6Z4K+N4K6V4K6z4K+NIOCuruCvgeCupOCusuCuv+CusuCvjSDgrqTgrrLgr4jgrqrgr43grqrgr4Eg4K6u4K+K4K604K6/4K6q4K+G4K6v4K6w4K+N4K6q4K+N4K6q4K+IIOCuh+Cur+CuleCvjeCulSDgrrXgr4fgrqPgr43grp/gr4Hgrq7gr40iLCJ0aCI6IuC4q+C4suC4geC4leC5ieC4reC4h+C4geC4suC4o+C5gOC4m+C4tOC4lOC5g+C4iuC5ieC4geC4suC4o+C5geC4m+C4peC4hOC4s+C4reC4mOC4tOC4muC4suC4oiDguITguLjguJPguJXguYnguK3guIfguYDguJvguLTguJTguYPguIrguYnguIHguLLguKPguYHguJvguKXguIrguLfguYjguK3guYDguKPguLfguYjguK3guIfguIHguYjguK3guJkiLCJ0ciI6IkHDp8Sxa2xhbWEgw6dldmlyaXNpbmkgZXRraW5sZcWfdGlybWVrIGnDp2luIMO2bmNlIGJhxZ9sxLFrIMOnZXZpcmlzaW5pIGV0a2lubGXFn3Rpcm1lbml6IGdlcmVraXIiLCJ0ayI6IkTDvMWfw7xuZGlyacWfIHRlcmppbWVzaW5pIGnFn2plxYhsZcWfZGlybWVrIMO8w6dpbiBpbGtpIGJpbGVuIGFkecWIIHRlcmppbWVzaW5pIGnFn2plxYhsZcWfZGlybWVsaSIsImN5IjoiSSBhbGx1b2dpIGN5ZmllaXRodSBkaXNncmlmaWFkLCBtYWUgYW5nZW4gaSBjaGkgYWxsdW9naSBjeWZpZWl0aHUgdGVpdGwgeW4gZ3ludGFmIiwidWciOiLahtuI2LTbldmG2K/biNix24jYtCDYqtuV2LHYrNmJ2YXZidiz2YnZhtmJINmC2YjYsti62YnYqtmJ2LQg2KbbiNqG24jZhiDYjCDYptin2YTYr9mJINio2YnZhNuV2YYg2YXYp9uL2LLbhyDYqtuV2LHYrNmJ2YXZidiz2YnZhtmJINmC2YjYsti62YnYqtmJ2LTZidqt2YnYsiDZg9uQ2LHbldmDIiwidXIiOiLZiNi22KfYrdiq24wg2KrYsdis2YXbgSDaqdmIINmB2LnYp9mEINqp2LHZhtuSINqp25Ig2YTbjNuS2Iwg2KLZviDaqdmIINm+24HZhNuSINi52YbZiNin2YYg2qnYpyDYqtix2KzZhduBINmB2LnYp9mEINqp2LHZhtinINuB2Yjar9in25QiLCJ1ayI6ItCp0L7QsSDRg9Cy0ZbQvNC60L3Rg9GC0Lgg0L/QtdGA0LXQutC70LDQtCDQvtC/0LjRgdGDLCDRgdC/0L7Rh9Cw0YLQutGDINC/0L7RgtGA0ZbQsdC90L4g0LLQstGW0LzQutC90YPRgtC4INC/0LXRgNC10LrQu9Cw0LQg0LfQsNCz0L7Qu9C+0LLQutCwIiwidXoiOiJUYXZzaWYgdGFyamltYXNpbmkgeW9xaXNoIHVjaHVuIGF2dmFsIHNhcmxhdmhhIHRhcmppbWFzaW5pIHlvcWlzaGluZ2l6IGtlcmFrIiwiZXMiOiJQYXJhIGhhYmlsaXRhciBsYSB0cmFkdWNjacOzbiBkZSBsYSBkZXNjcmlwY2nDs24sIHByaW1lcm8gZGViZSBoYWJpbGl0YXIgbGEgdHJhZHVjY2nDs24gZGVsIHTDrXR1bG8iLCJpdyI6Iteb15PXmSDXnNeQ16TXqdeoINeq16jXkteV150g16rXmdeQ15XXqCwg16LXnNeZ15og15zXlNek16LXmdecINeq15fXmdec15Qg16rXqNeS15XXnSDXm9eV16rXqNeqIiwiZWwiOiLOk865zrEgzr3OsSDOtc69zrXPgc6zzr/PgM6/zrnOrs+DzrXPhM61IM+EzrcgzrzOtc+EzqzPhs+BzrHPg863IM+AzrXPgc65zrPPgc6xz4bOrs+CLCDPgM+Bzq3PgM61zrkgz4DPgc+Oz4TOsSDOvc6xIM61zr3Otc+BzrPOv8+Azr/Ouc6uz4POtc+EzrUgz4TOtyDOvM61z4TOrM+Gz4HOsc+Dzrcgz4TOr8+EzrvOv8+FIiwiaGF3IjoiTm8ga2EgaG/Ku8SBIMq7YW5hIGkga2EgdW51aGkgd2VoZXdlaGUgyrthbmEsIHBvbm8gyrtvZSBlIGhvyrvEgSBpIGthIHVudWhpIMq7xY1sZWxvIG11YSIsInNkIjoi2KrYtNix2YrYrSDYrNmKINiq2LHYrNmF2Yog2qnZiiDZgdi52KfZhCDaqtix2rsg2YTYp9ih2ZDYjCDYqtmI2r7Yp9mGINqp2Yog2b7avtix2YrZhiDYudmG2YjYp9mGINis2Yog2KrYsdis2YXZiiDaqdmKINmB2LnYp9mEINqq2LHauyDYrNmKINi22LHZiNix2Kog2KLavtmKIiwiaHUiOiJBIGxlw61yw6FzIGZvcmTDrXTDoXPDoW5hayBlbmdlZMOpbHllesOpc8OpaGV6IGVsxZFzesO2ciBlbmdlZMOpbHllem5pZSBrZWxsIGEgY8OtbSBmb3Jkw610w6Fzw6F0Iiwic24iOiJLdXRpIHRzYW5hbmd1cm8gaWt3YW5pc2Uga3VzaGFuZHVyYSwgdW5vZmFuaXJhIGt1dGFuZ2Egd2F2aHVyYSBzaGFuZHVybyB5ZW11c29ybyIsImh5Ijoi1YbVr9Wh1oDVodWj1oDVuNaC1anVtdWh1bYg1anVodaA1aPVtNWh1bbVuNaC1anVtdW41oLVttWoINW01avVodaB1bbVpdWs1bjWgiDVsNWh1bTVodaAINW21aHVrSDVutWl1b/WhCDVpyDVodWv1b/Vq9W+1aHWgdW21aXWhCDVvtWl1oDVttWh1aPWgNWrINWp1aHWgNWj1bTVodW21bjWgtWp1bXVuNaC1bbVqCIsImlnIjoiSWppIG1lZSBudOG7pWdoYXLhu4sgbmvhu413YSBua+G7jXdhLCDhu4sgZ2EtZWJ1IOG7pXrhu40gZ2JhbnllIG504bulZ2hhcuG7iyBhaGEiLCJpbG8iOiJUYXBubyBtYXBhbHVib3NhbiB0aSBwYW5hZ2lwYXRhcnVzIHRpIGRlc2tyaXBzaW9uLCBrYXNhcHVsYW0gbmdhIHVtdW5hIGEgbWFwYWx1Ym9zYW4gdGkgcGFuYWdpcGF0YXJ1cyB0aSBwYXVsbyIsIml0IjoiUGVyIGFiaWxpdGFyZSBsYSB0cmFkdXppb25lIGRlbGxhIGRlc2NyaXppb25lLCBkZXZpIHByaW1hIGFiaWxpdGFyZSBsYSB0cmFkdXppb25lIGRlbCB0aXRvbG8iLCJ5aSI6Item15Ug15LXoteR158g15HXkNa316nXqNeZ15nWt9eR15XXoNeSINeQ15nXkdei16jXltei16bXldeg15IsINeQ15nXqCDXk9eQ1rfXqNek1r/XnyDXpteVINeS16LXkdefINeY15nXmNecINeQ15nXkdei16jXltei16bXldeg15Ig16LXqNep15jXoteoIiwiaGkiOiLgpLXgpL/gpLXgpLDgpKMg4KSF4KSo4KWB4KS14KS+4KSmIOCkuOCkleCljeCkt+CkriDgpJXgpLDgpKjgpYcg4KSV4KWHIOCksuCkv+Ckjywg4KSG4KSq4KSV4KWLIOCkquCkueCksuClhyDgpLbgpYDgpLDgpY3gpLfgpJUg4KSF4KSo4KWB4KS14KS+4KSmIOCkuOCkleCljeCkt+CkriDgpJXgpLDgpKjgpL4g4KS54KWL4KSX4KS+Iiwic3UiOiJQaWtldW4gbmdha3RpZmtldW4gdGFyamFtYWhhbiBkw6lza3JpcHNpLCBhbmpldW4ga2VkYWggbmdha3RpcGtldW4gdGFyamFtYWhhbiBqdWR1bCBoZXVsYSIsImlkIjoiVW50dWsgbWVuZ2FrdGlma2FuIHRlcmplbWFoYW4gZGVza3JpcHNpLCBBbmRhIGhhcnVzIG1lbmdha3RpZmthbiB0ZXJqZW1haGFuIGp1ZHVsIHRlcmxlYmloIGRhaHVsdSIsImp3IjoiS2FuZ2dvIG5nYWt0aWZha2UgdGVyamVtYWhhbiBkZXNrcmlwc2ksIHNhbXBleWFuIGt1ZHUgbmdha3RpZmFrZSB0ZXJqZW1haGFuIGp1ZGh1bCBkaGlzaWsiLCJlbiI6IlRvIGVuYWJsZSBkZXNjcmlwdGlvbiB0cmFuc2xhdGlvbiwgeW91IG5lZWQgdG8gZW5hYmxlIHRpdGxlIHRyYW5zbGF0aW9uIGZpcnN0IiwieW8iOiJMYXRpIG11IGl0dW3hu40gYXPhu415ZSDhuaNp4bmj4bq5LCBvIG5pbG8gbGF0aSBtdSBpdHVt4buNIGFr4buNbGUg4bmjaeG5o+G6uSBsYWvhu43hu41r4buNIiwidmkiOiLEkOG7gyBi4bqtdCBk4buLY2ggbcO0IHThuqMsIHRyxrDhu5tjIHRpw6puIGLhuqFuIGPhuqduIGLhuq10IGThu4tjaCB0acOqdSDEkeG7gSIsInpoLVRXIjoi6KaB5ZWf55So566A5LuL57+76K2v77yM5oKo6ZyA6KaB5YWI5ZWf55So5qiZ6aGM57+76K2vIiwiemgtQ04iOiLopoHlkK/nlKjnroDku4vnv7vor5HvvIzmgqjpnIDopoHlhYjlkK/nlKjmoIfpopjnv7vor5EiLCJ0cyI6Ikt1IGVuZGxhIGxlc3dha3UgdnVodW5kenVsdXhpIGJ5YSBuaGxhbXVzZWxvIGJ5aSB0aXJoYSwgdSBmYW5lbGUga3UgcmhhbmdhIHUgcGZ1bWVsZWxhIHZ1aHVuZHp1bHV4aSBieWEgbmhsb2tvbWhha2EifScpLCBkZXNjcmlwdGlvblRyYW5zbGF0aW9uTWVudU5hbWVNYXAgPSBKU09OLnBhcnNlKCd7InNxIjpbIlDDq3JzaGtyaW1pIFDDq3JrdGhpbWkgdSBha3Rpdml6dWEiLCJQw6tyc2hrcmltaSBQw6tya3RoaW1pIHUgw6dha3Rpdml6dWEiXSwiYXIiOlsi2KrZhSDYqti02LrZitmEINiq2LHYrNmF2Kkg2KfZhNmI2LXZgSIsItmI2LXZgSDYp9mE2KrYsdis2YXYqSDZhdiq2YjZgtmB2KkiXSwiYW0iOlsi4YiY4YyN4YiI4YyrIOGJteGIreGMieGInSDhiaDhiK3hibfhiI3hjaIiLCLhiJjhjI3hiIjhjKsg4Ym14Yit4YyJ4YidIOGMoOGNjeGJt+GIjSJdLCJhcyI6WyLgpqzgpr/gp7Hgp7DgpqMg4KaF4Kao4KeB4Kas4Ka+4KamIOCmheCmqCDgppXgp7Dgpr4g4Ka54KeI4Kab4KeHIiwi4Kas4Ka/4Kex4Kew4KajIOCmheCmqOCngeCmrOCmvuCmpiDgpqzgpqjgp43gpqcg4KaV4Kew4Ka+IOCmueCniOCmm+CnhyJdLCJheiI6WyJUyZlzdmlyIFTJmXJjw7xtyZkgWWFuZMSxcsSxbGTEsSIsIlTJmXN2aXIgVMmZcmPDvG3JmSBTw7ZuZMO8csO8bGTDvCJdLCJlZSI6WyJOdW1lyZZlyZZlIEdiZWfJlG1lyZZlyZZlIHNpIFdvyot1IiwiTnVtZcmWZcmWZSBHYmVnyZRtZcmWZcmWZSBUc2kiXSwiYXkiOlsiUWhhbmFuY2h04oCZYXdpIEphcXVraXBhw7FhIFR1cm5lZCIsIlFoYW5hbmNodOKAmWF3aSBKYXF1a2lwYcOxYSBKaXNr4oCZYSJdLCJnYSI6WyJEZXNjcmlwdGlvbiBBaXN0cmnDumNow6FuIGFyIHNpw7psIiwiRGVzY3JpcHRpb24gQWlzdHJpw7pjaMOhbiBNw7pjaHRhIl0sImV0IjpbIktpcmplbGR1cyBUw7VsZ2Ugc2lzc2UgbMO8bGl0YXR1ZCIsIktpcmplbGR1cyBUw7VsZ2UgdsOkbGphIGzDvGxpdGF0dWQiXSwib3IiOlsi4Kys4Kyw4K2N4Kyj4K2N4Kyj4Kyo4Ky+IOCsheCsqOCtgeCsrOCsvuCspiDgrIXgrKjgrY0g4KyF4Kyb4Ky/IHwiLCLgrKzgrLDgrY3grKPgrY3grKPgrKjgrL4g4KyF4Kyo4K2B4Kys4Ky+4KymIOCsrOCsqOCtjeCspiDgrLngrYvgrIfgrJfgrLLgrL4gfCJdLCJvbSI6WyJJYnNhIEhpaWtrYWEgSWZhIFRhXCdlIiwiSWJzYSBIaWlra2FhIEN1ZmFtZSJdLCJldSI6WyJEZXNrcmliYXBlbmEgSXR6dWxwZW5hIGFrdGliYXR1dGEiLCJEZXNrcmliYXBlbmEgSXR6dWxwZW5hIGRlc2FrdGliYXR1dGEgZGFnbyJdLCJiZSI6WyLQn9C10YDQsNC60LvQsNC0INCw0L/RltGB0LDQvdC90Y8g0Z7QutC70Y7Rh9Cw0L3RiyIsItCf0LXRgNCw0LrQu9Cw0LQg0LDQv9GW0YHQsNC90L3RjyDQstGL0LrQu9GO0YfQsNC90YsiXSwiYm0iOlsixp3Jm2bJlGxpIEJhbWFuYW5rYW4gQmFtYW5hbmthbiBEYWLJlHJhIiwixp3Jm2bJlGxpIEJhbWFuYW5rYW4gQmFtYW5hbmthbiBEYWZhcmEiXSwiYmciOlsi0J/RgNC10LLQvtC00YrRgiDQvdCwINC+0L/QuNGB0LDQvdC40LUg0LUg0LLQutC70Y7Rh9C10L0iLCLQn9GA0LXQstC+0LTRitGCINC90LAg0L7Qv9C40YHQsNC90LjQtSDQtSDQuNC30LrQu9GO0YfQtdC9Il0sImlzIjpbIkzDvXNpbmcgS3ZlaWt0IMOhIMO+w73DsGluZ3UiLCJMw71zaW5nIFNsw7Zra3Qgw6Egw77DvcOwaW5ndSJdLCJwbCI6WyJUxYJ1bWFjemVuaWUgb3Bpc3Ugd8WCxIVjem9uZSIsIlTFgnVtYWN6ZW5pZSBvcGlzdSB3ecWCxIVjem9uZSJdLCJicyI6WyJPcGlzIFByZXZvZCB1a2xqdcSNZW4iLCJPcGlzIFByZXZvZCBqZSBpc2tsanXEjWVuIl0sImZhIjpbItiq2YjYttuM2K3Yp9iqINiq2LHYrNmF2Ycg2LHZiNi02YYg2LTYryIsItiq2YjYttuM2K3Yp9iqINiq2LHYrNmF2Ycg2K7Yp9mF2YjYtCDYtNivIl0sImJobyI6WyLgpLXgpL/gpLXgpLDgpKMg4KSF4KSo4KWB4KS14KS+4KSmIOCkmuCkvuCksuClgiDgpLngpYsg4KSX4KSH4KSyIOCkrOCkviIsIuCkteCkv+CkteCksOCkoyDgpIXgpKjgpYHgpLXgpL7gpKYg4KSs4KSC4KSmIOCkueCliyDgpJfgpIfgpLIg4KSs4KS+Il0sImFmIjpbIkJlc2tyeXdpbmcgVmVydGFsaW5nIGFhbmdlc2tha2VsIiwiQmVza3J5d2luZyBWZXJ0YWxpbmcgYWZnZXNrYWtlbCJdLCJ0dCI6WyLQotCw0YHQstC40YDQu9Cw0LzQsCDQutCw0LHRi9C30YvQu9C00YsiLCLQotCw0YHQstC40YDQu9Cw0LzQsCDQodKv0L3QtNC10YDQtdC70LPTmdC9Il0sImRhIjpbIkJlc2tyaXZlbHNlIE92ZXJzw6Z0dGVsc2Ugc2zDpWV0IHRpbCIsIkJlc2tyaXZlbHNlIE92ZXJzw6Z0dGVsc2Ugc2zDpWV0IGZyYSJdLCJkZSI6WyJCZXNjaHJlaWJ1bmdzw7xiZXJzZXR6dW5nIGVpbmdlc2NoYWx0ZXQiLCJCZXNjaHJlaWJ1bmdzw7xiZXJzZXR6dW5nIGRlYWt0aXZpZXJ0Il0sImR2IjpbIt6M3qbeit6w3pDeqd6N3qog3ozept6D3qrelt6m3onepyDeh96u3oLesN6G3q7egd6w3orept6H3qgiLCLejN6m3oresN6Q3qnejd6qIN6M3qbeg96q3pbept6J3qcg3oLeqN6H3rDeiN6n3o3ep96K3qbeh96oIl0sInRpIjpbIuGImOGMjeGIiOGMuiDhibXhiK3hjInhiJ0g4YuI4YiK4YuRIiwi4YiY4YyN4YiI4Yy6IOGJteGIreGMieGInSDhjKDhjYrhiqEiXSwiZG9pIjpbIuCkteCkv+CkteCksOCkoyDgpIXgpKjgpYHgpLXgpL7gpKYg4KSa4KS+4KSy4KWCIOCkueCliyDgpJfgpK/gpL4iLCLgpLXgpL/gpLXgpLDgpKMg4KSF4KSo4KWB4KS14KS+4KSmIOCkrOCkguCkpiDgpLngpYsg4KSX4KSv4KS+Il0sInJ1IjpbItCf0LXRgNC10LLQvtC0INC+0L/QuNGB0LDQvdC40Y8g0LLQutC70Y7Rh9C10L0iLCLQn9C10YDQtdCy0L7QtCDQvtC/0LjRgdCw0L3QuNGPINC+0YLQutC70Y7Rh9C10L0iXSwiZnIiOlsiVHJhZHVjdGlvbiBkZSBsYSBkZXNjcmlwdGlvbiBhY3RpdsOpZSIsIlRyYWR1Y3Rpb24gZGUgbGEgZGVzY3JpcHRpb24gZMOpc2FjdGl2w6llIl0sInNhIjpbIuCkteCkv+CkteCksOCkoyDgpIXgpKjgpYHgpLXgpL7gpKYg4KSa4KS+4KSy4KWCIiwi4KS14KS/4KS14KSw4KSjIOCkheCkqOClgeCkteCkvuCkpiDgpIXgpLXgpLDgpYHgpKbgpY3gpKciXSwidGwiOlsiTmFrYS1vbiBhbmcgUGFnc2FzYWxpbiBuZyBQYWdsYWxhcmF3YW4iLCJOYWthLW9mZiBhbmcgUGFnc2FzYWxpbiBuZyBQYWdsYWxhcmF3YW4iXSwiZmkiOlsiS3V2YXVzIEvDpMOkbm7DtnMgcMOkw6RsbMOkIiwiS3V2YXVzIEvDpMOkbm7DtnMga3l0a2V0dHkgcG9pcyBww6TDpGx0w6QiXSwiZnkiOlsiQmVza3JpdXdpbmcgb2Vyc2V0dGluZyB5bnNrZWFrZWxlIiwiQmVza3JpdXdpbmcgb2Vyc2V0dGluZyDDunRza2Vha2VsZSJdLCJrbSI6WyLhnpThnrbhnpPhnpThnr7hnoDhnoDhnrbhnprhnpThnoDhnpThn5Lhnprhn4LhnoDhnrbhnprhnpbhnrfhnpbhno7hn4zhnpPhnrYiLCLhnoDhnrbhnprhnpThnoDhnpThn5Lhnprhn4LhnoDhnrbhnprhnpbhnrfhnpbhno7hn4zhnpPhnrbhno/hn5LhnprhnrzhnpzhnpThnrbhnpPhnpThnrfhnpEiXSwia2EiOlsi4YOQ4YOm4YOs4YOU4YOg4YOQIOGDl+GDkOGDoOGDkuGDm+GDkOGDnOGDmCDhg6nhg5Dhg6Dhg5fhg6Phg5rhg5jhg5AiLCLhg5Dhg6bhg6zhg5Thg6Dhg5Ag4YOX4YOQ4YOg4YOS4YOb4YOQ4YOc4YOYIOGDkuGDkOGDm+GDneGDoOGDl+GDo+GDmuGDmOGDkCJdLCJnb20iOlsi4KS14KSw4KWN4KSj4KSoIOCkheCko+CkleCkvuCksCDgpJrgpL7gpLLgpYIg4KSV4KWH4KSy4KS+Iiwi4KS14KSw4KWN4KSj4KSoIOCkheCko+CkleCkvuCksCDgpKzgpILgpKYg4KSV4KWH4KSy4KS+Il0sImd1IjpbIuCqteCqsOCrjeCqo+CqqCDgqoXgqqjgq4HgqrXgqr7gqqYg4Kqa4Kq+4Kqy4KuBIiwi4Kq14Kqw4KuN4Kqj4KqoIOCqheCqqOCrgeCqteCqvuCqpiDgqqzgqoLgqqciXSwiZ24iOlsiRGVzY3JpcGNpw7NuIFRyYWR1Y2Npw7NuIE/DsWVtYm9ndWFww712YSIsIkRlc2NyaXBjacOzbiBUcmFkdWNjacOzbiBvw7FlbWJvZ3VlIl0sImtrIjpbItCh0LjQv9Cw0YLRgtCw0LzQsCDQkNGD0LTQsNGA0LzQsCDSm9C+0YHRi9C70LTRiyIsItCh0LjQv9Cw0YLRgtCw0LzQsCDQkNGD0LTQsNGA0LzQsCDTqdGI0ZbRgNGW0LvQtNGWIl0sImh0IjpbIkRlc2tyaXBzeW9uIFRyYWRpa3N5b24gdmlyZSBzb3UiLCJEZXNrcmlwc3lvbiBUcmFkaWtzeW9uIGV0ZW5uIl0sImtvIjpbIuyEpOuqhSDrsojsl60g7Lyc7KeQIiwi7ISk66qFIOuyiOyXrSDtlbTsoJzrkKgiXSwiaGEiOlsiQW4gS3VubmEgRmFzc2FyYXIgQmF5YW5pIiwiQW4gS2FzaGUgRmFzc2FyYXIgQmF5YW5pIl0sIm5sIjpbIkJlc2NocmlqdmluZyBWZXJ0YWxpbmcgaW5nZXNjaGFrZWxkIiwiQmVzY2hyaWp2aW5nIFZlcnRhbGluZyB1aXRnZXNjaGFrZWxkIl0sImt5IjpbItCh0q/RgNOp0YLRgtOp0LzTqSDQutC+0YLQvtGA0YPRgyDQutKv0LnQs9Kv0LfSr9C70LTSryIsItCh0q/RgNOp0YLRgtOp0LzTqSDQutC+0YLQvtGA0YPRgyDTqdGH0q/RgNKv0LvQs9Op0L0iXSwiZ2wiOlsiRGVzY3JpY2nDs24gVHJhZHVjacOzbiBhY3RpdmFkYSIsIkRlc2NyaWNpw7NuIFRyYWR1Y2nDs24gZGVzYWN0aXZhZGEiXSwiY2EiOlsiRGVzY3JpcGNpw7MgVHJhZHVjY2nDsyBhY3RpdmFkYSIsIkRlc2NyaXBjacOzIFRyYWR1Y2Npw7MgZGVzYWN0aXZhZGEiXSwiY3MiOlsiUG9waXMgUMWZZWtsYWQgemFwbnV0w70iLCJQb3BpcyBQxZlla2xhZCBWeXBudXRvIl0sImtuIjpbIuCyteCyv+CyteCysOCyo+CzhiDgsoXgsqjgs4HgsrXgsr7gsqbgsrXgsqjgs43gsqjgs4Eg4LKG4LKo4LONIOCyruCyvuCyoeCysuCyvuCyl+Cyv+CypuCzhiIsIuCyteCyv+CyteCysOCyo+CzhiDgsoXgsqjgs4HgsrXgsr7gsqbgsrXgsqjgs43gsqjgs4Eg4LKG4LKr4LONIOCyruCyvuCyoeCysuCyvuCyl+Cyv+CypuCzhiJdLCJjbyI6WyJEZXNjcml6emlvbmUgVHJhZHV6emlvbmUgYXR0aXZhdGEiLCJEZXNjcml6emlvbmUgVHJhZHV6emlvbmUgZGlzYXR0aXZhdGEiXSwia3JpIjpbIkRpc2tyaXBzaMmUbiBUcmFuc2xlc2jJlG4gZMmUbiBPbiIsIkRpc2tyaXBzaMmUbiBUcmFuc2xlc2jJlG4gZMmUbiDGhmYiXSwiaHIiOlsiUHJpamV2b2Qgb3Bpc2EgdWtsanXEjWVuIiwiUHJpamV2b2Qgb3Bpc2EgaXNrbGp1xI1lbiJdLCJxdSI6WyJEZXNjcmlwY2nDs24gVHJhZHVjY2nDs24gbGxhbmvigJlhY2hpc3FhIiwiRGVzY3JpcGNpw7NuIFRyYWR1Y2Npw7NuIEFwYWdhc3FhIl0sImt1IjpbIkRhbmFzw65uIFdlcmdlciBaaXZpcsOuIiwiRGFuYXPDrm4gV2VyZ2VyIErDriBLaXJpeWUiXSwiY2tiIjpbItm+247Zhtin2LPblSDZiNuV2LHar9uO2pXYp9mGINiv2Kfar9uM2LHYs9in2YjblSIsItm+247Zhtin2LPblSDZiNuV2LHar9uO2pXYp9mGINqp2YjamNin2Yjbldiq25XZiNuVIl0sImxhIjpbIkRlc2NyaXB0aW8gVHJhbnNsYXRpb24gY29udmVyc3VzIGVzdCIsIkRlc2NyaXB0aW8gVHJhbnNsYXRpb24gY29udmVydGl0IE9mZiJdLCJsdiI6WyJBcHJha3N0cyBUdWxrb2p1bXMgaWVzbMSTZ3RzIiwiQXByYWtzdHMgVHVsa29qdW1zIEl6c2zEk2d0cyJdLCJsbyI6WyLguoHgurLgupngu4HgupvguoTgurPguq3gurDgupfgurTguprgurLguo3gu4DgupvgurXgupTgu4HguqXgu4nguqciLCLgupvgurTgupTguoHgurLgupngu4HgupvguoTgurPguq3gurDgupfgurTguprgurLguo0iXSwibHQiOlsiQXByYcWheW1vIHZlcnRpbWFzIMSvanVuZ3RhcyIsIkFwcmHFoXltYXMgVmVydGltYXMgacWhanVuZ3RhcyJdLCJsbiI6WyJCb2xpbWJpc2kgQm9ib25nb2xpIGVmdW5nb2xhbWkiLCJCb2xpbWJpc2kgQm9ib25nb2xpIEJvbWFtaSJdLCJsZyI6WyJFbm55b25ueW9sYSBPa3V2dnV1bnVsYSBLdWtvbGVkZHdhIiwiRW5ueW9ubnlvbGEgT2t1dnZ1dW51bGEgS3V6aWtpZGR3YSJdLCJsYiI6WyJCZXNjaHJlaXd1bmcgSXd3ZXJzZXR6dW5nIEFnZXNjaGFsdCIsIkJlc2NocmVpd3VuZyBJd3dlcnNldHp1bmcgQXVzZ2VzY2hhbHQiXSwicnciOlsiSWJpc29iYW51cm8gYnlhaGluZHV3ZSIsIkliaXNvYmFudXJvIGJ5YWhpbmR1d2UiXSwicm8iOlsiRGVzY3JpZXJlIFRyYWR1Y2VyZWEgZXN0ZSBhY3RpdmF0xIMiLCJEZXNjcmllcmUgVHJhZHVjZXJlYSBkZXphY3RpdmF0xIMiXSwibWciOlsiRmFtYXJpdGFuYSBueSBEaWthbnRlbnkgTmlyZWhpdHJhIiwiRmFtYXJpdGFuYSBEaWthbnRlbnkgbWF0eSJdLCJtdCI6WyJEZXNrcml6empvbmkgVHJhZHV6empvbmkgTWl4Z8SndWxhIiwiRGVza3Jpenpqb25pIFRyYWR1enpqb25pIE1pdGZpamEiXSwibXIiOlsi4KS14KSw4KWN4KSj4KSoIOCkreCkvuCkt+CkvuCkguCkpOCksCDgpJrgpL7gpLLgpYIg4KSV4KWH4KSy4KWHIiwi4KS14KSw4KWN4KSj4KSoIOCkreCkvuCkt+CkvuCkguCkpOCksCDgpKzgpILgpKYg4KSV4KWH4KSy4KWHIl0sIm1sIjpbIuC0teC0v+C0teC0sOC0o+C0giDgtLXgtL/gtLXgtbzgtKTgtY3gtKTgtKjgtIIg4LST4LSj4LS+4LSV4LWN4LSV4LS/Iiwi4LS14LS/4LS14LSw4LSj4LSCIOC0teC0v+C0teC1vOC0pOC1jeC0pOC0qOC0giDgtJPgtKvgtL7gtJXgtY3gtJXgtL8iXSwibXMiOlsiVGVyamVtYWhhbiBQZXJpaGFsYW4gRGloaWR1cGthbiIsIlRlcmplbWFoYW4gUGVyaWhhbGFuIERpbWF0aWthbiJdLCJtayI6WyLQntC/0LjRgSDQn9GA0LXQstC+0LTQvtGCINC1INCy0LrQu9GD0YfQtdC9Iiwi0J7Qv9C40YEg0J/RgNC10LLQvtC00L7RgiDQtSDQuNGB0LrQu9GD0YfQtdC9Il0sIm1haSI6WyLgpLXgpL/gpLXgpLDgpKMg4KSF4KSo4KWB4KS14KS+4KSmIOCkmuCkvuCksuClgiIsIuCkteCkv+CkteCksOCkoyDgpIXgpKjgpYHgpLXgpL7gpKYg4KSs4KSC4KSmIl0sIm1pIjpbIldoYWthbWFyYW1hdGFuZ2EgV2hha2FtYW9yaSBLdWEgV2hha2FrYSIsIldoYWthYWh1YXRhbmdhIFdoYWthbWFvcmkgS3VhIFdldG8iXSwibW5pLU10ZWkiOlsi6q+D6q+B6q+bRGVzY3JpcHRpb24gVHJhbnNsYXRpb24gVHVybmVkIE9u6q+R6q+j6q+f6q+K6q+j6q+b6q+C6q+m6q+rIiwi6q+D6q+B6q+bRGVzY3JpcHRpb24gVHJhbnNsYXRpb24gVHVybmVkIE9mZuqviuqvpOqvoeqvluqvpOqvnOqvguqvpuqvqyJdLCJtbiI6WyLQotCw0LnQu9Cx0LDRgNGL0L0g0L7RgNGH0YPRg9C70LPRi9CzINCw0YHQsNCw0YHQsNC9Iiwi0KLQsNC50LvQsdCw0YDRi9C9INC+0YDRh9GD0YPQu9Cz0YvQsyDRg9C90YLRgNCw0LDRgdCw0L0iXSwiYm4iOlsi4Kas4Kaw4KeN4Kaj4Kao4Ka+IOCmheCmqOCngeCmrOCmvuCmpiDgpprgpr7gprLgp4Eg4KaV4Kaw4Ka+IOCmueCmr+CmvOCnh+Cmm+CnhyIsIuCmrOCmsOCnjeCmo+CmqOCmviDgpoXgpqjgp4Hgpqzgpr7gpqYg4Kas4Kao4KeN4KanIl0sImx1cyI6WyJEZXNjcmlwdGlvbiBMZWhsaW4gT24gYSBuaSIsIkRlc2NyaXB0aW9uIExlaGxpbiBPZmYgYSBuaSJdLCJteSI6WyLhgJbhgLHhgKzhgLrhgJXhgLzhgIHhgLvhgIDhgLogVHJhbnNsYXRpb24gVHVybmVkIE9uIiwi4YCW4YCx4YCs4YC64YCV4YC84YCB4YC74YCA4YC6IOGAmOGArOGAnuGArOGAleGAvOGAlOGAuuGAhuGAreGAr+GAgeGAvOGAhOGAuuGAuOGAgOGAreGAryDhgJXhgK3hgJDhgLrhgJHhgKzhgLjhgJ7hgIrhgLrhgYsiXSwiaG1uIjpbIkNvdiBsdXMgcGlhdiBxaGlhIHRpZyByYXUiLCJOcWUgbHVzIHBpYXYgcWhpYSBUaWcgdGF3bSJdLCJ4aCI6WyJJbmtjYXplbG8gSWd1cXVsaXdlIEl2dWxpd2UiLCJJbmtjYXplbG8gQ2lueWl3ZSBVZ3VxdWxvIl0sInp1IjpbIlVrdWh1bXVzaGEgS3V2dWxpd2UiLCJVa3VodW11c2hhIEt1dmFsaXdlIl0sIm5lIjpbIuCkteCksOCljeCko+CkqCDgpIXgpKjgpYHgpLXgpL7gpKYg4KS44KSV4KWN4KSw4KS/4KSvIOCkl+CksOCkv+Ckr+CliyIsIuCkteCksOCljeCko+CkqCDgpIXgpKjgpYHgpLXgpL7gpKYg4KSs4KSo4KWN4KSmIOCkl+CksOCkv+Ckr+CliyJdLCJubyI6WyJCZXNrcml2ZWxzZSBPdmVyc2V0dGVsc2Ugc2zDpXR0IHDDpSIsIkJlc2tyaXZlbHNlIE92ZXJzZXR0ZWxzZSBzbMOldHQgYXYiXSwicGEiOlsi4Ki14Kiw4Kij4KioIOCoheCoqOCpgeCoteCovuCopiDgqJrgqL7gqLLgqYIg4Ki54KmIIiwi4Ki14Kiw4Kij4KioIOCoheCoqOCpgeCoteCovuCopiDgqKzgqbDgqKYg4Ki54KmIIl0sInB0IjpbIlRyYWR1w6fDo28gZGUgZGVzY3Jpw6fDo28gYXRpdmFkYSIsIlRyYWR1w6fDo28gZGEgZGVzY3Jpw6fDo28gZGVzYXRpdmFkYSJdLCJwcyI6WyLYqti02LHbjNitINqY2KjYp9qT2Ycg2YHYudin2YTZhyDYtNmI2YciLCLYqti02LHbjNitINqY2KjYp9qT2Ycg2KjZhtiv2Ycg2LTZiNmHIl0sIm55IjpbIkt1bWFzdWxpcmEgS3V5YXRzaWR3YSIsIkt1bWFzdWxpcmEgS3dhemltaXRzaWR3YSJdLCJhayI6WyJOa3llcsmba3llcsmbbXUgTmt5ZXLJm2FzZSBhIFfJlGFkYW4iLCJOa3llcsmba3llcsmbbXUgTmt5ZXLJm2FzZSBhIFfJlGFkdW0iXSwiamEiOlsi6Kqs5piO44Gu57+76Kiz44GM44Kq44Oz44Gr44Gq44Gj44Gm44GE44G+44GZIiwi6Kqs5piO44Gu57+76Kiz44GM44Kq44OV44Gr44Gq44Gj44Gm44GE44G+44GZIl0sInN2IjpbIkJlc2tyaXZuaW5nIMOWdmVyc8OkdHRuaW5nIHDDpXNsYWdlbiIsIkJlc2tyaXZuaW5nIMOWdmVyc8OkdHRuaW5nIGF2c3TDpG5nZCJdLCJzbSI6WyJGYVwnYW1hdGFsYWdhIEZhYWxpbGl1Z2EgVWEgS2kiLCJGYVwnYW1hdGFsYWdhIEZhYWxpbGl1IHVhIHRhcGUiXSwic3IiOlsi0J7Qv9C40YEg0J/RgNC10LLQvtC0INGD0LrRmdGD0YfQtdC9Iiwi0J7Qv9C40YEg0J/RgNC10LLQvtC0INGY0LUg0LjRgdC60ZnRg9GH0LXQvSJdLCJuc28iOlsiVGxoYWxvc28gUGhldG9sZWxvIGUgQnVsZXTFoXdlIiwiVGxoYWxvc28gUGhldG9sZWxvIGUgVGltaWx3ZSJdLCJzdCI6WyJUbGhhbG9zbyBQaGV0b2xlbG8gZSBCdWxldHNvZSIsIlRsaGFsb3NvIFBoZXRvbGVsbyBFIFRpbWlsb2UiXSwic2kiOlsi4LeA4LeS4LeD4LeK4Lat4La74La6IOC2tOC2u+C3kuC3gOC2u+C3iuC2reC2seC2uiDgt4Pgtprgt4rgtrvgt5Lgtrog4Laa4La7IOC2h+C2rSIsIuC3gOC3kuC3g+C3iuC2reC2u+C2uiDgtrTgtrvgt5Lgt4Dgtrvgt4rgtq3gtrHgtrog4Laa4LeK4oCN4La74LeS4La64LeP4LeA4LeS4La74LeE4LeS4Lat4La64LeSIl0sImVvIjpbIlByaXNrcmlibyBUcmFkdWthZG8gxZxhbHRpdGEiLCJQcmlza3JpYm8gVHJhZHVrYWRvIE1hbMWdYWx0aXRhIl0sInNrIjpbIlBvcGlzIFByZWtsYWQgemFwbnV0w70iLCJQb3BpcyBQcmVrbGFkIHZ5cG51dMO9Il0sInNsIjpbIlByZXZvZCBvcGlzYSBqZSB2a2xvcGxqZW4iLCJQcmV2b2Qgb3Bpc2EgamUgaXprbG9wbGplbiJdLCJzdyI6WyJNYWVsZXpvIFRhZnNpcmkgSW1ld2FzaHdhIiwiVWZhZmFudXppIFVtZXppbXdhIl0sImdkIjpbIlR1YWlyaXNnZXVsIEVhZGFyLXRoZWFuZ2FjaGFkaCBhaXIgYSB0aGlvbm5kYWRoIGFpciIsIlR1YWlyaXNnZXVsIEVhZGFyLXRoZWFuZ2FjaGFkaCBhaXIgYSBjaHVpciBkaGV0aCJdLCJjZWIiOlsiRGVza3JpcHN5b24gUGFnaHViYWQgR2ktb24iLCJEZXNrcmlwc3lvbiBQYWdodWJhZCBHaXBhbG9uZyJdLCJzbyI6WyJUdXJqdW1hYWRhIFNoYXJheGFhZGEgd2FhIERhYXJhbiIsIlR1cmp1bWFhZGEgU2hhcmF4YWFkYSB3YWEgRGVtaXlheSJdLCJ0ZyI6WyLQotCw0LLRgdC40YTQuCDQotCw0YDSt9GD0LzQsCDRhNCw0YrQvtC7INGI0YPQtCIsItCi0LDQstGB0LjRhNC4INCi0LDRgNK30YPQvNCwINGF0L7QvNOv0Ygg0LrQsNGA0LTQsCDRiNGD0LQiXSwidGUiOlsi4LC14LC/4LC14LCw4LCjIOCwheCwqOCxgeCwteCwvuCwpuCwgiDgsIbgsKjgsY0g4LCa4LGH4LCv4LCs4LCh4LC/4LCC4LCm4LC/Iiwi4LC14LC/4LC14LCw4LCjIOCwheCwqOCxgeCwteCwvuCwpuCwgiDgsIbgsKvgsY0g4LCa4LGH4LCv4LCs4LCh4LC/4LCC4LCm4LC/Il0sInRhIjpbIuCuteCuv+Cus+CuleCvjeCuleCuruCvjSDgrq7gr4rgrrTgrr/grqrgr4bgrq/grrDgr43grqrgr43grqrgr4Eg4K6H4K6v4K6V4K+N4K6V4K6q4K+N4K6q4K6f4K+N4K6f4K6k4K+BIiwi4K614K6/4K6z4K6V4K+N4K6V4K6u4K+NIOCuruCviuCutOCuv+CuquCvhuCur+CusOCvjeCuquCvjeCuquCvgSDgrq7gr4Hgrp/grpXgr43grpXgrqrgr43grqrgrp/gr43grp/grqTgr4EiXSwidGgiOlsi4LiE4Liz4Lit4LiY4Li04Lia4Liy4LiiIOC5gOC4m+C4tOC4lOC4geC4suC4o+C5geC4m+C4peC5geC4peC5ieC4pyIsIuC4hOC4s+C4reC4mOC4tOC4muC4suC4oiDguJvguLTguJTguIHguLLguKPguYHguJvguKXguYHguKXguYnguKciXSwidHIiOlsiQcOnxLFrbGFtYSDDh2V2aXJpIEHDp8SxbGTEsSIsIkHDp8Sxa2xhbWEgw4dldmlyaSBLYXBhdMSxbGTEsSJdLCJ0ayI6WyJEw7zFn8O8bmRpcmnFnyBUZXJqaW1lIGHDp3lsZHkiLCJEw7zFn8O8bmRpcmnFnyBUZXJqaW1lIMO2w6fDvHJpbGRpIl0sImN5IjpbIkRpc2dyaWZpYWQgQ3lmaWVpdGhpYWQgV2VkaVwnaSBEcm9pIFltbGFlbiIsIkRpc2dyaWZpYWQgQ3lmaWVpdGhpYWQgV2VkaVwnaSBEaWZmb2RkIl0sInVnIjpbItqG24jYtNuV2YbYr9uI2LHbiNi0INiq25XYsdis2YnZhdmJ2LPZiSDYptuQ2obZidmE2K/ZiSIsItqG24jYtNuV2YbYr9uI2LHbiNi0INiq25XYsdis2YnZhdmJ2LPZiSDYqtin2YLYp9mE2K/ZiSJdLCJ1ciI6WyLYqtmB2LXbjNmEINqp2Kcg2KrYsdis2YXbgSDYotmGINqp2LEg2K/bjNinINqv24zYp9uUIiwi2KrZgdi124zZhCDaqdinINiq2LHYrNmF24Eg2KjZhtivINqp2LEg2K/bjNinINqv24zYp9uUIl0sInVrIjpbItCf0LXRgNC10LrQu9Cw0LQg0L7Qv9C40YHRgyDQstCy0ZbQvNC60L3QtdC90L4iLCLQn9C10YDQtdC60LvQsNC0INC+0L/QuNGB0YMg0LLQuNC80LrQvdC10L3QviJdLCJ1eiI6WyJUYXZzaWYgdGFyamltYXNpIHlvcWlsZGkiLCJUYXZzaWYgdGFyamltYXNpIG/Ku2NoaXJpbGdhbiJdLCJlcyI6WyJUcmFkdWNjacOzbiBkZSBkZXNjcmlwY2nDs24gYWN0aXZhZGEiLCJUcmFkdWNjacOzbiBkZSBkZXNjcmlwY2nDs24gZGVzYWN0aXZhZGEiXSwiaXciOlsi16rXmdeQ15XXqCDXqteo15LXldedINee15XXpNei15wiLCLXqteZ15DXldeoINeq16jXkteV150g15vXkdeV15kiXSwiZWwiOlsizqDOtc+BzrnOs8+BzrHPhs6uIM6XIM68zrXPhM6sz4bPgc6xz4POtyDOtc6vzr3Osc65IM61zr3Otc+BzrPOv8+Azr/Ouc63zrzOrc69zrciLCLOoM61z4HOuc6zz4HOsc+Gzq4gzpcgzrzOtc+EzqzPhs+BzrHPg863IM61zq/Ovc6xzrkgzrHPgM61zr3Otc+BzrPOv8+Azr/Ouc63zrzOrc69zrciXSwiaGF3IjpbIldlaGV3ZWhlIMq7aWEga2EgdW51aGkgyrthbmEiLCJVYSBwaW8ga2EgdW51aGkgd2VoZXdlaGUiXSwic2QiOlsi2YjYttin2K3YqiDYqtix2KzZhdmIINii2YYg2qrZitmIINmI2YrZiCIsItmI2LbYp9it2Kog2KrYsdis2YXZiCDYqNmG2K8g2qrZitmIINmI2YrZiCJdLCJodSI6WyJMZcOtcsOhcyBGb3Jkw610w6FzIGJla2FwY3NvbHZhIiwiTGXDrXLDoXMgRm9yZMOtdMOhcyBLaWthcGNzb2x2YSJdLCJzbiI6WyJUc2FuYW5ndWR6byBZYWthYmF0aWR6d2EiLCJUc2FuYW5ndWR6byBZYWthZHppbXdhIl0sImh5IjpbItWG1a/VodaA1aHVo9aA1bjWgtWp1bXVuNaC1bYg1LnVodaA1aPVtNWh1bbVuNaC1anVtdW41oLVttWoINW01avVodaB1b7VodWuINWnIiwi1YbVr9Wh1oDVodWj1oDVuNaC1anVtdW41oLVtiDUudWh1oDVo9W01aHVttW41oLVqdW11bjWgtW21bYg1aHVttW71aHVv9W+1aHVriDVpyJdLCJpZyI6WyJBZ2Jhbnnhu6Vy4bulIG5r4buNd2Egbmvhu413YSIsIkFnYmFueeG7pXLhu6UgbnThu6VnaGFy4buLIG5r4buNd2Egbmvhu413YSJdLCJpbG8iOlsiRGVza3JpcHNpb24gTmFpbHVrYXQgdGkgUGFuYWdwYXRhcnVzIiwiRGVza3JpcHNpb24gTmFpZGRlcCB0aSBQYW5hZ3BhdGFydXMiXSwiaXQiOlsiRGVzY3JpemlvbmUgVHJhZHV6aW9uZSBhdHRpdmF0YSIsIkRlc2NyaXppb25lIFRyYWR1emlvbmUgZGlzYXR0aXZhdGEiXSwieWkiOlsi15HXkNa316nXqNeZ15nWt9eR15XXoNeSINeQ15nXkdei16jXltei16bXldeg15Ig15DXldeZ16HXktei15PXqNeZ15nXmCDXkNeV15nXoyIsIteR15DWt9ep16jXmdeZ1rfXkdeV16DXkiDXkNeZ15HXoteo15bXotem15XXoNeSINeQ15XXmdeh15LXoteT16jXmdeZ15gg15DWt9eV15XXotenIl0sImhpIjpbIuCkteCkv+CkteCksOCkoyDgpIXgpKjgpYHgpLXgpL7gpKYg4KSa4KS+4KSy4KWCIiwi4KS14KS/4KS14KSw4KSjIOCkheCkqOClgeCkteCkvuCkpiDgpKzgpILgpKYg4KSV4KSwIOCkpuCkv+Ckr+CkviDgpJfgpK/gpL4iXSwic3UiOlsiS2F0ZXJhbmdhbiBUYXJqYW1haGFuIERpaHVydW5na2V1biIsIkthdGVyYW5nYW4gVGFyamFtYWhhbiBEaXBhcmV1bWFuIl0sImlkIjpbIkRlc2tyaXBzaSBUZXJqZW1haGFuIERpYWt0aWZrYW4iLCJEZXNrcmlwc2kgVGVyamVtYWhhbiBEaW1hdGlrYW4iXSwianciOlsiRGVza3JpcHNpIFRlcmplbWFoYW4gRGl1cmlwYWtlIiwiRGVza3JpcHNpIFRlcmplbWFoYW4gRGlwYXRlbmkiXSwiZW4iOlsiRGVzY3JpcHRpb24gVHJhbnNsYXRpb24gVHVybmVkIE9uIiwiRGVzY3JpcHRpb24gVHJhbnNsYXRpb24gVHVybmVkIE9mZiJdLCJ5byI6WyJUaXRhbiBJdHVt4buNIEFwZWp1d2UiLCJJdHVt4buNIEFwZWp1d2UgUGFhIl0sInZpIjpbIkLhuqNuIGThu4tjaCBtw7QgdOG6oyDEkcOjIGLhuq10IiwiQuG6o24gZOG7i2NoIG3DtCB04bqjIMSRw6MgYuG7iyB04bqvdCJdLCJ6aC1UVyI6WyLnsKHku4vnv7vora/lt7LplovllZ8iLCLnsKHku4vnv7vora/lt7Lpl5zplokiXSwiemgtQ04iOlsi566A5LuL57+76K+R5bey5byA5ZCvIiwi57Ch5LuL57+76K+R5bey5YWz6ZetIl0sInRzIjpbIk5obGFtdXNlbG8gVnVodW5kenVsdXhpIGJ5aSBQZnVyaXdpbGUiLCJOaGxhbXVzZWxvIFZ1aHVuZHp1bHV4aSBieWkgVGltaXdpbGUiXX0nKTsKICAgIHZhciB0b2dnbGVEZXNjcmlwdGlvblRyYW5zbGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBnb29nbGVMYW5nLCB0aXRsZVRyYW5zbGF0ZUNsb3NlZCA9IEdNX2dldFZhbHVlKHRpdGxlS2V5KSwgZGVzY3JpcHRpb25UcmFuc2xhdGVDbG9zZWQgPSBHTV9nZXRWYWx1ZShkZXNjcmlwdGlvbktleSk7CiAgICAgICAgdGl0bGVUcmFuc2xhdGVDbG9zZWQgPyAoKGdvb2dsZUxhbmcgPSBnZXRHb29nbGVMYW5ndWFnZVN1cHBvcnQoY3V0dGVudExhbmcpKSBpbiBkZXNjcmlwdGlvblRyYW5zbGF0aW9uTm90aWNlTWFwICYmIChkZXNjcmlwdGlvblRyYW5zbGF0aW9uTm90aWNlID0gZGVzY3JpcHRpb25UcmFuc2xhdGlvbk5vdGljZU1hcFtnb29nbGVMYW5nXSksIAogICAgICAgIEdNX25vdGlmaWNhdGlvbih7CiAgICAgICAgICAgIHRleHQ6IGRlc2NyaXB0aW9uVHJhbnNsYXRpb25Ob3RpY2UsCiAgICAgICAgICAgIHRpbWVvdXQ6IDVlMwogICAgICAgIH0pKSA6IChkZXNjcmlwdGlvblRyYW5zbGF0ZUNsb3NlZCA/IChHTV9zZXRWYWx1ZShkZXNjcmlwdGlvbktleSwgITEpLCBHTV9ub3RpZmljYXRpb24oewogICAgICAgICAgICB0ZXh0OiBkZXNjcmlwdGlvblRyYW5zbGF0aW9uVHVybmVkT24sCiAgICAgICAgICAgIHRpbWVvdXQ6IDM1MDAKICAgICAgICB9KSkgOiAoR01fc2V0VmFsdWUoZGVzY3JpcHRpb25LZXksICEwKSwgR01fbm90aWZpY2F0aW9uKHsKICAgICAgICAgICAgdGV4dDogZGVzY3JpcHRpb25UcmFuc2xhdGlvblR1cm5lZE9mZiwKICAgICAgICAgICAgdGltZW91dDogMzUwMAogICAgICAgIH0pKSwgbG9jYXRpb24ucmVsb2FkKCkpOwogICAgfSwgdG9nZ2xlVGl0bGVUcmFuc2xhdGUgPSBmdW5jdGlvbigpIHsKICAgICAgICBHTV9nZXRWYWx1ZSh0aXRsZUtleSkgPyAoR01fc2V0VmFsdWUodGl0bGVLZXksICExKSwgR01fbm90aWZpY2F0aW9uKHsKICAgICAgICAgICAgdGV4dDogdGl0bGVUcmFuc2xhdGlvblR1cm5lZE9uLAogICAgICAgICAgICB0aW1lb3V0OiAzNTAwCiAgICAgICAgfSkpIDogKEdNX3NldFZhbHVlKHRpdGxlS2V5LCAhMCksIEdNX25vdGlmaWNhdGlvbih7CiAgICAgICAgICAgIHRleHQ6IHRpdGxlVHJhbnNsYXRpb25UdXJuZWRPZmYsCiAgICAgICAgICAgIHRpbWVvdXQ6IDM1MDAKICAgICAgICB9KSksIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfTsKICAgIGZ1bmN0aW9uIF9yZXBsYWNlQ29udGVudCh0YXJnZXRFbGVtZW50LCBjb250ZW50UHJvdmlkZXIpIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0YXJnZXRFbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoICYmIGogPCBjb250ZW50UHJvdmlkZXIubGVuZ3RoOyApIHsKICAgICAgICAgICAgdmFyIHRhcmdldE5vZGUgPSB0YXJnZXRFbGVtZW50LmNoaWxkTm9kZXNbaV0sIHByb3ZpZGVyQ29udGVudCA9IGNvbnRlbnRQcm92aWRlcltqXSwgbm9kZU5hbWUgPSB0YXJnZXROb2RlLm5vZGVOYW1lOwogICAgICAgICAgICBpZiAoIklNRyIgIT09IG5vZGVOYW1lKSBpZiAoIlNQQU4iICE9PSBub2RlTmFtZSB8fCAiXG4iICE9PSB0YXJnZXROb2RlLnRleHRDb250ZW50ICYmICJcciIgIT09IHRhcmdldE5vZGUudGV4dENvbnRlbnQpIHsKICAgICAgICAgICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgcHJvdmlkZXJDb250ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCIiID09PSBwcm92aWRlckNvbnRlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaisrOwogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCIiID09PSBwcm92aWRlckNvbnRlbnRbMV0gfHwgIklNRyIgPT09IHByb3ZpZGVyQ29udGVudFswXSkgewogICAgICAgICAgICAgICAgICAgIGorKzsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN3aXRjaCAobm9kZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAiI3RleHQiOgogICAgICAgICAgICAgICAgICAgIHRhcmdldE5vZGUubm9kZVZhbHVlID0gInN0cmluZyIgPT0gdHlwZW9mIHByb3ZpZGVyQ29udGVudCA/IHByb3ZpZGVyQ29udGVudCA6IHByb3ZpZGVyQ29udGVudFsxXTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgIGNhc2UgIlNQQU4iOgogICAgICAgICAgICAgICAgICBjYXNlICJBIjoKICAgICAgICAgICAgICAgICAgICB0YXJnZXROb2RlLmlubmVyVGV4dCA9ICJzdHJpbmciID09IHR5cGVvZiBwcm92aWRlckNvbnRlbnQgPyBwcm92aWRlckNvbnRlbnQgOiBwcm92aWRlckNvbnRlbnRbMV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpKyssIGorKzsKICAgICAgICAgICAgfSBlbHNlIGkrKzsgZWxzZSBpKys7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gX3JlY29yZFNvdXJjZUNvbnRlbnQodGFyZ2V0RWxlbWVudCwgc291cmNlKSB7CiAgICAgICAgdGFyZ2V0RWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKG5vZGUpIHsKICAgICAgICAgICAgdmFyIG5hbWUgPSBub2RlLm5vZGVOYW1lOwogICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHsKICAgICAgICAgICAgICBjYXNlICIjdGV4dCI6CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLm5vZGVWYWx1ZTsKICAgICAgICAgICAgICAgIHZhbHVlICYmIHNvdXJjZS5wdXNoKFsgbmFtZSwgdmFsdWUgXSk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAiU1BBTiI6CiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IG5vZGUudGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICB0ZXh0ICYmICJcbiIgIT0gdGV4dCAmJiAiXHIiICE9IHRleHQgJiYgc291cmNlLnB1c2goWyBuYW1lLCB0ZXh0LnJlcGxhY2UoIlxyIiwgIiIpIF0pOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgIklNRyI6CiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbm9kZS5nZXRBdHRyaWJ1dGUoImFsdCIpOwogICAgICAgICAgICAgICAgaW1nICYmIHNvdXJjZS5wdXNoKFsgbmFtZSwgaW1nIF0pOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgIkEiOgogICAgICAgICAgICAgICAgdmFyIF90ZXh0ID0gbm9kZS50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgIF90ZXh0ICYmIHNvdXJjZS5wdXNoKFsgbmFtZSwgX3RleHQgXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KSk7CiAgICB9CiAgICB2YXIgVG9wTGV2ZWxUcmFuc2xhdGVCdG4gPSAgZnVuY3Rpb24oKSB7CiAgICAgICAgZnVuY3Rpb24gVG9wTGV2ZWxUcmFuc2xhdGVCdG4yKGJ0bk5hbWVzLCBsYW5nMiwgZGFya01vZGUyKSB7CiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb3BMZXZlbFRyYW5zbGF0ZUJ0bjIpLCBfZGVmaW5lUHJvcGVydHkodGhpcywgImlkIiwgdm9pZCAwKSwgCiAgICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAibGFuZyIsIHZvaWQgMCksIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZGFya01vZGUiLCB2b2lkIDApLCAKICAgICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJidG4iLCB2b2lkIDApLCBfZGVmaW5lUHJvcGVydHkodGhpcywgImJ0blRyYW5zbGF0ZU5hbWUiLCB2b2lkIDApLCAKICAgICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJidG5PcmlnaW5hbE5hbWUiLCB2b2lkIDApLCBfZGVmaW5lUHJvcGVydHkodGhpcywgInNvdXJjZUNvbnRlbnRzIiwgdm9pZCAwKSwgCiAgICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidHJhbnNsYXRlZENvbnRlbnRzIiwgdm9pZCAwKSwgX2RlZmluZVByb3BlcnR5KHRoaXMsICJpc1RyYW5zbGF0ZWQiLCB2b2lkIDApLCAKICAgICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJvYnNlcnZlcnMiLCB2b2lkIDApLCBfZGVmaW5lUHJvcGVydHkodGhpcywgIl9zbmlwcGV0VGV4dEVsZW1lbnRPYnNlcnZlciIsIG5ldyBNdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbihtdXRhdGlvbnMpIHsKICAgICAgICAgICAgICAgIHZhciBfc3RlcCwgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobXV0YXRpb25zKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTsgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtdXRhdGlvbiA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAiaGlkZGVuIiA9PT0gbXV0YXRpb24uYXR0cmlidXRlTmFtZSAmJiBfdGhpcy5fcHJvY2Vzc1NuaXBwZXRUZXh0KG11dGF0aW9uLnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkpKSwgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfZnVsbFRleHRFbGVtZW50T2JzZXJ2ZXIiLCBuZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24obXV0YXRpb25zKSB7CiAgICAgICAgICAgICAgICB2YXIgX3N0ZXAyLCBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobXV0YXRpb25zKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTsgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtdXRhdGlvbiA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgImhpZGRlbiIgPT09IG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgJiYgX3RoaXMuX3Byb2Nlc3NGdWxsVGV4dChtdXRhdGlvbi50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkpKSwgdGhpcy5pZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSwgdGhpcy5sYW5nID0gbGFuZzIsIHRoaXMuZGFya01vZGUgPSBkYXJrTW9kZTIsIAogICAgICAgICAgICB0aGlzLmJ0blRyYW5zbGF0ZU5hbWUgPSBidG5OYW1lc1swXSwgdGhpcy5idG5PcmlnaW5hbE5hbWUgPSBidG5OYW1lc1sxXSwgdGhpcy5zb3VyY2VDb250ZW50cyA9IHsKICAgICAgICAgICAgICAgIHN1cGVyVGl0bGU6IFtdLAogICAgICAgICAgICAgICAgdGl0bGU6IFtdLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb25Gb3JtYXR0ZWRTbmlwcGV0OiBbXSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uUGxhbnRUZXh0U25pcHBldDogW10sCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbkZ1bGxUZXh0OiBbXQogICAgICAgICAgICB9LCB0aGlzLnRyYW5zbGF0ZWRDb250ZW50cyA9IHsKICAgICAgICAgICAgICAgIHN1cGVyVGl0bGU6IFtdLAogICAgICAgICAgICAgICAgdGl0bGU6IFtdLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb25Gb3JtYXR0ZWRTbmlwcGV0OiBbXSwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uUGxhbnRUZXh0U25pcHBldDogW10sCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbkZ1bGxUZXh0OiBbXQogICAgICAgICAgICB9LCB0aGlzLmlzVHJhbnNsYXRlZCA9ICExLCB0aGlzLmJ0biA9IHRoaXMuX2NyZWF0ZUJ0bigpLCB0aGlzLl9hZGRDbGlja0xpc3RlbmVyKHRoaXMuYnRuKSwgCiAgICAgICAgICAgIHRoaXMuX2FkZE1vdXNlZG93bkxpc3RlbmVyKHRoaXMuYnRuKSwgdGhpcy5fYWRkTW91c2V1cExpc3RlbmVyKHRoaXMuYnRuKSwgdGhpcy5vYnNlcnZlcnMgPSB7CiAgICAgICAgICAgICAgICBzbmlwcGV0VGV4dEVsZW1lbnRPYnNlcnZlcjogewogICAgICAgICAgICAgICAgICAgIG9ic2VydmVyOiB0aGlzLl9zbmlwcGV0VGV4dEVsZW1lbnRPYnNlcnZlciwKICAgICAgICAgICAgICAgICAgICBpblVzZTogITEKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdWxsVGV4dEVsZW1lbnRPYnNlcnZlcjogewogICAgICAgICAgICAgICAgICAgIG9ic2VydmVyOiB0aGlzLl9mdWxsVGV4dEVsZW1lbnRPYnNlcnZlciwKICAgICAgICAgICAgICAgICAgICBpblVzZTogITEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhUb3BMZXZlbFRyYW5zbGF0ZUJ0bjIsIFsgewogICAgICAgICAgICBrZXk6ICJjbGVhciIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnNvdXJjZUNvbnRlbnRzID0gewogICAgICAgICAgICAgICAgICAgIHN1cGVyVGl0bGU6IFtdLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBbXSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbkZvcm1hdHRlZFNuaXBwZXQ6IFtdLAogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uUGxhbnRUZXh0U25pcHBldDogW10sCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25GdWxsVGV4dDogW10KICAgICAgICAgICAgICAgIH0sIHRoaXMudHJhbnNsYXRlZENvbnRlbnRzID0gewogICAgICAgICAgICAgICAgICAgIHN1cGVyVGl0bGU6IFtdLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBbXSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbkZvcm1hdHRlZFNuaXBwZXQ6IFtdLAogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uUGxhbnRUZXh0U25pcHBldDogW10sCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25GdWxsVGV4dDogW10KICAgICAgICAgICAgICAgIH0sIHRoaXMuaXNUcmFuc2xhdGVkID0gITEsIHRoaXMub2JzZXJ2ZXJzKSB0aGlzLm9ic2VydmVyc1trZXldLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX29ic2VydmVTbmlwcGV0VGV4dEVsZW1lbnQiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oc25pcHBldFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLl9zbmlwcGV0VGV4dEVsZW1lbnRPYnNlcnZlci5vYnNlcnZlKHNuaXBwZXRUZXh0RWxlbWVudCwgewogICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6ICEwCiAgICAgICAgICAgICAgICB9KSwgdGhpcy5vYnNlcnZlcnMuc25pcHBldFRleHRFbGVtZW50T2JzZXJ2ZXIuaW5Vc2UgPSAhMDsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX29ic2VydmVGdWxsVGV4dEVsZW1lbnQiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZnVsbFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLl9mdWxsVGV4dEVsZW1lbnRPYnNlcnZlci5vYnNlcnZlKGZ1bGxUZXh0RWxlbWVudCwgewogICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6ICEwCiAgICAgICAgICAgICAgICB9KSwgdGhpcy5vYnNlcnZlcnMuZnVsbFRleHRFbGVtZW50T2JzZXJ2ZXIuaW5Vc2UgPSAhMDsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiZ2V0QnRuIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnRuOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfY3JlYXRlQnRuIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgibmFtZSIsICJ0b3BfbGV2ZWxfdHJhbnNsYXRlX2J0biIpLCBkaXYuY2xhc3NOYW1lID0gInN0eWxlLXNjb3BlIHl0ZC1tZW51LXJlbmRlcmVyIiwgCiAgICAgICAgICAgICAgICBkaXYuc3R5bGUubWFyZ2luTGVmdCA9ICI4cHgiOwogICAgICAgICAgICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICAgICAgICAgICAgaW1nLnN0eWxlLndpZHRoID0gIjI0cHgiLCBpbWcuc3R5bGUuaGVpZ2h0ID0gIjI0cHgiLCBpbWcuc3R5bGUubWFyZ2luUmlnaHQgPSAiNnB4IiwgCiAgICAgICAgICAgICAgICBpbWcuc3R5bGUubWFyZ2luTGVmdCA9ICItNnB4IiwgdGhpcy5kYXJrTW9kZSA/IGltZy5zcmMgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCZ0FBQUFZQ0FZQUFBRGdkejM0QUFBQjJFbEVRVlJJUzlXVU95eEVRUlNHOTRaR0lZUkNRV0U3QllWQ0liSEplaFNFaUhoVVNyMW5LRWpzb2xQSTZqUkxJcEhvUkVSQll4dUZaQ1ZpQ3drSkNob0ZHanBaMzluTTNZenJQdGR1WVpJL00zZnVtZjg3NTg3TU5VSWxia2FKL1VPdWdHdzJXMDhDM1laaDdCYWFpQmRnQ09NWWdOWS9BY2kwQW9NK1ZHWXhhdU41REMzWUFPNEFYM21CY3hVQWFLSGJSbTRWMWZKZWRLdE16d0ZNK1FKNEJha2tadWdqbUE3N2lUZGpiRE9tb21ZQzdqSDdOQU9aMjVmc21Wc3VCdUFRa3pSbWF5cjdTdm9uZGFMU3hRRDBZN0tEbW9DOGt2MHE0eTdHSGJvNTg5VTg3NkZ4M3IzYmdSMDNsY1hITFBoQUNYU3Fzcit3QU9JOHg5QUtBQm4vYW02QU9xSXZVUTFheEVCQSthYXlmMlJpRThscGFyU3J3bW1UNVp2UG96a2twY3YzbjhRZ1h3RUF5VGpLWEpSeGluSEtyZ3J6SHNoRkcwRHlhMmhIdlNpakFOSXZxU3h2NkUvUU0xcEhnNWllQWVoa2ZHQlhoWDdSdGdoNFFkZm9pSVUvVGdzbVZjeVBvb2hranNxSmFhRFBOYWNxQXY5TkZlZ0J6eEhKWGdPWVZZU1pmelBuQ3dIRVdUeUJaazBUcmQ5Z25OVDNJaEJBT3psU3daY05RSDZXWVgwdmdnSWsreDdyaGROQjFyM3dEWEQ2OXRZcXRCT1YyNHNnQVBtbFQ3Tkl2cjlyQTVJa0lFRnN4amZBeTlUcC9mOEhmQU5jVXJRWm0veWx6UUFBQUFCSlJVNUVya0pnZ2c9PSIgOiBpbWcuc3JjID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBWUNBWUFBQURnZHozNEFBQUJ4RWxFUVZSSVM5V1VQU2hHVVJqSFh5bGxrSThVc2JBWkdBd0dSZmthaUVFK0pxUEY1Q014a08vSnBpd1dsRkkyU1FZV2I4bWdLREVRUlQ0V0JwU1kvZjQ2cDY3NzN1dmVpM2R3NnRmNXVNOTkvczl6em5OT1NpekpMU1hKL21OQkFvVUVVQThyUHcwa1NLQVZ4eE5RL2x1QmRCdzBRYXJMVVFYelRoaUdOTWlIVzJOelNYOGNKR3d6S01Od0Nkd1pTVGdYN2lBYjh1RGNPTjJuN3dzckVHU243d05RRFcxaGpLMk4zeG1VWW5BRjd3NW5hNHd2WVB3dkJEWndjZ2d6eGxrRy9UMm9vclFldXZsbDBJeUhaU2lCSjVpR09xaHllYzVpdmdwZDhPS2wrbDJaYnZIREc4ekJqb24rd09Wa2tybktlQW8wVG1qZkNhaGlqaUFIUm95UTAwRW1rMnVZQjFWVE1UeTdGZndFdE9kRE1HaFMxLzczZ2pNRFJkd0EycmE0SVNFTEs2QjZid0U5RFpYUUNLZEdRUDJvaWZLTWZoc2tPQXU2NmJ0UUMrdGVXVGd2MmdJR2ozQUNtK0N1Rm0xSkIrZ3UxSUJ1ZGdIWUZtY2dKaDFyZ1krZDA5YU83ZDYzbStqdHVtY1dRWStkbDRBeVZRWmpIaDhWL1I3MDJHOVJCUlQ5QTl6QXE0ZUFpcU1JOUNoK1ZsUlVBVVZvSzhjck82M3BISVJzSXduNDdiMWI2TXRaUk1sQVQzby9kUHVGN2xoZlpLd1g0RFNLUUFpL2lTYi9YK0FETG90UUdXK0U0N1FBQUFBQVNVVk9SSzVDWUlJPSI7CiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICAgICAgICAgIHNwYW4uaW5uZXJUZXh0ID0gdGhpcy5idG5UcmFuc2xhdGVOYW1lOwogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbi5jbGFzc05hbWUgPSAieXQtc3BlYy1idXR0b24tc2hhcGUtbmV4dCB5dC1zcGVjLWJ1dHRvbi1zaGFwZS1uZXh0LS10b25hbCB5dC1zcGVjLWJ1dHRvbi1zaGFwZS1uZXh0LS1tb25vIHl0LXNwZWMtYnV0dG9uLXNoYXBlLW5leHQtLXNpemUtbSB5dC1zcGVjLWJ1dHRvbi1zaGFwZS1uZXh0LS1pY29uLWxlYWRpbmcgIiwgCiAgICAgICAgICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQoaW1nKSwgYnV0dG9uLmFwcGVuZENoaWxkKHNwYW4pLCBkaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKSwgZGl2OwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfYWRkQ2xpY2tMaXN0ZW5lciIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihidG4pIHsKICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzLCBidXR0b25Jbm5lciA9IGJ0bi5xdWVyeVNlbGVjdG9yKCJidXR0b24iKTsKICAgICAgICAgICAgICAgIG51bGwgPT0gYnV0dG9uSW5uZXIgfHwgYnV0dG9uSW5uZXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYWJvdmVUaGVGb2xkID0gZmluZFBhcmVudEJ5SWQoZXZlbnQudGFyZ2V0LCAiYWJvdmUtdGhlLWZvbGQiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoYWJvdmVUaGVGb2xkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IGFib3ZlVGhlRm9sZC5xdWVyeVNlbGVjdG9yKCIjdGl0bGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpdGxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGVTdHJpbmdFbGVtZW50ID0gdGl0bGUucXVlcnlTZWxlY3RvcigiaDEgPiB5dC1mb3JtYXR0ZWQtc3RyaW5nIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGl0bGVTdHJpbmdFbGVtZW50ICYmICgwID09PSBfdGhpczIuc291cmNlQ29udGVudHMudGl0bGUubGVuZ3RoICYmIF90aGlzMi5fcmVjb3JkVGl0bGVTb3VyY2VDb250ZW50KHRpdGxlU3RyaW5nRWxlbWVudCksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmlzVHJhbnNsYXRlZCA/IF90aGlzMi5fcm9sbGJhY2tUaXRsZSh0aXRsZVN0cmluZ0VsZW1lbnQpIDogX3RoaXMyLl91cGRhdGVUaXRsZSh0aXRsZVN0cmluZ0VsZW1lbnQpKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhR01fZ2V0VmFsdWUoZGVzY3JpcHRpb25LZXkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gYWJvdmVUaGVGb2xkLnF1ZXJ5U2VsZWN0b3IoIiNkZXNjcmlwdGlvbiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXNjcmlwdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnVsbFRleHRFbGVtZW50ID0gZGVzY3JpcHRpb24ucXVlcnlTZWxlY3RvcigiI2Rlc2NyaXB0aW9uLWlubGluZS1leHBhbmRlciA+IHl0LWZvcm1hdHRlZC1zdHJpbmciKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLl9wcm9jZXNzRnVsbFRleHQoZnVsbFRleHRFbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNuaXBwZXRUZXh0RWxlbWVudCA9IGRlc2NyaXB0aW9uLnF1ZXJ5U2VsZWN0b3IoIiNkZXNjcmlwdGlvbi1pbmxpbmUtZXhwYW5kZXIgPiAjc25pcHBldCA+ICNzbmlwcGV0LXRleHQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLl9wcm9jZXNzU25pcHBldFRleHQoc25pcHBldFRleHRFbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl9wcm9jZXNzRnVsbFRleHQiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZnVsbFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBmdWxsVGV4dEVsZW1lbnQgJiYgKHRoaXMub2JzZXJ2ZXJzLmZ1bGxUZXh0RWxlbWVudE9ic2VydmVyLmluVXNlIHx8IHRoaXMuX29ic2VydmVGdWxsVGV4dEVsZW1lbnQoZnVsbFRleHRFbGVtZW50KSwgCiAgICAgICAgICAgICAgICBmdWxsVGV4dEVsZW1lbnQuaGFzQXR0cmlidXRlKCJoaWRkZW4iKSB8fCAoMCA9PT0gdGhpcy5zb3VyY2VDb250ZW50cy5kZXNjcmlwdGlvbkZ1bGxUZXh0Lmxlbmd0aCAmJiB0aGlzLl9yZWNvcmRGdWxsVGV4dFNvdXJjZUNvbnRlbnQoZnVsbFRleHRFbGVtZW50KSwgCiAgICAgICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRlZCA/IHRoaXMuX3VwZGF0ZUZ1bGxUZXh0KGZ1bGxUZXh0RWxlbWVudCkgOiB0aGlzLl9yb2xsYmFja0Z1bGxUZXh0KGZ1bGxUZXh0RWxlbWVudCkpKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX3Byb2Nlc3NTbmlwcGV0VGV4dCIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihzbmlwcGV0VGV4dEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGlmIChzbmlwcGV0VGV4dEVsZW1lbnQgJiYgKHRoaXMub2JzZXJ2ZXJzLnNuaXBwZXRUZXh0RWxlbWVudE9ic2VydmVyLmluVXNlIHx8IHRoaXMuX29ic2VydmVTbmlwcGV0VGV4dEVsZW1lbnQoc25pcHBldFRleHRFbGVtZW50KSwgCiAgICAgICAgICAgICAgICAhc25pcHBldFRleHRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgiaGlkZGVuIikpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYWluU25pcHBldFRleHRFbGVtZW50ID0gc25pcHBldFRleHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwbGFpbi1zbmlwcGV0LXRleHQiKTsKICAgICAgICAgICAgICAgICAgICBwbGFpblNuaXBwZXRUZXh0RWxlbWVudCAmJiAocGxhaW5TbmlwcGV0VGV4dEVsZW1lbnQuaGFzQXR0cmlidXRlKCJoaWRkZW4iKSB8fCAoMCA9PT0gdGhpcy5zb3VyY2VDb250ZW50cy5kZXNjcmlwdGlvblBsYW50VGV4dFNuaXBwZXQubGVuZ3RoICYmIHRoaXMuX3JlY29yZFBsYWluU25pcHBldFRleHRTb3VyY2VDb250ZW50KHBsYWluU25pcHBldFRleHRFbGVtZW50KSwgCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0ZWQgPyB0aGlzLl91cGRhdGVQbGFpblNuaXBwZXRUZXh0KHBsYWluU25pcHBldFRleHRFbGVtZW50KSA6IHRoaXMuX3JvbGxiYWNrUGxhaW5TbmlwcGV0VGV4dChwbGFpblNuaXBwZXRUZXh0RWxlbWVudCkpKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0dGVkU25pcHBldFRleHRFbGVtZW50ID0gc25pcHBldFRleHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIiNmb3JtYXR0ZWQtc25pcHBldC10ZXh0Iik7CiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkU25pcHBldFRleHRFbGVtZW50ICYmIChmb3JtYXR0ZWRTbmlwcGV0VGV4dEVsZW1lbnQuaGFzQXR0cmlidXRlKCJoaWRkZW4iKSB8fCAoMCA9PT0gdGhpcy5zb3VyY2VDb250ZW50cy5kZXNjcmlwdGlvbkZvcm1hdHRlZFNuaXBwZXQubGVuZ3RoICYmIHRoaXMuX3JlY29yZEZvcm1hdHRlZFNuaXBwZXRUZXh0U291cmNlQ29udGVudChmb3JtYXR0ZWRTbmlwcGV0VGV4dEVsZW1lbnQpLCAKICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRlZCA/IHRoaXMuX3VwZGF0ZUZvcm1hdHRlZFNuaXBwZXRUZXh0KGZvcm1hdHRlZFNuaXBwZXRUZXh0RWxlbWVudCkgOiB0aGlzLl9yb2xsYmFja0Zvcm1hdHRlZFNuaXBwZXRUZXh0KGZvcm1hdHRlZFNuaXBwZXRUZXh0RWxlbWVudCkpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX3JlY29yZFBsYWluU25pcHBldFRleHRTb3VyY2VDb250ZW50IiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKHBsYWluU25pcHBldFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB3YWxrVHJlZVJlY29yZChwbGFpblNuaXBwZXRUZXh0RWxlbWVudCwgdGhpcy5zb3VyY2VDb250ZW50cy5kZXNjcmlwdGlvblBsYW50VGV4dFNuaXBwZXQpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfcm9sbGJhY2tQbGFpblNuaXBwZXRUZXh0IiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKHBsYWluU25pcHBldFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VEZXNjcmlwdGlvblBsYWluVGV4dFNuaXBwZXRTdGF0ZSghMSwgcGxhaW5TbmlwcGV0VGV4dEVsZW1lbnQpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfdXBkYXRlUGxhaW5TbmlwcGV0VGV4dCIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihwbGFpblNuaXBwZXRUZXh0RWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2xhdGVkQ29udGVudHMuZGVzY3JpcHRpb25QbGFudFRleHRTbmlwcGV0Lmxlbmd0aCA+IDApIHRoaXMuX2NoYW5nZURlc2NyaXB0aW9uUGxhaW5UZXh0U25pcHBldFN0YXRlKCEwLCBwbGFpblNuaXBwZXRUZXh0RWxlbWVudCk7IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeVRleHQgPSBwYXJzZVF1ZXJ5VGV4dCh0aGlzLnNvdXJjZUNvbnRlbnRzLmRlc2NyaXB0aW9uUGxhbnRUZXh0U25pcHBldCksIGdvb2dsZUFwaSA9IGFwaXMuZ29vZ2xlLCBxdWVyeSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcXVlcnlUZXh0LAogICAgICAgICAgICAgICAgICAgICAgICB0bzogZ29vZ2xlQXBpLmxhbmd1YWdlKHRoaXMubGFuZykKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGdvb2dsZUFwaS5hcGkudHJhbnNsYXRlKHF1ZXJ5KS50aGVuKChmdW5jdGlvbihyYXdSZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdvb2dsZUFwaS5hcGkudHJhbnNmb3JtKHF1ZXJ5LCByYXdSZXN1bHQpOwogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVzdWx0ICYmIChfdGhpczMudHJhbnNsYXRlZENvbnRlbnRzLmRlc2NyaXB0aW9uUGxhbnRUZXh0U25pcHBldCA9IHJlc3VsdC5yZXN1bHQsIAogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuX2NoYW5nZURlc2NyaXB0aW9uUGxhaW5UZXh0U25pcHBldFN0YXRlKCEwLCBwbGFpblNuaXBwZXRUZXh0RWxlbWVudCkpOwogICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX2NoYW5nZURlc2NyaXB0aW9uUGxhaW5UZXh0U25pcHBldFN0YXRlIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGlzVHJhbnNsYXRlZCwgcGxhaW5TbmlwcGV0VGV4dEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGlzVHJhbnNsYXRlZCA/IHdhbGtUcmVlVHJhbnNsYWlvblJlY292ZXIocGxhaW5TbmlwcGV0VGV4dEVsZW1lbnQsIHRoaXMuc291cmNlQ29udGVudHMuZGVzY3JpcHRpb25QbGFudFRleHRTbmlwcGV0LCB0aGlzLnRyYW5zbGF0ZWRDb250ZW50cy5kZXNjcmlwdGlvblBsYW50VGV4dFNuaXBwZXQpIDogd2Fsa1RyZWVTb3VyY2VSZWNvdmVyKHBsYWluU25pcHBldFRleHRFbGVtZW50LCB0aGlzLnNvdXJjZUNvbnRlbnRzLmRlc2NyaXB0aW9uUGxhbnRUZXh0U25pcHBldCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl9yZWNvcmRGb3JtYXR0ZWRTbmlwcGV0VGV4dFNvdXJjZUNvbnRlbnQiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZm9ybWF0dGVkU25pcHBldFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB3YWxrVHJlZVJlY29yZChmb3JtYXR0ZWRTbmlwcGV0VGV4dEVsZW1lbnQsIHRoaXMuc291cmNlQ29udGVudHMuZGVzY3JpcHRpb25Gb3JtYXR0ZWRTbmlwcGV0KTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX3JvbGxiYWNrRm9ybWF0dGVkU25pcHBldFRleHQiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZm9ybWF0dGVkU25pcHBldFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VEZXNjcmlwdGlvbkZvcm1hdHRlZFNuaXBwZXRTdGF0ZSghMSwgZm9ybWF0dGVkU25pcHBldFRleHRFbGVtZW50KTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX3VwZGF0ZUZvcm1hdHRlZFNuaXBwZXRUZXh0IiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGZvcm1hdHRlZFNuaXBwZXRUZXh0RWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2xhdGVkQ29udGVudHMuZGVzY3JpcHRpb25Gb3JtYXR0ZWRTbmlwcGV0Lmxlbmd0aCA+IDApIHRoaXMuX2NoYW5nZURlc2NyaXB0aW9uRm9ybWF0dGVkU25pcHBldFN0YXRlKCEwLCBmb3JtYXR0ZWRTbmlwcGV0VGV4dEVsZW1lbnQpOyBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnlUZXh0ID0gcGFyc2VRdWVyeVRleHQodGhpcy5zb3VyY2VDb250ZW50cy5kZXNjcmlwdGlvbkZvcm1hdHRlZFNuaXBwZXQpLCBnb29nbGVBcGkgPSBhcGlzLmdvb2dsZSwgcXVlcnkgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHF1ZXJ5VGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgdG86IGdvb2dsZUFwaS5sYW5ndWFnZSh0aGlzLmxhbmcpCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBnb29nbGVBcGkuYXBpLnRyYW5zbGF0ZShxdWVyeSkudGhlbigoZnVuY3Rpb24ocmF3UmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnb29nbGVBcGkuYXBpLnRyYW5zZm9ybShxdWVyeSwgcmF3UmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlc3VsdCAmJiAoX3RoaXM0LnRyYW5zbGF0ZWRDb250ZW50cy5kZXNjcmlwdGlvbkZvcm1hdHRlZFNuaXBwZXQgPSByZXN1bHQucmVzdWx0LCAKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0Ll9jaGFuZ2VEZXNjcmlwdGlvbkZvcm1hdHRlZFNuaXBwZXRTdGF0ZSghMCwgZm9ybWF0dGVkU25pcHBldFRleHRFbGVtZW50KSk7CiAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfY2hhbmdlRGVzY3JpcHRpb25Gb3JtYXR0ZWRTbmlwcGV0U3RhdGUiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oaXNUcmFuc2xhdGVkLCBmb3JtYXR0ZWRTbmlwcGV0VGV4dEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGlzVHJhbnNsYXRlZCA/IHdhbGtUcmVlVHJhbnNsYWlvblJlY292ZXIoZm9ybWF0dGVkU25pcHBldFRleHRFbGVtZW50LCB0aGlzLnNvdXJjZUNvbnRlbnRzLmRlc2NyaXB0aW9uRm9ybWF0dGVkU25pcHBldCwgdGhpcy50cmFuc2xhdGVkQ29udGVudHMuZGVzY3JpcHRpb25Gb3JtYXR0ZWRTbmlwcGV0KSA6IHdhbGtUcmVlU291cmNlUmVjb3Zlcihmb3JtYXR0ZWRTbmlwcGV0VGV4dEVsZW1lbnQsIHRoaXMuc291cmNlQ29udGVudHMuZGVzY3JpcHRpb25Gb3JtYXR0ZWRTbmlwcGV0KTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX3JlY29yZEZ1bGxUZXh0U291cmNlQ29udGVudCIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihmdWxsVGV4dEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHdhbGtUcmVlUmVjb3JkKGZ1bGxUZXh0RWxlbWVudCwgdGhpcy5zb3VyY2VDb250ZW50cy5kZXNjcmlwdGlvbkZ1bGxUZXh0KTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX3JvbGxiYWNrRnVsbFRleHQiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZnVsbFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VEZXNjcmlwdGlvbkZ1bGxUZXh0U3RhdGUoITEsIGZ1bGxUZXh0RWxlbWVudCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl91cGRhdGVGdWxsVGV4dCIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihmdWxsVGV4dEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNsYXRlZENvbnRlbnRzLmRlc2NyaXB0aW9uRnVsbFRleHQubGVuZ3RoID4gMCkgdGhpcy5fY2hhbmdlRGVzY3JpcHRpb25GdWxsVGV4dFN0YXRlKCEwLCBmdWxsVGV4dEVsZW1lbnQpOyBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnlUZXh0ID0gcGFyc2VRdWVyeVRleHQodGhpcy5zb3VyY2VDb250ZW50cy5kZXNjcmlwdGlvbkZ1bGxUZXh0KSwgZ29vZ2xlQXBpID0gYXBpcy5nb29nbGUsIHF1ZXJ5ID0gewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBxdWVyeVRleHQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiBnb29nbGVBcGkubGFuZ3VhZ2UodGhpcy5sYW5nKQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlQXBpLmFwaS50cmFuc2xhdGUocXVlcnkpLnRoZW4oKGZ1bmN0aW9uKHJhd1Jlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZ29vZ2xlQXBpLmFwaS50cmFuc2Zvcm0ocXVlcnksIHJhd1Jlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZXN1bHQgJiYgKF90aGlzNS50cmFuc2xhdGVkQ29udGVudHMuZGVzY3JpcHRpb25GdWxsVGV4dCA9IHJlc3VsdC5yZXN1bHQsIAogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuX2NoYW5nZURlc2NyaXB0aW9uRnVsbFRleHRTdGF0ZSghMCwgZnVsbFRleHRFbGVtZW50KSk7CiAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfY2hhbmdlRGVzY3JpcHRpb25GdWxsVGV4dFN0YXRlIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGlzVHJhbnNsYXRlZCwgZnVsbFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBpc1RyYW5zbGF0ZWQgPyB3YWxrVHJlZVRyYW5zbGFpb25SZWNvdmVyKGZ1bGxUZXh0RWxlbWVudCwgdGhpcy5zb3VyY2VDb250ZW50cy5kZXNjcmlwdGlvbkZ1bGxUZXh0LCB0aGlzLnRyYW5zbGF0ZWRDb250ZW50cy5kZXNjcmlwdGlvbkZ1bGxUZXh0KSA6IHdhbGtUcmVlU291cmNlUmVjb3ZlcihmdWxsVGV4dEVsZW1lbnQsIHRoaXMuc291cmNlQ29udGVudHMuZGVzY3JpcHRpb25GdWxsVGV4dCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl9hZGRNb3VzZWRvd25MaXN0ZW5lciIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihidG4pIHsKICAgICAgICAgICAgICAgIHZhciBfdGhpczYgPSB0aGlzLCBidXR0b25Jbm5lciA9IGJ0bi5xdWVyeVNlbGVjdG9yKCJidXR0b24iKTsKICAgICAgICAgICAgICAgIG51bGwgPT0gYnV0dG9uSW5uZXIgfHwgYnV0dG9uSW5uZXIuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNi5kYXJrTW9kZSA/IGJ1dHRvbklubmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjNTM1MzUzIiA6IGJ1dHRvbklubmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjY2VjZWNlIjsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX2FkZE1vdXNldXBMaXN0ZW5lciIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihidG4pIHsKICAgICAgICAgICAgICAgIHZhciBidXR0b25Jbm5lciA9IGJ0bi5xdWVyeVNlbGVjdG9yKCJidXR0b24iKTsKICAgICAgICAgICAgICAgIG51bGwgPT0gYnV0dG9uSW5uZXIgfHwgYnV0dG9uSW5uZXIuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBidXR0b25Jbm5lci5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgiYmFja2dyb3VuZC1jb2xvciIpOwogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfdXBkYXRlVGl0bGUiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24odGl0bGVTdHJpbmdFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVHJhbnNsYXRlZCA9ICEwLCB0aGlzLl9jaGFuZ2VCdG5OYW1lKHRoaXMuYnRuLCB0aGlzLmJ0bk9yaWdpbmFsTmFtZSksIAogICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVkQ29udGVudHMudGl0bGUubGVuZ3RoID4gMCkgdGhpcy5fY2hhbmdlVGl0bGVTdGF0ZSghMCwgdGl0bGVTdHJpbmdFbGVtZW50KTsgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5VGV4dCA9IHRoaXMuc291cmNlQ29udGVudHMudGl0bGUuZmlsdGVyKChmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiSU1HIiAhPT0gaXRlbVswXTsKICAgICAgICAgICAgICAgICAgICB9KSkubWFwKChmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtWzFdOwogICAgICAgICAgICAgICAgICAgIH0pKS5qb2luKCJcbiIpLCBnb29nbGVBcGkgPSBhcGlzLmdvb2dsZSwgcXVlcnkgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHF1ZXJ5VGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgdG86IGdvb2dsZUFwaS5sYW5ndWFnZSh0aGlzLmxhbmcpCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBnb29nbGVBcGkuYXBpLnRyYW5zbGF0ZShxdWVyeSkudGhlbigoZnVuY3Rpb24ocmF3UmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnb29nbGVBcGkuYXBpLnRyYW5zZm9ybShxdWVyeSwgcmF3UmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlc3VsdCAmJiAoX3RoaXM3LnRyYW5zbGF0ZWRDb250ZW50cy50aXRsZSA9IHJlc3VsdC5yZXN1bHQsIF90aGlzNy5fY2hhbmdlVGl0bGVTdGF0ZSghMCwgdGl0bGVTdHJpbmdFbGVtZW50KSk7CiAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfcm9sbGJhY2tUaXRsZSIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbih0aXRsZVN0cmluZ0VsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMuaXNUcmFuc2xhdGVkID0gITEsIHRoaXMuX2NoYW5nZUJ0bk5hbWUodGhpcy5idG4sIHRoaXMuYnRuVHJhbnNsYXRlTmFtZSksIHRoaXMuX2NoYW5nZVRpdGxlU3RhdGUoITEsIHRpdGxlU3RyaW5nRWxlbWVudCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl9jaGFuZ2VUaXRsZVN0YXRlIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGlzVHJhbnNsYXRlZCwgdGl0bGVTdHJpbmdFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBfcmVwbGFjZUNvbnRlbnQodGl0bGVTdHJpbmdFbGVtZW50LCBpc1RyYW5zbGF0ZWQgPyB0aGlzLnRyYW5zbGF0ZWRDb250ZW50cy50aXRsZSA6IHRoaXMuc291cmNlQ29udGVudHMudGl0bGUpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfY2hhbmdlQnRuTmFtZSIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihidG4sIG5hbWUpIHsKICAgICAgICAgICAgICAgIHZhciBzcGFuID0gYnRuLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiA+IHNwYW4iKTsKICAgICAgICAgICAgICAgIHNwYW4gJiYgKHNwYW4uaW5uZXJUZXh0ID0gbmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl9yZWNvcmRUaXRsZVNvdXJjZUNvbnRlbnQiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24odGl0bGVTdHJpbmdFbGVtZW50KSB7CiAgICAgICAgICAgICAgICB0aXRsZVN0cmluZ0VsZW1lbnQudGV4dENvbnRlbnQgJiYgX3JlY29yZFNvdXJjZUNvbnRlbnQodGl0bGVTdHJpbmdFbGVtZW50LCB0aGlzLnNvdXJjZUNvbnRlbnRzLnRpdGxlKTsKICAgICAgICAgICAgfQogICAgICAgIH0gXSksIFRvcExldmVsVHJhbnNsYXRlQnRuMjsKICAgIH0oKSwgVHJhbnNsYXRlQnRuID0gIGZ1bmN0aW9uKCkgewogICAgICAgIGZ1bmN0aW9uIFRyYW5zbGF0ZUJ0bjIoYnRuTmFtZXMsIGxhbmcyLCBkYXJrTW9kZTIpIHsKICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zbGF0ZUJ0bjIpLCBfZGVmaW5lUHJvcGVydHkodGhpcywgImlkIiwgdm9pZCAwKSwgX2RlZmluZVByb3BlcnR5KHRoaXMsICJsYW5nIiwgdm9pZCAwKSwgCiAgICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZGFya01vZGUiLCB2b2lkIDApLCBfZGVmaW5lUHJvcGVydHkodGhpcywgImJ0biIsIHZvaWQgMCksIAogICAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImJ0blRyYW5zbGF0ZU5hbWUiLCB2b2lkIDApLCBfZGVmaW5lUHJvcGVydHkodGhpcywgImJ0bk9yaWdpbmFsTmFtZSIsIHZvaWQgMCksIAogICAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInNvdXJjZUNvbnRlbnRzIiwgdm9pZCAwKSwgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ0cmFuc2xhdGVkQ29udGVudHMiLCB2b2lkIDApLCAKICAgICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJpc1RyYW5zbGF0ZWQiLCB2b2lkIDApLCB0aGlzLmlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygpLCAKICAgICAgICAgICAgdGhpcy5sYW5nID0gbGFuZzIsIHRoaXMuZGFya01vZGUgPSBkYXJrTW9kZTIsIHRoaXMuYnRuVHJhbnNsYXRlTmFtZSA9IGJ0bk5hbWVzWzBdLCAKICAgICAgICAgICAgdGhpcy5idG5PcmlnaW5hbE5hbWUgPSBidG5OYW1lc1sxXSwgdGhpcy5zb3VyY2VDb250ZW50cyA9IFtdLCB0aGlzLnRyYW5zbGF0ZWRDb250ZW50cyA9IFtdLCAKICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0ZWQgPSAhMSwgdGhpcy5idG4gPSB0aGlzLl9jcmVhdGVCdG4oKSwgdGhpcy5fYWRkQ2xpY2tMaXN0ZW5lcih0aGlzLmJ0biksIAogICAgICAgICAgICB0aGlzLl9hZGRNb3VzZWRvd25MaXN0ZW5lcih0aGlzLmJ0biksIHRoaXMuX2FkZE1vdXNldXBMaXN0ZW5lcih0aGlzLmJ0bik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBfY3JlYXRlQ2xhc3MoVHJhbnNsYXRlQnRuMiwgWyB7CiAgICAgICAgICAgIGtleTogImdldEJ0biIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ0bjsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX2NyZWF0ZUJ0biIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoIm5hbWUiLCAidHJhbnNsYXRlX2J0biIpOwogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuYnRuVHJhbnNsYXRlTmFtZSwgYnV0dG9uLmNsYXNzTmFtZSA9ICJ5dC1zcGVjLWJ1dHRvbi1zaGFwZS1uZXh0IHl0LXNwZWMtYnV0dG9uLXNoYXBlLW5leHQtLXRleHQgeXQtc3BlYy1idXR0b24tc2hhcGUtbmV4dC0tbW9ubyB5dC1zcGVjLWJ1dHRvbi1zaGFwZS1uZXh0LS1zaXplLXMiLCAKICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChidXR0b24pLCBkaXY7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl9jaGFuZ2VCdG5OYW1lIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGJ0biwgbmFtZSkgewogICAgICAgICAgICAgICAgYnRuLmZpcnN0Q2hpbGQgJiYgKGJ0bi5maXJzdENoaWxkLnRleHRDb250ZW50ID0gbmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl9jaGFuZ2VTdGF0ZSIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihpc1RyYW5zbGF0ZWQsIGNvbnRlbnRUZXh0RWxlbWVudCkgewogICAgICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0ZWQgPSBpc1RyYW5zbGF0ZWQsIGlzVHJhbnNsYXRlZCA/IChfcmVwbGFjZUNvbnRlbnQoY29udGVudFRleHRFbGVtZW50LCB0aGlzLnRyYW5zbGF0ZWRDb250ZW50cyksIAogICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlQnRuTmFtZSh0aGlzLmJ0biwgdGhpcy5idG5PcmlnaW5hbE5hbWUpKSA6IChfcmVwbGFjZUNvbnRlbnQoY29udGVudFRleHRFbGVtZW50LCB0aGlzLnNvdXJjZUNvbnRlbnRzKSwgCiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VCdG5OYW1lKHRoaXMuYnRuLCB0aGlzLmJ0blRyYW5zbGF0ZU5hbWUpKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAga2V5OiAiX3JlY29yZFNvdXJjZVRleHQiLAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oY29udGVudFRleHRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBfcmVjb3JkU291cmNlQ29udGVudChjb250ZW50VGV4dEVsZW1lbnQsIHRoaXMuc291cmNlQ29udGVudHMpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfdXBkYXRlIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGNvbnRlbnRUZXh0RWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2xhdGVkQ29udGVudHMubGVuZ3RoID4gMCkgdGhpcy5fY2hhbmdlU3RhdGUoITAsIGNvbnRlbnRUZXh0RWxlbWVudCk7IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeVRleHQgPSB0aGlzLnNvdXJjZUNvbnRlbnRzLmZpbHRlcigoZnVuY3Rpb24oaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIklNRyIgIT09IGl0ZW1bMF07CiAgICAgICAgICAgICAgICAgICAgfSkpLm1hcCgoZnVuY3Rpb24oaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbVsxXTsKICAgICAgICAgICAgICAgICAgICB9KSkuam9pbigiXG4iKSwgZ29vZ2xlQXBpID0gYXBpcy5nb29nbGUsIHF1ZXJ5ID0gewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBxdWVyeVRleHQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiBnb29nbGVBcGkubGFuZ3VhZ2UodGhpcy5sYW5nKQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlQXBpLmFwaS50cmFuc2xhdGUocXVlcnkpLnRoZW4oKGZ1bmN0aW9uKHJhd1Jlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZ29vZ2xlQXBpLmFwaS50cmFuc2Zvcm0ocXVlcnksIHJhd1Jlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZXN1bHQgJiYgKF90aGlzOC50cmFuc2xhdGVkQ29udGVudHMgPSByZXN1bHQucmVzdWx0LCBfdGhpczguX2NoYW5nZVN0YXRlKCEwLCBjb250ZW50VGV4dEVsZW1lbnQpKTsKICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl9yb2xsYmFjayIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihjb250ZW50VGV4dEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZVN0YXRlKCExLCBjb250ZW50VGV4dEVsZW1lbnQpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfYWRkQ2xpY2tMaXN0ZW5lciIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihidG4pIHsKICAgICAgICAgICAgICAgIHZhciBfdGhpczkgPSB0aGlzLCBidXR0b25Jbm5lciA9IGJ0bi5xdWVyeVNlbGVjdG9yKCJidXR0b24iKTsKICAgICAgICAgICAgICAgIG51bGwgPT0gYnV0dG9uSW5uZXIgfHwgYnV0dG9uSW5uZXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbWFpbkVsZW1lbnQgPSBmaW5kUGFyZW50QnlJZChldmVudC50YXJnZXQsICJtYWluIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1haW5FbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50VGV4dEVsZW1lbnQgPSBtYWluRWxlbWVudC5xdWVyeVNlbGVjdG9yKCIjY29udGVudC10ZXh0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUZXh0RWxlbWVudCAmJiAoMCA9PT0gX3RoaXM5LnNvdXJjZUNvbnRlbnRzLmxlbmd0aCAmJiBfdGhpczkuX3JlY29yZFNvdXJjZVRleHQoY29udGVudFRleHRFbGVtZW50KSwgCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5pc1RyYW5zbGF0ZWQgPyBfdGhpczkuX3JvbGxiYWNrKGNvbnRlbnRUZXh0RWxlbWVudCkgOiBfdGhpczkuX3VwZGF0ZShjb250ZW50VGV4dEVsZW1lbnQpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogIl9hZGRNb3VzZWRvd25MaXN0ZW5lciIsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihidG4pIHsKICAgICAgICAgICAgICAgIHZhciBfdGhpczEwID0gdGhpcywgYnV0dG9uSW5uZXIgPSBidG4ucXVlcnlTZWxlY3RvcigiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBudWxsID09IGJ1dHRvbklubmVyIHx8IGJ1dHRvbklubmVyLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmRhcmtNb2RlID8gYnV0dG9uSW5uZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiM1MzUzNTMiIDogYnV0dG9uSW5uZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNjZWNlY2UiOwogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBrZXk6ICJfYWRkTW91c2V1cExpc3RlbmVyIiwKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGJ0bikgewogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbklubmVyID0gYnRuLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiIpOwogICAgICAgICAgICAgICAgbnVsbCA9PSBidXR0b25Jbm5lciB8fCBidXR0b25Jbm5lci5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIiwgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGJ1dHRvbklubmVyLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IF0pLCBUcmFuc2xhdGVCdG4yOwogICAgfSgpLCBmaW5kUGFyZW50QnlJZCA9IGZ1bmN0aW9uIGZpbmRQYXJlbnRCeUlkMih0YXJnZXQsIGlkKSB7CiAgICAgICAgcmV0dXJuIHRhcmdldCA/IHRhcmdldC5pZCA9PT0gaWQgPyB0YXJnZXQgOiB0YXJnZXQucGFyZW50Tm9kZSA/IGZpbmRQYXJlbnRCeUlkMih0YXJnZXQucGFyZW50Tm9kZSwgaWQpIDogbnVsbCA6IG51bGw7CiAgICB9LCB3YWxrVHJlZVJlY29yZCA9IGZ1bmN0aW9uIHdhbGtUcmVlUmVjb3JkMih0YXJnZXQsIHJlY29yZGVyKSB7CiAgICAgICAgdmFyIG5hbWUgPSB0YXJnZXQubm9kZU5hbWUsIHZhbHVlID0gdGFyZ2V0Lm5vZGVWYWx1ZTsKICAgICAgICB2YWx1ZSAmJiAtMSAhPT0gdmFsdWUuaW5kZXhPZigiXG4iKSA/IHJlY29yZGVyLnB1c2goWyBuYW1lLCB2YWx1ZS5zcGxpdCgiXG4iKSBdKSA6IHJlY29yZGVyLnB1c2goWyBuYW1lLCB2YWx1ZSBdKTsKICAgICAgICB2YXIgY2hpbGROb2RlcyA9IHRhcmdldC5jaGlsZE5vZGVzOwogICAgICAgIGlmICgwICE9PSBjaGlsZE5vZGVzLmxlbmd0aCkgewogICAgICAgICAgICB2YXIgX3N0ZXAzLCBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2hpbGROb2Rlcyk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOyApIHsKICAgICAgICAgICAgICAgICAgICB3YWxrVHJlZVJlY29yZDIoX3N0ZXAzLnZhbHVlLCByZWNvcmRlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sIHdhbGtUcmVlU291cmNlUmVjb3ZlciA9IGZ1bmN0aW9uKHRhcmdldCwgY29udGVudFByb3ZpZGVyKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gMDsKICAgICAgICAhZnVuY3Rpb24gaW5uZXJGbih0YXJnZXQyLCBjb250ZW50UHJvdmlkZXIyKSB7CiAgICAgICAgICAgIHZhciBfY29udGVudFByb3ZpZGVyMiRzdGEgPSBfc2xpY2VkVG9BcnJheShjb250ZW50UHJvdmlkZXIyW3N0YXJ0KytdLCAyKTsKICAgICAgICAgICAgX2NvbnRlbnRQcm92aWRlcjIkc3RhWzBdOwogICAgICAgICAgICB2YXIgdmFsdWUgPSBfY29udGVudFByb3ZpZGVyMiRzdGFbMV07CiAgICAgICAgICAgIHZhbHVlICYmICh0YXJnZXQyLm5vZGVWYWx1ZSA9ICJzdHJpbmciID09IHR5cGVvZiB2YWx1ZSA/IHZhbHVlIDogdmFsdWUuam9pbigiXG4iKSk7CiAgICAgICAgICAgIHZhciBjaGlsZE5vZGVzID0gdGFyZ2V0Mi5jaGlsZE5vZGVzOwogICAgICAgICAgICBpZiAoMCAhPT0gY2hpbGROb2Rlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHZhciBfc3RlcDQsIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjaGlsZE5vZGVzKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTsgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyRm4oX3N0ZXA0LnZhbHVlLCBjb250ZW50UHJvdmlkZXIyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KHRhcmdldCwgY29udGVudFByb3ZpZGVyKTsKICAgIH0sIHdhbGtUcmVlVHJhbnNsYWlvblJlY292ZXIgPSBmdW5jdGlvbih0YXJnZXQsIGRpY3RDb250ZW50LCBjb250ZW50UHJvdmlkZXIpIHsKICAgICAgICB2YXIgZGljdFN0YXJ0ID0gMCwgc3RhcnQgPSAwOwogICAgICAgICFmdW5jdGlvbiBpbm5lckZuKHRhcmdldDIsIGRpY3RDb250ZW50MiwgY29udGVudFByb3ZpZGVyMikgewogICAgICAgICAgICB2YXIgX2RpY3RDb250ZW50MiRkaWN0U3RhID0gX3NsaWNlZFRvQXJyYXkoZGljdENvbnRlbnQyW2RpY3RTdGFydF0sIDIpOwogICAgICAgICAgICBfZGljdENvbnRlbnQyJGRpY3RTdGFbMF07CiAgICAgICAgICAgIHZhciBkaWN0VmFsdWUgPSBfZGljdENvbnRlbnQyJGRpY3RTdGFbMV07CiAgICAgICAgICAgIGlmIChkaWN0VmFsdWUpIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgZGljdFZhbHVlKSBkaWN0VmFsdWUudHJpbSgpICYmICh0YXJnZXQyLm5vZGVWYWx1ZSA9IGNvbnRlbnRQcm92aWRlcjJbc3RhcnQrK10pOyBlbHNlIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSAiIiwgaSA9IDA7IGkgPCBkaWN0VmFsdWUubGVuZ3RoOyBpKyspIHMgKz0gY29udGVudFByb3ZpZGVyMltzdGFydCsrXSB8fCAiIiwgCiAgICAgICAgICAgICAgICBpIDwgZGljdFZhbHVlLmxlbmd0aCAtIDEgJiYgKHMgKz0gIlxuIik7CiAgICAgICAgICAgICAgICB0YXJnZXQyLm5vZGVWYWx1ZSA9IHM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGljdFN0YXJ0Kys7CiAgICAgICAgICAgIHZhciBjaGlsZE5vZGVzID0gdGFyZ2V0Mi5jaGlsZE5vZGVzOwogICAgICAgICAgICBpZiAoMCAhPT0gY2hpbGROb2Rlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHZhciBfc3RlcDUsIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjaGlsZE5vZGVzKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTsgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyRm4oX3N0ZXA1LnZhbHVlLCBkaWN0Q29udGVudDIsIGNvbnRlbnRQcm92aWRlcjIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0odGFyZ2V0LCBkaWN0Q29udGVudCwgY29udGVudFByb3ZpZGVyKTsKICAgIH0sIHBhcnNlUXVlcnlUZXh0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHJldHVybiB0ZXh0Lm1hcCgoZnVuY3Rpb24oaXRlbSkgewogICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW1bMF0sIHZhbHVlID0gaXRlbVsxXTsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gInN0cmluZyIgPT0gdHlwZW9mIHZhbHVlID8gWyBuYW1lLCB2YWx1ZSBdIDogWyBuYW1lLCB2YWx1ZS5qb2luKCJcbiIpIF0gOiBbIG5hbWUsIHZhbHVlIF07CiAgICAgICAgfSkpLmZpbHRlcigoZnVuY3Rpb24oaXRlbSkgewogICAgICAgICAgICByZXR1cm4gIklNRyIgIT09IGl0ZW1bMF07CiAgICAgICAgfSkpLmZpbHRlcigoZnVuY3Rpb24oaXRlbSkgewogICAgICAgICAgICByZXR1cm4gbnVsbCAhPT0gaXRlbVsxXTsKICAgICAgICB9KSkuZmlsdGVyKChmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgICAgIHZhciBfaXRlbSQ7CiAgICAgICAgICAgIHJldHVybiBpdGVtWzFdICYmIC9cbisvLnRlc3QoaXRlbVsxXSkgfHwgIiIgIT09IChudWxsID09PSAoX2l0ZW0kID0gaXRlbVsxXSkgfHwgdm9pZCAwID09PSBfaXRlbSQgPyB2b2lkIDAgOiBfaXRlbSQudHJpbSgpKTsKICAgICAgICB9KSkubWFwKChmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtWzFdOwogICAgICAgIH0pKS5qb2luKCJcbiIpOwogICAgfSwgcmVwbGFjZUJ1dHRvbiA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgICAgICB2YXIgbWFpbkVsZW1lbnQgPSBmaW5kUGFyZW50QnlJZChub2RlLCAibWFpbiIpOwogICAgICAgIGlmIChtYWluRWxlbWVudCkgewogICAgICAgICAgICB2YXIgdG9vbGJhciA9IG1haW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0b29sYmFyIik7CiAgICAgICAgICAgIGlmICh0b29sYmFyKSB7CiAgICAgICAgICAgICAgICB2YXIgYnRuID0gdG9vbGJhci5xdWVyeVNlbGVjdG9yKCdkaXZbbmFtZT0idHJhbnNsYXRlX2J0biJdJyk7CiAgICAgICAgICAgICAgICBidG4gJiYgdG9vbGJhci5yZW1vdmVDaGlsZChidG4pLCBidG4gPSBuZXcgVHJhbnNsYXRlQnRuKGdldEJ0bk5hbWVzKCksIGxhbmcsIGRhcmtNb2RlKS5nZXRCdG4oKSwgCiAgICAgICAgICAgICAgICB0b29sYmFyLmFwcGVuZENoaWxkKGJ0bik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LCBjb250ZW50VGV4dE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgIHZhciBfc3RlcCwgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobXV0YXRpb25zKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOyApIHsKICAgICAgICAgICAgICAgIHZhciBfc3RlcDIsIG11dGF0aW9uID0gX3N0ZXAudmFsdWUsIHBhcmVudCA9IHZvaWQgMCwgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG11dGF0aW9uLmFkZGVkTm9kZXMpOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZSAmJiAobm9kZS5wYXJlbnROb2RlICE9PSBwYXJlbnQgJiYgKHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSwgcmVwbGFjZUJ1dHRvbihwYXJlbnQpKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICB9KSksIGNvbnRlbnRzT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24obXV0YXRpb25zKSB7CiAgICAgICAgdmFyIF9zdGVwMywgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG11dGF0aW9ucyk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTsgKSB7CiAgICAgICAgICAgICAgICB2YXIgX3N0ZXA0LCBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3N0ZXAzLnZhbHVlLmFkZGVkTm9kZXMpOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvb2xiYXIgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIiN0b29sYmFyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9vbGJhcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidG4gPSB0b29sYmFyLnF1ZXJ5U2VsZWN0b3IoJ2RpdltuYW1lPSJ0cmFuc2xhdGVfYnRuIl0nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJ0bikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG4gPSBuZXcgVHJhbnNsYXRlQnRuKGdldEJ0bk5hbWVzKCksIGxhbmcsIGRhcmtNb2RlKS5nZXRCdG4oKSwgdG9vbGJhci5hcHBlbmRDaGlsZChidG4pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudFRleHQgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIiNjb250ZW50LXRleHQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VGV4dE9ic2VydmVyLm9ic2VydmUoY29udGVudFRleHQsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGxpZXMgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIiNyZXBsaWVzIiksIGNvbnRlbnRzID0gbnVsbCA9PSByZXBsaWVzID8gdm9pZCAwIDogcmVwbGllcy5xdWVyeVNlbGVjdG9yKCIjY29udGVudHMiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRzICYmIGNvbnRlbnRzT2JzZXJ2ZXIub2JzZXJ2ZShjb250ZW50cywgb3B0aW9ucyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgfQogICAgfSkpLCBjb21tZW50c09ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgIHZhciBfc3RlcDUsIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtdXRhdGlvbnMpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7ICkgewogICAgICAgICAgICAgICAgdmFyIF9zdGVwNiwgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF9zdGVwNS52YWx1ZS5hZGRlZE5vZGVzKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTsgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gX3N0ZXA2LnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50cyA9IG5vZGUucXVlcnlTZWxlY3RvcigiI2NvbnRlbnRzIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50cyAmJiBjb250ZW50c09ic2VydmVyLm9ic2VydmUoY29udGVudHMsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjYuZigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICAgIH0KICAgIH0pKSwgeXRkV2F0Y2hGbGV4eU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgIHZhciBfc3RlcDcsIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtdXRhdGlvbnMpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNy5zKCk7ICEoX3N0ZXA3ID0gX2l0ZXJhdG9yNy5uKCkpLmRvbmU7ICkgewogICAgICAgICAgICAgICAgdmFyIG11dGF0aW9uID0gX3N0ZXA3LnZhbHVlOwogICAgICAgICAgICAgICAgaWYgKCJ2aWRlby1pZCIgPT09IG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbXV0YXRpb24udGFyZ2V0OwogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aWQgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCJ2aWRlby1pZCIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlkICYmIHZpZCAhPT0gdmlkZW9JZCAmJiAodmlkZW9JZCA9IHZpZCwgIUdNX2dldFZhbHVlKHRpdGxlS2V5KSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3BMZXZlbEJ1dHRvbnMgPSB0YXJnZXQucXVlcnlTZWxlY3RvcigiI3RvcC1sZXZlbC1idXR0b25zLWNvbXB1dGVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRvcExldmVsQnV0dG9ucykgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BMZXZlbEJ0biAmJiB0b3BMZXZlbEJ0bi5jbGVhcigpLCB0b3BMZXZlbEJ0biA9IG5ldyBUb3BMZXZlbFRyYW5zbGF0ZUJ0bihnZXRCdG5OYW1lcygpLCBsYW5nLCBkYXJrTW9kZSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wTGV2ZWxCdXR0b25zLmFwcGVuZENoaWxkKHRvcExldmVsQnRuLmdldEJ0bigpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3I3LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3I3LmYoKTsKICAgICAgICB9CiAgICB9KSksIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgIHZhciBfc3RlcDgsIF9pdGVyYXRvcjggPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtdXRhdGlvbnMpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yOC5zKCk7ICEoX3N0ZXA4ID0gX2l0ZXJhdG9yOC5uKCkpLmRvbmU7ICkgewogICAgICAgICAgICAgICAgdmFyIG11dGF0aW9uID0gX3N0ZXA4LnZhbHVlLCB5dGRXYXRjaEZsZXh5ID0gbXV0YXRpb24udGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoInl0ZC13YXRjaC1mbGV4eSIpOwogICAgICAgICAgICAgICAgeXRkV2F0Y2hGbGV4eSAmJiB5dGRXYXRjaEZsZXh5T2JzZXJ2ZXIub2JzZXJ2ZSh5dGRXYXRjaEZsZXh5LCB7CiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogITAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdmFyIF9zdGVwOSwgX2l0ZXJhdG9yOSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG11dGF0aW9uLmFkZGVkTm9kZXMpOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjkucygpOyAhKF9zdGVwOSA9IF9pdGVyYXRvcjkubigpKS5kb25lOyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBfc3RlcDkudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRzID0gbm9kZS5xdWVyeVNlbGVjdG9yKCIjY29tbWVudHMiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzICYmIGNvbW1lbnRzT2JzZXJ2ZXIub2JzZXJ2ZShjb21tZW50cywgb3B0aW9ucyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I5LmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yOS5mKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yOC5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yOC5mKCk7CiAgICAgICAgfQogICAgfSkpLCBsYW5nID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgibGFuZyIpIHx8ICJ6aC1IYW5zLUNOIjsKICAgICFmdW5jdGlvbihsYW5nMikgewogICAgICAgIHZhciBnb29nbGVMYW5nID0gZ2V0R29vZ2xlTGFuZ3VhZ2VTdXBwb3J0KGxhbmcyKTsKICAgICAgICBpZiAoZ29vZ2xlTGFuZyBpbiBidG5OYW1lTWFwKSB7CiAgICAgICAgICAgIHZhciBfYnRuTmFtZU1hcCRnb29nbGVMYW4gPSBfc2xpY2VkVG9BcnJheShidG5OYW1lTWFwW2dvb2dsZUxhbmddLCAyKTsKICAgICAgICAgICAgcmV0dXJuIGJ0blRyYW5zbGF0ZU5hbWUgPSBfYnRuTmFtZU1hcCRnb29nbGVMYW5bMF0sIHZvaWQgKGJ0bk9yaWdpbmFsTmFtZSA9IF9idG5OYW1lTWFwJGdvb2dsZUxhblsxXSk7CiAgICAgICAgfQogICAgICAgIHZhciBnb29nbGVBcGkgPSBhcGlzLmdvb2dsZSwgcXVlcnkgPSB7CiAgICAgICAgICAgIHRleHQ6IGJ0blRyYW5zbGF0ZU5hbWUgKyAiXG4iICsgYnRuT3JpZ2luYWxOYW1lLAogICAgICAgICAgICB0bzogZ29vZ2xlQXBpLmxhbmd1YWdlKGxhbmcyKQogICAgICAgIH07CiAgICAgICAgZ29vZ2xlQXBpLmFwaS50cmFuc2xhdGUocXVlcnkpLnRoZW4oKGZ1bmN0aW9uKHJhdykgewogICAgICAgICAgICB2YXIgciA9IGdvb2dsZUFwaS5hcGkudHJhbnNmb3JtKHF1ZXJ5LCByYXcpOwogICAgICAgICAgICBpZiAoci5yZXN1bHQpIHsKICAgICAgICAgICAgICAgIHZhciBfciRyZXN1bHQgPSBfc2xpY2VkVG9BcnJheShyLnJlc3VsdCwgMik7CiAgICAgICAgICAgICAgICBidG5UcmFuc2xhdGVOYW1lID0gX3IkcmVzdWx0WzBdLCBidG5PcmlnaW5hbE5hbWUgPSBfciRyZXN1bHRbMV07CiAgICAgICAgICAgIH0KICAgICAgICB9KSk7CiAgICB9KGxhbmcpLCBmdW5jdGlvbihsYW5nMikgewogICAgICAgIGN1dHRlbnRMYW5nID0gbGFuZzIsIGZ1bmN0aW9uKGxhbmcyKSB7CiAgICAgICAgICAgIHZhciBnb29nbGVMYW5nID0gZ2V0R29vZ2xlTGFuZ3VhZ2VTdXBwb3J0KGxhbmcyKTsKICAgICAgICAgICAgaWYgKGdvb2dsZUxhbmcgaW4gdGl0bGVUcmFuc2xhdGlvbk1lbnVOYW1lTWFwKSB7CiAgICAgICAgICAgICAgICB2YXIgX3RpdGxlVHJhbnNsYXRpb25NZW51ID0gX3NsaWNlZFRvQXJyYXkodGl0bGVUcmFuc2xhdGlvbk1lbnVOYW1lTWFwW2dvb2dsZUxhbmddLCAyKTsKICAgICAgICAgICAgICAgIHRpdGxlVHJhbnNsYXRpb25UdXJuZWRPbiA9IF90aXRsZVRyYW5zbGF0aW9uTWVudVswXSwgdGl0bGVUcmFuc2xhdGlvblR1cm5lZE9mZiA9IF90aXRsZVRyYW5zbGF0aW9uTWVudVsxXTsKICAgICAgICAgICAgfQogICAgICAgIH0obGFuZzIpOwogICAgICAgIHZhciB0aXRsZVRyYW5zbGF0ZUNsb3NlZCA9IEdNX2dldFZhbHVlKHRpdGxlS2V5KTsKICAgICAgICB0aXRsZVRyYW5zbGF0ZUNsb3NlZCA/IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIvCfn6MgIiArIHRpdGxlVHJhbnNsYXRpb25UdXJuZWRPZmYsIHRvZ2dsZVRpdGxlVHJhbnNsYXRlKSA6IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIvCflLUgIiArIHRpdGxlVHJhbnNsYXRpb25UdXJuZWRPbiwgdG9nZ2xlVGl0bGVUcmFuc2xhdGUpLCAKICAgICAgICBmdW5jdGlvbihsYW5nMikgewogICAgICAgICAgICB2YXIgZ29vZ2xlTGFuZyA9IGdldEdvb2dsZUxhbmd1YWdlU3VwcG9ydChsYW5nMik7CiAgICAgICAgICAgIGlmIChnb29nbGVMYW5nIGluIGRlc2NyaXB0aW9uVHJhbnNsYXRpb25NZW51TmFtZU1hcCkgewogICAgICAgICAgICAgICAgdmFyIF9kZXNjcmlwdGlvblRyYW5zbGF0aSA9IF9zbGljZWRUb0FycmF5KGRlc2NyaXB0aW9uVHJhbnNsYXRpb25NZW51TmFtZU1hcFtnb29nbGVMYW5nXSwgMik7CiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvblRyYW5zbGF0aW9uVHVybmVkT24gPSBfZGVzY3JpcHRpb25UcmFuc2xhdGlbMF0sIGRlc2NyaXB0aW9uVHJhbnNsYXRpb25UdXJuZWRPZmYgPSBfZGVzY3JpcHRpb25UcmFuc2xhdGlbMV07CiAgICAgICAgICAgIH0KICAgICAgICB9KGxhbmcyKTsKICAgICAgICB2YXIgZGVzY3JpcHRpb25UcmFuc2xhdGVDbG9zZWQgPSBHTV9nZXRWYWx1ZShkZXNjcmlwdGlvbktleSk7CiAgICAgICAgdGl0bGVUcmFuc2xhdGVDbG9zZWQgfHwgZGVzY3JpcHRpb25UcmFuc2xhdGVDbG9zZWQgPyBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLwn5+jICIgKyBkZXNjcmlwdGlvblRyYW5zbGF0aW9uVHVybmVkT2ZmLCB0b2dnbGVEZXNjcmlwdGlvblRyYW5zbGF0ZSkgOiBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLwn5S1ICIgKyBkZXNjcmlwdGlvblRyYW5zbGF0aW9uVHVybmVkT24sIHRvZ2dsZURlc2NyaXB0aW9uVHJhbnNsYXRlKTsKICAgIH0obGFuZyk7CiAgICB2YXIgdG9wTGV2ZWxCdG4sIGRhcmtNb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgiZGFyayIpLCB2aWRlb0lkID0gIiIsIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3BhZ2UtbWFuYWdlciIpLCBvcHRpb25zID0gewogICAgICAgIGNoaWxkTGlzdDogITAKICAgIH07CiAgICBlbCAmJiBvYnNlcnZlci5vYnNlcnZlKGVsLCBvcHRpb25zKTsKfSgpOwo="},{"name":"Anti-Adblock Killer | Reek","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["*"],"orig_excludes":[],"orig_includes":["http://*/*","https://*/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671366792707,"data":{"nextchecklist":"s1671453192707","nextcheckupdate":"s1671614451932"}},"enabled":true,"position":8,"file_url":"https://raw.githubusercontent.com/reek/anti-adblock-killer/master/anti-adblock-killer.user.js","uuid":"87112a33-e253-41c7-9af6-c3ce8d2a3bd4","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgQW50aS1BZGJsb2NrIEtpbGxlciB8IFJlZWsKLy8gQG5hbWVzcGFjZSBodHRwczovL3VzZXJzY3JpcHRzLm9yZy9zY3JpcHRzL3Nob3cvMTU1ODQwCi8vIEBkZXNjcmlwdGlvbiBIZWxwcyB5b3Uga2VlcCB5b3VyIEFkLUJsb2NrZXIgYWN0aXZlLCB3aGVuIHlvdSB2aXNpdCBhIHdlYnNpdGUgYW5kIGl0IGFza3MgeW91IHRvIGRpc2FibGUuCi8vIEBhdXRob3IgUmVlayB8IHJlZWtzaXRlLmNvbQovLyBAdmVyc2lvbiAxMC4wCi8vIEBlbmNvZGluZyB1dGYtOAovLyBAbGljZW5zZSBodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvNC4wLwovLyBAaWNvbiBodHRwczovL3Jhdy5naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9tYXN0ZXIvYW50aS1hZGJsb2NrLWtpbGxlci1pY29uLnBuZwovLyBAaG9tZXBhZ2UgaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci8KLy8gQHR3aXR0ZXJVUkwgaHR0cHM6Ly90d2l0dGVyLmNvbS9hbnRpYWRia2lsbGVyCi8vIEBjb250YWN0VVJMIGh0dHBzOi8vcmVlay5naXRodWIuaW8vYW50aS1hZGJsb2NrLWtpbGxlci8jY29udGFjdAovLyBAc3VwcG9ydFVSTCBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3VlcwovLyBAY29udHJpYnV0aW9uVVJMIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIjZG9uYXRlCi8vIEB1cGRhdGVVUkwgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9tYXN0ZXIvYW50aS1hZGJsb2NrLWtpbGxlci51c2VyLmpzCi8vIEBkb3dubG9hZFVSTCBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL21hc3Rlci9hbnRpLWFkYmxvY2sta2lsbGVyLnVzZXIuanMKLy8gQGluY2x1ZGUgaHR0cDovLyovKgovLyBAaW5jbHVkZSBodHRwczovLyovKgovLyBAZ3JhbnQgdW5zYWZlV2luZG93Ci8vIEBncmFudCBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgR01fZ2V0VmFsdWUKLy8gQGdyYW50IEdNX3NldFZhbHVlCi8vIEBncmFudCBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgR01fZGVsZXRlVmFsdWUKLy8gQGdyYW50IEdNX2xpc3RWYWx1ZXMKLy8gQGdyYW50IEdNX2dldFJlc291cmNlVGV4dAovLyBAZ3JhbnQgR01fZ2V0UmVzb3VyY2VVUkwKLy8gQGdyYW50IEdNX2xvZwovLyBAZ3JhbnQgR01fb3BlbkluVGFiCi8vIEBncmFudCBHTV9zZXRDbGlwYm9hcmQKLy8gQGdyYW50IEdNX2luZm8KLy8gQGdyYW50IEdNX2dldE1ldGFkYXRhCi8vIEBydW4tYXQgZG9jdW1lbnQtc3RhcnQKLy8gQGNvbm5lY3QgKgovLyA9PS9Vc2VyU2NyaXB0PT0KLypqc2hpbnQgZXZpbDp0cnVlIG5ld2NhcDpmYWxzZSovCi8qZ2xvYmFsIHVuc2FmZVdpbmRvdywgR01fYWRkU3R5bGUsIEdNX2dldFZhbHVlLCBHTV9zZXRWYWx1ZSwgR01feG1saHR0cFJlcXVlc3QsIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQsIEdNX2RlbGV0ZVZhbHVlLCBHTV9saXN0VmFsdWVzLCBHTV9nZXRSZXNvdXJjZVRleHQsIEdNX2dldFJlc291cmNlVVJMLCBHTV9sb2csIEdNX29wZW5JblRhYiwgR01fc2V0Q2xpcGJvYXJkLCBHTV9pbmZvLCBHTV9nZXRNZXRhZGF0YSwgJCwgZG9jdW1lbnQsIGNvbnNvbGUsIGxvY2F0aW9uLCBzZXRJbnRlcnZhbCwgc2V0VGltZW91dCwgY2xlYXJJbnRlcnZhbCovCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICBUaGFua3MKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogIERvbm9yczogTS4gSG93YXJkLCBTaHVuam91LCBDaGFybWluZSwgS2llcmVrOTMsIEcuIEJhcm5hcmQsIEguIFlvdW5nLCBTZWluaG9yOSwgSW1HbG9kYXIsIEl2YW5vc2V2aXRjaCwgSG9tZURpcG8sIFIuIE1hcnRpbiwgRHJGaVosIFRpcHB5LCBCLiBSb2huZXIsIFAuIEtvemljYSwgTS4gUGF0ZWwsIFc0cmVsbCwgVHNjaGVja29mZiwgQWRCbG9jayBQb2xza2EsIEFWRU5JUiBJTlRFUk5FVCwgY29vbE5BTywgQmVuLCBKLiBQYXJrLCBDLiBZb3VuZywgSi4gQm91LCBNLiBDYW5vLCBKLiBKdW5nLCBBLiBTb25pbm8sIEouIExpdHRlbiwgTS4gU2NocnVtcGYsIEcuIFBlcGUsIEEuIFRydWZhbm92LCBSLiBQYWxtZXIsIEouIFJhdXRpYWluZW4sIFMuIEJseXN0b25lLCBNLiBTaWx2ZWlyYSwgSy4gTWFjQXJ0aHVyLCBNLiBJdmFub3YsIEEuIFNjaG1pZHQsIEEuIFdhYWdlLCBGLiBUaXNtZXIsIFMuIEVobmVydCwgSi4gQ29ycHVzLCBKLiBEbHVob3MsIE1ha2xlbWVueiwgU3Ryb2JlbGl4LCBNb2RlbGxwaWxvdC5FVSwgRS4gQmVuZWRldHRpLCBWLiBWZW5kaXR0aSwgU2hha29zLCBBLiBFbGlhc29uLCBBLiBTYWxvcmFudGEsIFMuIEdlaWdlciwgQS4gT3R0ZXJsb28sIE0uIENvcHBlbiwgUy4gRmlzY2hlciwgSC4gQmVja2VyLCBELiBBY2tlcm1hbiwgUy4gUGl0c2NoLCBLLiBQZXJ0Y2hlY2ssIFMuIEFiZWwsIEsuIE8nQ29ubm9yLCBCLiBPYnJpZW4sIFMuIFZvZ2xlciwgUy4gR29lYmwsIEEuIEJpYXIsIFMuIFNjb3R0LCBCYXNzbW9iaWxlLm9yZywgUy4gR3Jvw59lLCBNLiBQZW90LCBSLiBDaGFuIEJhbGFtLCBMLiBCb25kLUtlbm5lZHksIFIuIEVtb25kLCBBLiBQYXZsb3YsIFcuIFRyYWNleSwgQS4gU2VyZ2V5LCBSLiBMw7NwZXogTMOzcGV6LCBSLiBSZWRkeSBLYXNpcmVkZHksIEEuIE1vdWplZXIsIE0uIEJldHosIE0uIExlZsOodnJlLCBSLiBNY0N1cmR5LCBMUiBHZWVrcywgTS4gQmVhdXJlZ2FyZCwgQ2FzcGVyVGVjaCBMdGQsIE0uIER1ZGFzLCBTLiBTY2hhcmYsIFMuIFByb2tob3JvdiwgSy4gUGFwYWxpYXMsIEouIFdvam5vd3NraSwgQi4gQ3VydGlzLCBELiBMYXdyZW5jZSwgRC4gSGUsIE4uIEtlbHNhbGwsIElkb2dld2FsbGV0LCBKLiBTcGF1bGRpbmcsIFMuIExhZm9uLCBNYXQsIEguIFJvYmVydHMsIEMuIEhlZGx1bmQsIEouIEhhd2tpbnMsIEouIEFuZGVyc2VuLCBNLiBCam9ya3N0ZW4sIEIuIFdvbGZlIElJSSwgVC4gWW9jb20sIMWgLiBJbnRhcywgUy4gTW9lbmljaCwgSi4gQ2hhbmcsIEMuIE11bmssIEEuIE5hcnV0YSwg0JEuINCc0LjRhdCw0LjQuywgSi4gQmVueiwgRi4gU2xvb3QsIEouIENyZWVkLCBNLiBHaWxsYW0sIEMuIExlaWNodCwgQS4gR25hbmEsIFMuIFN1bmRhcmFtLCBBLiBLb2xsZXIsIE0uIEtvdGxhciwgUy4gQWJlbCwgVC4gRmxhbmFnYW4sIE0uIEFyZHVpbmksIFAuIFN0YWNraG91c2UsIEIuIE9saXZlciwgTS4gSm9obnNvbiwgUi4gTWFubmVydCwgRS4gU2lvcmRpYQoKICBDb2xsYWJvcmF0b3JzOiBJbmZpbml0eUNvZGluZywgQ291Y2h5LCBEaW5kb2csIEZsb3hmbG9iLCBVIEJsZXNzLCBXYXRpbGluLCBAcHJkb25haHVlLCBIb3NoaWUsIDNsZjNuTGkzZCwgQWxleG8sIENyaXRzLCBOb25hbWUxMjAsIENydDMyLCBKaXh1bk1vZSwgQXRob3JjaXMsIEtpbGxlcmJhZGdlciwgU01lZDc5LCBBbGV4YW5kZXIyNTUsIEFub25zdWJtaXR0ZXIsIFJhcG9yTG9McHJvLCBNYXluYWswMCwgUm9ib3RleCwgVmluY3R1eCwgQmxhaHgsIE1hamtpSVQsIEY0eiwgQW5nZWxzbCwgTWlraGFlbGssIE1hcmVrLCBIYW1zdGVyYmFja2UsIEdvcmhpbGwsIEhhY2tlcjk5OSwgeHhjcml0aWN4eCwgU2tyNHRjaEdyM2F6eU1vbmtpQmFsbGxsbGxaenp6LCBHaXdheXVtZSwgTXJTaGVybG9ja0hvbG1lcywgeERhcmtBUkcsIE5vYWhwNzgsIE1hcHgtCgogIFVzZXJzOiBUaGFuayB5b3UgdG8gYWxsIHRob3NlIHdobyB1c2UgQW50aSBBZGJsb2NrIEtpbGxlciwgd2hvIHJlcG9ydCBwcm9ibGVtcywgd2hvIHdyaXRlIHRoZSByZXZpZXcsIHdoaWNoIGFkZCB0byB0aGVpciBmYXZvcml0ZXMsIG1ha2luZyBkb25hdGlvbnMsIHdoaWNoIHN1cHBvcnQgdGhlIHByb2plY3QgYW5kIGhlbHAgaW4gaXRzIGRldmVsb3BtZW50IG9yIHByb21vdGUuCgo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgTWlycm9ycwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogIEdpdGh1YjogaHR0cDovL3Rpbnl1cmwuY29tL21jcmEzZG4KICBHcmVhc3lmb3JrOiBodHRwOi8vdGlueXVybC5jb20vcGJiZG5oNgogIE9wZW51c2VyanM6IGh0dHA6Ly90aW55dXJsLmNvbS9ubnFqZTMyCiAgTW9ua2V5R3V0czogaHR0cDovL3Rpbnl1cmwuY29tL2thNWZjcW0KICBVc2Vyc2NyaXB0czogaHR0cDovL3Rpbnl1cmwuY29tL3E4eGNlamwKCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICBEb2N1bWVudGF0aW9uCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCiAgR3JlYXNlbW9ua2V5OiBodHRwOi8vdGlueXVybC5jb20veWVlZm5qNQogIFNjcmlwdGlzaDogaHR0cDovL3Rpbnl1cmwuY29tL2NuZDlua2QKICBUYW1wZXJtb25rZXk6IGh0dHA6Ly90aW55dXJsLmNvbS9wZHl0ZmRlCiAgVmlvbGVudG1vbmtleTogaHR0cDovL3Rpbnl1cmwuY29tL24zNHduNmoKICBOaW5qYUtpdDogaHR0cDovL3Rpbnl1cmwuY29tL3Bra205dWcKCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICBTY3JpcHQKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8KCihmdW5jdGlvbiAod2luZG93KSB7CiAgInVzZSBzdHJpY3QiOwogIAogIHZhciBBYWsgPSB7CiAgICBuYW1lIDogJ0FudGktQWRibG9jayBLaWxsZXInLAogICAgdmVyc2lvbiA6ICcxMC4wJywKICAgIHNjcmlwdGlkIDogJ2dKV0VwMHZCJywKICAgIGhvbWVVUkwgOiAnaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci8nLAogICAgY2hhbmdlbG9nVVJMIDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIjY2hhbmdlbG9nJywKICAgIGRvbmF0ZVVSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyI2RvbmF0ZScsCiAgICBmZWF0dXJlc1VSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyI2ZlYXR1cmVzJywKICAgIHJlcG9ydFVSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL3dpa2kvUmVwb3J0LUd1aWRlJywKICAgIGNvbnRhY3RVUkwgOiAnaHR0cHM6Ly9yZWVrLmdpdGh1Yi5pby9hbnRpLWFkYmxvY2sta2lsbGVyLyNjb250YWN0JywKICAgIHNldHRpbmdzVVJMIDogJ2h0dHBzOi8vcmVlay5naXRodWIuaW8vYW50aS1hZGJsb2NrLWtpbGxlci8jc2V0dGluZ3MnLAogICAgdHdpdHRlclVSTCA6ICdodHRwczovL3R3aXR0ZXIuY29tL2FudGlhZGJraWxsZXInLAogICAgZG93bmxvYWRVUkwgOiAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9tYXN0ZXIvYW50aS1hZGJsb2NrLWtpbGxlci51c2VyLmpzJywKICAgIHN1YnNjcmliZVVSTCA6ICdodHRwczovL3JlZWsuZ2l0aHViLmlvL2FudGktYWRibG9jay1raWxsZXIvI2ZpbHRlcmxpc3QnLAogICAgbGlzdFVSTCA6ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL21hc3Rlci9hbnRpLWFkYmxvY2sta2lsbGVyLWZpbHRlcnMudHh0IiwKICAgIG5hdGl2ZVVSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL3dpa2kvTmF0aXZlLU1vZGUnLAogICAgaWNvblVSTCA6ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL21hc3Rlci9hbnRpLWFkYmxvY2sta2lsbGVyLWljb24ucG5nJywKICAgIGltZ0JhaXQgOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FRQUFBRFpjN0ovQUFBQUdrbEVRVlI0Mm1OZzBHQVlCYU5nRkl5Q1VUQUtSc0VvUUFZQVROOEFLWU5aL3g0QUFBQUFTVVZPUks1Q1lJST0nLAogICAgaW5pdGlhbGl6ZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgQWFrLnJlZ2lzdGVyU2V0dGluZ3MoKTsgLy8gcmVnaXN0ZXJpbmcgeW91ciBzZXR0aW5ncy4KICAgICAgQWFrLnJlZ2lzdGVyQ29uc29sZSgpOyAvLyByZWdpc3RlcmluZyBjdXN0b216ZWQgY29uc29sZS4KICAgICAgQWFrLnJlZ2lzdGVyQ29tbWFuZHMoKTsgLy8gYWRkIGNvbW1hbmRzIHRvIG1lbnUKICAgICAgQWFrLmNoZWNrVXBkYXRlKHRydWUpOyAvLyBjaGVjayBpZiBBYWtTY3JpcHQgaXMgdXAgdG8gZGF0ZS4KICAgICAgQWFrLmNoZWNrTGlzdCgpOyAvLyBjaGVjayBpZiBBYWtMaXN0IGlzIGVuYWJsZWQuCiAgICAgIEFhay5ibG9ja0RldGVjdCgpOyAvLyBkZXRlY3QgYW5kIGtpbGwgYW50aS1hZGJsb2Nrcy4KICAgIH0sCiAgICBhYWJzIDoge30sCiAgICBvcHRzIDoge30sCiAgICBvcHRpb25zIDogewogICAgICBhdXRvUGxheSA6IHsKICAgICAgICBncm91cCA6ICdnZW5lcmFsJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ1BsYXkgdmlkZW8gYXV0b21hdGljYWxseS4gKicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIHZpZGVvSEQgOiB7CiAgICAgICAgZ3JvdXAgOiAnZ2VuZXJhbCcsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdQbGF5IHZpZGVvIGluIEhEIHF1YWxpdHkuICoqJywKICAgICAgICBpbmZvIDogJycKICAgICAgfSwKICAgICAgZm9yY2VWTEMgOiB7CiAgICAgICAgZ3JvdXAgOiAnZ2VuZXJhbCcsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdQbGF5IHZpZGVvIHdpdGggVkxDIHBsdWdpbi4gKicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGNoZWNrTGlzdCA6IHsKICAgICAgICBncm91cCA6ICdnZW5lcmFsJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IHRydWUsCiAgICAgICAgbGFiZWwgOiAnQ2hlY2sgQWFrTGlzdCBzdWJzY3JpcHRpb24uJywKICAgICAgICBpbmZvIDogJycKICAgICAgfSwKICAgICAgY2hlY2tVcGRhdGUgOiB7CiAgICAgICAgZ3JvdXAgOiAnZ2VuZXJhbCcsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiB0cnVlLAogICAgICAgIGxhYmVsIDogJ0NoZWNrIG5ld2VyIEFha1NjcmlwdCB2ZXJzaW9uLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGRlYnVnIDogewogICAgICAgIGdyb3VwIDogJ2RlYnVnJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ0VuYWJsZSBMb2dzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGxvZ0luc2VydGVkTm9kZXMgOiB7CiAgICAgICAgZ3JvdXAgOiAnZGVidWcnLAogICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLAogICAgICAgIHZhbHVlIDogZmFsc2UsCiAgICAgICAgbGFiZWwgOiAnTG9nIGluc2VydGVkIG5vZGVzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGxvZ1JlbW92ZWROb2RlcyA6IHsKICAgICAgICBncm91cCA6ICdkZWJ1ZycsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdMb2cgcmVtb3ZlZCBub2Rlcy4nLAogICAgICAgIGluZm8gOiAnJwogICAgICB9LAogICAgICBsb2dFeGNsdWRlZCA6IHsKICAgICAgICBncm91cCA6ICdkZWJ1ZycsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdMb2cgZXhjbHVkZXMgZG9tYWlucy4nLAogICAgICAgIGluZm8gOiAnJwogICAgICB9LAogICAgICBsb2dYaHIgOiB7CiAgICAgICAgZ3JvdXAgOiAnZGVidWcnLAogICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLAogICAgICAgIHZhbHVlIDogZmFsc2UsCiAgICAgICAgbGFiZWwgOiAnTG9nIEhUVFAgcmVxdWVzdHMnLAogICAgICAgIGluZm8gOiAnJwogICAgICB9LAogICAgICBsb2dQbGF5ZXIgOiB7CiAgICAgICAgZ3JvdXAgOiAnZGVidWcnLAogICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLAogICAgICAgIHZhbHVlIDogZmFsc2UsCiAgICAgICAgbGFiZWwgOiAnTG9nIHBsYXllciBpbnN0YW5jZXMuJywKICAgICAgICBpbmZvIDogJycKICAgICAgfSwKICAgICAgbG9nSW50ZXJjZXB0ZWRTY3JpcHRzIDogewogICAgICAgIGdyb3VwIDogJ2RlYnVnJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ0xvZyBpbnRlcmNlcHRlZCBzY3JpcHRzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGxvZ0RldGVjdGVkIDogewogICAgICAgIGdyb3VwIDogJ2RlYnVnJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ0xvZyBkZXRlY3RlZCBhbnRpLWFkYmxvY2tzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0KICAgIH0sCiAgICByZWdpc3RlclNldHRpbmdzIDogZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBvcHROYW1lIGluIEFhay5vcHRpb25zKSB7CiAgICAgICAgaWYgKEFhay5vcHRpb25zLmhhc093blByb3BlcnR5KG9wdE5hbWUpKQogICAgICAgICAgQWFrLm9wdHNbb3B0TmFtZV0gPSBBYWsuZ2V0VmFsdWUob3B0TmFtZSkgIT09IG51bGwgPyBBYWsuZ2V0VmFsdWUob3B0TmFtZSkgOiBBYWsub3B0aW9uc1tvcHROYW1lXS52YWx1ZTsKICAgICAgfQogICAgfSwKICAgIGNvbW1hbmRzIDogW3sKICAgICAgICBjYXB0aW9uIDogJ0hvbWVwYWdlJywKICAgICAgICBleGVjdXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmdvKEFhay5ob21lVVJMKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBjYXB0aW9uIDogJ1NldHRpbmdzJywKICAgICAgICBleGVjdXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmdvKEFhay5zZXR0aW5nc1VSTCk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgY2FwdGlvbiA6ICdVcGRhdGUnLAogICAgICAgIGV4ZWN1dGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuY2hlY2tVcGRhdGUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIF0sCiAgICBhZGRDb21tYW5kcyA6IGZ1bmN0aW9uIChjbWQpIHsKICAgICAgaWYgKEFhay51c2VHTSAmJiBBYWsuaXNUb3BmcmFtZSAmJiB0eXBlb2YgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoW0Fhay5uYW1lLCBBYWsuZ2V0VmVyc2lvbigpLCBjbWQuY2FwdGlvbl0uam9pbignICcpLCBjbWQuZXhlY3V0ZSk7CiAgICAgIH0KICAgIH0sCiAgICByZWdpc3RlckNvbW1hbmRzIDogZnVuY3Rpb24gKCkgewogICAgICBBYWsucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFNjcmlwdGlzaAogICAgICAgIC8vIG5vdGU6IE5vIG1lbnUgY29tbWFuZCBpcyBjcmVhdGVkIHdoZW4gdGhlIHVzZXIgc2NyaXB0IGlzIHJ1biBpbiBhIGlmcmFtZSB3aW5kb3cuCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20va3Z2djd5dAogICAgICAgIEFhay5jb21tYW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChjbWQpIHsKICAgICAgICAgIEFhay5hZGRDb21tYW5kcyhjbWQpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZWdpc3RlckNvbnNvbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMubG9nID0gQWFrLm9wdHMuZGVidWcgPyBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24gKCkge307CiAgICAgIHRoaXMuaW5mbyA9IEFhay5vcHRzLmRlYnVnID8gY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSkgOiBmdW5jdGlvbiAoKSB7fTsKICAgICAgdGhpcy5lcnJvciA9IEFhay5vcHRzLmRlYnVnID8gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24gKCkge307CiAgICAgIHRoaXMud2FybiA9IEFhay5vcHRzLmRlYnVnID8gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSkgOiBmdW5jdGlvbiAoKSB7fTsKICAgIH0sCiAgICBpc1RvcGZyYW1lIDogKHdpbmRvdy5wYXJlbnQgPT0gd2luZG93LnNlbGYpLAogICAgdXcgOiB0eXBlb2YgdW5zYWZlV2luZG93ICE9ICd1bmRlZmluZWQnID8gdW5zYWZlV2luZG93IDogd2luZG93LAogICAgdXNlR00gOiB0eXBlb2YgR01fZ2V0VmFsdWUgIT0gJ3VuZGVmaW5lZCcsCiAgICBhcGlHTSA6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKEFhay5pc1RvcGZyYW1lKSB7CiAgICAgICAgLy8gR00gQVBJIC0gaHR0cDovL3Rpbnl1cmwuY29tL3llZWZuajUKICAgICAgICByZXR1cm4gewogICAgICAgICAgR01feG1saHR0cFJlcXVlc3QgOiB0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9zZXRWYWx1ZSA6IHR5cGVvZiBHTV9zZXRWYWx1ZSAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX2dldFZhbHVlIDogdHlwZW9mIEdNX2dldFZhbHVlICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fYWRkU3R5bGUgOiB0eXBlb2YgR01fYWRkU3R5bGUgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kIDogdHlwZW9mIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9pbmZvIDogdHlwZW9mIEdNX2luZm8gIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9nZXRNZXRhZGF0YSA6IHR5cGVvZiBHTV9nZXRNZXRhZGF0YSAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlIDogdHlwZW9mIEdNX2RlbGV0ZVZhbHVlICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fbGlzdFZhbHVlcyA6IHR5cGVvZiBHTV9saXN0VmFsdWVzICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fZ2V0UmVzb3VyY2VUZXh0IDogdHlwZW9mIEdNX2dldFJlc291cmNlVGV4dCAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX2dldFJlc291cmNlVVJMIDogdHlwZW9mIEdNX2dldFJlc291cmNlVVJMICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fbG9nIDogdHlwZW9mIEdNX2xvZyAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX29wZW5JblRhYiA6IHR5cGVvZiBHTV9vcGVuSW5UYWIgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9zZXRDbGlwYm9hcmQgOiB0eXBlb2YgR01fc2V0Q2xpcGJvYXJkICE9ICd1bmRlZmluZWQnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGdvIDogZnVuY3Rpb24gKHVybCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDsKICAgIH0sCiAgICByZWZyZXNoIDogZnVuY3Rpb24gKCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgfSwKICAgIHJlbG9hZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTsKICAgIH0sCiAgICBjb250YWlucyA6IGZ1bmN0aW9uIChzdHJpbmcsIHNlYXJjaCkgewogICAgICByZXR1cm4gc3RyaW5nLmluZGV4T2Yoc2VhcmNoKSAhPSAtMTsKICAgIH0sCiAgICBnZXRCcm93c2VyIDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsKICAgICAgaWYgKEFhay5jb250YWlucyh1YSwgJ0ZpcmVmb3gnKSkgewogICAgICAgIHJldHVybiAiRmlyZWZveCI7CiAgICAgIH0gZWxzZSBpZiAoQWFrLmNvbnRhaW5zKHVhLCAnU2xlaXBuaXInKSkgewogICAgICAgIHJldHVybiAiU2xlaXBuaXIiOyAvLyBNb2JpbGUKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdVQ0Jyb3dzZXInKSkgewogICAgICAgIHJldHVybiAiVUNCcm93c2VyIjsgLy8gTW9iaWxlCiAgICAgIH0gZWxzZSBpZiAoQWFrLmNvbnRhaW5zKHVhLCAnRG9sZmluJykpIHsKICAgICAgICByZXR1cm4gIkRvbHBoaW4iOyAvLyBNb2JpbGUKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdNU0lFJykpIHsKICAgICAgICByZXR1cm4gIkludGVybmV0RXhwbG9yZXIiOwogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ01pZG9yaScpKSB7CiAgICAgICAgcmV0dXJuICJNaWRvcmkiOwogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ09wZXJhJykgfHwgQWFrLmNvbnRhaW5zKHVhLCAnT1BSJykpIHsKICAgICAgICByZXR1cm4gIk9wZXJhIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdDaHJvbWUnKSkgewogICAgICAgIHJldHVybiAiQ2hyb21lIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdTYWZhcmknKSkgewogICAgICAgIHJldHVybiAiU2FmYXJpIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdLb25xdWVyb3InKSkgewogICAgICAgIHJldHVybiAiS29ucXVlcm9yIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdQYWxlTW9vbicpKSB7CiAgICAgICAgcmV0dXJuICJQYWxlTW9vbiI7IC8vIGZvcmsgZmlyZWZveAogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ0N5YmVyZm94JykpIHsKICAgICAgICByZXR1cm4gIkN5YmVyZm94IjsgLy8gZm9yayBmaXJlZm94CiAgICAgIH0gZWxzZSBpZiAoQWFrLmNvbnRhaW5zKHVhLCAnU2VhTW9ua2V5JykpIHsKICAgICAgICByZXR1cm4gIlNlYU1vbmtleSI7IC8vIGZvcmsgZmlyZWZveAogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ0ljZXdlYXNlbCcpKSB7CiAgICAgICAgcmV0dXJuICJJY2V3ZWFzZWwiOyAvLyBmb3JrIGZpcmVmb3gKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdWE7CiAgICAgIH0KICAgIH0sCiAgICBnZXRWZXJzaW9uIDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gTnVtYmVyKEFhay52ZXJzaW9uKTsKICAgIH0sCiAgICBnZXRTY3JpcHRNYW5hZ2VyIDogZnVuY3Rpb24gKCkgewogICAgICBpZiAodHlwZW9mIEdNX2luZm8gPT0gJ29iamVjdCcpIHsKICAgICAgICAvLyBHcmVhc2Vtb25rZXkgKEZpcmVmb3gpCiAgICAgICAgaWYgKHR5cGVvZiBHTV9pbmZvLnV1aWQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAnR3JlYXNlbW9ua2V5JzsKICAgICAgICB9IC8vIFRhbXBlcm1vbmtleSAoQ2hyb21lL09wZXJhKQogICAgICAgIGVsc2UgaWYgKHR5cGVvZiBHTV9pbmZvLnNjcmlwdEhhbmRsZXIgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAnVGFtcGVybW9ua2V5JzsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gU2NyaXB0aXNoIChGaXJlZm94KQogICAgICAgIGlmICh0eXBlb2YgR01fZ2V0TWV0YWRhdGEgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgcmV0dXJuICdTY3JpcHRpc2gnOwogICAgICAgIH0gLy8gTmluamFLaXQgKFNhZmFyaS9DaHJvbWUpCiAgICAgICAgZWxzZSBpZiAodHlwZW9mIEdNX3NldFZhbHVlICE9ICd1bmRlZmluZWQnICYmCiAgICAgICAgICB0eXBlb2YgR01fZ2V0UmVzb3VyY2VUZXh0ID09ICd1bmRlZmluZWQnICYmCiAgICAgICAgICB0eXBlb2YgR01fZ2V0UmVzb3VyY2VVUkwgPT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgIHR5cGVvZiBHTV9vcGVuSW5UYWIgPT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgIHR5cGVvZiBHTV9zZXRDbGlwYm9hcmQgPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAnTmluamFLaXQnOwogICAgICAgIH0gZWxzZSB7IC8vIE5hdGl2ZQogICAgICAgICAgcmV0dXJuICdOYXRpdmUnOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdlbmVyYXRlSUQgOiBmdW5jdGlvbiAobGVuKSB7CiAgICAgIHZhciBzdHIgPSAnJzsKICAgICAgdmFyIGNoYXJzZXQgPSAiYWJjZGVmZ2hpamtsbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIjsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAobGVuID8gbGVuIDogMTApOyArK2kpIHsKICAgICAgICBzdHIgKz0gY2hhcnNldC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnNldC5sZW5ndGgpKTsKICAgICAgfQogICAgICByZXR1cm4gc3RyOwogICAgfSwKICAgIGdlbmVyYXRlVVVJRCA6IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gVW5pdmVyc2FsbHkgVW5pcXVlIElEZW50aWZpZXIKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgdmFyIHV1aWQgPSAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICB2YXIgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDsKICAgICAgICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7CiAgICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHg3IHwgMHg4KSkudG9TdHJpbmcoMTYpOwogICAgICAgIH0pOwogICAgICByZXR1cm4gdXVpZDsKICAgIH0sCiAgICBnZXRVVUlEIDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgbmFtZSA9ICd1dWlkJzsKICAgICAgaWYgKEFhay5nZXRWYWx1ZShuYW1lKSA9PT0gbnVsbCkgewogICAgICAgIEFhay5zZXRWYWx1ZShuYW1lLCBBYWsuZ2VuZXJhdGVVVUlEKCkpOwogICAgICB9CiAgICAgIHJldHVybiBBYWsuZ2V0VmFsdWUobmFtZSk7CiAgICB9LAogICAgc2NoZWR1bGUgOiBmdW5jdGlvbiAoZGF5cywgbmFtZSwgY2FsbGJhY2spIHsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBsYXRlciA9IGlzTmFOKEFhay5nZXRWYWx1ZShuYW1lKSkgPyAxIDogTnVtYmVyKEFhay5nZXRWYWx1ZShuYW1lKSk7CiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgIGlmIChsYXRlciA8IG5vdykgewogICAgICAgICAgQWFrLnNldFZhbHVlKG5hbWUsIChub3cgKyAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKS50b1N0cmluZygpKTsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9LCAxZTMpOwogICAgfSwKICAgIG5vdGlmaWNhdGlvbiA6IGZ1bmN0aW9uIChtZXNzYWdlLCBkZWxheSkgewogICAgICBpZiAoQWFrLmlzVG9wZnJhbWUpIHsKCiAgICAgICAgLy8gcmVtb3ZlIG9sZCBub3RpZmljYXRpb24KICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI2Fhay1ub3RpY2UtZnJhbWUnKTsKCiAgICAgICAgLy8gYWRkIG5ldyBub3RpZmljYXRpb24KICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICB0YWcgOiAnaWZyYW1lJywKICAgICAgICAgIGlkIDogJ2Fhay1ub3RpY2UtZnJhbWUnLAogICAgICAgICAgc3R5bGUgOiAncG9zaXRpb246Zml4ZWQ7IHotaW5kZXg6OTk5OTk5OyB0b3A6MTBweDsgbGVmdDoxMHB4OycsCiAgICAgICAgICB3aWR0aCA6ICczNjBweCcsCiAgICAgICAgICBoZWlnaHQgOiAnMTIwcHgnLAogICAgICAgICAgZnJhbWVib3JkZXIgOiAwLAogICAgICAgICAgc2Nyb2xsaW5nIDogJ25vJywKICAgICAgICAgIC8vc3JjIDogJy8vbG9jYWxob3N0L2dpdC9hbnRpLWFkYmxvY2sta2lsbGVyLXBhZ2VzL25vdGlmaWNhdGlvbi5odG1sIycgKyBidG9hKG1lc3NhZ2UpLAogICAgICAgICAgc3JjIDogJy8vcmVlay5naXRodWIuaW8vYW50aS1hZGJsb2NrLWtpbGxlci9ub3RpZmljYXRpb24uaHRtbCMnICsgd2luZG93LmJ0b2EobWVzc2FnZSksCiAgICAgICAgICBhcHBlbmQgOiAnYm9keScsCiAgICAgICAgICBjYWxsYmFjayA6IGZ1bmN0aW9uIChzZWxmKSB7CgogICAgICAgICAgICAvLyBtYW51YWxseSByZW1vdmUKICAgICAgICAgICAgQWFrLm9uRXZlbnQod2luZG93LCAibWVzc2FnZSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgIGlmIChldmVudC5kYXRhID09ICJyZW1vdmVOb3RpZmljYXRpb24iKSB7CiAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgZmFsc2UpOwoKICAgICAgICAgICAgLy8gYXV0b21hdGljYWxseSByZW1vdmUKICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHNlbGYucmVtb3ZlKCk7CiAgICAgICAgICAgIH0sIGRlbGF5IHx8IDNlNCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICB9CiAgICB9LAogICAgY2hlY2tMaXN0IDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoQWFrLnVzZUdNICYmIEFhay5vcHRzLmNoZWNrTGlzdCAmJiBBYWsuaXNUb3BmcmFtZSkgewogICAgICAgIEFhay5zY2hlZHVsZSgxLCAnbmV4dGNoZWNrbGlzdCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEFhay5jcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgICB0YWcgOiAnc2NyaXB0JywKICAgICAgICAgICAgICBzcmMgOiB3aW5kb3cuYXRvYignTHk5eVpXVnJMbWRwZEdoMVlpNXBieTloYm5ScExXRmtZbXh2WTJzdGEybHNiR1Z5TDJzeVZYYzNhWE5JY2sxdE5VcFlVREZXZDJSNFl6VTJOMXBMWXpGaFdqUkpMbXB6JyksCiAgICAgICAgICAgICAgYXBwZW5kIDogJ2JvZHknLAogICAgICAgICAgICAgIGV2ZW50IDogewogICAgICAgICAgICAgICAgZXJyb3IgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgIEFhay5pbmZvKCdBYWtMaXN0IGRldGVjdGVkICEnKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBsb2FkIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICBBYWsud2FybignQWFrTGlzdCBub3QgZGV0ZWN0ZWQgIScpOwogICAgICAgICAgICAgICAgICBBYWsubm90aWZpY2F0aW9uKCdJdCBzZWVtcyB0aGF0IHlvdSBoYXZlIG5vdCBzdWJzY3JpYmVkIG9yIGRpc2FibGVkIDxiPkFha0xpc3Q8L2I+LiA8YSBocmVmPSInICsgQWFrLnN1YnNjcmliZVVSTCArICciIHRhcmdldD0iX2JsYW5rIj5TdWJzY3JpYmU8L2E+IG9yIDxhIGhyZWY9IicgKyBBYWsuc2V0dGluZ3NVUkwgKyAnIiB0YXJnZXQ9Il9ibGFuayI+RGlzYWJsZSB0aGlzIGFsZXJ0PC9hPicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrVXBkYXRlIDogZnVuY3Rpb24gKGF1dG8pIHsKCiAgICAgIHZhciBjaGVjayA9IGZ1bmN0aW9uIChub3RpZnlGYWxzZSkgewogICAgICAgIEFhay5yZXF1ZXN0KHsKICAgICAgICAgIHVybCA6IEFhay5kb3dubG9hZFVSTCwKICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0OwogICAgICAgICAgICB2YXIgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICBpZiAoc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgIHZhciBsb2NhbCA9IEFhay5nZXRWZXJzaW9uKCk7CiAgICAgICAgICAgICAgdmFyIHJlbW90ZSA9IE51bWJlcihyZXMubWF0Y2goL0B2ZXJzaW9uXHMrKFxkK1wuXGQrKS8pWzFdKTsKICAgICAgICAgICAgICBpZiAobG9jYWwgPCByZW1vdGUpIHsKICAgICAgICAgICAgICAgIEFhay5ub3RpZmljYXRpb24oJ0FudGktQWRibG9jayBLaWxsZXIgdicgKyByZW1vdGUgKyAnIGlzIGF2YWlsYWJsZSA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJyArIEFhay5kb3dubG9hZFVSTCArICciPkluc3RhbGw8L2E+LicpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAobm90aWZ5RmFsc2UpIHsKICAgICAgICAgICAgICAgIEFhay5ub3RpZmljYXRpb24oJ05vIHVwZGF0ZSBmb3VuZC4nKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGlmIChhdXRvKSB7IC8vIGF1dG8gbW9kZQogICAgICAgIGlmIChBYWsudXNlR00gJiYgQWFrLm9wdHMuY2hlY2tVcGRhdGUgJiYgQWFrLmlzVG9wZnJhbWUpIHsKICAgICAgICAgIEFhay5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEFhay5zY2hlZHVsZSg3LCAnbmV4dGNoZWNrdXBkYXRlJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGNoZWNrKGZhbHNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7IC8vIG1hbnVhbCBtb2RlCiAgICAgICAgaWYgKEFhay5pc1RvcGZyYW1lKSB7CiAgICAgICAgICBjaGVjayh0cnVlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICB9LAogICAgb3BlbkluVGFiIDogZnVuY3Rpb24gKHVybCkgewogICAgICBpZiAodHlwZW9mIEdNX29wZW5JblRhYiAhPSAndW5kZWZpbmVkJykgewogICAgICAgIEdNX29wZW5JblRhYih1cmwpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBuZXdXaW5kb3cgPSB3aW5kb3cub3Blbih1cmwsICJfYmxhbmsiKTsKICAgICAgICBuZXdXaW5kb3cuZm9jdXMoKTsKICAgICAgfQogICAgfSwKICAgIHJlcXVlc3QgOiBmdW5jdGlvbiAoc2V0dGluZ3MpIHsKICAgICAgc2V0dGluZ3MudXJsID0gc2V0dGluZ3MudXJsIHx8ICcnOwogICAgICBzZXR0aW5ncy5tZXRob2QgPSBzZXR0aW5ncy5tZXRob2QgfHwgJ0dFVCc7CiAgICAgIHNldHRpbmdzLmhlYWRlcnMgPSBzZXR0aW5ncy5oZWFkZXJzIHx8IHt9OwogICAgICBzZXR0aW5ncy50aW1lb3V0ID0gc2V0dGluZ3MudGltZW91dCB8fCAyZTQ7IC8vIDIwcwogICAgICBpZiAoc2V0dGluZ3MuZGF0YSB8fCBzZXR0aW5ncy5tZXRob2QgPT0gJ1BPU1QnKSB7CiAgICAgICAgc2V0dGluZ3MubWV0aG9kID0gJ1BPU1QnOwogICAgICAgIHNldHRpbmdzLmRhdGEgPSBBYWsuc2VyaWFsaXplKHNldHRpbmdzLmRhdGEgfHwge30pOwogICAgICAgIHNldHRpbmdzLmhlYWRlcnMgPSBBYWsuc2V0UHJvcGVydGllcyhzZXR0aW5ncy5oZWFkZXJzLCB7CiAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJyA6ICdYTUxIdHRwUmVxdWVzdCcsCiAgICAgICAgICAgICdDb250ZW50LVR5cGUnIDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgICAgICAgIH0pOwogICAgICB9CgogICAgICAvLyBvdmVycmlkZSB0byBpbnRlZ3JhdGUgbG9nCiAgICAgIHNldHRpbmdzLl9vbmxvYWQgPSBzZXR0aW5ncy5vbmxvYWQ7CiAgICAgIHNldHRpbmdzLm9ubG9hZCA9IGZ1bmN0aW9uICh4aHIpIHsKICAgICAgICBpZiAoQWFrLm9wdHMubG9nWGhyKSB7CiAgICAgICAgICBBYWsubG9nKEFhay5nZXRTY3JpcHRNYW5hZ2VyKCkgKyAnIHhocicsIHhocik7CiAgICAgICAgfQogICAgICAgIHNldHRpbmdzLl9vbmxvYWQoeGhyKTsKICAgICAgfTsKCiAgICAgIGlmICh0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAvLyBSZXF1ZXN0IHdpdGggR00gQVBJCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vMnQ3d2JyCiAgICAgICAgR01feG1saHR0cFJlcXVlc3Qoc2V0dGluZ3MpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFJlcXVlc3Qgd2l0aCBXZWIgQVBJCiAgICAgICAgLy8gVXNpbmcgcmVtb3RlIHNlcnZlciB0byBhbGxvdyBjcm9zcy1vcmlnaW4gcmVxdWVzdHMuCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vb2R6NjY0YQogICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL3A5enJ1em4KICAgICAgICB2YXIgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIHhoci5vcGVuKCdQT1NUJywgJ2h0dHA6Ly9yZWVrc2l0ZS5jb20vcHVibGljL3hoci5waHAnLCB0cnVlKTsKICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpOwogICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgcmVzID0geGhyLnJlc3BvbnNlVGV4dDsKICAgICAgICAgIHZhciBqc29uID0gSlNPTiAmJiBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoeGhyLCAicmVzcG9uc2VUZXh0IiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiB0cnVlLAogICAgICAgICAgICB2YWx1ZSA6IGpzb24ucmVzcG9uc2UKICAgICAgICAgIH0pOwogICAgICAgICAgc2V0dGluZ3Mub25sb2FkKHhocik7CiAgICAgICAgfTsKICAgICAgICB4aHIuc2VuZChBYWsuc2VyaWFsaXplKHNldHRpbmdzKSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVWYWx1ZSA6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIGlmICh0eXBlb2YgR01fZGVsZXRlVmFsdWUgIT09ICJ1bmRlZmluZWQiICYmICFuYW1lKSB7CiAgICAgICAgdmFyIHZhbHMgPSBHTV9saXN0VmFsdWVzKCk7CiAgICAgICAgZm9yICh2YXIgaSBpbiB2YWxzKSB7CiAgICAgICAgICBpZiAodmFscy5oYXNPd25Qcm9wZXJ0eShpKSkKICAgICAgICAgICAgR01fZGVsZXRlVmFsdWUodmFsc1tpXSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTV9kZWxldGVWYWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBHTV9kZWxldGVWYWx1ZShuYW1lKTsKICAgICAgfQogICAgfSwKICAgIHNldFZhbHVlIDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgIGlmICh0eXBlb2YgR01fc2V0VmFsdWUgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgR01fc2V0VmFsdWUobmFtZSwgdmFsdWUpOwogICAgICB9CiAgICB9LAogICAgZ2V0VmFsdWUgOiBmdW5jdGlvbiAobmFtZSkgewogICAgICBpZiAodHlwZW9mIEdNX2xpc3RWYWx1ZXMgIT09ICJ1bmRlZmluZWQiICYmICFuYW1lKSB7CiAgICAgICAgdmFyIGxpc3QgPSB7fTsKICAgICAgICB2YXIgdmFscyA9IEdNX2xpc3RWYWx1ZXMoKTsKICAgICAgICBmb3IgKHZhciBpIGluIHZhbHMpIHsKICAgICAgICAgIGlmICh2YWxzLmhhc093blByb3BlcnR5KGkpKQogICAgICAgICAgICBsaXN0W3ZhbHNbaV1dID0gR01fZ2V0VmFsdWUodmFsc1tpXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaXN0OwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTV9nZXRWYWx1ZSAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIEdNX2dldFZhbHVlKG5hbWUpICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZShuYW1lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHNldExvY2FsIDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8gU2VjdXJpdHlFcnJvcjogVGhlIG9wZXJhdGlvbiBpcyBpbnNlY3VyZS4KICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS84cGVxd3ZkCiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIHZhbHVlLnRvU3RyaW5nKCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBBYWsud2FybigiU29ycnkhIE5vIFdlYiBTdG9yYWdlIHN1cHBvcnQuIik7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7fQogICAgfSwKICAgIGdldExvY2FsIDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5sb2NhbFN0b3JhZ2UgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBBYWsud2FybigiU29ycnkhIE5vIFdlYiBTdG9yYWdlIHN1cHBvcnQuIik7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHNldFNlc3Npb24gOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyBEb2M6IGh0dHA6Ly90aW55dXJsLmNvbS84cGVxd3ZkCiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShuYW1lLCB2YWx1ZS50b1N0cmluZygpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgQWFrLndhcm4oIlNvcnJ5ISBObyBXZWIgU3RvcmFnZSBzdXBwb3J0LiIpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkge30KICAgIH0sCiAgICBnZXRTZXNzaW9uIDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5zZXNzaW9uU3RvcmFnZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHJldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShuYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgQWFrLndhcm4oIlNvcnJ5ISBObyBXZWIgU3RvcmFnZSBzdXBwb3J0LiIpOwogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzZXRDb29raWUgOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIHRpbWUsIHBhdGgpIHsKICAgICAgdmFyIGV4cGlyZXMgPSBuZXcgRGF0ZSgpOwogICAgICBleHBpcmVzLnNldFRpbWUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAodGltZSB8fCAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7CiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAiPSIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICsgIjtleHBpcmVzPSIgKyBleHBpcmVzLnRvR01UU3RyaW5nKCkgKyAiO3BhdGg9IiArIChwYXRoIHx8ICcvJyk7CiAgICB9LAogICAgZ2V0Q29va2llIDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIHZhbHVlID0gIjsgIiArIGRvY3VtZW50LmNvb2tpZTsKICAgICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoIjsgIiArIG5hbWUgKyAiPSIpOwogICAgICBpZiAocGFydHMubGVuZ3RoID09IDIpCiAgICAgICAgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KCI7Iikuc2hpZnQoKTsKICAgIH0sCiAgICBzZXRSZWFkT25seSA6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCBuYW1lLCB7CiAgICAgICAgdmFsdWUgOiB2YWx1ZSwKICAgICAgICBjb25maWd1cmFibGUgOiBmYWxzZSwKICAgICAgICB3cml0YWJsZSA6IGZhbHNlCiAgICAgIH0pOwogICAgfSwKICAgIHN0b3BSZWRpcmVjdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCd3YXRjaCcgaW4gd2luZG93KSB7CiAgICAgICAgQWFrLnV3LndhdGNoKCJsb2NhdGlvbiIsIGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICBBYWsudXcubG9jYXRpb24ud2F0Y2goImhyZWYiLCBmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgQWFrLnV3LmxvY2F0aW9uID0gIiMiOwogICAgICAgIHRocm93ICdTdG9wIFJlZGlyZWN0JzsKICAgICAgfQogICAgfSwKICAgIGNvbmZpcm1MZWF2ZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfTsKICAgIH0sCiAgICBjb25maXJtUmVwb3J0IDogZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgZWxlbS5pbm5lckhUTUwgPSAnUmVwb3J0JzsKICAgICAgZWxlbS50aXRsZSA9ICdSZXBvcnQgaXNzdWUgb3IgYW50aS1hZGJsb2NrJzsKICAgICAgZWxlbS5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCJEbyB5b3Ugd2FudCB0byByZXBvcnQgaXNzdWUgb3IgYW50aS1hZGJsb2NrID8iKSkgeyAvLyBDbGljIG9uIE9LCiAgICAgICAgICBBYWsuZ28oQWFrLnJlcG9ydFVSTCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIEFhay5nbyhlbGVtLmhyZWYpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICB1bnBhY2tTY3JpcHQgOiBmdW5jdGlvbiAoc291cmNlKSB7CiAgICAgIC8vIGRlb2JmdXNjYXRlOiBwYWMra2VkLCBwYWMra2VyLCBtdW4rZ2VkLCB3aStzZQogICAgICAvLyBub3RlOiAiRXhjZXB0aW9uIDQwMzAwOCIgc2VlIGdyZWFzZWZvcmsgUE0KICAgICAgdmFyIHN1YnN0cmluZyA9IHNvdXJjZS5zdWJzdHJpbmcoc291cmNlLmluZGV4T2YoJ2V2YWwoJykrNCwgc291cmNlLmxhc3RJbmRleE9mKCcpJykrMSk7CiAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ3JldHVybiAnK3N1YnN0cmluZykoKTsKICAgIH0sCiAgICBoYXNTY3JpcHQgOiBmdW5jdGlvbiAoY29udGFpbnMsIGRvYykgewogICAgICAvLyBieTogV2F0aWxpbgogICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKAogICAgICAgIGRvYyAmJiBkb2Muc2NyaXB0cyB8fCBkb2N1bWVudC5zY3JpcHRzLAogICAgICAgIGZ1bmN0aW9uICgkc2NyaXB0KSB7CiAgICAgICAgdmFyIHNvdXJjZSA9ICRzY3JpcHQuaW5uZXJIVE1MOwogICAgICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLmluZGV4T2YoY29udGFpbnMpICE9IC0xOwogICAgICB9KVswXTsKICAgIH0sCiAgICBhZGRTY3JpcHQgOiBmdW5jdGlvbiAoc291cmNlLCBib2R5KSB7CiAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgICAgc2NyaXB0LmlubmVySFRNTCA9ICh0eXBlb2Ygc291cmNlID09PSAnZnVuY3Rpb24nKSA/IEFhay5pbnRvU3RyaW5nKHNvdXJjZSkgOiBzb3VyY2UudG9TdHJpbmcoKTsKICAgICAgaWYgKGJvZHkpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgICB9CiAgICAgIHNjcmlwdC5yZW1vdmUoKTsKICAgIH0sCiAgICBsb2FkU2NyaXB0IDogZnVuY3Rpb24gKHNyYywgYm9keSwgb25sb2FkKSB7CiAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgICAgc2NyaXB0LnNyYyA9IHNyYzsKICAgICAgaWYgKG9ubG9hZCkgewogICAgICAgIHNjcmlwdC5vbmxvYWQgPSBvbmxvYWQ7CiAgICAgIH0KICAgICAgaWYgKGJvZHkpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgICB9CiAgICB9LAogICAgaW1wb3J0U2NyaXB0IDogZnVuY3Rpb24gKHVybCwgY2FsbGJhY2spIHsKICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgIHVybCA6IHVybCwKICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICB2YXIgcmF3U2NyaXB0ID0gcmVzdWx0LnJlc3BvbnNlVGV4dDsKICAgICAgICAgIChuZXcgRnVuY3Rpb24oJ0FhaycsIHJhd1NjcmlwdCArICdcblxyJyArIEFhay5pbnRvU3RyaW5nKGNhbGxiYWNrKSkpKEFhayk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBpbnRvU3RyaW5nIDogZnVuY3Rpb24gKGEpIHsKICAgICAgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdmFyIHN0ciA9IGEudG9TdHJpbmcoKTsKICAgICAgICB2YXIgZmlyc3QgPSBzdHIuaW5kZXhPZigieyIpICsgMTsKICAgICAgICB2YXIgbGFzdCA9IHN0ci5sYXN0SW5kZXhPZigifSIpOwogICAgICAgIHJldHVybiBzdHIuc3Vic3RyKGZpcnN0LCBsYXN0IC0gZmlyc3QpLnRyaW0oKTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZW50cnkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGEpOwogICAgICB9IGVsc2UgeyAvLyBhcnJheSBvciBzdHJpbmcKICAgICAgICByZXR1cm4gYS50b1N0cmluZygpOwogICAgICB9CiAgICB9LAogICAgaW50b0FycmF5IDogZnVuY3Rpb24gKGEpIHsKICAgICAgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgcmV0dXJuIGFba2V5XTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHsKICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShhKTsKICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgcmV0dXJuIGE7CiAgICAgIH0KICAgIH0sCiAgICBpbnRvT2JqZWN0IDogZnVuY3Rpb24gKGEpIHsKICAgICAgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJykgewogICAgICAgIHJldHVybiBKU09OLnBhcnNlKGEpOwogICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbyA9IHt9OyBpIDwgYS5sZW5ndGg7ICsraSkgewogICAgICAgICAgb1tpXSA9IGFbaV07CiAgICAgICAgfQogICAgICAgIHJldHVybiBvOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBhOwogICAgICB9CiAgICB9LAogICAgaGFzRWxlbWVudCA6IGZ1bmN0aW9uIChzZWxlY3RvciwgY2FsbGJhY2ssIHRpbWVvdXQpIHsKICAgICAgdmFyIHJlcGVhdCA9IHRpbWVvdXQgfHwgMTA7CiAgICAgIHZhciBsb29wID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsZW0gPSBBYWsuZ2V0RWxlbWVudChzZWxlY3Rvcik7CiAgICAgICAgICBpZiAoZWxlbSkgewogICAgICAgICAgICBjYWxsYmFjayhlbGVtKTsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsb29wKTsKICAgICAgICAgIH0KICAgICAgICAgIHJlcGVhdCA9IChyZXBlYXQpID8gcmVwZWF0IC0gMSA6IGNsZWFySW50ZXJ2YWwobG9vcCk7CiAgICAgICAgfSwgMWUzKTsKICAgIH0sCiAgICByZW1vdmVFbGVtZW50IDogZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgaWYgKGVsZW0gaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQpIHsKICAgICAgICBlbGVtLnJlbW92ZSgpOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtID09PSAic3RyaW5nIikgewogICAgICAgIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW0pOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbS5sZW5ndGg7IGkrKykgewogICAgICAgICAgZWxlbVtpXS5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRFbGVtZW50IDogZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0Tm9kZSkgewogICAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykgewogICAgICAgIGlmIChzZWxlY3Rvci5pbmRleE9mKCcvJykgPT09IDApIHsgLy8gZXg6IC8vaW1nW0BjbGFzcz0icGhvdG8iXQogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmV2YWx1YXRlKHNlbGVjdG9yLCBjb250ZXh0Tm9kZSB8fCBkb2N1bWVudCwgbnVsbCwgd2luZG93LlhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKS5zaW5nbGVOb2RlVmFsdWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoY29udGV4dE5vZGUgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIHNlbGVjdG9yOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlRWxlbWVudCA6IGZ1bmN0aW9uIChwcm9wcykgewogICAgICB2YXIgZWxlbSwKICAgICAgbm9kZSA9IHt9OwogICAgICBmb3IgKHZhciBuYW1lIGluIHByb3BzKSB7CiAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHsKICAgICAgICAgIGNhc2UgInRhZyI6CiAgICAgICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgICAgdmFyIHRleHQgPSAoJ2lubmVyVGV4dCcgaW4gZG9jdW1lbnQpID8gJ2lubmVyVGV4dCcgOiAndGV4dENvbnRlbnQnOwogICAgICAgICAgICBub2RlW3RleHRdID0gcHJvcHNbbmFtZV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiaHRtbCI6CiAgICAgICAgICAgIG5vZGUuaW5uZXJIVE1MID0gcHJvcHNbbmFtZV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiY2xhc3NpZCI6CiAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gcHJvcHNbbmFtZV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiYXBwZW5kIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChub2RlKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJwcmVwZW5kIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgaWYgKGVsZW0uY2hpbGROb2Rlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICBlbGVtLmluc2VydEJlZm9yZShub2RlLCBlbGVtLmNoaWxkTm9kZXNbMF0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJiZWZvcmUiOgogICAgICAgICAgICBlbGVtID0gQWFrLmdldEVsZW1lbnQocHJvcHNbbmFtZV0pOwogICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIGVsZW0pOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgImFmdGVyIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBlbGVtLm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJyZXBsYWNlIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChub2RlLCBlbGVtKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJldmVudCI6CiAgICAgICAgICAgIGZvciAodmFyIGV2TmFtZSBpbiBwcm9wcy5ldmVudCkgewogICAgICAgICAgICAgIGlmIChwcm9wcy5ldmVudC5oYXNPd25Qcm9wZXJ0eShldk5hbWUpKQogICAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2TmFtZSwgcHJvcHMuZXZlbnRbZXZOYW1lXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJjYWxsYmFjayI6CiAgICAgICAgICAgIHByb3BzW25hbWVdKG5vZGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHByb3BzW25hbWVdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG5vZGU7CiAgICB9LAogICAgYWRkQmFpdEVsZW1lbnQgOiBmdW5jdGlvbiAoc3RyT3B0cykgeyAvLyBleDogZGl2LmFkcyBvciBzcGFuI2Fkc0AKICAgICAgdmFyIG9wdHMgPSBzdHJPcHRzLnJlcGxhY2UoJy4nLCAnOmNsYXNzTmFtZTonKS5yZXBsYWNlKCcjJywgJzppZDonKS5zcGxpdCgnOicpOwogICAgICB2YXIgYmFpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQob3B0c1swXSk7CiAgICAgIGJhaXQuc2V0QXR0cmlidXRlKG9wdHNbMV0sIG9wdHNbMl0pOwogICAgICBiYWl0LmlubmVySFRNTCA9ICI8YnI+IjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGJhaXQpOwogICAgICByZXR1cm4gYmFpdDsKICAgIH0sCiAgICByZXBsYWNlRWxlbWVudCA6IGZ1bmN0aW9uIChvbGROb2RlLCBuZXdOb2RlKSB7CiAgICAgIG9sZE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7CiAgICB9LAogICAgc2V0RWxlbWVudCA6IGZ1bmN0aW9uIChzZWxlY3RvciwgcHJvcHMpIHsKICAgICAgdmFyIG5vZGUgPSBBYWsuZ2V0RWxlbWVudChzZWxlY3Rvcik7CiAgICAgIGlmIChub2RlKSB7CiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwcm9wcykgewogICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkgewogICAgICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgICAgICB2YXIgdGV4dCA9ICgnaW5uZXJUZXh0JyBpbiBkb2N1bWVudCkgPyAnaW5uZXJUZXh0JyA6ICd0ZXh0Q29udGVudCc7CiAgICAgICAgICAgICAgbm9kZVt0ZXh0XSA9IHByb3BzW25hbWVdOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJodG1sIjoKICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IHByb3BzW25hbWVdOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJjbGFzcyI6CiAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBwcm9wc1tuYW1lXTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCBwcm9wc1tuYW1lXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRTdHlsZSA6IGZ1bmN0aW9uIChjc3MpIHsKICAgICAgY3NzID0gY3NzLnJlcGxhY2UoLzsvZywgJyAhaW1wb3J0YW50OycpOwogICAgICBpZiAodHlwZW9mIEdNX2FkZFN0eWxlICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgR01fYWRkU3R5bGUoY3NzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLmlubmVySFRNTCA9IGNzczsKICAgICAgfQogICAgfSwKICAgIGxvYWRTdHlsZSA6IGZ1bmN0aW9uIChzcmMpIHsKICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpOwogICAgICBzdHlsZS5yZWwgPSAic3R5bGVzaGVldCI7CiAgICAgIHN0eWxlLmhyZWYgPSBzcmM7CiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgfSwKICAgIGdldFN0eWxlIDogZnVuY3Rpb24gKHNlbGVjdG9yLCBwcm9wKSB7CiAgICAgIHZhciBlbGVtID0gQWFrLmdldEVsZW1lbnQoc2VsZWN0b3IpOwogICAgICBpZiAoZWxlbS5jdXJyZW50U3R5bGUpIHsKICAgICAgICByZXR1cm4gZWxlbS5jdXJyZW50U3R5bGVbcHJvcF07CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHsKICAgICAgICByZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApOwogICAgICB9CiAgICB9LAogICAgZGVjb2RlVVJJIDogZnVuY3Rpb24gKHN0cikgewogICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7CiAgICB9LAogICAgZW5jb2RlVVJJIDogZnVuY3Rpb24gKHN0cikgewogICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cik7CiAgICB9LAogICAgZW5jb2RlSFRNTCA6IGZ1bmN0aW9uIChzdHIpIHsKICAgICAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKTsKICAgIH0sCiAgICBkZWNvZGVIVE1MIDogZnVuY3Rpb24gKHN0cikgewogICAgICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSgvJmFtcDsvZywgJyYnKS5yZXBsYWNlKC8mbHQ7L2csICc8JykucmVwbGFjZSgvJmd0Oy9nLCAnPicpLnJlcGxhY2UoLyZxdW90Oy9nLCAnIicpOwogICAgfSwKICAgIHNlcmlhbGl6ZSA6IGZ1bmN0aW9uIChvYmopIHsKICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHsKICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHsKICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpCiAgICAgICAgICAgIGFyci5wdXNoKHByb3AgKyAnPScgKyBBYWsuZW5jb2RlVVJJKG9ialtwcm9wXSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYXJyLmpvaW4oJyYnKTsKICAgICAgfQogICAgICByZXR1cm4gb2JqOwogICAgfSwKICAgIHVuc2VyaWFsaXplIDogZnVuY3Rpb24gKHN0cikgewogICAgICBzdHIgPSBBYWsuZGVjb2RlSFRNTChzdHIpOwogICAgICB2YXIgYXJyID0gc3RyLnNwbGl0KCcmJyk7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgaWYgKGVudHJ5ICE9PSAnJyAmJiBlbnRyeS5zcGxpdCgnPScpKSB7CiAgICAgICAgICB2YXIgc3BsaXRzID0gZW50cnkuc3BsaXQoJz0nKTsKICAgICAgICAgIG9ialtzcGxpdHNbMF1dID0gQWFrLmRlY29kZVVSSShzcGxpdHNbMV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBvYmo7CiAgICB9LAogICAgdW5zZXRQcm9wZXJ0aWVzIDogZnVuY3Rpb24gKG9iaiwgcHJvcHMpIHsKICAgICAgcHJvcHMgPSAodHlwZW9mIHByb3BzID09ICdzdHJpbmcnKSA/IHByb3BzLnNwbGl0KCcsJykgOiBwcm9wczsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07CiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgZGVsZXRlIG9ialtwcm9wXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICBzZXRQcm9wZXJ0aWVzIDogZnVuY3Rpb24gKG9iajEsIG9iajIpIHsKICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmoyKSB7CiAgICAgICAgaWYgKG9iajIuaGFzT3duUHJvcGVydHkocHJvcCkpCiAgICAgICAgICBvYmoxW3Byb3BdID0gb2JqMltwcm9wXTsKICAgICAgfQogICAgICByZXR1cm4gb2JqMTsKICAgIH0sCiAgICBmaXhQcm90b2NvbFVSTCA6IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgaWYgKC9eaHR0cC8udGVzdCh1cmwpKSB7IC8vIGFic29sdXRlCiAgICAgICAgcmV0dXJuIHVybDsKICAgICAgfSBlbHNlIGlmICgvXlwvXC8vLnRlc3QodXJsKSkgeyAvLyByZWxhdGl2ZQogICAgICAgIHJldHVybiAnaHR0cDonICsgdXJsOwogICAgICB9IGVsc2UgeyAvLyBub25lCiAgICAgICAgcmV0dXJuICdodHRwOi8vJyArIHVybDsKICAgICAgfQogICAgfSwKICAgIGZha2VGdWNrQWRCbG9jayA6IGZ1bmN0aW9uIChpbnN0YW5jZU5hbWUsIGNsYXNzTmFtZSkgewoKICAgICAgLy8gaW5qZWN0IGZha2UgZnVja2FkYmx1Y2sKICAgICAgQWFrLmFkZFNjcmlwdChBYWsuaW50b1N0cmluZyhmdW5jdGlvbiAoKSB7CgogICAgICAgICAgdmFyIENMQVNTTkFNRSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICB2YXIgY2FsbE5vdERldGVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZGVidWcgPSB7CiAgICAgICAgICAgICAgc2V0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBnZXQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9uRGV0ZWN0ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgICB0aGlzLm9uKHRydWUsIGNhbGxiYWNrKTsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5vbk5vdERldGVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgdGhpcy5vbihmYWxzZSwgY2FsbGJhY2spOwogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGRldGVjdGVkLCBjYWxsYmFjaykgewogICAgICAgICAgICAgIGlmICghZGV0ZWN0ZWQpIHsKICAgICAgICAgICAgICAgIGNhbGxOb3REZXRlY3RlZCA9IGNhbGxiYWNrOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgMSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhbJ0FudGlBZGJLaWxsZXInLCBsb2NhdGlvbi5ob3N0LCAnRnVja0FkQmxvY2snXSk7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgc2V0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBnZXQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuY2hlY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKGNhbGxOb3REZXRlY3RlZCkKICAgICAgICAgICAgICAgIGNhbGxOb3REZXRlY3RlZCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLmVtaXRFdmVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5jbGVhckV2ZW50ID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICB9OwoKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHdpbmRvdywgewogICAgICAgICAgICBDTEFTU05BTUUgOiB7CiAgICAgICAgICAgICAgdmFsdWUgOiBDTEFTU05BTUUsCiAgICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHsKICAgICAgICAgICAgSU5TVEFOQ0VOQU1FIDogewogICAgICAgICAgICAgIHZhbHVlIDogbmV3IENMQVNTTkFNRSgpLAogICAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgIH0pLnJlcGxhY2UoL0lOU1RBTkNFTkFNRS9nLCBpbnN0YW5jZU5hbWUgfHwgJ2Z1Y2tBZEJsb2NrJykKICAgICAgICAucmVwbGFjZSgvQ0xBU1NOQU1FL2csIGNsYXNzTmFtZSB8fCAnRnVja0FkQmxvY2snKSk7CgogICAgfSwgLy8gRXZlbnRzCiAgICBvbkV2ZW50IDogZnVuY3Rpb24gKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyLCBidWJibGVzKSB7CiAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgeyAvLyBGb3IgYWxsIG1ham9yIGJyb3dzZXJzLCBleGNlcHQgSUUgOCBhbmQgZWFybGllcgogICAgICAgIChlbGVtZW50IHx8IHdpbmRvdykuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgYnViYmxlcyB8fCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7IC8vIEZvciBJRSA4IGFuZCBlYXJsaWVyIHZlcnNpb25zCiAgICAgICAgKGVsZW1lbnQgfHwgd2luZG93KS5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgbGlzdGVuZXIpOwogICAgICB9CiAgICAgIHJldHVybiBhcmd1bWVudHM7CiAgICB9LAogICAgb2ZmRXZlbnQgOiBmdW5jdGlvbiAoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIsIGJ1YmJsZXMpIHsKICAgICAgaWYgKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKSB7IC8vIEZvciBhbGwgbWFqb3IgYnJvd3NlcnMsIGV4Y2VwdCBJRSA4IGFuZCBlYXJsaWVyCiAgICAgICAgKGVsZW1lbnQgfHwgd2luZG93KS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBidWJibGVzIHx8IGZhbHNlKTsKICAgICAgfSBlbHNlIHsgLy8gRm9yIElFIDggYW5kIGVhcmxpZXIgdmVyc2lvbnMKICAgICAgICAoZWxlbWVudCB8fCB3aW5kb3cpLmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBsaXN0ZW5lcik7CiAgICAgIH0KICAgIH0sCiAgICBlbWl0RXZlbnQgOiBmdW5jdGlvbiAoZWxlbWVudCwgdHlwZSwgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlKSB7CiAgICAgIHZhciBldmVudDsKICAgICAgaWYgKHdpbmRvdy5DdXN0b21FdmVudCkgewogICAgICAgIGV2ZW50ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudCh0eXBlLCB7CiAgICAgICAgICAgICJkZXRhaWwiIDogZGV0YWlsIHx8IHVuZGVmaW5lZAogICAgICAgICAgfSwgYnViYmxlcyB8fCBmYWxzZSwgY2FuY2VsYWJsZSB8fCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTsKICAgICAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQoJ29uJyArIHR5cGUsIGJ1YmJsZXMgfHwgZmFsc2UsIGNhbmNlbGFibGUgfHwgZmFsc2UsIHsKICAgICAgICAgICJkZXRhaWwiIDogZGV0YWlsIHx8IHVuZGVmaW5lZAogICAgICAgIH0pOwogICAgICB9CiAgICAgIChlbGVtZW50IHx8IHdpbmRvdykuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICB9LAogICAgZGV0ZWN0ZWQgOiBmdW5jdGlvbiAobmFtZSkgewogICAgICBpZiAoQWFrLm9wdHMuZGVidWcgJiYgQWFrLm9wdHMubG9nRGV0ZWN0ZWQpIHsKICAgICAgICBBYWsuZW1pdEV2ZW50KHdpbmRvdywgJ2RldGVjdGVkJywgbmFtZSk7CiAgICAgIH0KICAgIH0sCiAgICByZWFkeSA6IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICBBYWsub25FdmVudCh3aW5kb3csICdsb2FkJywgY2FsbGJhY2spOwogICAgfSwKICAgIHBsYXllciA6IGZ1bmN0aW9uICgpIHsKCiAgICAgIHZhciBQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy50YXJnZXQgPSB7fTsKICAgICAgICB0aGlzLnBsYXllciA9IHt9OwogICAgICAgIHRoaXMubmFtZSA9IG51bGw7CiAgICAgICAgdGhpcy52ZXJzaW9uID0gbnVsbDsKICAgICAgICB0aGlzLmxpYnJhcnkgPSBudWxsOwogICAgICAgIHRoaXMuZmFsbGJhY2sgPSAndmxjJzsKICAgICAgICB0aGlzLmF1dG9wbGF5ID0gQWFrLm9wdHMuYXV0b1BsYXk7CiAgICAgICAgdGhpcy5hcmdzID0gbnVsbDsKICAgICAgICB0aGlzLnNldHVwID0ge307CiAgICAgICAgdGhpcy5vcHRpb25zID0gewogICAgICAgICAgYnVpbGQgOiAnZW1iZWQnLAogICAgICAgICAgaW5zZXJ0IDogJ3JlcGxhY2UnLAogICAgICAgICAgY3Jvc3NTZXR1cCA6IHRydWUKICAgICAgICB9OwogICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgLy8gZmxhc2gKICAgICAgICAgIHdtb2RlIDogJ29wYXF1ZScsCiAgICAgICAgICBxdWFsaXR5IDogJ2hpZ2gnLAogICAgICAgICAgYmdjb2xvciA6ICcjMDAwMDAwJywKICAgICAgICAgIHR5cGUgOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnLAogICAgICAgICAgcGx1Z2luc3BhZ2UgOiAnaHR0cDovL3d3dy5hZG9iZS5jb20vZ28vZ2V0Zmxhc2gnLAogICAgICAgICAgYWxsb3dzY3JpcHRhY2Nlc3MgOiAnYWx3YXlzJywgLy8gbmV2ZXIgLyBhbHdheXMKICAgICAgICAgIGFsbG93ZnVsbHNjcmVlbiA6IHRydWUKICAgICAgICB9OwogICAgICB9OwoKICAgICAgUGxheWVyLnByb3RvdHlwZSA9IHsgLy8gaHR0cDovL3Rpbnl1cmwuY29tL3BiNmZ0aGoKICAgICAgICBnZXRUYXJnZXROb2RlIDogZnVuY3Rpb24gKGVsZW1lbnQpIHsKCiAgICAgICAgICB0aGlzLnRhcmdldC5ub2RlID0gQWFrLmdldEVsZW1lbnQoZWxlbWVudCk7CiAgICAgICAgICB0aGlzLnRhcmdldC5odG1sID0gdGhpcy50YXJnZXQubm9kZS5vdXRlckhUTUw7CiAgICAgICAgICB0aGlzLnRhcmdldC5wYXJlbnQgPSB0aGlzLnRhcmdldC5ub2RlLnBhcmVudE5vZGU7CiAgICAgICAgICB0aGlzLnRhcmdldC50YWcgPSB0aGlzLnRhcmdldC5ub2RlLnRhZ05hbWU7CgogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmlkID0gdGhpcy5hdHRyaWJ1dGVzLm5hbWUgPSBBYWsuZ2VuZXJhdGVJRCgpOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCA9IHRoaXMudGFyZ2V0Lm5vZGUuaGVpZ2h0IHx8IHRoaXMudGFyZ2V0Lm5vZGUuY2xpZW50SGVpZ2h0IHx8ICc0ODBweCc7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSB0aGlzLnRhcmdldC5ub2RlLndpZHRoIHx8IHRoaXMudGFyZ2V0Lm5vZGUuY2xpZW50V2lkdGggfHwgJzY0MHB4JzsKICAgICAgICB9LAogICAgICAgIGdldE1pbWVUeXBlIDogZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL2pyczhmZ3oKICAgICAgICAgIHN3aXRjaCAodHlwZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICBjYXNlICdtcDQnOgogICAgICAgICAgICByZXR1cm4gJ3ZpZGVvL21wNCc7CiAgICAgICAgICBjYXNlICd3ZWJtJzoKICAgICAgICAgICAgcmV0dXJuICd2aWRlby93ZWJtJzsKICAgICAgICAgIGNhc2UgJ29nZyc6CiAgICAgICAgICBjYXNlICdvZ3YnOgogICAgICAgICAgICByZXR1cm4gJ3ZpZGVvL29nZyc7CiAgICAgICAgICBjYXNlICdmbHYnOgogICAgICAgICAgICByZXR1cm4gJ3ZpZGVvL3gtZmx2JzsKICAgICAgICAgIGNhc2UgJ2hscyc6CiAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veC1tcGVnVVJMJzsKICAgICAgICAgIGNhc2UgJ2hkcyc6CiAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vZjRtK3htbCc7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gdHlwZTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGJ1aWxkaW5nIDogZnVuY3Rpb24gKHRhZ05hbWUpIHsKICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgICAgICBpZiAoQWFrLm9wdHMuZm9yY2VWTEMgJiYgdGhpcy5uYW1lICE9PSAndmxjJykgewogICAgICAgICAgICBBYWsuaW5mbygnZm9yY2UgcGxheWluZyB3aXRoIFZMQycpOwogICAgICAgICAgICByZXR1cm4gdGhpcy52bGMuYXBwbHkodGhpcywgdGhpcy5hcmdzKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzd2l0Y2ggKHRhZ05hbWUpIHsKICAgICAgICAgIGNhc2UgJ2lmcmFtZSc6CiAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuYXR0cmlidXRlcy5zcmMgfHwgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCArICcvJyk7CiAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuc3JjZG9jKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyLm5vZGUuaGFzQXR0cmlidXRlKCJzcmNkb2MiKSB8fCAnc3JjZG9jJyBpbiB0aGlzLnBsYXllci5ub2RlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnc3JjZG9jJywgdGhpcy5hdHRyaWJ1dGVzLnNyY2RvYyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGRvZXMgbm90IHdvcmsgY29ycmVjdGx5IHdpdGggZmxvd3BsYXllcgogICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsICJkYXRhOnRleHQvaHRtbDtjaGFyc2V0PXV0Zi04LCIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5hdHRyaWJ1dGVzLnNyY2RvYykpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLnNldHVwLndpZHRoKTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuc2V0dXAuaGVpZ2h0KTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2hlaWdodDonICsgdGhpcy5zZXR1cC5oZWlnaHQgKyAncHg7IHdpZHRoOicgKyB0aGlzLnNldHVwLndpZHRoICsgJ3B4OycpOwogICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnZnJhbWVib3JkZXInLCAwKTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3Njcm9sbGluZycsICdubycpOwogICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnYWxsb3dmdWxsc2NyZWVuJywgdHJ1ZSk7IC8vIGh0dHA6Ly90aW55dXJsLmNvbS9veXllaGFiCiAgICAgICAgICAgIC8vIGFsbG93ZnVsbHNjcmVlbiB3ZWJraXRhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIG9hbGxvd2Z1bGxzY3JlZW4gbXNhbGxvd2Z1bGxzY3JlZW4KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd2aWRlbyc6CiAgICAgICAgICAgIHZhciBhdHRyTmFtZTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7CiAgICAgICAgICAgIGZvciAoYXR0ck5hbWUgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkpCiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgdGhpcy5hdHRyaWJ1dGVzW2F0dHJOYW1lXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuYXV0b3BsYXkpIHsgLy8gZml4IGJ1ZyBkdXBsaWNhdGUgcGxheWluZyBvbiBmaXJlZm94L2Nocm9tZQogICAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUub25sb2Fkc3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvL3RoaXMucGxheSgpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUub25lcnJvciA9IGZ1bmN0aW9uICgpIHsgLy8gc3dpdGNoIHRvIHBsdWdpbiBwbGF5ZXIKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHNlbGYuYXJnc1swXSA9IHNlbGYucGxheWVyLm5vZGU7CiAgICAgICAgICAgICAgICBzZWxmLnZsY3BsYXllci5hcHBseShzZWxmLCBzZWxmLmFyZ3MpOwogICAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6IC8vIGVtYmVkCiAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdlbWJlZCcpOwogICAgICAgICAgICBmb3IgKGF0dHJOYW1lIGluIHRoaXMuYXR0cmlidXRlcykgewogICAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpKQogICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIHRoaXMuYXR0cmlidXRlc1thdHRyTmFtZV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnBsYXllci5odG1sID0gdGhpcy5wbGF5ZXIubm9kZS5vdXRlckhUTUw7CiAgICAgICAgICB0aGlzLnBsYXllci50YWcgPSB0aGlzLnBsYXllci5ub2RlLnRhZ05hbWU7CiAgICAgICAgICB0aGlzLmluc2VydGluZygpOwogICAgICAgIH0sCiAgICAgICAgaW5zZXJ0aW5nIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuaW5zZXJ0KSB7CiAgICAgICAgICBjYXNlICdpbm5lcic6CiAgICAgICAgICAgIHRoaXMudGFyZ2V0Lm5vZGUuaW5uZXJIVE1MID0gdGhpcy5wbGF5ZXIuaHRtbDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdhcHBlbmQnOgogICAgICAgICAgICB0aGlzLnRhcmdldC5wYXJlbnQucmVwbGFjZUNoaWxkKHRoaXMucGxheWVyLm5vZGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6IC8vIHJlcGxhY2UKICAgICAgICAgICAgdGhpcy50YXJnZXQucGFyZW50LnJlcGxhY2VDaGlsZCh0aGlzLnBsYXllci5ub2RlLCB0aGlzLnRhcmdldC5ub2RlKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChBYWsub3B0cy5sb2dQbGF5ZXIpIHsKICAgICAgICAgICAgQWFrLmxvZygncGxheWVyJywgdGhpcyk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9LAogICAgICAgIGVkaXRpbmcgOiBmdW5jdGlvbiAoZWxlbSwgb3B0cykgeyAvLyByZXZpZXcKICAgICAgICAgIEFhay5oYXNFbGVtZW50KGVsZW0sIGZ1bmN0aW9uICh0aGlzRWxlbWVudCkgewogICAgICAgICAgICB2YXIgb2JqLAogICAgICAgICAgICBzd2YsCiAgICAgICAgICAgIHZhbHVlLAogICAgICAgICAgICBwYXJ0cywKICAgICAgICAgICAgcGFyYW0sCiAgICAgICAgICAgIGF0dHJpYnV0ZXMsCiAgICAgICAgICAgIGF0dHJOYW1lOwogICAgICAgICAgICB2YXIgc28gPSB0aGlzRWxlbWVudDsKICAgICAgICAgICAgdmFyIGNsb25lID0gc28uY2xvbmVOb2RlKHRydWUpOwoKICAgICAgICAgICAgLy8gc2V0IGF0dHJpaWJ1dGVzCiAgICAgICAgICAgIGlmIChvcHRzLnNldEF0dHJpYnV0ZSkgewogICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBvcHRzLnNldEF0dHJpYnV0ZTsKICAgICAgICAgICAgICBmb3IgKGF0dHJOYW1lIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgIGlmIChjbG9uZS5xdWVyeVNlbGVjdG9yKCdwYXJhbVtuYW1lPSInICsgYXR0ck5hbWUgKyAnIl0nKSkgewogICAgICAgICAgICAgICAgICBjbG9uZS5xdWVyeVNlbGVjdG9yKCdwYXJhbVtuYW1lPSInICsgYXR0ck5hbWUgKyAnIl0nKS52YWx1ZSA9IGF0dHJpYnV0ZXNbYXR0ck5hbWVdOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjbG9uZS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpKSB7CiAgICAgICAgICAgICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0cmlidXRlc1thdHRyTmFtZV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gdW5zZXQgYXR0cmlidXRlcwogICAgICAgICAgICBpZiAob3B0cy51bnNldEF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gb3B0cy5kZWxBdHRyaWJ1dGVzOwogICAgICAgICAgICAgIGZvciAoYXR0ck5hbWUgaW4gYXR0cmlidXRlcykgewogICAgICAgICAgICAgICAgaWYgKGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3BhcmFtW25hbWU9IicgKyBhdHRyTmFtZSArICciXScpKSB7CiAgICAgICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3BhcmFtW25hbWU9IicgKyBhdHRyTmFtZSArICciXScpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmUuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKSkgewogICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cmlidXRlc1thdHRyTmFtZV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAob3B0cy5zZXRGbGFzaHZhcnMgfHwgb3B0cy51bnNldEZsYXNodmFycykgewogICAgICAgICAgICAgIGlmIChjbG9uZS5xdWVyeVNlbGVjdG9yKCdwYXJhbVtuYW1lPSJmbGFzaHZhcnMiXScpKSB7CiAgICAgICAgICAgICAgICBwYXJhbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3BhcmFtW25hbWU9ImZsYXNodmFycyJdJyk7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcmFtLnZhbHVlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmUuZ2V0QXR0cmlidXRlKCdmbGFzaHZhcnMnKSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSBjbG9uZS5nZXRBdHRyaWJ1dGUoJ2ZsYXNodmFycycpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmUuZ2V0QXR0cmlidXRlKCdkYXRhJykgJiYgY2xvbmUuZ2V0QXR0cmlidXRlKCdkYXRhJykuaW5kZXhPZignPycpID49IDApIHsKICAgICAgICAgICAgICAgIHBhcnRzID0gY2xvbmUuZ2V0QXR0cmlidXRlKCdkYXRhJykuc3BsaXQoJz8nLCAyKTsKICAgICAgICAgICAgICAgIHN3ZiA9IHBhcnRzLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnRzLnNoaWZ0KCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBvYmogPSBBYWsudW5zZXJpYWxpemUodmFsdWUpOwogICAgICAgICAgICAgIGlmIChvcHRzLnNldEZsYXNodmFycykgewogICAgICAgICAgICAgICAgb2JqID0gQWFrLnNldFByb3BlcnRpZXMob2JqLCBvcHRzLnNldEZsYXNodmFycyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChvcHRzLnVuc2V0Rmxhc2h2YXJzKSB7CiAgICAgICAgICAgICAgICBvYmogPSBBYWsudW5zZXRQcm9wZXJ0aWVzKG9iaiwgb3B0cy51bnNldEZsYXNodmFycyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHZhbHVlID0gQWFrLnNlcmlhbGl6ZShvYmopOwoKICAgICAgICAgICAgICBpZiAocGFyYW0pIHsKICAgICAgICAgICAgICAgIHBhcmFtLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzd2YpIHsKICAgICAgICAgICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZSgnZGF0YScsIHN3ZiArICc/JyArIHZhbHVlKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCdmbGFzaHZhcnMnLCB2YWx1ZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHJlcGxhY2UKICAgICAgICAgICAgQWFrLmxvZyhzbywgY2xvbmUsIG9iaik7CiAgICAgICAgICAgIEFhay5yZXBsYWNlRWxlbWVudChzbywgY2xvbmUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBlbWJlZGRpbmcgOiBmdW5jdGlvbiAoaWQsIHNldHVwLCBhdHRyaWJ1dGVzLCBvcHRpb25zKSB7IAogICAgICAgIAogICAgICAgICAgdGhpcy5nZXRUYXJnZXROb2RlKGlkKTsKICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IEFhay5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcyB8fCB7fSk7CiAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwge30pOwoKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5zcmMgPSBzZXR1cC5zd2Y7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuaWQgPSB0aGlzLmF0dHJpYnV0ZXMubmFtZSA9IEFhay5nZW5lcmF0ZUlEKCk7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0ID0gc2V0dXAuaGVpZ2h0IHx8IHRoaXMuYXR0cmlidXRlcy5oZWlnaHQ7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSBzZXR1cC53aWR0aCB8fCB0aGlzLmF0dHJpYnV0ZXMud2lkdGg7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuZmxhc2h2YXJzID0gQWFrLnNlcmlhbGl6ZShzZXR1cCk7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsudW5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgJ3N3ZicpOwoKICAgICAgICAgIHRoaXMuYnVpbGRpbmcoJ2VtYmVkJyk7CiAgICAgICAgfSwKICAgICAgICBqd3BsYXllciA6IGZ1bmN0aW9uIChpZCwgc2V0dXAsIGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHsKICAgICAgICAgIC8vIEp3UGxheWVyIDcgKGZsYXNoL2h0bWw1KQogICAgICAgICAgLy8gbm90ZTogcHJvYmxlbSB3aXRoIHNzbAogICAgICAgICAgLy8gc2V0dXA6IGh0dHA6Ly90aW55dXJsLmNvbS9oaHJnamFwLCBodHRwOi8vdGlueXVybC5jb20vZ3FzNDZ0bQogICAgICAgICAgLy8gYXBpOiBodHRwczovL2RldmVsb3Blci5qd3BsYXllci5jb20vanctcGxheWVyL2RvY3MvZGV2ZWxvcGVyLWd1aWRlL2FwaS9qYXZhc2NyaXB0X2FwaV9yZWZlcmVuY2UvCiAgICAgICAgICAvLyBobHM6IGh0dHA6Ly90aW55dXJsLmNvbS9weGw5c2NxCiAgICAgICAgICAvLyBobHMtdGVzdGVyOiBodHRwOi8vZGVtby5qd3BsYXllci5jb20vc3RyZWFtLXRlc3Rlci8KICAgICAgICAgIC8vIHJ0bXAtZGVtbzogaHR0cHM6Ly93d3cuc2NhbGVlbmdpbmUuY29tL2p3NgogICAgICAgICAgLy8gaWZyYW1lOiBodHRwOi8vdGlueXVybC5jb20vODZhZ2c2OAoKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXR1cCA9IHsKICAgICAgICAgICAgICBjb250cm9scyA6IHRydWUsCiAgICAgICAgICAgICAgZmlsZSA6IHNldHVwLnNvdXJjZSwKICAgICAgICAgICAgICBhYm91dHRleHQgOiBBYWsubmFtZSwKICAgICAgICAgICAgICBhYm91dGxpbmsgOiBBYWsuaG9tZVVSTCwKICAgICAgICAgICAgICB3aWR0aCA6IHNldHVwLndpZHRoIHx8IHRoaXMuYXR0cmlidXRlcy53aWR0aCwKICAgICAgICAgICAgICBoZWlnaHQgOiBzZXR1cC5oZWlnaHQgfHwgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCwKICAgICAgICAgICAgICBhdXRvc3RhcnQgOiBzZXR1cC5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5LAogICAgICAgICAgICAgIHByaW1hcnkgOiAnaHRtbDUnLAogICAgICAgICAgICAgIHByZWxvYWQgOiAnYXV0bycsCiAgICAgICAgICAgICAgc2tpbiA6IHsgLy8gU2V2ZW4gfCBTaXggfCBGaXZlIHwgR2xvdyB8IEJlZWxkZW4gfCBWYXBvciB8IEJla2xlIHwgUm91bmRzdGVyIHwgU3Rvcm10cm9vcGVyCiAgICAgICAgICAgICAgICBuYW1lIDogc2V0dXAuc2tpbiB8fCAic2l4IiAvLyBkZWZhdWx0IHNraW4gSldQNgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKFsnbXA0JywgJ3dlYm0nLCAnb2dnJywgJ29ndiddLmluZGV4T2Yoc2V0dXAudHlwZSkgPT09IC0xKSB7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5wcmltYXJ5ID0gJ2ZsYXNoJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2V0dXAudHlwZSA9PT0gJ2hscycpIHsKICAgICAgICAgICAgICB0aGlzLnNldHVwLmhsc2h0bWwgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNyY2RvYyA9ICc8aHRtbD48aGVhZD48c3R5bGUgdHlwZT0idGV4dC9jc3MiPkBmb250LWZhY2V7Zm9udC1mYW1pbHk6anctaWNvbnM7c3JjOnVybCgnICsgbG9jYXRpb24ucHJvdG9jb2wgKyAnc3NsLnAuandwY2RuLmNvbS9wbGF5ZXIvdi83LjQuMy9qdy1pY29ucy53b2ZmKSBmb3JtYXQoIndvZmYiKSx1cmwoJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vc3NsLnAuandwY2RuLmNvbS9wbGF5ZXIvdi83LjQuMy9qdy1pY29ucy50dGYpIGZvcm1hdCgidHJ1ZXR5cGUiKTtmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWx9PC9zdHlsZT48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY29udGVudC5qd3BsYXRmb3JtLmNvbS9saWJyYXJpZXMvVjZOZkV6VDcuanMiPjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+aHRtbCwgYm9keXtwYWRkaW5nOjA7IG1hcmdpbjowO308L3N0eWxlPjwvaGVhZD48Ym9keT48ZGl2IGlkPSJqdy1tb3ZpZSI+PC9kaXY+PHNjcmlwdD5qd3BsYXllcigianctbW92aWUiKS5zZXR1cCgnICsgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR1cCkgKyAnKTs8L3NjcmlwdD48L2JvZHk+PC9odG1sPic7CgogICAgICAgICAgdGhpcy5idWlsZGluZygnaWZyYW1lJyk7CiAgICAgICAgfSwKICAgICAgICB2aWRlb2pzIDogZnVuY3Rpb24gKGlkLCBzZXR1cCwgYXR0cmlidXRlcywgb3B0aW9ucykgeyAKICAgICAgICAgIC8vIFZpZGVvSnMgNSAoZmxhc2gvaHRtbDUpCiAgICAgICAgICAvLyBzZXR1cDogaHR0cDovL3Rpbnl1cmwuY29tL3BjZ3gyb2IKICAgICAgICAgIC8vIHBsYXliYWNrOiBodHRwOi8vdGlueXVybC5jb20vbnNjenRtbQogICAgICAgICAgLy8gZGVtbzogaHR0cDovL2pzZmlkZGxlLm5ldC9OOFpzNS8xOC8KICAgICAgICAgIC8vIHBsdWdpbnM6IGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlb2pzL3ZpZGVvLmpzL3dpa2kvUGx1Z2lucwoKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXR1cCA9IHsKICAgICAgICAgICAgICBjb250cm9scyA6IHRydWUsCiAgICAgICAgICAgICAgcHJlbG9hZCA6ICdhdXRvJywKICAgICAgICAgICAgICB3aWR0aCA6IHNldHVwLndpZHRoIHx8IHRoaXMuYXR0cmlidXRlcy53aWR0aCwKICAgICAgICAgICAgICBoZWlnaHQgOiBzZXR1cC5oZWlnaHQgfHwgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCwKICAgICAgICAgICAgICB0ZWNoT3JkZXIgOiBbImh0bWw1IiwgImZsYXNoIl0sCiAgICAgICAgICAgICAgYXV0b3BsYXkgOiBzZXR1cC5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5LAogICAgICAgICAgICAgIHNvdXJjZXMgOiBbewogICAgICAgICAgICAgICAgICB0eXBlIDogdGhpcy5nZXRNaW1lVHlwZShzZXR1cC50eXBlKSwKICAgICAgICAgICAgICAgICAgc3JjIDogc2V0dXAuc291cmNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9OwogICAgICAgICAgICAvKiBkb24ndCB3b3JrIAogICAgICAgICAgICBpZiAoc2V0dXAudHlwZSA9PT0gJ2hscycpIHsKICAgICAgICAgICAgICB0ZWNoT3JkZXIgOiBbImZsYXNoIiwgImh0bWw1Il0sCiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5mbGFzaCA9IHsKICAgICAgICAgICAgICAgIC8vc3dmIDogIi8vcmVla3NpdGUuY29tL3B1YmxpYy9zd2YvdmlkZW9qcy1mbGFzaGxzLnN3ZiIKICAgICAgICAgICAgICAgIHN3ZiA6ICdodHRwOi8vd3d3LmZsYXNobHMub3JnL3ZpZGVvanMvdmlkZW8tanMuc3dmJwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgKi8KICAgICAgICAgIH0KCiAgICAgICAgICAvLyAKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5zcmNkb2MgPSAnPGh0bWw+PGhlYWQ+PGxpbmsgaHJlZj0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3ZpZGVvLmpzLzUuMTAuNS9hbHQvdmlkZW8tanMtY2RuLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCI+PHNjcmlwdCBzcmM9IicgKyBsb2NhdGlvbi5wcm90b2NvbCArICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy92aWRlby5qcy81LjEwLjUvdmlkZW8ubWluLmpzIj48L3NjcmlwdD48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3ZpZGVvanMtY29udHJpYi1obHMvMy4xLjAvdmlkZW9qcy1jb250cmliLWhscy5taW4uanMiPjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+aHRtbCwgYm9keXtwYWRkaW5nOjA7IG1hcmdpbjowO30udmpzLWRlZmF1bHQtc2tpbntjb2xvcjojZWVlfS52anMtZGVmYXVsdC1za2luIC52anMtcGxheS1wcm9ncmVzcywudmpzLWRlZmF1bHQtc2tpbiAudmpzLXZvbHVtZS1sZXZlbHtiYWNrZ3JvdW5kLWNvbG9yOiNlZWV9LnZqcy1kZWZhdWx0LXNraW4gLnZqcy1iaWctcGxheS1idXR0b24sLnZqcy1kZWZhdWx0LXNraW4gLnZqcy1jb250cm9sLWJhcntiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjIpfS52anMtZGVmYXVsdC1za2luIC52anMtc2xpZGVye2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMyl9PC9zdHlsZT48L2hlYWQ+PGJvZHk+PHZpZGVvIGlkPSJ2anMtbW92aWUiIGNsYXNzPSJ2aWRlby1qcyB2anMtZGVmYXVsdC1za2luIHZqcy1iaWctcGxheS1jZW50ZXJlZCI+PC92aWRlbz48c2NyaXB0PnZpZGVvanMoInZqcy1tb3ZpZSIsICcgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHVwKSArICcpPC9zY3JpcHQ+PC9ib2R5PjwvaHRtbD4nOwoKICAgICAgICAgIHRoaXMuYnVpbGRpbmcoJ2lmcmFtZScpOwogICAgICAgIH0sCiAgICAgICAgZmxvd3BsYXllciA6IGZ1bmN0aW9uIChpZCwgc2V0dXAsIGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHsKICAgICAgICAgIC8vIEZsb3dQbGF5ZXIgNiAoZmxhc2gpCiAgICAgICAgICAvLyBub3RlOiBwcm9ibGVtIHdpdGggZmxhc2hwbGF5ZXIKICAgICAgICAgIC8vIHN1cHBvcnQ6IG1wNCwgZmx2LCBmNHYsIG00diwgbW92CiAgICAgICAgICAvLyBzZXR1cDogaHR0cHM6Ly9mbG93cGxheWVyLm9yZy9kb2NzL3NldHVwLmh0bWwKICAgICAgICAgIC8vIGFwaTogaHR0cHM6Ly9mbG93cGxheWVyLm9yZy9kb2NzL2FwaS5odG1sCiAgICAgICAgICAvLyBkZW1vOiBodHRwOi8vZGVtb3MuZmxvd3BsYXllci5vcmcvYmFzaWNzL2pzLXNldHVwLWF1dG9wbGF5Lmh0bWwKICAgICAgICAgIC8vIGhkczogaHR0cHM6Ly9mbG93cGxheWVyLmVsZWN0cm90ZXF1ZS5vcmcvaHR0cHN0cmVhbWluZy1oZHMvZnA2CiAgICAgICAgICAvLyBobHM6IGh0dHA6Ly9kZW1vcy5mbG93cGxheWVyLm9yZy9hcGkvaGxzanMuaHRtbAogICAgICAgICAgLy8gZmx2OiBodHRwOi8vZGVtb3MuZmxvd3BsYXllci5vcmcvYmFzaWNzL2Zsdi5odG1sCgogICAgICAgICAgdGhpcy5nZXRUYXJnZXROb2RlKGlkKTsKICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IEFhay5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcyB8fCB7fSk7CiAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwge30pOwoKICAgICAgICAgIHRoaXMuc2V0dXAgPSBzZXR1cDsKICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NTZXR1cCA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLnNldHVwID0gewogICAgICAgICAgICAgIHdpZHRoIDogc2V0dXAud2lkdGggfHwgdGhpcy5hdHRyaWJ1dGVzLndpZHRoLAogICAgICAgICAgICAgIGhlaWdodCA6IHNldHVwLmhlaWdodCB8fCB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0LAogICAgICAgICAgICAgIGF1dG9wbGF5IDogc2V0dXAuYXV0b3BsYXkgfHwgdGhpcy5hdXRvcGxheSwKICAgICAgICAgICAgICBwcmVsb2FkIDogJ2F1dG8nCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChzZXR1cC50eXBlID09PSAnaGxzJykgewogICAgICAgICAgICAgIHRoaXMuc2V0dXAuc3dmID0gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy9yZWxlYXNlcy5mbG93cGxheWVyLm9yZy82LjAuNS9mbG93cGxheWVyaGxzLnN3Zic7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5lbmdpbmUgPSAnaGxzanMnOwogICAgICAgICAgICB9IGVsc2UgaWYgKFsnbXA0JywgJ3dlYm0nLCAnb2dnJywgJ29ndiddLmluZGV4T2Yoc2V0dXAudHlwZSkgPT09IC0xKSB7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5zd2YgPSBsb2NhdGlvbi5wcm90b2NvbCArICcvL3JlbGVhc2VzLmZsb3dwbGF5ZXIub3JnLzYuMC41L2Zsb3dwbGF5ZXIuc3dmJzsKICAgICAgICAgICAgICB0aGlzLnNldHVwLmVuZ2luZSA9ICdmbGFzaCc7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC50eXBlID0gJ3ZpZGVvL2ZsYXNoJzsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnNldHVwLmNsaXAgPSB7CiAgICAgICAgICAgICAgc291cmNlcyA6IFt7CiAgICAgICAgICAgICAgICAgIHR5cGUgOiB0aGlzLmdldE1pbWVUeXBlKHRoaXMuc2V0dXAudHlwZSB8fCBzZXR1cC50eXBlKSwKICAgICAgICAgICAgICAgICAgc3JjIDogc2V0dXAuc291cmNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9OwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5zcmNkb2MgPSAnPGh0bWw+PGhlYWQ+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInICsgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy9yZWxlYXNlcy5mbG93cGxheWVyLm9yZy82LjAuNS9za2luL2Z1bmN0aW9uYWwuY3NzIj48L3NjcmlwdD48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0xLjExLjIubWluLmpzIj48L3NjcmlwdD48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vcmVsZWFzZXMuZmxvd3BsYXllci5vcmcvNi4wLjUvZmxvd3BsYXllci5taW4uanMiPjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+aHRtbCwgYm9keXtwYWRkaW5nOjA7IG1hcmdpbjowO308L3N0eWxlPjwvaGVhZD48Ym9keT48ZGl2IGlkPSJmcC1tb3ZpZSI+PC9kaXY+PHNjcmlwdD5mbG93cGxheWVyKCIjZnAtbW92aWUiLCAnICsgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR1cCkgKyAnKTs8L3NjcmlwdD48L2JvZHk+PC9odG1sPic7CgogICAgICAgICAgdGhpcy5idWlsZGluZygnaWZyYW1lJyk7CiAgICAgICAgfSwKICAgICAgICBncmluZHBsYXllciA6IGZ1bmN0aW9uIChpZCwgc2V0dXAsIGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHsKICAgICAgICAgIC8vIEdyaW5kUGxheWVyIDEgKGZsYXNoKQogICAgICAgICAgLy8gc2V0dXA6IGh0dHA6Ly9vc21maGxzLmt1dHUucnUvZG9jcy9ncmluZC8KICAgICAgICAgIC8vIHN1cHBvcnQ6IGhscywgcnRtcAoKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXR1cCA9IHsKICAgICAgICAgICAgICBzcmMgOiBzZXR1cC5zb3VyY2UsCiAgICAgICAgICAgICAgc3RyZWFtVHlwZSA6ICJsaXZlIiwKICAgICAgICAgICAgICBzY2FsZU1vZGUgOiAibGV0dGVyYm94IiwKICAgICAgICAgICAgICBhdXRvUGxheSA6IHNldHVwLmF1dG9wbGF5IHx8IHRoaXMuYXV0b3BsYXkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNldHVwLnR5cGUgPT09ICdobHMnKSB7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5wbHVnaW5faGxzID0gIi8vcmVla3NpdGUuY29tL3B1YmxpYy9zd2YvZmxhc2hsc09TTUYuc3dmIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2V0dXAucHJveHkgPT09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLnNldHVwLnNyYyA9ICcvL3d3dy5kaWFuc2hpYm8uY29tL2ZldGNoLnBocC8nICsgc2V0dXAuc291cmNlLnN1YnN0cmluZyhzZXR1cC5zb3VyY2UuaW5kZXhPZignLy8nKSArIDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNyYyA9IHNldHVwLnN3ZiB8fCB0aGlzLmF0dHJpYnV0ZXMuc3JjIHx8ICIvL3JlZWtzaXRlLmNvbS9wdWJsaWMvc3dmL0dyaW5kUGxheWVyLnN3ZiI7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0ID0gc2V0dXAuaGVpZ2h0IHx8IHRoaXMuYXR0cmlidXRlcy5oZWlnaHQ7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSBzZXR1cC53aWR0aCB8fCB0aGlzLmF0dHJpYnV0ZXMud2lkdGg7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuZmxhc2h2YXJzID0gQWFrLnNlcmlhbGl6ZSh0aGlzLnNldHVwKTsKCiAgICAgICAgICB0aGlzLmJ1aWxkaW5nKCdlbWJlZCcpOwogICAgICAgIH0sCiAgICAgICAgdmxjIDogZnVuY3Rpb24gKGlkLCBzZXR1cCwgYXR0cmlidXRlcywgb3B0aW9ucykgewogICAgICAgICAgLy8gVkxDIFdlYiBQbHVnaW4gKHBsdWdpbikKICAgICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL29tbHpwMzkKICAgICAgICAgIC8vIHBsdWdpbnM6IGFib3V0OnBsdWdpbnMKICAgICAgICAgIC8vIGNocm9tZTovL2ZsYWdzLyNlbmFibGUtbnBhcGkKICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LmNocm9taXVtLm9yZy9kZXZlbG9wZXJzL25wYXBpLWRlcHJlY2F0aW9uCiAgICAgICAgICAvLyBJbiBTZXB0ZW1iZXIgMjAxNSAoQ2hyb21lIDQ1KSB3ZSB3aWxsIHJlbW92ZSB0aGUgb3ZlcnJpZGUgYW5kIE5QQVBJIHN1cHBvcnQgd2lsbCBiZSBwZXJtYW5lbnRseSByZW1vdmVkIGZyb20gQ2hyb21lLiBJbnN0YWxsZWQgZXh0ZW5zaW9ucyB0aGF0IHJlcXVpcmUgTlBBUEkgcGx1Z2lucyB3aWxsIG5vIGxvbmdlciBiZSBhYmxlIHRvIGxvYWQgdGhvc2UgcGx1Z2lucy4KCiAgICAgICAgICB0aGlzLm5hbWUgPSAndmxjJzsKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNyYyA9IHNldHVwLnNvdXJjZTsKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCA9IHNldHVwLmhlaWdodCB8fCB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0OwogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSBzZXR1cC53aWR0aCB8fCB0aGlzLmF0dHJpYnV0ZXMud2lkdGg7CiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5jb250cm9scyA9IHRydWU7CiAgICAgICAgICAgIGlmIChzZXR1cC5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5KSB7CiAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmF1dG9wbGF5ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy50eXBlID0gImFwcGxpY2F0aW9uL3gtdmxjLXBsdWdpbiI7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucGx1Z2luc3BhZ2UgPSAiaHR0cDovL3d3dy52aWRlb2xhbi5vcmciOwogICAgICAgICAgdGhpcy5idWlsZGluZygnZW1iZWQnKTsKICAgICAgICB9LAogICAgICAgIGh0bWw1IDogZnVuY3Rpb24gKGlkLCBzZXR1cCwgYXR0cmlidXRlcywgb3B0aW9ucykgeyAKICAgICAgICAgIC8vIFZpZGVvIFRhZyAoaHRtbDUpCiAgICAgICAgICAvLyBiYXNpY3M6IGh0dHBzOi8vaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL3ZpZGVvL2Jhc2ljcy8KICAgICAgICAgIC8vIHRhZzogaHR0cDovL3d3dy53M3NjaG9vbHMuY29tL3RhZ3MvdGFnX3ZpZGVvLmFzcAogICAgICAgICAgLy8gc3VwcG9ydDogbXA0LCB3ZWJtLCBvZ2cKICAgICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvaHRtbDUvdGVzdHMvdmlkZW8uaHRtbAoKICAgICAgICAgIHRoaXMub3B0aW9ucyA9IEFhay5zZXRQcm9wZXJ0aWVzKHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7fSk7CgogICAgICAgICAgdGhpcy5nZXRUYXJnZXROb2RlKGlkKTsKICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IEFhay5zZXRQcm9wZXJ0aWVzKHt9LCBzZXR1cCB8fCB7fSk7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuc3JjID0gc2V0dXAuc291cmNlOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmlkID0gdGhpcy5hdHRyaWJ1dGVzLm5hbWUgPSBBYWsuZ2VuZXJhdGVJRCgpOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCA9IHRoaXMuYXR0cmlidXRlcy5oZWlnaHQgfHwgdGhpcy50YXJnZXQubm9kZS5jbGllbnRIZWlnaHQgfHwgIjEwMCUiOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLndpZHRoID0gdGhpcy5hdHRyaWJ1dGVzLndpZHRoIHx8IHRoaXMudGFyZ2V0Lm5vZGUuY2xpZW50V2lkdGggfHwgIjEwMCUiOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnR5cGUgPSB0aGlzLmdldE1pbWVUeXBlKHRoaXMuYXR0cmlidXRlcy50eXBlKTsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5jb250cm9scyA9ICdjb250cm9scyc7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHJlbG9hZCA9ICdub25lJzsKICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuYXV0b3BsYXkgfHwgdGhpcy5hdXRvcGxheSkgewogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuYXV0b3BsYXkgPSAnYXV0b3BsYXknOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOyBtYXJnaW46MCBhdXRvOyc7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsudW5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgJ3NvdXJjZScpOwoKICAgICAgICAgIHRoaXMuYnVpbGRpbmcoJ3ZpZGVvJyk7CiAgICAgICAgfQogICAgICB9OwogICAgICAKICAgICAgcmV0dXJuIG5ldyBQbGF5ZXIoKTsKICAgIH0sCiAgICBydWxlcyA6IHsKICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgLy8gQW50aS1BZGJsb2NrIEtpbGxlcgogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBzZXR0aW5ncyA6IHsKICAgICAgICBob3N0IDogWydsb2NhbGhvc3QnLCAncmVlay5naXRodWIuaW8nLCAncmVla3NpdGUuY29tJ10sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgaWYgKC9cL2FudGktYWRibG9jay1raWxsZXIoLXBhZ2VzKT9cLyQvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIHZhciBzZXR0aW5nc0JveCA9IEFhay5nZXRFbGVtZW50KCcjYWFrLXNldHRpbmdzLWJveCcpOwogICAgICAgICAgICB2YXIgc2V0dGluZ3NOb3RpY2UgPSBBYWsuZ2V0RWxlbWVudCgnI2Fhay1zZXR0aW5ncy1ub3RpY2UnKTsKCiAgICAgICAgICAgIGlmICghQWFrLnVzZUdNKSB7CiAgICAgICAgICAgICAgc2V0dGluZ3NOb3RpY2UucXVlcnlTZWxlY3RvcignZGl2JykuaW5uZXJIVE1MID0gJ0luIG5hdGl2ZSBtb2RlLCB5b3UgbXVzdCBlZGl0IHRoZSBvcHRpb25zIG1hbnVhbGx5OiA8YSBocmVmPSInICsgQWFrLm5hdGl2ZVVSTCArICciPlNlZTwvYT4nOwogICAgICAgICAgICB9IGVsc2UgaWYgKHNldHRpbmdzQm94ICYmIHNldHRpbmdzTm90aWNlKSB7CiAgICAgICAgICAgICAgc2V0dGluZ3NOb3RpY2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICBzZXR0aW5nc0JveC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICBBYWsuaW5mbygnR00gc3RvcmFnZTonLCBBYWsuZ2V0VmFsdWUoKSk7CiAgICAgICAgICAgICAgQWFrLmluZm8oJ0dNIG9wdGlvbnM6JywgQWFrLm9wdHMpOwogICAgICAgICAgICAgIEFhay5pbmZvKCdHTSBhcGk6JywgQWFrLnVzZUdNICYmIEFhay5hcGlHTSgpKTsKCiAgICAgICAgICAgICAgLy8gdXNlciBjb25maWcKICAgICAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgICAgICB0YWcgOiAnZGl2JywKICAgICAgICAgICAgICAgIGh0bWwgOiAnVmVyc2lvbjogJyArIEFhay5nZXRWZXJzaW9uKCkgKyAnIDxicj5BYWtTY3JpcHQ6IHRydWUgPGJyPkFha0xpc3Q6ICcgKyAoIUFhay5nZXRFbGVtZW50KCcjazJVdzdpc0hyTW01SlhQMVZ3ZHhjNTY3WktjMWFaNEknKSkgKyAnIDxicj5Ccm93c2VyOiAnICsgQWFrLmdldEJyb3dzZXIoKSArICcgPGJyPlNjcmlwdE1hbmFnZXI6ICcgKyBBYWsuZ2V0U2NyaXB0TWFuYWdlcigpLAogICAgICAgICAgICAgICAgYXBwZW5kIDogJyNhYWstc2V0dGluZ3MtY29uZmlnJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAvLyBjcmVhdGUgb3B0aW9ucyAKICAgICAgICAgICAgICBmb3IgKHZhciBvcHROYW1lIGluIEFhay5vcHRpb25zKSB7CiAgICAgICAgICAgICAgICBpZiAoQWFrLm9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0TmFtZSkpIHsKICAgICAgICAgICAgICAgICAgdmFyIG9wdCA9IEFhay5vcHRpb25zW29wdE5hbWVdOwogICAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IEFhay5vcHRzW29wdE5hbWVdID09PSB0cnVlID8gImNoZWNrZWQiIDogJyc7CiAgICAgICAgICAgICAgICAgIEFhay5jcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgICAgICAgICB0YWcgOiAnZGl2JywKICAgICAgICAgICAgICAgICAgICBodG1sIDogJzxpbnB1dCBpZD0iJyArIG9wdE5hbWUgKyAnIiBjbGFzcz0iY3NzLWNoZWNrYm94IiAnICsgY2hlY2tlZCArICcgdHlwZT0iJyArIG9wdC50eXBlICsgJyIvPjxsYWJlbCBmb3I9IicgKyBvcHROYW1lICsgJyIgdGl0bGU9IicgKyBvcHQuaW5mbyArICciIGNsYXNzPSJjc3MtbGFiZWwiPicgKyBvcHQubGFiZWwgKyAnPC9sYWJlbD4nLAogICAgICAgICAgICAgICAgICAgIGFwcGVuZCA6ICcjYWFrLXNldHRpbmdzLScgKyBvcHQuZ3JvdXAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBzYXZlIG9wdGlvbnMgCiAgICAgICAgICAgICAgQWFrLm9uRXZlbnQoQWFrLmdldEVsZW1lbnQoIiNhYWstc2V0dGluZ3Mtc2F2ZSIpLCAiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY3NzLWNoZWNrYm94Jyk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gZWxlbXNbaV07CiAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICBBYWsuc2V0VmFsdWUoZWxlbS5pZCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgQWFrLnNldFZhbHVlKGVsZW0uaWQsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KCdTYXZlZCAhJyk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIC8vIENsZWFyIEdNIHN0b3JhZ2UKICAgICAgICAgICAgICBBYWsuYWRkQ29tbWFuZHMoewogICAgICAgICAgICAgICAgY2FwdGlvbiA6ICdDbGVhciBHTSBzdG9yYWdlJywKICAgICAgICAgICAgICAgIGV4ZWN1dGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIEFhay5kZWxldGVWYWx1ZSgpOwogICAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoJ0NsZWFyZWQgIScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICB1c2Vyc2NyaXB0c19kb21haW5zIDogeyAvLyBSZWRpcmVjdCB0byBHaXRodWIKICAgICAgICBob3N0IDogWyd1c2Vyc2NyaXB0cy5vcmcnLCAndXNlcnNjcmlwdHMub3JnOjgwODAnLCAndXNlcnNjcmlwdHMtbWlycm9yLm9yZyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoLzE1NTg0MCQvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIEFhay5nbyhBYWsuaG9tZVVSTCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBvcGVudXNlcmpzX29yZyA6IHsKICAgICAgICBob3N0IDogWydvcGVudXNlcmpzLm9yZyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gQWFrLmdldEVsZW1lbnQoJ2FbaHJlZiQ9Ii9pc3N1ZXMiXScpOwogICAgICAgICAgaWYgKC9BbnRpLUFkYmxvY2tfS2lsbGVyX1JlZWsvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpICYmIGVsZW1lbnQpIHsKICAgICAgICAgICAgQWFrLmNvbmZpcm1SZXBvcnQoZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBncmVhc3lmb3JrX29yZyA6IHsKICAgICAgICBob3N0IDogWydncmVhc3lmb3JrLm9yZyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gQWFrLmdldEVsZW1lbnQoJ2FbaHJlZiQ9Ii9mZWVkYmFjayJdJyk7CiAgICAgICAgICBpZiAoLy1hbnRpLWFkYmxvY2sta2lsbGVyLXJlZWsvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpICYmIGVsZW1lbnQpIHsKICAgICAgICAgICAgQWFrLmNvbmZpcm1SZXBvcnQoZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtb25rZXlndXRzX2NvbSA6IHsKICAgICAgICBob3N0IDogWydtb25rZXlndXRzLmNvbSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gQWFrLmdldEVsZW1lbnQoJ2FbaHJlZio9ImNvZGUucGhwP25hdj1mb3J1bSJdJyk7CiAgICAgICAgICBpZiAoL21vbmtleWd1dHMuY29tXC9jb2RlLnBocFw/aWQ9MzUxLy50ZXN0KGxvY2F0aW9uLmhyZWYpICYmIGVsZW1lbnQpIHsKICAgICAgICAgICAgQWFrLmNvbmZpcm1SZXBvcnQoZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAvLyBTcGVjaWZpYwogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBibG9nc3BvdCA6IHsKICAgICAgICAvLyBObyBDb3VudHJ5IFJlZGlyZWN0IChOQ1IpCiAgICAgICAgLy8gUHJldmVudCBCbG9nZ2VyIGZyb20gUmVkaXJlY3RpbmcgdG8gQ291bnRyeS1TcGVjaWZpYyBEb21haW5zCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vN3JtMzRqbwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZyL2ZvcnVtL2Rpc2N1c3Npb24vNTk1MwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy80OTAKICAgICAgICAvLyB0ZXN0OiBodHRwOi8vdGlueXVybC5jb20vbm9tY3hrYwogICAgICAgIGhvc3QgOiBbJy5ibG9nc3BvdC4nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKEFhay5pc1RvcGZyYW1lKSB7IC8vIGZpeCByZWRpcmV0aW9uIGxvb3AKICAgICAgICAgICAgdmFyIGJsb2cgPSBsb2NhdGlvbi5ob3N0LnJlcGxhY2UoJ3d3dy4nLCAnJykuc3BsaXQoIi4iKTsKICAgICAgICAgICAgaWYgKGJsb2dbYmxvZy5sZW5ndGggLSAxXSAhPSAiY29tIikgewogICAgICAgICAgICAgIHZhciBwYXRoID0gbG9jYXRpb24uaHJlZi5zcGxpdCgiLyIpLnNsaWNlKDMpLmpvaW4oJy8nKTsKICAgICAgICAgICAgICBBYWsuZ28oImh0dHA6Ly8iICsgYmxvZ1swXSArICIuYmxvZ3Nwb3QuY29tL25jci8iICsgcGF0aCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJsb2dzcG90X2tub3dsZXQzMzg5IDogewogICAgICAgIC8vIG5vdGU6IGFsc28gYWRkZWQgYWJwIHJ1bGUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODMKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vQTNtQ1hRNWkKICAgICAgICBob3N0IDogWydrbm93bGV0MzM4OS5ibG9nc3BvdC4nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldExvY2FsKCdub2FkJywgZmFsc2UpOwogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjZ0FkcyB7IGhlaWdodDogMTdweDsgfSAjZ0FkMiB7IGhlaWdodDogMTdweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdXB0b2JveF91cHRvc3RyZWFtIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNTEKICAgICAgICBob3N0IDogWyd1cHRvYm94LmNvbScsICd1cHRvc3RyZWFtLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBPbGQgc29sdXRpb24gW2RlcHJlY2F0ZWRdCiAgICAgICAgICB2YXIgaWQgPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvWzAtOWEtel17MTJ9Lyk7CiAgICAgICAgICBpZiAoaWQgIT09IG51bGwpIHsKICAgICAgICAgICAgQWFrLmFkZFN0eWxlKCIjIiArIGlkWzBdICsgIiB7IGhlaWdodDogMTJweDsgfSIpOwogICAgICAgICAgfQogICAgICAgICAgLy8gTmV3IDEyLjA1LjIwMTQKICAgICAgICAgIC8vICsgYWJwIHJ1bGUgKGFsdGVybmF0aXZlIHNvbHV0aW9uKQogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRibG9ja3RyYXAgeyBoZWlnaHQ6IDEycHg7IH0iKTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHJlbW92ZSBhZHMKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcqW3NyY149Imh0dHA6Ly9hZHMudXB0b2JveC5jb20vIl0sKltocmVmXj0iaHR0cDovL2Fkcy51cHRvYm94LmNvbS8iXScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYW5pc3Vic2lhX2NvbSA6IHsKICAgICAgICBob3N0IDogWydhbmlzdWJzaWEuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vICsgYWJwIHJ1bGUgI0AjLmFkc2FudGlsb2sKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFkc2FudGlsb2sgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmpBbnRpQmxvY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5DZWtCbG9rID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBmcmVlZ2FtZXNlcnZlcmhvc3RfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTEyCiAgICAgICAgaG9zdCA6IFsnZnJlZWdhbWVzZXJ2ZXJob3N0LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNmYWIxMyB7IGhlaWdodDogMTFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZWxhaG1hZF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnZWxhaG1hZC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRibG9jayB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBtcnR6Y21wM19uZXQgOiB7CiAgICAgICAgaG9zdCA6IFsnbXJ0emNtcDMubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLnJ0bV9hZCB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBoZWlnaHRfbXlUZXN0QWQgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyNDEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTgzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI5MQogICAgICAgIGhvc3QgOiBbJ2JrbmltZS5jb20nLCAnZ280dXAuY29tJywgJ2RlYnJpZG8uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLm15VGVzdEFkIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJpZGZhc3RfbmV0d29yayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi9mb3J1bS9kaXNjdXNzaW9uLzk0MDYKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi9mb3J1bS9kaXNjdXNzaW9uLzcwMTMKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI3MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy83NjkKICAgICAgICBob3N0IDogWydkZWJyaWRmYXN0LmNvbScsICdnZXRkZWJyaWQuY29tJywgJ2RlYnJpZC51cycsICdsZWVjaGVyLnVzJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLm15VGVzdEFkLCAubXkyNEFkLCAubmFiaWwgeyBoZWlnaHQ6IDFweDsgfSIpOwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpbXBsZUFkJykuaW5uZXJIVE1MID0gJzxwIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij5kZWJyaWRmYXN0LmNvbTwvcD4nOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmdfZ2xlZGFpX3R2IDogewogICAgICAgIGhvc3QgOiBbJ2JnLWdsZWRhaS50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5teUFkIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRoZXBjc3B5X2NvbSA6IHsgLy8gaHR0cDovL3RoZXBjc3B5LmNvbS9yZWFkL2hvd190b19ibG9ja19hZGJsb2NrLwogICAgICAgIGhvc3QgOiBbJ3RoZXBjc3B5LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5teVRlc3RBZCB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5ibG9ja2VkIHsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJy5ibG9ja2VkJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2Z19lMjRfbm8gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI5MgogICAgICAgIGhvc3QgOiBbJ3ZnLm5vJywgJ2UyNC5ubyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBBZGQgdGhpcyBydWxlLCBiZWNhdXNlIEVhc3lMaXN0IGFsbG93IGFsbCBoaWRkZW4gZWxlbWVudHMuCiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5hZCB7IGRpc3BsYXk6IG5vbmU7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGF1dG9tb2JpbGVfc3BvcnRpdmVfY29tIDogewogICAgICAgIGhvc3QgOiBbJ2F1dG9tb2JpbGUtc3BvcnRpdmUuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLm15VGVzdEFkIHsgaGVpZ2h0OiA1MXB4OyBkaXNwbGF5OiBub25lOyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBzbnN3X3VzIDogewogICAgICAgIGhvc3QgOiBbJ3Nuc3cudXMnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRfMSB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB1cmxjaGVja2VyX25ldCA6IHsKICAgICAgICBob3N0IDogWyd1cmxjaGVja2VyLm5ldCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNhZGNoZWNrZXIgeyBoZWlnaHQ6IDIwcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNraXBsaW1pdGVfdHYgOiB7CiAgICAgICAgaG9zdCA6IFsnc2tpcGxpbWl0ZS50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoImRpdi5hZGR0aGlzX25hdGl2ZV90b29sYm94ICsgZGl2W2lkXSB7IGhlaWdodDogMTJweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmlsZWNvcmVfY29fbnogOiB7CiAgICAgICAgaG9zdCA6IFsnZmlsZWNvcmUuY28ubnonXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuYWRzZW5zZSB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB0aG9tYXNfbl9ydXRoX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTExMQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9mdTd2a1VBMQogICAgICAgIGhvc3QgOiBbJ3Rob21hcy1uLXJ1dGguY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLkdvb2dsZSB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbnRlcmZhbnNfb3JnIDogewogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly93d3cuaW50ZXJmYW5zLm9yZy9mb3J1bS8KICAgICAgICBob3N0IDogWydpbnRlcmZhbnMub3JnJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFkX2dsb2JhbF9oZWFkZXIgeyBoZWlnaHQ6IDFweDsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWF4ZGVicmlkZXVyX2NvbSA6IHsKICAgICAgICBob3N0IDogWydtYXhkZWJyaWRldXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmNsZWFyICsgZGl2W2lkXSB7IGhlaWdodDogMTJweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG9wem9uZV9pdCA6IHsKICAgICAgICBob3N0IDogWyd0b3B6b25lLmx0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmZvcnVtQWQgeyBoZWlnaHQ6IDFweDsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmFuYTEwX2NvX2lsIDogewogICAgICAgIGhvc3QgOiBbJy5uYW5hMTAuJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2FkdmVydC10cmFja2VyIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBsZWpfdHYgOiB7CiAgICAgICAgaG9zdCA6IFsncGxlai50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5hZHZlcnRfYm94IHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1hbmdhbWludF9jb20gOiB7CiAgICAgICAgLy8gbm90ZTogYWRkZWQgcnVsZSB0byBhbGxvdyAiLmFkNzI4IgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2lkL2ZvcnVtL2Rpc2N1c3Npb24vODUyNAogICAgICAgIGhvc3QgOiBbJ21hbmdhbWludC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuYWQ3MjggeyBoZWlnaHQ6IDMxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJpZGV1cnN0cmVhbV9mciA6IHsKICAgICAgICBob3N0IDogWydkZWJyaWRldXJzdHJlYW0uZnInXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjY29udGVudCBkaXZbaWRdW2FsaWduPWNlbnRlcl0geyBoZWlnaHQ6IDEycHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByZWVtbGlua3NfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3ByZWVtbGlua3MuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2RpdmFkcyB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBoZW50YWlfdG8gOiB7CiAgICAgICAgaG9zdCA6IFsnaGVudGFpLnRvJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2hlbnRhaXRvMTIzIHsgaGVpZ2h0OiAxMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBwcm90b3R1cmtfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3Byb3RvdHVyay5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjcmVrbGFtIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG11ZmFfZGUgOiB7CiAgICAgICAgaG9zdCA6IFsnbXVmYS5kZSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNsZWFkZXJib2FyZCB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNsYXJnZS1yZWN0YW5nbGUgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWQtaGVhZGVyLTQ2OHg2MCB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB3YXRjaGFyYWJfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3dhdGNoYXJhYi5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gKyBhZHAgcnVsZSB3YXRjaGFyYWIuY29tI0AjI2FkYmxvY2sKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2FkYmxvY2sgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZnJlZWRvbWlwX2NvbSA6IHsKICAgICAgICBob3N0IDogWydmcmVlZG9tLWlwLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5wdWJfdmVydGljYWwgaW5zLCAucHViX3ZlcnRpY2FsIGRpdiB7IGhlaWdodDogMTFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgd2FrYW5pbV90diA6IHsKICAgICAgICBob3N0IDogWyd3YWthbmltLnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2RldGVjdG9yIHsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjbm9wdWIgeyBkaXNwbGF5OiBibG9jazsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2ltcGx5X2RlYnJpZF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzMzMgogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9iN01BWVhzNAogICAgICAgIGhvc3QgOiBbJ3NpbXBseS1kZWJyaWQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZHNieWdvb2dsZSA9IHt9OwogICAgICAgICAgQWFrLnV3LmFkc2J5Z29vZ2xlLmxvYWRlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYW5nYTlfY29tIDogewogICAgICAgIGhvc3QgOiBbJ21hbmdhOS5jb20nLCAnbWFuZ2FiZWUuY28nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuYWRibG9jayB7IGhlaWdodDogMzFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25lbWFuZ2EyX2NvbSA6IHsKICAgICAgICBob3N0IDogWydvbmVtYW5nYTIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFmc19hZHMgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWFuZ2FiaXJkX2NvbSA6IHsKICAgICAgICBob3N0IDogWydtYW5nYWJpcmQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFmc19hZHMgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAga29kaWxpdmVfZXUgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1MjgKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vWnh2WEtxdGMKICAgICAgICBob3N0IDogWydrb2RpbGl2ZS5ldSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5BZCB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBiYWNraW5fbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWJhY2tpbi5uZXQKICAgICAgICBob3N0IDogWydiYWNraW4ubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2RpdmFkIHsgaGVpZ2h0OiAzMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBtb2JpbGVfdHJhY2tlcl9mcmVlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTA4MgogICAgICAgIGhvc3QgOiBbJ21vYmlsZS10cmFja2VyLWZyZWUuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI215QWRzIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdvcmt1cGxvYWRfY29tIDogewogICAgICAgIC8vIG5vdGU6IG9iZnVzY2F0ZWQKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMzNAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjkwCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0NQemQyU3d4CiAgICAgICAgaG9zdCA6IFsnd29ya3VwbG9hZC5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFkQmxvY2ssIC5hZHNieWdvb2dsZSwgI3NhZCB7IGhlaWdodDogMTFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG9kYXlfaW4gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9aW50b2RheS5pbgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWJ1c2luZXNzdG9kYXkuaW4KICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vZ3o1MzlHN20KICAgICAgICBob3N0IDogWyJpbnRvZGF5LmluIiwgImJ1c2luZXNzdG9kYXkuaW4iXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJyNhZGJvY2tlcl9hbHQgeyBkaXNwbGF5OiBub25lOyB9Jyk7CiAgICAgICAgICBBYWsudXcub3BlblBvcHVwID0gZnVuY3Rpb24oKXt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgamNfbXBfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTk3CiAgICAgICAgaG9zdCA6IFsiamMtbXAuY29tIl0sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcuYWRzZW5zZSB7d2lkdGg6IDFweDsgaGVpZ2h0OiAxcHg7IHZpc2liaWxpdHk6IGhpZGRlbjsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTt9Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYXJpYWdlX2ZyYW5jb19tYXJvY2Fpbl9uZXQgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bWFyaWFnZS1mcmFuY28tbWFyb2NhaW4ubmV0CiAgICAgICAgaG9zdCA6IFsibWFyaWFnZS1mcmFuY28tbWFyb2NhaW4ubmV0Il0sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcjbXlfYWRfZGl2IHtoZWlnaHQ6IDFweDt9Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBoYXBweV9oYWNrX3J1IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWhhcHB5LWhhY2sucnUKICAgICAgICBob3N0IDogWydoYXBweS1oYWNrLnJ1J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2Jsb2NrYmxvY2tGNCB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tGNCB0ZCB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tGNCB0ZCBwIHt2aXNpYmlsaXR5OmludmlzaWJsZTtkaXNwbGF5Om5vbmU7fSAjYmxvY2tibG9ja0QzIHt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTpibG9jazt9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBmb3JiZXNfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84NjUKICAgICAgICBob3N0IDogWydmb3JiZXMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3dlbGNvbWUnKSA+IC0xKSB7CiAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ3dlbGNvbWVBZCcsICd0cnVlJywgODY0MDAwMDAsICcvJyk7CiAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ2RhaWx5V2VsY29tZUNvb2tpZScsICd0cnVlJywgODY0MDAwMDAsICcvJyk7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IEFhay5nZXRDb29raWUoJ3RvVXJsJykgfHwgJ2h0dHA6Ly93d3cuZm9yYmVzLmNvbS8nOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFpdF9hZHNieWdvb2dsZSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTQ3CiAgICAgICAgaG9zdCA6IFsnYml0Y29pbmFsaWVucy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdpbnMuYWRzYnlnb29nbGUnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhaXRfdGVzdGVyIDogewogICAgICAgIGhvc3QgOiBbJ29zb2FyY2FkZS5jb20nLCAnZDNicmlkNHkwdS5pbmZvJywgJ2ZpbGVpY2UubmV0JywgJ25vc3RlYW0ucm8nLCAnb3BlbnJ1bm5lci5jb20nLCAnZWFzeWJpbGxldHMuY29tJywgJ3Nwb3guZnInLCAneW92b3lhZ2VzLmNvbScsICd0djMuY28ubnonLCAnZnJlZWFsbG11c2ljLmluZm8nLCAncHV0bG9ja2VyLmNvbScsICdzb2Nrc2hhcmUuY29tJywgJ2RyYW1hcGFzc2lvbi5jb20nLCAneW9vY2xpY2suY29tJywgJ29ubGluZS51YSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiN0ZXN0ZXInKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhaXRfYWRkIDogewogICAgICAgIGhvc3QgOiBbJ2ZpbGVjb20ubmV0JywgJ3Vwc2hhcmUub3JnJywgJ3NraXBweWZpbGUuY29tJywgJ213ZmlsZXMubmV0JywgJ3VwLWZsb3cub3JnJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkZCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFpdF9hZHBidGVzdCA6IHsKICAgICAgICBob3N0IDogWydsZWFndWVzZWNyZXRhcnkuY29tJywgJ3Rla25vZ29kcy5jb20nLCAnaGVsbHNtZWRpYS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjYWRwYnRlc3QnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhaXRfYWR0ZXN0ZXIgOiB7CiAgICAgICAgaG9zdCA6IFsnZnJlZXNwb3J0c2JldC5jb20nLCAnc3BvcnRzcGxheXMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkLXRlc3RlcicpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdGdvX3R2X2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMzAzCiAgICAgICAgaG9zdCA6IFsndGdvLXR2LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNhZGIsICNiYW5uZXJhZDEsIC5sb2FkX3N0cmVhbSB7IGRpc3BsYXk6IG5vbmU7IH0iKTsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I3Rlc3RlcicpOwogICAgICAgIH0sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcudGhyZXNob2xkID0gMTAwMDsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcuY2hhdF9mcmFtZScpOyAvLyBidWcgcmVsb2FkIGlmcmFtZQogICAgICAgIH0KICAgICAgfSwKICAgICAgZnJlZWdhbWVob3N0aW5nX25sIDogewogICAgICAgIGhvc3QgOiBbJ2ZyZWVnYW1laG9zdGluZy5ubCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZHRlc3QnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRoZXdlYXRoZXJzcGFjZV9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsndGhld2VhdGhlcnNwYWNlLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhYi1ibC1hZHZlcnRpc2VtZW50Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbGVvZGVza3RvcF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzcxMQogICAgICAgIGhvc3QgOiBbJ2NsZW9kZXNrdG9wLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNteVRlc3RBZCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1hZ2VyYWlkZXJfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MjYKICAgICAgICBob3N0IDogWydpbWFnZXJhaWRlci5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjbXlHQ29udGFpbmVyJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2b2ljaV9mciA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mci9mb3J1bS9kaXNjdXNzaW9uLzEwMDkzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzgyNgogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS96RVZRSFRpRAogICAgICAgIGhvc3QgOiBbJ3ZvaWNpLmZyJywgJ3Byb2dyYW1tZS10di5uZXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjc2FzX3NjcmlwdDInKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1pbF9pbmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE2NTIKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vNDc0Tlp6UEoKICAgICAgICBob3N0IDogWydtaWwuaW5rJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2Fkc19kaXYnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGN1YmV1cGxvYWRfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL2ZvcnVtL2Rpc2N1c3Npb24vNTkxOQogICAgICAgIGhvc3QgOiBbJ2N1YmV1cGxvYWQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5jcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgdGFnIDogJ2lmcmFtZScsCiAgICAgICAgICAgIG5hbWUgOiAnaWZyYW1lJywKICAgICAgICAgICAgc3JjIDogJ2Fib3V0OmJsYW5rJywKICAgICAgICAgICAgc3R5bGUgOiAnZGlzcGxheTpub25lOycsCiAgICAgICAgICAgIGFwcGVuZCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzdHJlYW00ZnJlZV9ldSA6IHsKICAgICAgICBob3N0IDogWydzdHJlYW00ZnJlZS5ldSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyArYWJwIGFsdCBzb2x1dGlvbgogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjanBheWRheScpOwogICAgICAgICAgQWFrLnV3LmpwYXlkYXlfYWxlcnQgPSAxOwogICAgICAgIH0KICAgICAgfSwKICAgICAgXzNkbmV3c19ydSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9ydS9mb3J1bS9kaXNjdXNzaW9uLzU3NTAKICAgICAgICBob3N0IDogWyczZG5ld3MucnUnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnYWRibG9ja3dhcm4nLCAxKTsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2VhckFkcyB7IHdpZHRoOiA0MDFweDsgfSIpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjZWFyQWRzJyk7CiAgICAgICAgICBBYWsudXcuX19BVF9kZXRlY3RlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBfM2RzdGhlbV9lcyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT0zZHN0aGVtCiAgICAgICAgaG9zdCA6IFsnM2RzdGhlbS5lcyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvL0Fhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLyoKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ21haW4uanMnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogdHJ1ZSwKICAgICAgICAgICAgICBvdmVycmlkZSA6ICcvL3Bhc3RlYmluLmNvbS9yYXcvMnlHUlBoUlonCiAgICAgICAgICAgIH0KICAgICAgICAgIF07CiAgICAgICAgKi8KICAgICAgICB9CiAgICAgIH0sCiAgICAgIF84bXVzZXNfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPThtdXNlcwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZvcnVtL2Rpc2N1c3Npb24vODUxNQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL2ZvcnVtL2Rpc2N1c3Npb24vNjQwNwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9iTU5EeGVjcwogICAgICAgIGhvc3QgOiBbJzhtdXNlcy5jb20nXSwKICAgICAgICBvbkJlZm9yZVNjcmlwdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgIGNvbnRhaW5zIDogInR5cGVvZiBleG8iLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaGFwcHl0cmlwc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9aGFwcHl0cmlwcwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9FV1NFYm52dgogICAgICAgIGhvc3QgOiBbJ2hhcHB5dHJpcHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnY2FuUnVuJywgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBsZ19maXJtd2FyZV9yb21fY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWxnLWZpcm13YXJlLXJvbS5jb20KICAgICAgICBob3N0IDogWydsZy1maXJtd2FyZS1yb20uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgna2lsbGFkcycsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwgICAgICAKICAgICAgbWlkX2RheV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bWlkLWRheS5jb20KICAgICAgICBob3N0IDogWydtaWQtZGF5LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2NhblJ1bicsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFkdHZfbmV0d29yayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1iYWR0di5pdAogICAgICAgIGhvc3QgOiBbJ2JhZHR2Lml0JywgJ2JhZHRhc3RlLml0JywgJ2JhZGdhbWVzLml0JywgJ2JhZGNvbWljcy5pdCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdhZEJsb2NrQ2hlY2tlZCcsICdkaXNhdHRpdm8nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGluZGVwZW5kZW50X2NvX3VrIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWluZGVwZW5kZW50LmNvLnVrCiAgICAgICAgaG9zdCA6IFsnaW5kZXBlbmRlbnQuY28udWsnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnYWRibG9ja19kZXRlY3RlZCcsICdpZ25vcmVkJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBlc21hc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZXNtYXMuY29tCiAgICAgICAgaG9zdCA6IFsnZXNtYXMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnb3BlbmVkX2FkYmJsb2NrJywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGlub3kxdHZfbmV0d29yayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1waW5veTF0dgogICAgICAgIGhvc3QgOiBbJ3Bpbm95MXR2LiddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2FsbG93YWRzJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBld2FsbHN0cmVldGVyX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1ld2FsbHN0cmVldGVyLmNvbQogICAgICAgIGhvc3QgOiBbJ2V3YWxsc3RyZWV0ZXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnT0FTX3JkbCcsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYnVzaW5lc3Nfc3RhbmRhcmRfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWJ1c2luZXNzLXN0YW5kYXJkLmNvbQogICAgICAgIGhvc3QgOiBbJ2J1c2luZXNzLXN0YW5kYXJkLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2Fkc0xvYWRlZCcsIDEpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnX3B3JywgJ3QnKTsgICAgICAgICAgCiAgICAgICAgfQogICAgICB9LAogICAgICBleHByZXNzX25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZmluYW5jaWFsZXhwcmVzcy5jb20KICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1pbmRpYW5leHByZXNzLmNvbQogICAgICAgIGhvc3QgOiBbJ2ZpbmFuY2lhbGV4cHJlc3MuY29tJywgJ2luZGlhbmV4cHJlc3MuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnUnVuQWRzJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbmRpYXRpbWVzX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1pbmRpYXRpbWVzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bWFsYXlhbGFtLnNhbWF5YW0uY29tCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL3p4dXN2eWYsIAogICAgICAgIGhvc3QgOiBbJ2luZGlhdGltZXMuY29tJywgJ3NhbWF5YW0uY29tJywgJ2JhbmdhbG9yZW1pcnJvci5jb20nXSwKICAgICAgICBvbkJlZm9yZVNjcmlwdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ1xcXFx4NjFcXFxceDY0XFxcXHg2MicsCiAgICAgICAgICAgICAgZXh0ZXJuYWwgOiBmYWxzZSwKICAgICAgICAgICAgICByZW1vdmUgOiB0cnVlCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBjb250YWlucyA6ICdmdW5jdGlvbiBpbml0QmxvY2snLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdGhlY2hpdmVfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNDUzCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1RkcFB5cmJiCiAgICAgICAgaG9zdCA6IFsndGhlY2hpdmUuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHsKICAgICAgICAgICAgICBzdGVwaGFuZURldGVjdG9yIDogewogICAgICAgICAgICAgICAgdmFsdWUgOiB7CiAgICAgICAgICAgICAgICAgIGhvb2sgOiBmdW5jdGlvbiAoY2IpIHsKICAgICAgICAgICAgICAgICAgICBjYihmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGluaXQgOiBmdW5jdGlvbiAoKSB7fSwKICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0UmVzdWx0IDogZnVuY3Rpb24gKCkge30KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmljaG9ucmFpbHNfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNDQ3CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0V3ZndnOEJHCiAgICAgICAgaG9zdCA6IFsncmljaG9ucmFpbHMuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBhZHNCeUdvb2dsZUh0bWwgPSAnIjxpbnMraWQ9ImFzd2lmdF8wX2V4cGFuZCIrc3R5bGU9ImRpc3BsYXk6aW5saW5lLXRhYmxlO2JvcmRlcjpub25lO2hlaWdodDo5MHB4O21hcmdpbjowO3BhZGRpbmc6MDtwb3NpdGlvbjpyZWxhdGl2ZTt2aXNpYmlsaXR5OnZpc2libGU7d2lkdGg6NzUwcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCI+PGlucytpZD0iYXN3aWZ0XzBfYW5jaG9yIitzdHlsZT0iZGlzcGxheTpibG9jaztib3JkZXI6bm9uZTtoZWlnaHQ6OTBweDttYXJnaW46MDtwYWRkaW5nOjA7cG9zaXRpb246cmVsYXRpdmU7dmlzaWJpbGl0eTp2aXNpYmxlO3dpZHRoOjc1MHB4O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQiPjxpZnJhbWUrbWFyZ2lud2lkdGg9IjAiK21hcmdpbmhlaWdodD0iMCIrdnNwYWNlPSIwIitoc3BhY2U9IjAiK2FsbG93dHJhbnNwYXJlbmN5PSJ0cnVlIitzY3JvbGxpbmc9Im5vIithbGxvd2Z1bGxzY3JlZW49InRydWUiK29ubG9hZD0idmFyK2k9dGhpcy5pZCxzPXdpbmRvdy5nb29nbGVfaWZyYW1lX29uY29weSxIPXMmYW1wOyZhbXA7cy5oYW5kbGVycyxoPUgmYW1wOyZhbXA7SFtpXSx3PXRoaXMuY29udGVudFdpbmRvdyxkO3RyeXtkPXcuZG9jdW1lbnR9Y2F0Y2goZSl7fWlmKGgmYW1wOyZhbXA7ZCZhbXA7JmFtcDsoIWQuYm9keXx8IWQuYm9keS5maXJzdENoaWxkKSl7aWYoaC5jYWxsKXtzZXRUaW1lb3V0KGgsMCl9ZWxzZStpZihoLm1hdGNoKXt0cnl7aD1zLnVwZChoLGkpfWNhdGNoKGUpe313LmxvY2F0aW9uLnJlcGxhY2UoaCl9fSIraWQ9ImFzd2lmdF8wIituYW1lPSJhc3dpZnRfMCIrc3R5bGU9ImxlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDsiK3dpZHRoPSI3NTAiK2ZyYW1lYm9yZGVyPSIwIitoZWlnaHQ9IjkwIj48L2lmcmFtZT48L2lucz48L2lucz4iJzsKICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICB1cmwgOiAkKCIuYXJ0aWNsZS1jb250ZW50IikuZGF0YSgidXJsIiksCiAgICAgICAgICAgICAgZGF0YVR5cGUgOiAic2NyaXB0IiwKICAgICAgICAgICAgICBtZXRob2QgOiAicG9zdCIsCiAgICAgICAgICAgICAgZGF0YSA6IHsKICAgICAgICAgICAgICAgIGh0bWwgOiBhZHNCeUdvb2dsZUh0bWwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICB2YXIgZXhlYyA9IHJlc3VsdC5yZXBsYWNlKCIkKCcuYXJ0aWNsZS1jb250ZW50JykiLCAiJCgnLmFydGljbGUtY29udGVudC0yJykiKTsKICAgICAgICAgICAgICAgIG5ldyBGdW5jdGlvbihleGVjKSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5hcnRpY2xlLWNvbnRlbnQiKS5hZnRlcignPGRpdiBjbGFzcz0iYXJ0aWNsZS1jb250ZW50LTIiPjwvZGl2PicpLnJlbW92ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBybXByZXB1c2JfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3JtcHJlcHVzYi5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnam90X3ZpZXdlcicsIDMpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmVvZHJpdmVfY28gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwMDEKICAgICAgICBob3N0IDogWyduZW9kcml2ZS5jbyddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gUHJldmVudCBwb3B1bmRlcgogICAgICAgICAgQWFrLnNldENvb2tpZSgnS2lmUG9wQ250JywgMSwgbnVsbCwgJy9lbWJlZC8nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGhlbnRhaWhhdmVuX29yZyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrL2lzc3Vlcy8xMzQwCiAgICAgICAgaG9zdCA6IFsnaGVudGFpaGF2ZW4ub3JnJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBQcmV2ZW50IHBvcHVuZGVyCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdoaF9wcG5kcjEnLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2hoX3BwbmRyMicsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJpbWVzaGFyZV90diA6IHsKICAgICAgICBob3N0IDogWydwcmltZXNoYXJlLnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkYmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJpZG5ldF9hbmRfbGl2ZWRlYnJpZCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1kZWJyaWRuZXQKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1saXZlZGVicmlkCiAgICAgICAgaG9zdCA6IFsnZGVicmlkbmV0LmNvbScsICdsaXZlZGVicmlkLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5teVRlc3RBZDIgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYubXlUZXN0QWQyJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBibHVlc2F0b3NoaV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg3MwogICAgICAgIGhvc3QgOiBbJ2JsdWVzYXRvc2hpLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiN0ZXN0IHsgaGVpZ2h0OiAyODBweDsgfSIpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjdGVzdCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmF6ZXJjcnlwdF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg3MAogICAgICAgIGhvc3QgOiBbJ3JhemVyY3J5cHQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI3Rlc3QgeyBoZWlnaHQ6IDI1MHB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiN0ZXN0Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzYXRvc2hpZW1waXJlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODcyCiAgICAgICAgaG9zdCA6IFsnc2F0b3NoaWVtcGlyZS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjdGVzdCB7IGhlaWdodDogMjUwcHg7IH0iKTsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I3Rlc3QnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uZWFkZmF1Y2V0X2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODcxCiAgICAgICAgaG9zdCA6IFsnb25lYWRmYXVjZXQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI3Rlc3QgeyBoZWlnaHQ6IDI1MHB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiN0ZXN0Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBqa2FuaW1lX25ldCA6IHsKICAgICAgICBob3N0IDogWydqa2FuaW1lLm5ldCddLAogICAgICAgIC8vIEBAfHxqa2FuaW1lLm5ldC9hc3NldHMvanMvYWR2ZXJ0aXNlbWVudDIuanMKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjcmVjbycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgXzcyMHBta3ZfY29tIDogewogICAgICAgIGhvc3QgOiBbJzcyMHBta3YuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkdmVydCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGFpZHZlcnRzX2NvbSA6IHsKICAgICAgICBob3N0IDogWydwYWlkdmVydHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2LmFmc19hZHMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGl0YWxpYXR2X29yZyA6IHsKICAgICAgICBob3N0IDogWydpdGFsaWF0di5vcmcnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjZmFiMTMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNocmlzc21vb3ZlX2NvbSA6IHsKICAgICAgICBob3N0IDogWydjaHJpc3Ntb292ZS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy9BYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZHNlcnZlcicpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXZlbnRodWJzX2NvbSA6IHsKICAgICAgICBob3N0IDogWydldmVudGh1YnMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2JsYWh5YmxhY2kxJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzdXBlcmFuaW1lc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyOTUKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vRkRQQUtqVFEKICAgICAgICBob3N0IDogWydzdXBlcmFuaW1lcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjYmFubmVyTG9qYScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZm9ydW1fcGFjX3JvbV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI0MwogICAgICAgIGhvc3QgOiBbJ2ZvcnVtLnBhYy1yb20uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2LmJhbm5lcl9hZHMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpdHZfdHYgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyOTkKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vemNkZHZUdUMKICAgICAgICBob3N0IDogWydsaXR2LnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2LnBsYXllcl9tYXNrJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBsZXZlbGRvd25fZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU5NQogICAgICAgIGhvc3QgOiBbJ2xldmVsZG93bi5mciddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZGJsb2NrJyk7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZGJsb2NrdGVzdCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2xvYmVzbG90X2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTI0CiAgICAgICAgaG9zdCA6IFsnZ2xvYmVzbG90LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZGQnKTsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkZDEnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFudGVubmVzcG9ydF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnYW50ZW5uZXNwb3J0LmNvbScsICdzZXJ2ZXJoZC5ldSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsgLy8gZm9yIGFudGVubmVzcG9ydAogICAgICAgICAgLy8gUmVtb3ZlIFB1YgogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoIiNwdWIgLnB1YmNsb3NlIik7CiAgICAgICAgICAvLyBSZWRpcmVjdCB0byBQbGF5ZXIKICAgICAgICAgIEFhay5zZXRFbGVtZW50KCcjcHViIC5lbWJlZCBpZnJhbWUnLCB7CiAgICAgICAgICAgIHNyYyA6ICcvZW1iZWQvZW1iZWQucGhwJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkaXNhYmxlQWxlcnRib3ggOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vZm9ydW0vZGlzY3Vzc2lvbi84NjExCiAgICAgICAgaG9zdCA6IFsnZHJpdmVhcmFiaWEuY29tJywgJ3B1dGxvY2tlci5jb20nLCAnZG9hdG9vbHNpdGEuYWx0ZXJ2aXN0YS5vcmcnLCAnc29ja3NoYXJlLmNvbScsICdmcmVlLW1vdmllLWhvbWUuY29tJywgJ3BjLm9ubGluZTE0My5jb20nLCAna29vb3JhLmNvbScsICdzdHIzYW10di5jby5ucicsICdzdHIzYW10di5hbHRlcnZpc3RhLm9yZycsICdzdHIzYW0uYWx0ZXJ2aXN0YS5vcmcnLCAnZmlsZWNvbS5uZXQnLCAncGlwb2Nhcy50dicsICdnZW5lcmF0dXByZW1pdW0uYml6JywgJ21lZ2EtZGVicmlkLmV1JywgJ3ByZW1pdW1zdDByZS5ibG9nc3BvdC5jb20nLCAnZGwtcHJvdGVjdC5jb20nLCAnbmV3c2lubGV2ZWxzLmNvbScsICd2aXByYWNpbmcuYml6JywgJ2J1c2luZXNzdG9kYXkuaW4nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hbGVydCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2VuZXJhdHVwcmVtaXVtX2JpeiA6IHsKICAgICAgICBob3N0IDogWydnZW5lcmF0dXByZW1pdW0uYml6J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIERpc2FibGUgQ29uZmlybSBCb3gKICAgICAgICAgIC8vQWFrLnV3LmNvbmZpcm0gPSBmdW5jdGlvbiAoKXt9OwogICAgICAgICAgQWFrLnNldENvb2tpZSgnZ2VuZXJhJywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmV3c3RhdGVzbWFuX2NvbSA6IHsKICAgICAgICBob3N0IDogWyduZXdzdGF0ZXNtYW4uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2RvbmF0aW9uUG9wdXAnLCAnaGlkZScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWRzd2l6el9jb20gOiB7CiAgICAgICAgLy8gYnk6IFNrcjR0Y2hHcjNhenlNb25raUJhbGxsbGxsWnp6egogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MDkKICAgICAgICBob3N0IDogWyd5ZXMuZm0nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHdpbmRvdy5jb21fYWRzd2l6el9zeW5jaHJvX2luaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVyc3RhbmRhcmRfYXQgOiB7CiAgICAgICAgLy8gYnk6IEFsZXhhbmRlcjI1NQogICAgICAgIC8vIHBhdGNoOiBodHRwOi8vcGFzdGViaW4uY29tL3Jhdy5waHA/aT1yN1E0RHJmQgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWRlcnN0YW5kYXJkCiAgICAgICAgaG9zdCA6IFsnZGVyc3RhbmRhcmQuYXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewoKICAgICAgICAgIHZhciBtYWtlSVNPVGltZXN0YW1wVVRDID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGFkID0gZnVuY3Rpb24gKGFtb3VudCwgd2lkdGgpIHsKICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9ICIiOwogICAgICAgICAgICAgIHdoaWxlIChwYWRkaW5nLmxlbmd0aCA8IHdpZHRoIC0gMSAmJiBhbW91bnQgPCBNYXRoLnBvdygxMCwgd2lkdGggLSBwYWRkaW5nLmxlbmd0aCAtIDEpKSB7CiAgICAgICAgICAgICAgICBwYWRkaW5nICs9ICIwIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIHBhZGRpbmcgKyBhbW91bnQudG9TdHJpbmcoKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgcmV0dXJuIFtwYWQoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCA0KSwgIi0iLAogICAgICAgICAgICAgIHBhZChkYXRlLmdldFVUQ01vbnRoKCkgKyAxLCAyKSwgIi0iLAogICAgICAgICAgICAgIHBhZChkYXRlLmdldFVUQ0RhdGUoKSwgMiksICJUIiwKICAgICAgICAgICAgICBwYWQoZGF0ZS5nZXRVVENIb3VycygpLCAyKSwgIjoiLAogICAgICAgICAgICAgIHBhZChkYXRlLmdldFVUQ01pbnV0ZXMoKSwgMiksICI6IiwKICAgICAgICAgICAgICBwYWQoZGF0ZS5nZXRVVENTZWNvbmRzKCksIDIpXS5qb2luKCk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjb29raWUpIHsKICAgICAgICAgICAgLy8gRmluZCBtYWluIHN0b3JhZ2UgY29va2llCiAgICAgICAgICAgIGlmIChjb29raWUuc3Vic3RyKDAsIDYpID09ICJNR1VJRD0iKSB7CiAgICAgICAgICAgICAgLy8gRGVjb21wb3NlIGluZm9ybWF0aW9uIGZyb20gbWFpbiBzdG9yYWdlIGNvb2tpZQogICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB7fTsKICAgICAgICAgICAgICBjb29raWUuc3Vic3RyKDYpLnNwbGl0KCImIikuZm9yRWFjaChmdW5jdGlvbiAoYXNzaWdubWVudCkgewogICAgICAgICAgICAgICAgdmFyIHBvcyA9IGFzc2lnbm1lbnQuaW5kZXhPZignPScpOwogICAgICAgICAgICAgICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgICAgICAgICAgICAgIHZhbHVlc1thc3NpZ25tZW50LnN1YnN0cigwLCBwb3MpXSA9IGFzc2lnbm1lbnQuc3Vic3RyKHBvcyArIDEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAvLyBVcGRhdGUgImZpcnN0IHZpZXdlZCIgdGltZXN0YW1wCiAgICAgICAgICAgICAgdmFsdWVzLlRpbWVzdGFtcCA9IG1ha2VJU09UaW1lc3RhbXBVVEMoKTsKCiAgICAgICAgICAgICAgLy8gUmVjb21wb3NlIGluZm9ybWF0aW9uIGluIG1haW4gc3RvcmFnZSBjb29raWUKICAgICAgICAgICAgICBjb29raWUgPSAiTUdVSUQ9IjsKICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWVzKSB7CiAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgICAgICAgICAgY29va2llICs9IGtleSArICI9IiArIHZhbHVlc1trZXldICsgIiYiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjb29raWUgPSBjb29raWUuc3Vic3RyKDAsIChjb29raWUubGVuZ3RoIC0gMSkpOwoKICAgICAgICAgICAgICAvLyBVcGRhdGUgY29va2llCiAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRla19kb21haW5zIDogewogICAgICAgIC8vIGJ5OiBSZWVrLCBBbGV4YW5kZXIyNTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzg4CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzUxMgogICAgICAgIGhvc3QgOiBbJ3Rlay5ubycsICdnYW1lci5ubycsICd0ZWtub2ZpbC5ubycsICdpbnNpZGV0ZWxlY29tLm5vJywgJ3ByaXNndWlkZS5ubycsICdkaXNrdXNqb24ubm8nLCAndGVrbm9qb2JiLm5vJywgJ2FrYW0ubm8nLCAnaGFyZHdhcmUubm8nLCAnYW1vYmlsLm5vJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewoKICAgICAgICAgIC8qCiAgICAgICAgICB2YXIgYWRfZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsKICAgICAgICAgIGFkX2ZyYW1lLm5hbWUgPSAiX2ZyYW1lIjsKICAgICAgICAgIGFkX2ZyYW1lLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFkX2ZyYW1lKTsKICAgICAgICAgIGFkX2ZyYW1lLmNvbnRlbnRXaW5kb3cud3JhcHBlZEpTT2JqZWN0LmluRklGID0gdHJ1ZTsKICAgICAgICAgICAqLwoKICAgICAgICAgIC8vIGZpeCAyNy4xMS4yMDE1CiAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgIHRhZyA6ICdkaXYnLAogICAgICAgICAgICBpZCA6ICdnb29nbGVfYWRzX2lmcmFtZV8nLAogICAgICAgICAgICBodG1sIDogJzxwPjwvcD4nLAogICAgICAgICAgICBhcHBlbmQgOiAnYm9keScKICAgICAgICAgIH0pOwoKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBsYW5ldGF0dm9ubGluZWhkX25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0NjcKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTU5CiAgICAgICAgaG9zdCA6IFsncGxhbmV0YXR2b25saW5laGQuYmxvZ3Nwb3QuJywgJ3BsYW5ldGF0dm9ubGluZWhkLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJy5hZHNhbnRpbG9rIHsgaGVpZ2h0OiAxcHg7IH0nKTsKICAgICAgICAgIC8vQWFrLnV3LmpRQW50aUFkc0Jsb2NrID0gZnVuY3Rpb24gKCl7fTsgLy8gZG9uJ3Qgd29yawogICAgICAgIH0KICAgICAgfSwKICAgICAgYmV0YV9zcGVlZHRlc3RfbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy82MjgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTYyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ4NAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlMi5vcmcvNTN5bWdoWDEKICAgICAgICBob3N0IDogWydiZXRhLnNwZWVkdGVzdC5uZXQnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZHNPb2tsYUNvbVJlYWNoYWJsZSA9IHRydWU7CiAgICAgICAgICBBYWsudXcuc2NyaXB0c0xvYWRlZCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmluYnVja3NfY29tIDogewogICAgICAgIC8vIGJ5OiBBbGV4YW5kZXIyNTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTQ1CiAgICAgICAgaG9zdCA6IFsnYmluYnVja3MuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LnRlc3RKdWljeVBheSA9IHRydWU7CiAgICAgICAgICBBYWsudXcudGVzdFNlbnNlUGF5ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdoaXNreXByaWNlc19kb21haW5zIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjg0CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0VwcjV0UkVMCiAgICAgICAgaG9zdCA6IFsnd2hpc2t5cHJpanplbi5jb20nLCAnd2hpc2t5cHJpY2VzLmNvLnVrJywgJ3doaXNreXByZWlzZS5jb20nLCAnd2hpc2t5cHJpeC5mciddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lk9BX3Nob3cgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmljb2Jsb2dfb3JnIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTg0CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL01OSHBMczJWCiAgICAgICAgaG9zdCA6IFsnbmljb2Jsb2cub3JnJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNyYycpOwogICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGlfc2UgOiB7CiAgICAgICAgLy8gbm90ZTogYWRkIHRoaXMgcnVsZSBmb3IgY2hyb21lIHVzZXIKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMxOQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS85YkRQUXpNWAogICAgICAgIGhvc3QgOiBbJ2RpLnNlJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNoZWFkZXJfb3ZlcmxheScpOwogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNtZXNzYWdlX21vZGFsJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtZWdvZ29fbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBQTQogICAgICAgIC8vIHNvdXJjZTE6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vY2NIUWczaG4KICAgICAgICAvLyBzb3VyY2UyOiBodHRwOi8vcGFzdGViaW4uY29tL2drMHZFUUhOCiAgICAgICAgLy8gbm90ZTogdHdvIGFkYmxvY2sgY2hlY2sKICAgICAgICBob3N0IDogWydtZWdvZ28ubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICJhZEJsb2NrIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAic2hvd0FkQmxvY2tNZXNzYWdlIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmdW5jdGlvbiAoKSB7fQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBsaWJlcnRhZGRpZ2l0YWxfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNjQyCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tLzZGenAwdnJFCiAgICAgICAgaG9zdCA6IFsnbGliZXJ0YWRkaWdpdGFsLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAiYWRfYWxyZWFkeV9wbGF5ZWQiLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZSA6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dywgInB1ZWRlTW9zdHJhckFkcyIsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCAgICAgCiAgICAgIGZvbGhhX3VvbF9jb21fYnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzOTYKICAgICAgICAvLyBzb3VyY2U6IGYoICggdHlwZW9mIHBheXdhbGxfYWNjZXNzID09ICJ1bmRlZmluZWQiIHx8IHBheXdhbGxfYWNjZXNzICE9IHRydWUgKSAmJiAoIHR5cGVvZiBmb2xoYV9hZHMgPT0gInVuZGVmaW5lZCIgfHwgZm9saGFfYWRzICE9IHRydWUgKSApIHsKICAgICAgICBob3N0IDogWydmb2xoYS51b2wuY29tLmJyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICJwYXl3YWxsX2FjY2VzcyIsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAiZm9saGFfYWRzIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdhbWVyX2NvbV90dyA6IHsKICAgICAgICAvLyBieTogbW1pczEwMDAKICAgICAgICAvLyB1c2Vyc2NyaXB0OiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL3NjcmlwdHMvMTY1MjUKICAgICAgICAvLyBpc3N1ZTogOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85NzUKICAgICAgICBob3N0IDogWydnYW1lci5jb20udHcnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dywgJ0FudGlBZCcsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhcm1vcmdhbWVzX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODQ1CiAgICAgICAgaG9zdCA6IFsnYXJtb3JnYW1lcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dywgJ2dhX2RldGVjdCcsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYW5nYWhvc3RfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85NTcKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTU4CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0dycGJKRU5BCiAgICAgICAgaG9zdCA6IFsnbWFuZ2Fob3N0LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAidGVzdERpc3BsYXkiLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZSA6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpZGVvd29vZF90diA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMzOQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3ZpZGVvd29vZC50di9idWlsZC9hc3NldHMvanMvcGVtYmVkLTk3YTY0MGY2MjUuanMKICAgICAgICBob3N0IDogWyd2aWRlb3dvb2QudHYnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lm9wZW4gPSBmdW5jdGlvbiAoKSB7fTsgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgQWFrLnV3LmNvbmZpZyA9IHt9OwogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dy5jb25maWcsICJhZGJfcmVtaW5kIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbmZvam9ic19jb21fYnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzMzkKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vTFBnNjA5M1UKICAgICAgICAvLyByZWRpcmVjdDogaHR0cDovL3d3dy5pbmZvam9icy5jb20uYnIvbm9wdWJsaWNpdHkuYXNweAogICAgICAgIGhvc3QgOiBbJ2luZm9qb2JzLmNvbS5iciddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHdlYlVJID0gd2ViVUkgfHwge307CiAgICAgICAgICAgIHdlYlVJLlV0aWxzID0gd2ViVUkuVXRpbHMgfHwge307CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3ZWJVSS5VdGlscywgIlN0b3BBZEJsb2NrIiwgewogICAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgICAgdmFsdWUgOiBmdW5jdGlvbiAoKSB7fQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNsb3Vkd2ViY29weV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzcxNAogICAgICAgIGhvc3QgOiBbJ2Nsb3Vkd2ViY29weS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHNldFRpbWVvdXRDbG9uZSA9IEFhay51dy5zZXRUaW1lb3V0OwogICAgICAgICAgQWFrLnV3LnNldFRpbWVvdXQgPSBudWxsOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEFhay51dy5zZXRUaW1lb3V0ID0gc2V0VGltZW91dENsb25lOwogICAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBuYXJraXZlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTY5CiAgICAgICAgaG9zdCA6IFsnbmFya2l2ZS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZGJsb2NrX3N0YXR1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByZWdlbl9uZXQgOiB7CiAgICAgICAgaG9zdCA6IFsncHJlZ2VuLm5ldCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBza2lwIHBhZ2UgaW5mbwogICAgICAgICAgQWFrLnNldENvb2tpZSgncGduJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBwaHlzX29yZyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzY4CiAgICAgICAgaG9zdCA6IFsncGh5cy5vcmcnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5jaGtBQiA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgb252YXNvcnRpcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9b252YXNvcnRpci5jb20KICAgICAgICBob3N0IDogWydvbnZhc29ydGlyLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gK2FicCBydWxlIGFsdCBzb2x1dGlvbgogICAgICAgICAgQWFrLnV3LkplQmxvcXVlID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBmdWxsaGR6ZXZraV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZnVsbGhkemV2a2kuY29tCiAgICAgICAgaG9zdCA6IFsnZnVsbGhkemV2a2kuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyArYWJwIHJ1bGUgYWx0IHNvbHV0aW9uCiAgICAgICAgICBBYWsudXcuY2hlY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpbGxlX2lkZWFsZV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI1OAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8xNm1ubWVNYwogICAgICAgIGhvc3QgOiBbJ3ZpbGxlLWlkZWFsZS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vICthYnAgcnVsZSBhbHQgc29sdXRpb24KICAgICAgICAgIEFhay51dy5leGVjc3AgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG5vdHJlX3BsYW5ldGVfaW5mbyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjU4CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL3FyUzZRR0dFCiAgICAgICAgaG9zdCA6IFsnbm90cmUtcGxhbmV0ZS5pbmZvJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyArYWJwIHJ1bGUgYWx0IHNvbHV0aW9uCiAgICAgICAgICBBYWsudXcucHVicG9wID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBhcGttaXJyb3JfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNzgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjI0CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzc4CiAgICAgICAgaG9zdCA6IFsnYXBrbWlycm9yLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmRvQ2hlY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG10bGJsb2dfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85NDgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mb3J1bS9kaXNjdXNzaW9uLzc3NTMKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vQkZyRFBNNmIKICAgICAgICBob3N0IDogWydtdGxibG9nLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAncHVhYnMnLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB2YWx1ZSA6IGZ1bmN0aW9uICgpIHt9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFuaXptX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydhbml6bS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5zdG9wQWRCbG9jayA9IHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGlhcmlvaW5mb3JtYWNpb25fY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTUwCiAgICAgICAgaG9zdCA6IFsnZGlhcmlvaW5mb3JtYWNpb24uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdwcl9va3ZhbGlkYScsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbmJldGFfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMzAxCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL3ZYTkN6dHd4CiAgICAgICAgaG9zdCA6IFsnY25iZXRhLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnSkInLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB2YWx1ZSA6IGZ1bmN0aW9uICgpIHt9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRoZW1hcmtlcl9oYWFyZXR6IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjkyCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL20wOGRrRFQ0CiAgICAgICAgaG9zdCA6IFsndGhlbWFya2VyLmNvbScsICdoYWFyZXR6LmNvLmlsJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdBZEJsb2NrVXRpbCcsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHZhbHVlIDoge30KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGlwb2Nhc190diA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydwaXBvY2FzLnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEFsc28gYWRkZWQgaW4gZGlzYWJsZUFsZXJ0Ym94CiAgICAgICAgICAvLyBObyBwb3B1cAogICAgICAgICAgQWFrLnNldENvb2tpZSgncG9wdXBfdXNlcl9sb2dpbicsICd5ZXMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF8xNW1pbl9sdCA6IHsKICAgICAgICAvLyBub3RlOiByZWd1bGFyeSB1cGRhdGUgc2NyaXB0CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9MTVtaW4uaXQKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vWVdmM0hUcXIKICAgICAgICAvLyB0ZXN0OiBodHRwOi8vdGlueXVybC5jb20vaDZjNDMzNgogICAgICAgIGhvc3QgOiBbJzE1bWluLmx0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdST1VURScsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogJ19iZV9yZWtsYW1vcycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2MyY2FzdHNfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTk5CiAgICAgICAgaG9zdCA6IFsnc2MyY2FzdHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbigpIHsKICAgICAgICAgICAgd2luZG93Ll9nYXEgPSB7IHB1c2g6ZnVuY3Rpb24oKSB7fSB9OwogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAic2hvd2RpYWxvZyIsIHsKICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7fSwKICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgInNob3dQb3B1cDIiLCB7CiAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge30sCiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZndW5ldHdvcmtfY29tIDogewogICAgICAgIC8vIGlzc3VlOgogICAgICAgIGhvc3QgOiBbJ3ZndW5ldHdvcmsuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnc3RvcEl0JywgMSk7CiAgICAgICAgICB2YXIgY2xvc2UgPSBBYWsuZ2V0RWxlbWVudCgnI3NvbWVfYWRfYmxvY2tfa2V5X2Nsb3NlJyk7CiAgICAgICAgICBpZiAoY2xvc2UpIHsKICAgICAgICAgICAgY2xvc2UuY2xpY2soKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtjcnlwdF93cyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjg2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvcHVsbC82NwogICAgICAgIGhvc3QgOiBbJ2xpbmtjcnlwdC53cyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRFbGVtZW50KCcjYWRfY29udCcsIHsKICAgICAgICAgICAgaWQgOiAnJywKICAgICAgICAgICAgc3R5bGUgOiAnZGlzcGxheTpibG9jazsnCiAgICAgICAgICB9KTsKICAgICAgICAgIEFhay5zZXRFbGVtZW50KCcjY29udGFpbmVyX2NoZWNrJywgewogICAgICAgICAgICBzdHlsZSA6ICdkaXNwbGF5Om5vbmU7JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBldmVudG9zcHB2X21lIDogewogICAgICAgIC8vIGlzc3VlOiAKICAgICAgICBob3N0IDogWydldmVudG9zcHB2Lm1lJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNuZjM3Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBib2xvcl90b2xpX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTUyCiAgICAgICAgaG9zdCA6IFsnYm9sb3ItdG9saS5jb20nXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdiYW5uZXInKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhZCA9IGFkc1tpXTsKICAgICAgICAgICAgYWQuaW5uZXJIVE1MID0gJzxicj4nOwogICAgICAgICAgICBhZC5zdHlsZS5oZWlnaHQgPSAnMXB4JzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpdm9fc3ggOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI4MAogICAgICAgIGhvc3QgOiBbJ3Zpdm8uc3gnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhbGVydCA9IEFhay5nZXRFbGVtZW50KCcjYWxlcnQtdGhyb3R0bGUnKTsKICAgICAgICAgIGlmIChhbGVydCkgewogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChhbGVydCk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYnV0dG9uID0gQWFrLmdldEVsZW1lbnQoJ2J1dHRvbiNhY2Nlc3MnKTsKICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTsKICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsKICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdDb250aW51ZSB0byB2aWRlbyc7CiAgICAgICAgICB9CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGlucHV0ID0gQWFrLmdldEVsZW1lbnQoJ2lucHV0W25hbWU9InRocm90dGxlIl0nKTsKICAgICAgICAgICAgaWYgKGlucHV0KSB7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoaW5wdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGx1eHlhZF9jb20gOiB7IC8vIHNraXAgcmVkaXJlY3QgbXlhbmltZXMubGkKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydsdXh5YWQuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCcvSW5mb3JtYXRpb24ucGhwJyA9PSBsb2NhdGlvbi5wYXRobmFtZSkgewogICAgICAgICAgICB2YXIgaHJlZiA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBocmVmLnN1YnN0cihocmVmLmluZGV4T2YoJ3VybD0nKSArIDQsIGhyZWYubGVuZ3RoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1ycGlyYWN5X2RvbWFpbnMgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0MDUKICAgICAgICBob3N0IDogWydtcnBpcmFjeS54eXonLCAnbXJwaXJhY3kuY2x1YiddLAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnRGVzYXRpdmEgbyBBZEJsb2NrIHBhcmEgY29udGludWFyJywKICAgICAgICAgICAgICBleHRlcm5hbCA6IGZhbHNlLAogICAgICAgICAgICAgIHJlbW92ZSA6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRicGxhbmV0X25ldCA6IHsKICAgICAgICAvLyBpc3N1ZTogUE0KICAgICAgICBob3N0IDogWydkYnBsYW5ldC5uZXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnbmV3bm9Nb3JlQWRzTm93JywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhaWRlbXVfZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6CiAgICAgICAgaG9zdCA6IFsnYWlkZW11LmZyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2FkYmxvY2tQb3B1cCcsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZWFtaV9pbiA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydlYW1pLmluJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdhZF9sb2NrZWQnLCAxKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJpZ2Rvd25sb2FkZXJfY29tIDogewogICAgICAgIC8vIGlzc3VlOgogICAgICAgIGhvc3QgOiBbJ2JpZ2Rvd25sb2FkZXIuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNhbnRpX2FkYmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZyZWVza2llcl9jb20gOiB7CiAgICAgICAgLy8gYnk6IEdvcmhpbGwKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNjM5CiAgICAgICAgLy8gbm90ZTogYWxzbyBhZGRlZCBsaXN0IHJ1bGUKICAgICAgICBob3N0IDogWydmcmVlc2tpZXIuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkYi1ub3QtZW5hYmxlZCIpOwogICAgICAgICAgaWYgKGVsICE9PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJkaXNwbGF5Iik7CiAgICAgICAgICB9CiAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aWRlb0NvbnRhaW5lciIpOwogICAgICAgICAgaWYgKGVsICE9PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJkaXNwbGF5Iik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBnYW1ldHJhaWxlcnNfY29tIDogewogICAgICAgIC8vIGlzc3VlOgogICAgICAgIGhvc3QgOiBbJ2dhbWV0cmFpbGVycy5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI2FkX2Jsb2NraW5nJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzY2FuX29uZXBpZWNlX25hcnV0b19teCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTgyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI3OQogICAgICAgIGhvc3QgOiBbJ3NjYW4tbXguY29tJywgJ29uZXBpZWNlLW14Lm5ldCcsICduYXJ1dG8tbXgubmV0J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRfYmxvY2tfdGVzdCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldEVsZW1lbnQoJyN5b3AnLCB7CiAgICAgICAgICAgIGlkIDogJycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gQml0Y29pbnMKICAgICAgYml0Y29pbmtlcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzIzMAogICAgICAgIGhvc3QgOiBbJ2JpdGNvaW5rZXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5jbGFpbSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNFMzNGQ0NjWDJmVycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbW9vbmRvZ2VfY29faW4gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzM4NAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yMzIKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjMzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzIzNgogICAgICAgIGhvc3QgOiBbJ21vb25kb2dlLmNvLmluJywgJ21vb25saXRlY28uaW4nLCAnbW9vbmJpdC5jby5pbicsICdiaXRjb2luemVicmEuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNBQiwgI0U0NDJEdiwgI2VDQzVoJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBiaXRjb2luZXJfbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNDkKICAgICAgICBob3N0IDogWydiaXRjb2luZXIubmV0JywgJ2xpdGVjb2luZXIubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I3Rlc3RlcicpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjYWQtdG9wJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBiaXRjb2luc19ueF90YyA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydmcmVlYml0Y29pbnMubngudGMnLCAnZ2V0Yml0Y29pbnMubngudGMnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZF9ibG9ja190ZXN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZnJlZWNvaW5zNF9tZSA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydmcmVlY29pbnM0Lm1lJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuY2hlY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9LAogICAgICB0b3JyZW50X3R2X3J1IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy81MzcKICAgICAgICBob3N0IDogWyd0b3JyZW50LXR2LnJ1J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuY19Pb19BZHZlcnRfU2hvd24gPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgY3d0dl9jb20gOiB7CiAgICAgICAgLy8gYnk6IEthbGJhc2l0CiAgICAgICAgLy8gcHVsbDogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9wdWxsLzc2MwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNDAKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzYyCiAgICAgICAgaG9zdCA6IFsnY3d0di5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5DV1RWSXNBZEJsb2NraW5nID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmlsZF9kZSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1iaWxkCiAgICAgICAgaG9zdCA6IFsnYmlsZC5kZSddLAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnaHR0cDovL3d3dy5iaWxkLmRlL3dhL2xsL2JpbGQtZGUvdW5hbmdlbWVsZGV0LTQyOTI1NTE2LmJpbGQuaHRtbCcsCiAgICAgICAgICAgICAgZXh0ZXJuYWwgOiBmYWxzZSwKICAgICAgICAgICAgICByZXBsYWNlIDogWydqYXZhc2NyaXB0JywgJ3ZvaWQoMCk7J10uam9pbignOicpCiAgICAgICAgICAgIH0KICAgICAgICAgIF07CiAgICAgICAgfQogICAgICB9LAogICAgICBpbm5fY29faWwgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzUzMgogICAgICAgIGhvc3QgOiBbJ2lubi5jby5pbCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIFRSQyA9IHt9OwogICAgICAgICAgICBUUkMuYmxvY2tlciA9IHsKICAgICAgICAgICAgICBzdGF0ZXMgOiB7CiAgICAgICAgICAgICAgICBBQlBfREVURUNUSU9OX0RJU0FCTEVEIDogLTIsCiAgICAgICAgICAgICAgICBBQlBfTk9UX0RFVEVDVEVEIDogMCwKICAgICAgICAgICAgICAgIEFCUF9ERVRFQ1RFRCA6IDEKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNyZWF0ZUJsb2NrRGV0ZWN0aW9uRGl2IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgaXNCbG9ja0RldGVjdGVkT25EaXYgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGlzQmxvY2tEZXRlY3RlZE9uQ2xhc3NOYW1lcyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZ2V0QmxvY2tlZFN0YXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBiaGFza2FyX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1iaGFza2FyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZGl2eWFiaGFza2FyLmNvLmluCiAgICAgICAgaG9zdCA6IFsnYmhhc2thci5jb20nLCAnZGl2eWFiaGFza2FyLmNvLmluJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcub3BlblBvcFVwRm9yQnJlYWtQYWdlID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICBBYWsudXcuY2FuQUJQID0gdHJ1ZTsKICAgICAgICAgIEFhay51dy5jYW5SdW5BZHMgPSB0cnVlOwogICAgICAgICAgQWFrLnV3LmNhbkNoZWNrQWRzID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR1cmthbmltZV90diA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNDQ2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzOQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL3RyL2ZvcnVtL2Rpc2N1c3Npb24vNDI4Mi8KICAgICAgICBob3N0IDogWyd0dXJrYW5pbWUudHYnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZGJsb2NrYmxvY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5CbG9rS29udHJvbCA9IHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgd3RmYml0X2NoIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy80MDcKICAgICAgICBob3N0IDogWyd3dGZiaXQuY2gnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy53cml0ZUhUTUxhc0pTID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBhcmFuenVsbGFfaXQgOiB7CiAgICAgICAgLy8gYnk6IFJvYm90ZXgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1hcmFuenVsbGEuaXQKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20veU1NNllneFcKICAgICAgICBob3N0IDogWydhcmFuenVsbGEuaXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJyNhYnQxICsgU1RZTEUgKyBkaXZbaWRdW2NsYXNzXSB7ZGlzcGxheTpub25lO30nKTsKICAgICAgICB9LAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnbmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhJywKICAgICAgICAgICAgICBleHRlcm5hbCA6IGZhbHNlLAogICAgICAgICAgICAgIHJlbW92ZSA6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG5kdHZfY29tIDogewogICAgICAgIC8vIG5vdGU6IGNhblJ1bkFkcyBpbnZlcnRlZCB2YWx1ZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPW5kdHYuY29tCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2hjZm5jZHYKICAgICAgICBob3N0IDogWyduZHR2LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ19fX3BfX3AnLCAxKTsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnZ2V0Tm9Ub3BMYXRlc3ROZXdzJywgZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbGVzZWNob3NfZnIgOiB7CiAgICAgICAgLy8gUmVlaywgR2l3YXl1bWUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1sZXNlY2hvcy5mcgogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9DTU04V0dMagogICAgICAgIGhvc3QgOiBbJ2xlc2VjaG9zLmZyJywgJ2xlc2VjaG9zLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbigpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICJjaGVja0FkQmxvY2siLCB7CiAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge30sCiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmNhbGxfQWQgPSAxOwogICAgICAgICAgQWFrLnV3LnBheXdhbGxfYWRibG9ja19hcnRpY2xlID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBiaXR2aXNpdHNfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yNjYKICAgICAgICBob3N0IDogWydiaXR2aXNpdHMuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYmxvY2tBZGJsb2NrVXNlciA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXhyYXBpZGxlZWNoX2luZm8gOiB7CiAgICAgICAgLy8gYnk6IEFsZXhhbmRlcjI1NSwgUmVlaywgR2l3YXl1bWUKICAgICAgICAvLyBwYXRjaDogaHR0cDovL3Bhc3RlYmluLmNvbS9RNjY0ZGlRMgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWV4cmFwaWRsZWVjaAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS81ZTI3c3lqQQogICAgICAgIGhvc3QgOiBbJ2V4cmFwaWRsZWVjaC5pbmZvJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICB2YXIgdG9tb3Jyb3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgdG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKTsKCiAgICAgICAgICAvLyBwcmV2ZW50IHBvcHVwCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwb3BjYXNocHVDYXAnLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ3BvcGNhc2hwdScsIDEpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnbm9wb3BhdGFsbCcsIHRvbW9ycm93LmdldFRpbWUoKS50b1N0cmluZygpKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ25vYWR2dGRheScsIDApOwogICAgICAgICAgLy9BYWsuc2V0Q29va2llKCdidl9EU0tza2Rja19zMWQnLCAnYnZEU0tza2Rja3MxZCcpOwoKICAgICAgICAgIC8vIGhpZGUgbm90aWNlCiAgICAgICAgICBBYWsuYWRkU3R5bGUoJ2Rpdi5hbGVydC5hbGVydC1kYW5nZXIubGVhZCB7b3BhY2l0eTowO30nKTsKICAgICAgICAgIAogICAgICAgICAgLy8gcHJldmVudCByZWRpcmVjdCB0byB2ZXJpZnkgcGFnZQogICAgICAgICAgQWFrLnNldFJlYWRPbmx5KCdiZHZibnJfcGlkJywgW10pOwogICAgICAgICAgQWFrLnNldFJlYWRPbmx5KCdQb3BBZHMnLCAxKTsKCiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBwcmV2ZW50IHBvcHVwCiAgICAgICAgICAgICAgd2luZG93Lm9wZW4gPSBmdW5jdGlvbiAoKSB7fTsKCiAgICAgICAgICAgICAgLy8gcHJldmVudCByZWRpcmVjdCB0byB2ZXJpZnkgcGFnZQogICAgICAgICAgICAgIHZhciBmcmFtZTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgICBmcmFtZTEuc3JjID0gJ2h0dHA6Ly9iZGZybS5iaWR2ZXJ0aXNlci5jb20vQmlkVmVydGlzZXIuZGJtP3BpZD0zODM4NjUmYmlkPTE3Mzc0MTgmUkQ9JzsKICAgICAgICAgICAgICBmcmFtZTEuaWQgPSAnYmR2aSc7CiAgICAgICAgICAgICAgZnJhbWUxLnN0eWxlID0gJ2Rpc3BsYXk6bm9uZSc7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGZyYW1lMSk7CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpcGxlYWd1ZV9kb21haW5zIDogewogICAgICAgIC8vIG5vdGU6IGFsc28ga2lsbGVkIGJ5IEFha0xpc3QKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT12aXBib3gKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT12aXBsZWFndWUKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vTkVSVnpIelMKICAgICAgICBob3N0IDogWyJ2aXBsZWFndWUuaXMiLCAidmlwbGVhZ3VlLndzIiwgInZpcGxlYWd1ZS50diIsICJ2aXBsZWFndWUuc2UiLCAidmlwbGVhZ3VlLnR2IiwgInZpcGxlYWd1ZS5tZSIsICJ2aXBsZWFndWUubW9iaSIsICJ2aXBsZWFndWUuY28iLCAidmlwbGVhZ3VlLnN4IiwgInZpcGxlYWd1ZS5jaCIsICJ2aXBib3gudHYiLCAidmlwYm94LmNvIiwgInZpcGJveC5iaXoiLCAidmlwYm94LnN4IiwgInZpcGJveC5ldSIsICJ2aXBib3guc28iLCAidmlwYm94Lm51IiwgInZpcGJveHNhLmNvIiwgInN0cmlrZW91dC5jbyIsICJzdHJpa2VvdXQubWUiLCAiaG9tZXJ1bi5yZSIsICJ2aXBib3h0di5jbyIsICJ2aXBhcHAubWUiXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmlFeGlzdCA9IHRydWU7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCd4Y2xzdmlwJywgMSk7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi52aXBfMDUyeDAwMyB7IGhlaWdodDogMjUwcHg7IH0iKTsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLnZpcF8wOXg4MjcgeyBoZWlnaHQ6IDI2cHg7IH0iKTsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI292ZXJsYXkgeyBkaXNwbGF5OiBub25lOyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB6b29tdHZfbWUgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9em9vbXR2Lm1lCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL200ekFYR2N3CiAgICAgICAgaG9zdCA6IFsnem9vbXR2Lm1lJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuaWF4cEVuYWJsZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdmdfbm8gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI5MgogICAgICAgIC8vICthYnAgcnVsZQogICAgICAgIGhvc3QgOiBbJ3ZnLm5vJywgJ2UyNC5ubyddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Ll9fQUJfXyA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgcG9ybnZlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTQ3CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tLzdUUFBrcTEyCiAgICAgICAgaG9zdCA6IFsncG9ybnZlLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmFkeGp3dXBkYXRlID0gMTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxvbF9tb2FfdHcgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzExMTQKICAgICAgICBob3N0IDogWydsb2wubW9hLnR3J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBNb2FPYmogPSBNb2FPYmogfHwge307CiAgICAgICAgICAgIE1vYU9iai5hZCA9IE1vYU9iai5hZCB8fCB7fTsJCQkKICAgICAgICAgICAgTW9hT2JqLmFkLmhhc0FkYmxvY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9OwogICAgICAgICAgICBNb2FPYmouYWQuY2hlY2tBQlAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtdWx0aXVwX29yZyA6IHsKICAgICAgICAvLyBieTogV2F0aWxpbgogICAgICAgIC8vIG5vdGU6IGFsdGVybmF0aXZlIHNvbHV0aW9uCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bXVsdGl1cC5vcmcKICAgICAgICBob3N0IDogWydtdWx0aXVwLm9yZyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aXNpdCcsIDEpOyAvLyBwcmV2ZW50IHBvcHVwCiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2hpJywgZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGFpbHliaXRjb2luc19vcmcgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwNwogICAgICAgIGhvc3QgOiBbJ2RhaWx5Yml0Y29pbnMub3JnJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJy5hZC1pbWcnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtvemFjemVrX3plYmVya2EgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQxNAogICAgICAgIGhvc3QgOiBbJ2tvemFjemVrLnBsJywgJ3plYmVya2EucGwnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnYWJsYycsIDEpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnY29va2llX3BvbGljeScsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc3Bhbmt3aXJlX3NpdGVzIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84ODcKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vVEZCMWR0Z2IKICAgICAgICBob3N0IDogWydzcGFua3dpcmUuY29tJywgJ2tlZXptb3ZpZXMuY29tJywgJ2V4dHJlbWV0dWJlLmNvbScsICdtb2Zvc2V4LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCJhYkNsb3NlZCIsICJ0cnVlIik7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCJoaWRlX2FkX21zZyIsICIxIik7CiAgICAgICAgfQogICAgICB9LAogICAgICB5b3Vwb3JuX25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg4NwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9URkIxZHRnYgogICAgICAgIGhvc3QgOiBbJ3lvdXBvcm4uY29tJywgJ3lvdXBvcm5nYXkuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoImFkYmxvY2tfbWVzc2FnZSIsICJjbG9zZWQiKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNpdGF0aW9ubWFjaGluZV9uZXQgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9Y2l0YXRpb25tYWNoaW5lLm5ldAogICAgICAgIGhvc3QgOiBbJ2NpdGF0aW9ubWFjaGluZS5uZXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgic2JtX2NtX2NpdGF0aW9ucyIsIDApOwogICAgICAgIH0KICAgICAgfSwgICAgICAKICAgICAgcHNhcmlwc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1MwogICAgICAgIGhvc3QgOiBbJ3BzYXJpcHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkdmVydCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXh0cmF0b3JyZW50X2RvbWFpbnMgOiB7CiAgICAgICAgaG9zdCA6IFsnZXh0cmF0b3JyZW50LmNjJywgJ2V4dHJhdG9ycmVudC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgLy8gc291cmNlIGFyZSBvYmZ1c2NhdGVkIGluIGV4dGVybmFsIGpzCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwcHVfZGVsYXknLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ3BwdV9tYWluJywgMSk7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwcHVfc3ViJywgMSk7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwcHVfc2hvd19vbicsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG55X2N6IDogewogICAgICAgIGhvc3QgOiBbJ3RueS5jeicsICdwYXN0ZWQuY28nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgQWFrLnNldENvb2tpZSgnX18ucG9wdW5kZXJDYXAnLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ19fLnBvcHVuZGVyJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbHViZWRvaGFyZHdhcmVfY29tX2JyIDogeyAvLyB0d28gYW50aWFkYmxvY2sKICAgICAgICBob3N0IDogWydjbHViZWRvaGFyZHdhcmUuY29tLmJyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChBYWsuY29udGFpbnMobG9jYXRpb24uaG9zdCwgJ2ZvcnVtJykpIHsKICAgICAgICAgICAgLy8gU29sdXRpb24gMQogICAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNiYW5uZXIsIHNjcmlwdCB7IGhlaWdodDogNTFweDsgfSIpOwogICAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNiYW5uZXInKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIFdlYnNpdGUKICAgICAgICAgICAgLy8gU29sdXRpb24gMQogICAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2Rpdi5iYW5uZXJfdG9wbycpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKEFhay5jb250YWlucyhsb2NhdGlvbi5ob3N0LCAnZm9ydW0nKSkgewogICAgICAgICAgICAvLyBTb2x1dGlvbiAyCiAgICAgICAgICAgIEFhay51dy5hZGRCbG9ja2luZy5oaWRlKCk7CiAgICAgICAgICAgIEFhay51dy5hZGRCbG9ja2luZy5raWxsKCk7CiAgICAgICAgICB9IGVsc2UgeyAvLyBXZWJzaXRlCiAgICAgICAgICAgIC8vIFNvbHV0aW9uIDIKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pZCA9ICcnOwogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnLmFkYmxvY2snKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJhc3RhZ2lfY29tIDogewogICAgICAgIGhvc3QgOiBbJ2RlYnJhc3RhZ2kuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNzdHAtbWFpbicpOwogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNzdHAtYmcnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRkbGZyZW5jaF9vcmcgOiB7CiAgICAgICAgaG9zdCA6IFsnZGRsZnJlbmNoLm9yZyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEZpeCBidWcgZGlzcGxheSBjb250ZW50CiAgICAgICAgICBBYWsuc2V0RWxlbWVudCgnI2RsZS1jb250ZW50IC5kLWNvbnRlbnQnLCB7CiAgICAgICAgICAgICdjbGFzcycgOiAnJwogICAgICAgICAgfSk7CiAgICAgICAgICBBYWsuc2V0RWxlbWVudCgnI2NvbnRlbnQnLCB7CiAgICAgICAgICAgICdpZCcgOiAnJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtZWdhZGVicmlkX2V1IDogewogICAgICAgIGhvc3QgOiBbJ21lZ2EtZGVicmlkLmV1J10sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBBY3RpdmF0ZSBidXR0b24gZGVicmlkCiAgICAgICAgICBBYWsuc2V0RWxlbWVudCgnLnJlYWxidXR0b24nLCB7CiAgICAgICAgICAgICdvbmNsaWNrJyA6ICcnLAogICAgICAgICAgICAndHlwZScgOiAnc3VibWl0JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzbGlkZXBsYXllcl9kb21haW5zIDogewogICAgICAgIC8vIGJ5OiBBbGV4YW5kZXIyNTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMzMwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy81MTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjk2CiAgICAgICAgLy8gZGVtbzogaHR0cDovL3NsaWRlcGxheWVyLmZyL3NsaWRlLzEzMDQwMjYvIwogICAgICAgIGhvc3QgOiBbJ3NsaWRlcGxheWVyLionXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAvLyBEaXNhYmxlIGFudGktYWRibG9ja2VyCiAgICAgICAgICBBYWsudXcuZm9yY2VfcmVtb3ZlX2FkcyA9IHRydWU7CgogICAgICAgICAgLy8gQ2lyY3VtdmVudCAic2hhcmUgdG8gZG93bmxvYWQiIHJ1bGUKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgc2xpZGVfaWQgPSB3aW5kb3cuZ2V0X2N1cnJlbnRfc2xpZGVfaWQoKTsKICAgICAgICAgICAgdmFyIHNsaWRlX3NydiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGF5ZXJfZnJhbWUiKS5zcmMuc3BsaXQoIi8iKVszXTsKICAgICAgICAgICAgdmFyIHRpbWUgPSA4NjQwMCArIE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApOwogICAgICAgICAgICB2YXIgc2VjcmV0ID0gZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5zdHJ0cih3aW5kb3cuTUQ1LmJhc2U2NCgic2VjcmV0X3ByZXZlZCBzbGlkZXBsYXllciBuZXZlciBzb2x2ZWQgIiArIHRpbWUgKyBzbGlkZV9pZCArICIucHB0IiksICIrLyIsICItICIpKTsKCiAgICAgICAgICAgIHZhciB1cmwgPSAiaHR0cDovL3BsYXllci5zbGlkZXBsYXllci5vcmcvZG93bmxvYWQvIiArIHNsaWRlX3NydiArICIvIiArIHNsaWRlX2lkICsgIi8iICsgc2VjcmV0ICsgIi8iICsgdGltZSArICIvIiArIHNsaWRlX2lkICsgIi5wcHQiOwogICAgICAgICAgICB2YXIgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJhLmRvd25sb2FkX2xpbmsiKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIC8qIFJlbW92ZSBvcmlnaW5hbCAic2hhcmUgdG8gZG93bmxvYWQiIHBvcHVwIGV2ZW50IGxpc3RlbmVyICovCiAgICAgICAgICAgICAgdmFyIGV2ZW50cyA9ICQuX2RhdGEobGlua3NbaV0pLmV2ZW50cy5jbGljazsKICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKDAsIGV2ZW50cy5sZW5ndGgpOwoKICAgICAgICAgICAgICAvKiBTZXQgbm9ybWFsIGxpbmsgaHJlZiBpbnN0ZWFkICovCiAgICAgICAgICAgICAgbGlua3NbaV0uaHJlZiA9IHVybDsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgIH0KICAgICAgfSwKICAgICAgYm9rZXBzcG90X2NvbSA6IHsKICAgICAgICBob3N0IDogWydib2tlcHNwb3QuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEhpZGUgRGlzY2xhaW1lcgogICAgICAgICAgQWFrLnNldENvb2tpZSgnaGlkZURpYWxvZycsICdoaWRlJyk7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBSZW1vdmUgRGlzYWJsZSBBZEJsb2NrCiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI3R1cGlrbGFuJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBwaWNsb2FkX2NvbSA6IHsKICAgICAgICBob3N0IDogWydwaWNsb2FkLm9yZyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwbF9hZGJsb2NrZXInLCBmYWxzZSk7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRzX2xvYWRlZCA9IHRydWU7CiAgICAgICAgICBBYWsudXcuaW1hZ2VBZHMgPSBmYWxzZTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdkaXZbb25jb250ZXh0bWVudT0icmV0dXJuIGZhbHNlOyJdJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmcmVlemVkb3dubG9hZF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnZnJlZXplZG93bmxvYWQuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKC9mcmVlemVkb3dubG9hZC5jb21cL2Rvd25sb2FkXC8vLnRlc3QobG9jYXRpb24uaHJlZikpIHsKICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJ2JvZHkgPiBkaXZbaWRdJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtb25uc3V0b2dhdHlhX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogUE0KICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vMUx3NjBoNmsKICAgICAgICBob3N0IDogWydtb25uc3V0b2dhdHlhLmNvbSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI3NpdGUtYm94IHtkaXNwbGF5OmJsb2NrO30iKTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjZm9yLWFkLWJsb2NrZXInKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJhcGlkOF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsncmFwaWQ4LmNvbSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdkaXYuYmFja2sgKyAjYmxjb2tNemcnKTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdkaXYuYmFja2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR1cmtkb3duX2NvbSA6IHsKICAgICAgICBob3N0IDogWyd0dXJrZG93bi5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyByZW1vdmUgZmFjZWJvb2sgYm94CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI2R1eXVydScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmlsbW92aXppamFfZG9tYWlucyA6IHsKICAgICAgICBob3N0IDogWydmaWxtb3ZpemlqYS5tZScsICdmaWxtb3ZpemlqYS5jb20nLCAnZmlsbW92aXppamEuaW4nLCAnZmlsbW92aXppamEubmV0J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLyoKICAgICAgICAgIHZhciBkID0gbmV3IERhdGUoKTsKICAgICAgICAgIHZhciB3ZWVrZGF5ID0gWyJTdW5kYXkiLCAiTW9uZGF5IiwgIlR1ZXNkYXkiLCAiV2VkbmVzZGF5IiwgIlRodXJzZGF5IiwgIkZyaWRheSIsICJTYXR1cmRheSJdOwogICAgICAgICAgdmFyIG4gPSB3ZWVrZGF5W2QuZ2V0RGF5KCldOwogICAgICAgICAgQWFrLnNldEVsZW1lbnQoJyMnICsgbiwgewogICAgICAgICAgaHRtbCA6ICcnCiAgICAgICAgICB9KTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjJyArIG4pOwogICAgICAgICAgICovCiAgICAgICAgfQogICAgICB9LAogICAgICBoYWNraW50b3NoX3pvbmUgOiB7CiAgICAgICAgLy8gYnk6IEFsZXhhbmRlcjI1NQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWhhY2tpbnRvc2guem9uZQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlMi5vcmcvRG5COU9qNGYKICAgICAgICBob3N0IDogWydoYWNraW50b3NoLnpvbmUnXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdOwogICAgICAgICAgLy8gRmFrZSBHb29nbGUgYWQgZnJhbWUgY29udGVudAogICAgICAgICAgdmFyIGFkMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucyIpOwogICAgICAgICAgYWQxLmNsYXNzTmFtZSA9ICJhZHNieWdvb2dsZSI7CiAgICAgICAgICBhZDEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIkFBSyIpKTsKICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKGFkMSwgaGVhZC5jaGlsZE5vZGVzWzBdKTsKCiAgICAgICAgICAvKgogICAgICAgICAgLy8gRmFrZSBDbGVhbk15TWFjIGFkIGZyYW1lIHNpemUKICAgICAgICAgIHZhciBhZDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIGFkMi5pZCAgPSAibnljdWhldmdxaSI7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYWQyLndyYXBwZWRKU09iamVjdCwgJ2NsaWVudEhlaWdodCcsIHt2YWx1ZTogMX0pOwogICAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoYWQyLCBoZWFkLmNoaWxkTm9kZXNbMF0pOwogICAgICAgICAgICovCgogICAgICAgICAgdmFyIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkc2Vuc2VncmV5Jyk7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgICAgICAgICAgIG5vZGUuc3JjID0gQWFrLmltZ0JhaXQ7CiAgICAgICAgICAgIGVsZW1zW2ldLmFwcGVuZENoaWxkKG5vZGUpOwogICAgICAgICAgfQoKICAgICAgICB9LAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnZGlzYWJsZSBBREJsb2NrIGNvbXBsZXRlbHknLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJpdmF0ZWluc3RhX2NvbSA6IHsKICAgICAgICBob3N0IDogWydwcml2YXRlaW5zdGEuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gKyBhYnAgcnVsZQogICAgICAgICAgQWFrLnV3LmRvbnRfc2Nyb2xsID0gZmFsc2U7CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgiI292ZXJsYXlfZGl2Iik7CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgiI292ZXJsYXlfbWFpbl9kaXYiKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJpc2lrb2dlc3VuZGhlaXRfZGUgOiB7CiAgICAgICAgaG9zdCA6IFsncmlzaWtvLWdlc3VuZGhlaXQuZGUnXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgd2luZG93LnN0b3AoKTsKICAgICAgICAgIH0sIDUwMDApOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25lcGxheWxpc3RfZXVfcG4gOiB7CiAgICAgICAgaG9zdCA6IFsnb25lcGxheWxpc3QuZXUucG4nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBraWxsIHBvcHVuZGVyCiAgICAgICAgICBBYWsudXcubWFrZVBvcHVuZGVyID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9LAogICAgICBvbm1lZGFfZGUgOiB7CiAgICAgICAgLy8gbm90ZTogc2NyaXB0IG9iZnVzY2F0ZWQgbGluZSAxMTEwCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi84NTc2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwNjcKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vcWY0NmJOM3oKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vUndIeUYwTkwKICAgICAgICBob3N0IDogWydvbm1lZGEuZGUnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy4kQURQID0gdHJ1ZTsKICAgICAgICAgIEFhay51dy5zYXNfY2FsbEFkID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICBBYWsudXcuc2FzX2NhbGxBZHMgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR1cmJvZGVicmlkZXVyX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTk5CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU2MwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy81MjYKICAgICAgICBob3N0IDogWyd0dXJib2RlYnJpZGV1ci5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgIHRhZyA6ICdkaXYnLAogICAgICAgICAgICBpZCA6ICdwdWJkaXJlY3RlJywKICAgICAgICAgICAgaHRtbCA6ICc8aW1nICBzcmM9IicgKyBBYWsuaW1nQmFpdCArICciLz48YSAgaHJlZj0iIyI+Jm5ic3A7PC9hPicsCiAgICAgICAgICAgIGFwcGVuZCA6ICdib2R5JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICByb2NrZmlsZV9ldSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI1NgogICAgICAgIGhvc3QgOiBbJ3JvY2tmaWxlLmV1J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmNyZWF0ZUVsZW1lbnQoewogICAgICAgICAgICB0YWcgOiAnaWZyYW1lJywKICAgICAgICAgICAgc3JjIDogJ2Fib3V0OmJsYW5rJywKICAgICAgICAgICAgc3R5bGUgOiAndmlzaWJpbGl0eTpoaWRkZW47JywKICAgICAgICAgICAgYXBwZW5kIDogJ2JvZHknCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtidWNrc19hbnRpYWRibG9jayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTMyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ2OQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yNzcKICAgICAgICAvLyB2MzogaHR0cDovL3Bhc3RlYmluLmNvbS8wZ2g4TE1HSAogICAgICAgIC8vIG5vdGU6IG5vIHNvbHV0aW9uLCBhbnRpLWFkYmxvY2sgZGlmZmljdWx0IHRvIGJ5cGFzcyAtLT4gaHR0cDovL3Bhc3RlYmluLmNvbS8xTlJxN1d2WgogICAgICAgIGhvc3QgOiBbJ2xpbmtidWNrcy5jb20nLCAnbWluaXVybHMuY28nLCAncGljYnVja3MuY29tJywgJ3BpY3R1cmVzZXRjLm5ldCcsICdwbGFjZXBpY3R1cmVzLmNvbScsICdwb29udG93bi5uZXQnLCAncXFjLmNvJywgJ3F2dm8uY29tJywgJ3JlYWxmaWxlcy5uZXQnLCAncnFxLmNvJywgJ3NlcmlvdXNkZWFscy5uZXQnLCAnc2VyaW91c2ZpbGVzLmNvbScsICdzZXJpb3VzdXJscy5jb20nLCAnc2V4cGFsYWNlLmdzJywgJ3RoZXNlYmxvZ3MuY29tJywgJ3RoZXNlZmlsZXMuY29tJywgJ3RoZXNlZm9ydW1zLmNvbScsICd0aG9zZWdhbGxlcmllcy5jb20nLCAndGlueWJ1Y2tzLm5ldCcsICd0aW55bGlua3MuY28nLCAndG5hYnVja3MuY29tJywgJ3R1YmV2aXJhbC5jb20nLCAndWJlcnBpY3ouY29tJywgJ3ViZXJ2aWR6LmNvbScsICd1YnVja3MubmV0JywgJ3VnYWxsZXJpZXMubmV0JywgJ3VsdHJhZmlsZXMubmV0JywgJ3VybGJlYXQubmV0JywgJ3VybHB1bHNlLm5ldCcsICd3aGFja3l2aWR6LmNvbScsICd5b3VmYXAubWUnLCAneXl2LmNvJywgJ3p4eG8ubmV0JywgJ3pmZi5jbycsICdsaW5rYnVja3NkbnMuY28nLCAnbWluaXVybHMuY29tJywgJ2R5by5ncycsICdnb25ldmlyYWwuY29tJywgJ2VhZnlmc3VoLm5ldCcsICdzYXNvbnRud2MubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIGRvIG5vdGhpbmcuLi4KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtidWNrc192aXNpdHNjcmlwdCA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydyZWZlcmVuY2VtZWdhLmNvbScsICdmcGFiZC5jb20nLCAnY3JhY2thY2MuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFNraXAgdmlzaXRTY3JpcHQgd2hlbiBzaXRlIHVzZSBDbG91ZEZsYXJlIFJvY2tldCBTY3JpcHQKICAgICAgICAgIEFhay5zZXRDb29raWUoJ19sYkdhdGVQYXNzZWQnLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtfdGwgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bGluay50bAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZyL2ZvcnVtL2Rpc2N1c3Npb24vODQzNwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8xTWtDbm1MNwogICAgICAgIGhvc3QgOiBbJ2xpbmsudGwnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcuYWRibG9jayB7IGhlaWdodDoxcHg7IH0nKTsKICAgICAgICAgIEFhay51dy5hZGJsb2NrZXIgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdzdHJlYW1fdmlkZW8gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzODIKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vRWlBUlZRWHQKICAgICAgICBob3N0IDogWyd3c3RyZWFtLnZpZGVvJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgnI2FkaXYgeyBoZWlnaHQ6NHB4OyB9Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBfNHNoYXJlZF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnNHNoYXJlZC5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBIaWRlICJEaXNhYmxlIEFkQmxvZGsiIG1lc3NhZ2VzCiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgianNCbG9ja0RldGVjdCIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJvX2RvbWFpbnMgOiB7CiAgICAgICAgaG9zdCA6IFsncHJvLXppay53cycsICdwcm8tdGVjdC53cycsICdwcm8tZGRsLndzJywgJ3Byby1zcG9ydC53cyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aXNpdGVkZicsIHRydWUpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgndmlzaXRlZGgnLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXB0b2lyaGFyZHdhcmVfY29tIDogewogICAgICAgIGhvc3QgOiBbJ2NvbXB0b2lyLWhhcmR3YXJlLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmFkYmxvY2sgPSAnbm9uJzsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJha2Vyc2ZpZWxkX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNjU3CiAgICAgICAgLy8gbm90ZTogYWxzbyBzb2x1dGlvbiB0byBBYWtMaXN0CiAgICAgICAgaG9zdCA6IFsnYmFrZXJzZmllbGQuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuQURfU0xPVF9SRU5ERVJFRCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBla3N0cmFibGFkZXRfZGsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZWtzdHJhYmxhZGV0CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1IwMjlYcENyCiAgICAgICAgaG9zdCA6IFsnZWtzdHJhYmxhZGV0LmRrJywgJ2ViLmRrJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuQURURUNIID0ge307CiAgICAgICAgfQogICAgICB9LAogICAgICBwY2dhbWVzX2Rvd25sb2FkX25ldCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTQ1MQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZvcnVtL2Rpc2N1c3Npb24vOTMyOAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9FQlZaZzNWQgogICAgICAgIGhvc3QgOiBbJ3BjZ2FtZXMtZG93bmxvYWQubmV0J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdub0FkYmxvY2tOaWNlTWVzc2FnZScsIDEpOwogICAgICAgICAgQWFrLnV3Lm1nQ2FuTG9hZDMwNTQ3ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxhY2hhaW5lbWV0ZW9fY29tIDogewogICAgICAgIC8vIG5vdGU6IGFsc28ga2lsbGVkIGJ5IEFha0xpc3QKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTkwCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI0NQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yMTUKICAgICAgICBob3N0IDogWydsYWNoYWluZW1ldGVvLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmpzX2xvYWRlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYWM0ZXZlcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzk5NwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9SUW5DRVlLNgogICAgICAgIGhvc3QgOiBbJ21hYzRldmVyLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmNvcXVpbm91ID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBfNTI3OGJic19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9NTI3OGJicy5jb20KICAgICAgICBob3N0IDogWyc1Mjc4YmJzLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lm15YWFicGZ1bjEyID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICB0aGVzaW1zcmVzb3VyY2VfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPXRoZXNpbXNyZXNvdXJjZS5jb20KICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vREU5cmJqeFkKICAgICAgICBob3N0IDogWyd0aGVzaW1zcmVzb3VyY2UuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuZ2Fkc2l6ZSA9IHRydWU7CiAgICAgICAgICBBYWsudXcuaUhhdmVMb2FkZWRBZHMgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgeWVsbG93YnJpZGdlX2NvbSA6IHsKICAgICAgICBob3N0IDogWyd5ZWxsb3dicmlkZ2UuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuZmluYWxpemVQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2FtZV9kZWJhdGVfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMzY2CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1V6c2lYMEZLCiAgICAgICAgaG9zdCA6IFsnZ2FtZS1kZWJhdGUuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRfYmxvY2tfdGVzdCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWRzY2VuZG1lZGlhIDogewogICAgICAgIGhvc3QgOiBbJ2Fkc2NlbmRtZWRpYS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gYWRzY2VuZG1lZGlhIC0gaHR0cHM6Ly93d3cuYWRzY2VuZG1lZGlhLmNvbS8KICAgICAgICAgIHZhciByZWYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykuaHJlZiA9IGRvY3VtZW50LnJlZmVycmVyOwogICAgICAgICAgdmFyIGhvc3QgPSBsb2NhdGlvbi5ob3N0OwogICAgICAgICAgdmFyIHBhdGggPSBsb2NhdGlvbi5wYXRobmFtZTsKICAgICAgICAgIGlmIChBYWsuY29udGFpbnMocGF0aCwgJy93aWRnZXRfYWRibG9jay5waHAnKSAmJiAhQWFrLmNvbnRhaW5zKHJlZi5ob3N0LCBob3N0KSkgewogICAgICAgICAgICAvLyBBdXRvIHJlcG9ydAogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0Fkc2NlbmRtZWRpYScsIHJlZi5ob3N0LCBob3N0KTsKICAgICAgICAgICAgLy8gTm90aWZpY2F0aW9uCiAgICAgICAgICAgIEFhay5ub3RpZmljYXRpb24oJ1lvdSBtdXN0IHN1YnNjcmliZSB0byA8Yj5BYWtMaXN0IChBbnRpLUFkYmxvY2sgS2lsbGVyICk8L2I+IDxhIGhyZWY9IicgKyBBYWsuc3Vic2NyaWJlVVJMICsgJyIgdGFyZ2V0PSJfYmxhbmsiPlN1YnNjcmliZTwvYT4nKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFkd29ya21lZGlhIDogewogICAgICAgIGhvc3QgOiBbJ2Fkd29ya21lZGlhLmNvbScsICdsb3h0ay5jb20nLCAnY29udGVudGxvY2tpbmduZXR3b3Jrcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gQWRXb3JrTWVkaWEgLSBodHRwczovL3d3dy5hZHdvcmttZWRpYS5jb20vCiAgICAgICAgICB2YXIgcmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpLmhyZWYgPSBkb2N1bWVudC5yZWZlcnJlcjsKICAgICAgICAgIHZhciBob3N0ID0gbG9jYXRpb24uaG9zdDsKICAgICAgICAgIHZhciBwYXRoID0gbG9jYXRpb24ucGF0aG5hbWU7CiAgICAgICAgICBpZiAoQWFrLmNvbnRhaW5zKHBhdGgsICcvaGVscC9yZW1vdmVBQi5waHAnKSAmJiAhQWFrLmNvbnRhaW5zKHJlZi5ob3N0LCBob3N0KSkgewogICAgICAgICAgICAvLyBBdXRvIHJlcG9ydAogICAgICAgICAgICBBYWsuaW5mbygnQWR3b3JrbWVkaWEnLCByZWYuaG9zdCwgaG9zdCk7CiAgICAgICAgICAgIC8vIE5vdGlmaWNhdGlvbgogICAgICAgICAgICBBYWsubm90aWZpY2F0aW9uKCdZb3UgbXVzdCBzdWJzY3JpYmUgdG8gPGI+QWFrTGlzdCAoQW50aS1BZGJsb2NrIEtpbGxlciApPC9iPiA8YSBocmVmPSInICsgQWFrLnN1YnNjcmliZVVSTCArICciIHRhcmdldD0iX2JsYW5rIj5TdWJzY3JpYmU8L2E+Jyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAvLyBQbGF5ZXJzCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgIGtpc3NhbmltZV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ1MQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zODEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMzAyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI1NwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNzgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTk2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU2CiAgICAgICAgaG9zdCA6IFsna2lzc2FuaW1lLmNvbScsICdraXNzYW5pbWUudG8nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gTWFza2luZyBhZHMKICAgICAgICAgIEFhay5hZGRTdHlsZSgnaWZyYW1lW2lkXj0iYWRzSWZybWUiXSwgLmRpdkNsb3NlQnV0IHsgZGlzcGxheTpub25lOyB9Jyk7CiAgICAgICAgICAvLyBTb2x1dGlvbiAxCiAgICAgICAgICBBYWsudXcuRG9EZXRlY3QyID0gbnVsbDsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAvLyBTb2x1dGlvbiAxIGFicCBydWxlCiAgICAgICAgICAvLyBAQHx8a2lzc2FuaW1lLmNvbV4kZWxlbWhpZGUKCiAgICAgICAgICB2YXIgZGl2Q29udGVudFZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RpdkNvbnRlbnRWaWRlbycpOwoKICAgICAgICAgIC8vIFNvbHV0aW9uIDIKICAgICAgICAgIGlmIChBYWsudXcuRG9EZXRlY3QyKSB7CiAgICAgICAgICAgIEFhay51dy5Eb0RldGVjdDIgPSBudWxsOwogICAgICAgICAgICBBYWsudXcuQ2hlY2tBZEltYWdlID0gbnVsbDsKICAgICAgICAgICAgQWFrLmluZm8oJ1NvbHV0aW9uIDInKTsKICAgICAgICAgIH0gLy9Tb2x1dGlvbiAzCiAgICAgICAgICBlbHNlIGlmIChkaXZDb250ZW50VmlkZW8pIHsKCiAgICAgICAgICAgIHZhciBkaXZEb3dubG9hZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXZEb3dubG9hZCcpLmNsb25lTm9kZSh0cnVlKTsKCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGRpdkNvbnRlbnRWaWRlby5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICBBYWsudXcuRG9IaWRlRmFrZSgpOwogICAgICAgICAgICAgIGRpdkNvbnRlbnRWaWRlby5hcHBlbmRDaGlsZChkaXZEb3dubG9hZCk7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJ2lmcmFtZVtpZF49ImFkc0lmcm1lIl0sIC5kaXZDbG9zZUJ1dCcpOwogICAgICAgICAgICAgIEFhay5pbmZvKCdTb2x1dGlvbiAzJyk7CiAgICAgICAgICAgIH0sIDU1MDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgS2lzc2NhcnRvb25fbWUgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ4OAogICAgICAgIGhvc3QgOiBbJ2tpc3NjYXJ0b29uLm1lJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcueGFabEUgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdpZnJhbWVbaWRePSJhZHNJZnJtZSJdJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBvcGVubG9hZF9kb21haW5zIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPW9wZW5sb2FkCiAgICAgICAgaG9zdCA6IFsnb3BlbmxvYWQuY28nLCAnb3BlbmxvYWQuaW8nLCAnb3BlbmxvYWQudHYnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmFkYmxvY2sgPSBmYWxzZTsKICAgICAgICAgIEFhay51dy5hZGJsb2NrMiA9IGZhbHNlOwogICAgICAgICAgQWFrLnV3LnBvcEFkc0xvYWRlZCA9IHRydWU7CiAgICAgICAgICAvLyBoaWRlIGZha2UgcGxheSBidXR0b24gdXNlZCB0byBvcGVuIHBvcHVuZGVyCiAgICAgICAgICAvL0Fhay5hZGRTdHlsZSgnI3ZpZGVvb3ZlcmxheSB7IGRpc3BsYXk6bm9uZTsgfScpCiAgICAgICAgfQogICAgICB9LAogICAgICB5b3V3YXRjaF9vcmcgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9eW91d2F0Y2gKICAgICAgICAvLyB0ZXN0OiBodHRwOi8veW91d2F0Y2gub3JnL2VtYmVkLTU5cDdpM2Nka3NlMC00NTN4MzIwLmh0bWwKICAgICAgICAvLyB0ZXN0OiBodHRwOi8veW91d2F0Y2gub3JnLzU5cDdpM2Nka3NlMAogICAgICAgIGhvc3QgOiBbJ3lvdXdhdGNoLm9yZycsICdjaG91aGFhLmluZm8nLCAnYWh6YWhnNm9oYi5jb20nLCAnYWh6YWhnNm9oYi5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gc2tpcCBhbnRpLWFkYmxvY2sKICAgICAgICAgIEFhay51dy5hZHNTaG93UG9wdXAxID0gMTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHJlbm92ZSBhZHMgKyBmYWtlIHBsYXkgYnV0dG9uCiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI3BsYXllcl9pbWosICNwbGF5ZXJfaW1qICsgZGl2W2lkXScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXhhc2hhcmVfY29tIDogewogICAgICAgIC8vIGJ5OiBXYXRpbGluCiAgICAgICAgLy8gcHVsbDogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9wdWxsLzUxOQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWV4YXNoYXJlLmNvbQogICAgICAgIC8vIHRlc3Q6ICBodHRwOi8vZXhhc2hhcmUuY29tL2dhbHcyZ2Uya3pzdgogICAgICAgIGhvc3QgOiBbJ2V4YXNoYXJlLmNvbScsICdjaGVmdGkuaW5mbycsICdib2plbTNhLmluZm8nLCAnYWppaGV6by5pbmZvJywgJ3lhaG1haWIzYWkuY29tJywgJ3lhaG1haWIzYWkuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHNraXAgYW50aS1hZGJsb2NrCiAgICAgICAgICBBYWsudXcuYWRzU2hvd1BvcHVwMSA9IDE7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyByZW5vdmUgYWRzICsgZmFrZSBwbGF5IGJ1dHRvbgogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNwbGF5ZXJfZ2F6LCAjcGxheWVyX2dheiArIGRpdltpZF0nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFuMW1lX3NlIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xOTAKICAgICAgICBob3N0IDogWydhbjFtZS5zZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBBYWsudXcuaXNCbG9ja0FkczIgPSBmYWxzZTsKICAgICAgICAgIH0sIDEwMDAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGhxcV90diA6IHsgLy8gcHV0bG9ja2VyLmlzCiAgICAgICAgaG9zdCA6IFsnaHFxLnR2J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gKyBhYnAgcnVsZQogICAgICAgICAgLy8gaHR0cDovL2hxcS50di9wbGF5ZXIvZW1iZWRfcGxheWVyLnBocD92aWQ9UjNER0hHM0dLWFg3JmF1dG9wbGF5PW5vCiAgICAgICAgICBpZiAoJy9wbGF5ZXIvZW1iZWRfcGxheWVyLnBocCcgPT0gbG9jYXRpb24ucGF0aG5hbWUpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtpZF49ImZvcm0tIl0nKS5zdWJtaXQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIFBvbGFuZAogICAgICB3cF9kb21haW5zIDogewogICAgICAgIC8vIE5vdGU6IGRpc2FibGUgRWFzeVByaXZhY3kKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTU2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzkwNQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zMDAKICAgICAgICBob3N0IDogWydiaXp0b2sucGwnLCAnd3AudHYnLCAnd3AucGwnLCAnc3BvcnRvd2VmYWt0eS5wbCcsICdrYWZldGVyaWEudHYnLCAna2FmZXRlcmlhLnBsJywgJy53cnp1dGEucGwnLCAncHVkZWxlay50dicsICdrb21lZGlvd28ucGwnLCAnc2ZvcmEucGwnLCAnYXV0b2tyYXRhLnBsJywgJ3Nwb3J0ZmFuLnBsJywgJ3dhd2Fsb3ZlLnBsJywgJ2hvdG1vbmV5LnBsJywgJ2FsZXNlcmlhbGUucGwnLCAnYmFib2wucGwnLCAnc25vYmthLnBsJywgJ25vY290eS5wbCcsICdtb25leS5wbCcsICdhYmN6ZHJvd2llLnBsJywgJ2dhZHpldG9tYW5pYS5wbCcsICdhdXRva3VsdC5wbCcsICdrb21vcmtvbWFuaWEucGwnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gcHJldmVudCBwb3B1cCBhbnRpLWFkYmxvY2sgZnJvbSBhYmN6ZHJvd2llLnBsCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdBQkNBQkMnLCB0cnVlKTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIAogICAgICAgICAgQWFrLmhhc0VsZW1lbnQoJy53cC1wbGF5ZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAKICAgICAgICAgICAgdmFyIHJlcGxhY2VQbGF5ZXJXUCA9IGZ1bmN0aW9uIChtaWQsIHBsYXllcikgewogICAgICAgICAgICAgIC8qIFJlcXVlc3QKICAgICAgICAgICAgICBodHRwOi8vZ2V0LndwLnR2Lz9taWQ9MTY2MTA1NgogICAgICAgICAgICAgIGh0dHA6Ly93cC50di9wbGF5ZXIvbWlkLDE2NjEwNTYsZW1iZWQuanNvbgogICAgICAgICAgICAgIGh0dHA6Ly9nZXQud3AudHYvP2Y9Mjg5NjQ2Mi4xNDI2MzI5MDU2OTA0Lmwud2VibSZybmQ9MQogICAgICAgICAgICAgIGh0dHBzOi8vd3AudHYvcGxheWVyL21pZCwxNzQ3MTE3LGVtYmVkLmpzb24KICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICBBYWsucmVxdWVzdCh7CiAgICAgICAgICAgICAgICB1cmwgOiAnaHR0cDovL3dwLnR2L3BsYXllci9taWQsJyArIG1pZCArICcsZW1iZWQuanNvbicsCiAgICAgICAgICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShyZXMpOwogICAgICAgICAgICAgICAgICBBYWsubG9nKG9iaik7CgogICAgICAgICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgICAgICAgUGxheWVyLnZpZGVvanMocGxheWVyLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogQWFrLmZpeFByb3RvY29sVVJMKG9iai5jbGlwLnVybFsxXS51cmwpLCAvLyBIRAogICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdmFyIHJlcGxhY2VQbGF5ZXJXcnp1dGEgPSBmdW5jdGlvbiAoa2V5LCBjaGFubmVsLCBlbGVtKSB7CiAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53cnp1dGEucGwvbnBwL2VtYmVkL3dvbG5hcG9sc2thMi8wSTBIUTJtdXRKYwogICAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly93d3cud3J6dXRhLnBsL25wcC9lbWJlZC8nICsgY2hhbm5lbCArICcvJyArIGtleSwKICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICAgICAgICAgIEFhay5sb2cob2JqKTsKCiAgICAgICAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICAgICAgICBQbGF5ZXIudmlkZW9qcyhlbGVtLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogQWFrLmZpeFByb3RvY29sVVJMKG9iai51cmxbMF0udXJsKSwgLy9IRAogICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8gVXNpbmcgYW4gZXh0ZXJuYWwgZmxhc2ggcGxheWVyIGlzIGltcG9zc2libGUgYmVjYXVzZSBwcm90ZWN0ZWQgYnkgY3Jvc3Nkb21haW4ueG1sCiAgICAgICAgICAgIHZhciBwbGF5ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndwLXBsYXllcicpOyAvLyAgI1BsYXllcjAsICNQbGF5ZXIxLCAjbWFpblBsYXllcgogICAgICAgICAgICBpZiAocGxheWVycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAvLyBmaXhidWcgZ21feGhyIGxvb3AgcmVxdWVzdCAtIGh0dHA6Ly90aW55dXJsLmNvbS9wcWE5aHRxCiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbGF5ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgbWlkID0gbnVsbDsKICAgICAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBwbGF5ZXJzW2ldOwogICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHBsYXllci5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IHBsYXllci5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcignLnRpdGxlQ29udCBhLnRpdGxlJyk7CiAgICAgICAgICAgICAgICB2YXIgZW1iZWR2aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHRbc3JjKj0iL2VtYmVkX3ZpZGVvLmpzIl0nKTsKICAgICAgICAgICAgICAgIEFhay5sb2cocGxheWVyLCBwYXJlbnQsIHNjcmlwdCwgdGl0bGUpOwoKICAgICAgICAgICAgICAgIGlmIChlbWJlZHZpZGVvcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgLy8gcHVkZWxlay53cnp1dGEucGw6IGh0dHA6Ly90aW55dXJsLmNvbS9sOGpvNXYyCiAgICAgICAgICAgICAgICAgIC8vIHB1ZGVsZWsudHY6IGh0dHA6Ly90aW55dXJsLmNvbS9rbHl6aDZyLCBodHRwOi8vdGlueXVybC5jb20vejdmcjg5dgogICAgICAgICAgICAgICAgICAvLyBwdWRlbGVrLnR2ICh0cmlwbGUpOiBodHRwOi8vdGlueXVybC5jb20vbjliMjdvMgogICAgICAgICAgICAgICAgICAvLyBmaWxtLndwLnBsOiBodHRwOi8vdGlueXVybC5jb20vcTdrNWJ4cAogICAgICAgICAgICAgICAgICB2YXIgZW1iZWR2aWRlbyA9IGVtYmVkdmlkZW9zW2ldOwogICAgICAgICAgICAgICAgICB2YXIga2V5ID0gL2tleT0oXHcrKS8uZXhlYyhlbWJlZHZpZGVvLnNyYylbMV07CiAgICAgICAgICAgICAgICAgIHZhciBjaGFubmVsID0gL2xvZ2luPShcdyspLy5leGVjKGVtYmVkdmlkZW8uc3JjKVsxXTsKICAgICAgICAgICAgICAgICAgdmFyIGF1dG9zdGFydCA9IC9hdXRvcGxheS8udGVzdChlbWJlZHZpZGVvLnNyYyk7CiAgICAgICAgICAgICAgICAgIHJlcGxhY2VQbGF5ZXJXcnp1dGEoa2V5LCBjaGFubmVsLCBwbGF5ZXIsIGF1dG9zdGFydCk7CiAgICAgICAgICAgICAgICAgIEFhay5sb2coJ2VtYmVkX3ZpZGVvLmpzJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRpdGxlICYmIC9taWQvLnRlc3QodGl0bGUuaHJlZikpIHsKICAgICAgICAgICAgICAgICAgLy8gc3BvcnRvd2VmYWt0eS5wbDogaHR0cDovL3Rpbnl1cmwuY29tL2w2emFiY3gKICAgICAgICAgICAgICAgICAgbWlkID0gdGl0bGUuaHJlZi5tYXRjaCgvbWlkWz0sXShbMC05XSspLyk7CiAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3RpdGxlLmhyZWYnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50LmlkKSB7CiAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuZGF0YXNldC51cmwpIHsKICAgICAgICAgICAgICAgICAgICAvLyB3cC50djogaHR0cDovL3Rpbnl1cmwuY29tL3B6ZGUyOXQKICAgICAgICAgICAgICAgICAgICBtaWQgPSBwYXJlbnQuZGF0YXNldC51cmwubWF0Y2goL21pZFs9LF0oWzAtOV0rKS8pOwogICAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3BhcmVudC5kYXRhc2V0LnVybCcpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQucHJldmlvdXNTaWJsaW5nLmlubmVySFRNTCkgewogICAgICAgICAgICAgICAgICAgICAgLy8gd2lhZG9tb3NjaS53cC5wbDogaHR0cDovL3Rpbnl1cmwuY29tL2dxdHQ5Y2EKICAgICAgICAgICAgICAgICAgICAgIG1pZCA9IHBhcmVudC5wcmV2aW91c1NpYmxpbmcuaW5uZXJIVE1MLm1hdGNoKC9taWRbPSxdKFswLTldKykvKTsKICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3NjcmlwdC5pbmxpbmUuaW5uZXJIVE1MJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGthZmV0ZXJpYS50djogaHR0cDovL3Rpbnl1cmwuY29tL25vZnA1OGEKICAgICAgICAgICAgICAgICAgICAgIC8vIGFiY3pkcm93aWUucGw6IGh0dHA6Ly90aW55dXJsLmNvbS9oeDZzNWV0CiAgICAgICAgICAgICAgICAgICAgICBtaWQgPSBwYXJlbnQuaW5uZXJIVE1MLm1hdGNoKC9taWRbPSxdKFswLTldKykvKTsKICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3BhcmVudC5pbm5lckhUTUwnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NyaXB0ICYmIHNjcmlwdC50YWdOYW1lID09ICdTQ1JJUFQnKSB7CiAgICAgICAgICAgICAgICAgIC8vIGZpbG0ud3AucGw6IGh0dHA6Ly90aW55dXJsLmNvbS9taDlvbmZ3CiAgICAgICAgICAgICAgICAgIC8vIHB1ZGVsZWsudHYgKGRvdWJsZSk6IGh0dHA6Ly90aW55dXJsLmNvbS9sZWZ2d3R4CiAgICAgICAgICAgICAgICAgIG1pZCA9IHNjcmlwdC5pbm5lckhUTUwubWF0Y2goL21pZFs9LF0oWzAtOV0rKS8pOwogICAgICAgICAgICAgICAgICBBYWsubG9nKCdzY3JpcHQuc3JjLmlubmVySFRNTCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG1pZCAhPT0gbnVsbCAmJiBtaWQubGVuZ3RoID09IDIpIHsKICAgICAgICAgICAgICAgICAgcmVwbGFjZVBsYXllcldQKG1pZFsxXSwgcGxheWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbW9qZV9maWxteV9uZXR3b3JrOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwMTAKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vN0cyUkJucXEKICAgICAgICBob3N0IDogWydtb2plLWZpbG15LnRrJywgJ21vamUtZmlsbXkubGl2ZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBzZWFyY2h2YWx1ZSA9IFsndmFyIHBsYXllckluc3RhbmNlJywgJ30pOyddOwogICAgICAgICAgdmFyIHNjcmlwdCA9IEFhay5oYXNTY3JpcHQoc2VhcmNodmFsdWVbMF0pOwoKICAgICAgICAgIGlmIChzY3JpcHQpIHsKICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHNjcmlwdC5pbm5lckhUTUw7CiAgICAgICAgICAgIHZhciBzdHIgPSBzb3VyY2Uuc3Vic3RyaW5nKHNvdXJjZS5sYXN0SW5kZXhPZihzZWFyY2h2YWx1ZVswXSksIHNvdXJjZS5sYXN0SW5kZXhPZihzZWFyY2h2YWx1ZVsxXSkgKyBzZWFyY2h2YWx1ZVsxXS5sZW5ndGgpOwogICAgICAgICAgICBBYWsuYWRkU2NyaXB0KHN0cik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICB0dm5fcGwgOiB7CiAgICAgICAgLy8gYnk6IFJlZWssIE1hcmVrCiAgICAgICAgLy8gc29sdXRpb246IGh0dHA6Ly90aW55dXJsLmNvbS9vaGJ2ejRyLCBodHRwOi8vdGlueXVybC5jb20vanE4czQ2MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPXR2bi5wbAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPXR2bjI0LnBsCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9cGxheWVyLnBsCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL282ZDloNjYsIGh0dHA6Ly90aW55dXJsLmNvbS96NzdtNHpoCiAgICAgICAgaG9zdCA6IFsndHZuLnBsJywgJ3R2bjI0LnBsJywgJ3BsYXllci5wbCddLAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmhhc0VsZW1lbnQoJ2hlYWRlci5kZXRhaWxJbWFnZScsIGZ1bmN0aW9uICh0aGlzRWxlbWVudCkgewogICAgICAgICAgICBpZiAoQWFrLmdldENvb2tpZSgnY291bnRyeV9jb2RlJykgJiYgQWFrLmdldFNlc3Npb24oJ2dlbmVyYXRlVG9rZW4nKSkgewogICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgvWy4sXS8pOwogICAgICAgICAgICAgICAgdmFyIGlkID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMl07CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBwbGF0Zm9ybSA6ICJNb2JpbGUiLAogICAgICAgICAgICAgICAgICB0ZXJtaW5hbCA6ICJBbmRyb2lkIiwKICAgICAgICAgICAgICAgICAgZm9ybWF0IDogImpzb24iLAogICAgICAgICAgICAgICAgICB2IDogIjIuMCIsCiAgICAgICAgICAgICAgICAgIGF1dGhLZXkgOiAiYjRiYzk3MTg0MGRlNjNkMTA1YjMxNjY0MDNhYTFiZWEiLAogICAgICAgICAgICAgICAgICB0eXBlIDogImVwaXNvZGUiLAogICAgICAgICAgICAgICAgICBpZCA6IGlkLAogICAgICAgICAgICAgICAgICBzb3J0IDogIm5ld2VzdCIsCiAgICAgICAgICAgICAgICAgIG0gOiAiZ2V0SXRlbSIsCiAgICAgICAgICAgICAgICAgIGRldmljZVNjcmVlbkhlaWdodCA6IDE2MDAsCiAgICAgICAgICAgICAgICAgIGRldmljZVNjcmVlbldpZHRoIDogMjU2MAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciBhcGkgPSAnaHR0cHM6Ly9hcGkudHZucGxheWVyLnBsL2FwaS8/JyArIEFhay5zZXJpYWxpemUocGFyYW1zKTsKICAgICAgICAgICAgICAgIHZhciBwcm94eSA9ICdodHRwOi8vd3d3LnByb3h5LnhtYy5wbC9pbmRleC5waHA/aGw9M2U1JnE9JzsJCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEdldCB2aWRlb1VybAogICAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgICB1cmwgOiBBYWsuZ2V0Q29va2llKCdjb3VudHJ5X2NvZGUnKSAhPSAnUEwnID8gcHJveHkgKyBBYWsuZW5jb2RlVVJJKGFwaSkgOiBhcGksCiAgICAgICAgICAgICAgICAgIGhlYWRlcnMgOiB7CiAgICAgICAgICAgICAgICAgICAgIlVzZXItQWdlbnQiIDogIk1vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjI7IGVuLXVzOyBOZXh1cyAxMCBCdWlsZC9KVlAxNUkpIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIFNhZmFyaS81MzQuMzAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gcmVzdWx0LnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICBBYWsubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvVXJsID0gby5pdGVtLnZpZGVvcy5tYWluLnZpZGVvX2NvbnRlbnRbTnVtYmVyKEFhay5vcHRzLnZpZGVvSEQpXS51cmw7CiAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlVG9rZW4gPSBuZXcgRnVuY3Rpb24oJ3ZpZGVvVXJsJywgQWFrLmdldFNlc3Npb24oJ2dlbmVyYXRlVG9rZW4nKSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvVXJsV2l0aFNlZWQgPSBnZW5lcmF0ZVRva2VuKHZpZGVvVXJsKTsKICAgICAgICAgICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgICAgICAgICBQbGF5ZXIudmlkZW9qcyh0aGlzRWxlbWVudCwgewogICAgICAgICAgICAgICAgICAgICAgc291cmNlIDogdmlkZW9VcmxXaXRoU2VlZCwKICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0sIHt9LCB7aW5zZXJ0Oidpbm5lcid9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoeyAvLyBnZXQgYW5kIHN0b3JlIGdlbmVyYXRlVG9rZW4gZnVuY3Rpb24KICAgICAgICAgICAgICAgIHVybCA6ICdodHRwOi8vcGFzdGViaW4uY29tL3Jhdy9EOXFNNERSMycsCiAgICAgICAgICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgQWFrLnNldFNlc3Npb24oJ2dlbmVyYXRlVG9rZW4nLCByZXMpOwogICAgICAgICAgICAgICAgICBBYWsucmVxdWVzdCh7IC8vIGdldCB1c2VyIGlwCiAgICAgICAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly9pcC1hcGkuY29tL2pzb24nLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXMpOwogICAgICAgICAgICAgICAgICAgICAgQWFrLnNldENvb2tpZSgnY291bnRyeV9jb2RlJywganNvbi5jb3VudHJ5Q29kZSk7CiAgICAgICAgICAgICAgICAgICAgICBBYWsucmVmcmVzaCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaXBsYV90diA6IHsKICAgICAgICAvLyBieTogTWFyZWsKICAgICAgICAvLyBzb2x1dGlvbjogaHR0cDovL3Rpbnl1cmwuY29tL3B0YjR5YmcKICAgICAgICAvLyBpc3N1ZS4gaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTIyCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2h6N2dweHgKICAgICAgICBob3N0IDogWydpcGxhLnR2J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcuaHRtbDUtcGxheWVyLXdyYXBwZXIgeyBkaXNwbGF5Om5vbmU7IH0nKTsgLy8gY2hyb21lL29wZXJhCiAgICAgICAgICB2YXIgb2xkUGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh0bWw1LXBsYXllci13cmFwcGVyLCAjdm9kLXBsYXllcicpOwogICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICB1cmwgOiAnL1ZPRC9wbGF5LWluLWlwbGEvJyArIGxvY2F0aW9uLmhyZWYubWF0Y2goL1wvdm9kLShcZCspLylbMV0sCiAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICB2YXIgdmlkZW9VUkw7CiAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgdmFyIGlkbiA9IHJlcy5tYXRjaCgvaXBsYTpcL1wvcGxheXZvZC0xXHwoW2EtejAtOV0rKS8pWzFdOwogICAgICAgICAgICAgIEFhay5sb2coaWRuKTsKICAgICAgICAgICAgICBBYWsucmVxdWVzdCh7CiAgICAgICAgICAgICAgICB1cmwgOiAnaHR0cDovL2dldG1lZGlhLnJlZGVmaW5lLnBsL3ZvZHMvZ2V0X3ZvZC8/Y3BpZD0xJnVhPW1pcGxhLzIzJm1lZGlhX2lkPScgKyBpZG4sCiAgICAgICAgICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgICB2YXIgbyA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgICAgICAgICAgICAgQWFrLmxvZyhvKTsKICAgICAgICAgICAgICAgICAgaWYgKG8udm9kLnZpZGVvX2hkKSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9VUkwgPSBvLnZvZC52aWRlb19oZDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvLnZvZC52aWRlbykgewogICAgICAgICAgICAgICAgICAgIHZpZGVvVVJMID0gby52b2QudmlkZW87CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9VUkwgPSBvLnZvZC5jb3BpZXNbMF0udXJsOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgICAgICAgUGxheWVyLnZpZGVvanMob2xkUGxheWVyLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogdmlkZW9VUkwsCiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdtcDQnLAogICAgICAgICAgICAgICAgICAgIHdpZHRoIDogODIwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IDQ1MCwKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtvc2NpYW5fbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85MTQKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20veUdTUEJScWUKICAgICAgICBob3N0IDogWydrb3NjaWFuLm5ldCddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYW4nKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZWxlbXNbaV0ucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vZWxlbXNbaV0uaW5uZXJIVE1MID0gJzxicj4nOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gRnJhbmNlCiAgICAgIHBsYXl0dl9mciA6IHsgLy8gcmVzZWFyY2ggc29sdXRpb24KICAgICAgICBob3N0IDogWydwbGF5LnR2JywgJ3BsYXl0di5mciddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkge30sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7fQogICAgICB9LAogICAgICBybWNzcG9ydGJmbXR2X2NvbSA6IHsgLy8gd2VicmFkaW8KICAgICAgICBob3N0IDogWydybWNzcG9ydC5iZm10di5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgdmFyIGZsYXNodmFycyA9IHsKICAgICAgICAgICAgdXJsUmFkaW8gOiAiaHR0cDovL21wM2xnNC50ZGYtY2RuLmNvbS8xMDE2MC9ybWMubXAzIiwKICAgICAgICAgICAgbm9tIDogImxpdmUiLAogICAgICAgICAgICBjYXRlZ29yaWUgOiAibGl2ZSIsCiAgICAgICAgICAgIHVybFNtYXJ0IDogIiIgLy8gc2V0IGVtcHR5IHRvIHJlbW92ZSBhdWRpbyBhZAogICAgICAgICAgfTsKICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgIHdtb2RlIDogInRyYW5zcGFyZW50IgogICAgICAgICAgfTsKCiAgICAgICAgICBBYWsudXcuc3dmb2JqZWN0LmVtYmVkU1dGKCIvc3dmL1JNQ0xJVkUuc3dmIiwgImxpdmVwbGF5ZXIiLCAiNzAiLCAiOTAiLCAiMTAuMC4wIiwgIiIsIGZsYXNodmFycywgcGFyYW1zKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVjbHlwc2lhX2NvbSA6IHsKICAgICAgICBob3N0IDogWydlY2x5cHNpYS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFNvbHV0aW9uIDEKICAgICAgICAgIC8vIGFicCBydWxlcwoKICAgICAgICAgIC8vIFNvbHV0aW9uIDIKICAgICAgICAgIEFhay51dy5pc0FCQWN0aXZhdGVkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9OyAvLyBLaWxsIGFudGlhZGJsb2NrCiAgICAgICAgICBBYWsudXcucmVmcmVzaF9pZnJhbWUgPSBmdW5jdGlvbiAoKSB7fTsgLy8gU3RvcCBhZHMgdG8gYmUgbG9hZGVkCiAgICAgICAgfSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFNvbHV0aW9uIDMKICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2W2lkXj0id2VidHZfaWZyYW1lXyJdJyk7CiAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCkgewogICAgICAgICAgICB2YXIgdmlkZW9JZCA9IGVsZW1lbnQuaWQuc3BsaXQoJ18nKVsyXTsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnPGlmcmFtZSBmcmFtZWJvcmRlcj0iMCIgd2lkdGg9IjgxMiIgaGVpZ2h0PSI1MDAiIHNyYz0iaHR0cDovL3d3dy5kYWlseW1vdGlvbi5jb20vZW1iZWQvdmlkZW8vJyArIHZpZGVvSWQgKyAnP2xvZ289MCZhdXRvUGxheT0xJmF1dG9NdXRlPTAiPjwvaWZyYW1lPic7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbTZ3ZWJfZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ2MQogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly90aW55dXJsLmNvbS9wdG4ydnJsCiAgICAgICAgaG9zdCA6IFsnbTZ3ZWIuZnInXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBwbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdvYmplY3RbaWQkPSJfZmxhc2hfYXBpIl0nKTsKICAgICAgICAgIHZhciBzY3JpcHQgPSBBYWsuaGFzU2NyaXB0KCdNNi5QbGF5ZXIuY29uZmlnJyk7CgogICAgICAgICAgaWYgKHBsYXllciAhPT0gbnVsbCAmJiBzY3JpcHQgIT09IG51bGwpIHsKICAgICAgICAgICAgdmFyIGZvdW5kID0gc2NyaXB0LmlubmVySFRNTC5tYXRjaCgvTTYuUGxheWVyLmNvbmZpZyA9IChcey4rXH0pOy8pOwogICAgICAgICAgICB2YXIgY29uZmlnID0gSlNPTi5wYXJzZShmb3VuZC5wb3AoKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSZXBsYWNlIHBsYXllcgogICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgUGxheWVyLnZpZGVvanMocGxheWVyLnBhcmVudE5vZGUsIHsKICAgICAgICAgICAgICBzb3VyY2UgOiBjb25maWcuc291cmNlc1sxXS5zcmMsCiAgICAgICAgICAgICAgdHlwZSA6ICdtcDQnLAogICAgICAgICAgICAgIGF1dG9wbGF5IDogZmFsc2UKICAgICAgICAgICAgfSk7CgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2FtaW5ncm9vbV90diA6IHsKICAgICAgICBob3N0IDogWydnYW1pbmdyb29tLnR2J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRibG9ja19kZXRlY3QgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5HUl9hZGJsb2NrX2hpZGVfdmlkZW8gPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5hZGJsb2NrX3ZpZGVvX21zZ19zdGFydCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgICAgQWFrLnV3LmFkYmxvY2tfdmlkZW9fbXNnX3N0b3AgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5kaXNhYmxlX2NoYXQgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIEdlcm1hbnkKICAgICAgbm93X2RvbWFpbnMgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzMzNgogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly90aW55dXJsLmNvbS9wZWVvYm91CiAgICAgICAgLy8gdGVzdDogaHR0cDovL2pzYmluLmNvbS92dWNvYmVqb2ZvCiAgICAgICAgaG9zdCA6IFsndm94bm93LmRlJywgJ3J0bC1ub3cucnRsLmRlJywgJ3J0bDJub3cucnRsMi5kZScsICduLXR2bm93LmRlJywgJ3N1cGVycnRsbm93LmRlJywgJ3J0bG5pdHJvbm93LmRlJywgJ25vd3R2LmRlJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLyoKICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgUGxheWVyLmVkaXRpbmcoJyN2aWRlb3BsYXllcicsIHsKICAgICAgICAgIHVuc2V0Rmxhc2h2YXJzIDogJ2FiY2hlY2tfZW5hYmxlZCxhZGNhbGwsYWRjbGFzc2VzLGFkY29uZmlnLGFkbWV0YSxhZHNsb2csYWdvZixhbWEsYW5nZWJvdCxhcyxhc3BhcnRzLGJyZWFrYWQsY29ubmVjdGlvbmNoZWNrLGNzbG9nLGRldixkaW1tZXIsZXJyb3Jsb2csZmVlZGJhY2ssZm1zaWRlbnQsZ3R2LGhpZ2hsaWdodHMsaXZ3LGl2d19wbGF5LGpzLGpzX2V2ZW50X2Z1bmN0aW9uLGxvZ28sbG9nb19iYXNld2lkdGgsbG9nb3BvcyxuaWVsc2VuLG9yZCxvc21mLHN2bSx0aWxlLHZpZGVvcGxhemEsdmlkZW9wbGF6YV9iYXNlX3VybCx2aWRlb3BsYXphX3NoYXJlLHZpZGVvcGxhemFfdGFnLHZwRW52aXJvbm1lbnRVUkwseGwnCiAgICAgICAgICB9KTsKICAgICAgICAgICAqLwogICAgICAgIH0KICAgICAgfSwKICAgICAgcnRsX2RlIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTQxCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2g3Y2N2cXEKICAgICAgICBob3N0IDogWydydGwuZGUnXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbZGF0YS13aWRnZXQ9InZpZGVvIl0nKSkubWFwKGZ1bmN0aW9uICh2aWRlbykgewogICAgICAgICAgICB2YXIgY2ZnID0gQWFrLmludG9PYmplY3QodmlkZW8uZGF0YXNldC5wbGF5ZXJMYXllckNmZyk7CiAgICAgICAgICAgIHZhciBmaWxlID0gY2ZnLnZpZGVvaW5mby5tcDR1cmw7CiAgICAgICAgICAgIEFhay5sb2codmlkZW8sIGNmZywgZmlsZSk7CgogICAgICAgICAgICAvLyBSZXBsYWNlIHBsYXllcgogICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgUGxheWVyLnZpZGVvanModmlkZW8sIHsKICAgICAgICAgICAgICBzb3VyY2UgOiBmaWxlLAogICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBteXNwYXNzX2RlIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy83NgogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly90aW55dXJsLmNvbS9sdG85cHlkCiAgICAgICAgaG9zdCA6IFsnbXlzcGFzcy5kZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB2aWRlb2lkID0gbG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1wvKFxkKylcLyQvKTsKCiAgICAgICAgICBpZiAodmlkZW9pZCAhPT0gbnVsbCkgewogICAgICAgICAgICBBYWsucmVxdWVzdCh7CiAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly93d3cubXlzcGFzcy5kZS9teXNwYXNzL2luY2x1ZGVzL2FwcHMvdmlkZW8vZ2V0dmlkZW9tZXRhZGF0YXhtbC5waHA/aWQ9JyArIHZpZGVvaWRbMV0sCiAgICAgICAgICAgICAgb25sb2FkIDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICBBYWsubG9nKHJlcyk7CgogICAgICAgICAgICAgICAgLy8gR2V0IHZpZGVvCiAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgIHZhciBkb20gPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlcywgImFwcGxpY2F0aW9uL3htbCIpOwogICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBkb20uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInVybF9mbHYiKS5pdGVtKDApLnRleHRDb250ZW50OwoKICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlbGVtZW50cwogICAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJ2Rpdi5sb2FkaW5nR2lmJyk7CgogICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBwbGF5ZXIKICAgICAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICAgICAgUGxheWVyLnZpZGVvanMoJyNwbGF5ZXInLCB7CiAgICAgICAgICAgICAgICAgIHNvdXJjZSA6IGZpbGUsCiAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiBmYWxzZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBOZWRlcmxhbmQKICAgICAgcnRseGxfbmwgOiB7CiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2wyemt2M2QKICAgICAgICBob3N0IDogWydydGx4bC5ubCcsICdydGxuaWV1d3MubmwnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgUGxheWVyLmVkaXRpbmcoJyNfcnRsb3NtZjAnLCB7CiAgICAgICAgICAgIHNldEZsYXNodmFycyA6IHsKICAgICAgICAgICAgICBhZGJsb2NrIDogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBOb3J3YXkKICAgICAgdmd0dl9uZXR3b3JrIDogewogICAgICAgIC8vIG5vdGU6IHNraXAgdmlkZW8gYWRzICsgYW50aS1hZGJsb2NrCiAgICAgICAgLy8gandwbGF5ZXI6IGh0dHA6Ly90aW55dXJsLmNvbS96eXY3OWhnCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0MDIKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMzY3CiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL253cDg1dCwgaHR0cDovL3Rpbnl1cmwuY29tL253cDg1dAogICAgICAgIGhvc3QgOiBbJ3ZndHYubm8nLCAndmcubm8nXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBvbGRIYXNoID0gbnVsbDsKICAgICAgICAgIHZhciB2aWRlb0lkID0gbnVsbDsKICAgICAgICAgIHZhciB2aWRlb0lkUmVnZXggPSAvI1whXC92aWRlb1wvKFxkKylcLy87CgogICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGxvY2F0aW9uIGhhc2ggY2hhbmdlcwogICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGxheWVyID0gQWFrLmdldEVsZW1lbnQoJy52aWRlby1wbGF5ZXInKTsKCiAgICAgICAgICAgIGlmIChwbGF5ZXIgJiYgbG9jYXRpb24uaGFzaCAhPSBvbGRIYXNoICYmIHZpZGVvSWRSZWdleC50ZXN0KGxvY2F0aW9uLmhhc2gpKSB7CiAgICAgICAgICAgICAgb2xkSGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgICAgdmlkZW9JZCA9IG9sZEhhc2gubWF0Y2godmlkZW9JZFJlZ2V4KVsxXTsKLyoKICAgICAgICAgICAgICB2YXIgaGxzdXJsID0gJ2h0dHBzOi8vc3Zwc2VjdXJlaGR2b2QtdmguYWthbWFpaGQubmV0L2kvMjAxNi8wMy8yMDE2MDMxMl81NmU0MjFmODZhZjQ1X3ZnMDEvLDEyODBfNzIwXzM1MDAsOTYwXzU0MF8xNTAwLDY0MF8zNjBfODAwLDQ4MF8yNzBfNTAwLC5tcDQuY3NtaWwvbWFzdGVyLm0zdTgnOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYXllcikKCiAgICAgICAgICAgICAgLy8gZG9uJ3Qgd29yayB3aXRoIGNocm9tZQogICAgICAgICAgICAgIC8vIHBsYXllci5pbm5lckhUTUwgPSAnPGRpdiBpZD0ibm9BZFBsYXllciI+VGhpcyB0ZXh0IHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIHBsYXllci48L2Rpdj4nOwoKCiAgICAgICAgICAgICAgLy8gY2FuJ3QgbG9hZCBtM3U4IDQwMzIgc3RhdHVzIGNvZGUKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHVuc2FmZVdpbmRvdy5qd3BsYXllcikKCiAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly9zdnAudmcubm8vc3ZwL2FwaS92MS92Z3R2L2Fzc2V0cy8nICsgdmlkZW9JZCArICc/YWRkaXRpb25hbD1zZXR0aW5nc3xjaGFwdGVyc3xjdWVQb2ludHN8ZXh0ZXJuYWxJZHxiYXJyZWxzfGV4dGVybmFsQ2F0ZWdvcnlJZHxuZXh0QXNzZXQmYXBwTmFtZT12Z3R2LXdlYnNpdGUnLAogICAgICAgICAgICAgICAgb25sb2FkIDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICB2YXIgcmVzID0gcmVzdWx0LnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgICAgICAgICAgICAgQWFrLmxvZyhvYmopOwoKICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBwbGF5ZXIKICAgICAgICAgICAgICAgICAgdmFyIFBsYXllciA9IG5ldyBBYWsucGxheWVyKCk7CiAgICAgICAgICAgICAgICAgIFBsYXllci52bGMocGxheWVyLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogb2JqLnN0cmVhbVVybHMuaGxzLCAvLyBtM3U4CiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdobHMnLAogICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5IDogZmFsc2UKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwge30sIHsKICAgICAgICAgICAgICAgIGluc2VydCA6ICdpbm5lcicKICAgICAgICAgICAgICB9KTsKKi8KICAgICAgICAgICAgfQogICAgICAgICAgfSwgMWUzKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG10Z19yYWRpbyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTQ5NQogICAgICAgIGhvc3QgOiBbJ3BsYXkucmFkaW8xLnNlJywgJ3BsYXkuYmFuZGl0LnNlJywgJ3BsYXkubHVnbmFmYXZvcml0ZXIuY29tJywgJ3BsYXkucml4Zm0uc2UnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB3aW5kb3cucGxheWVyX2xvYWRfbGl2ZSh3aW5kb3cuc3RyZWFtX2lkKTsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRwbGF5X25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0NjMKICAgICAgICBob3N0IDogWydkcGxheS5jb20nLCAnZHBsYXkuZGsnLCAnZHBsYXkuc2UnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMzY1KTsKICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKS50b1N0cmluZygpOwogICAgICAgICAgdmFyIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICJub3RpZmljYXRpb25TdWJtaXNzaW9uIiA6ICJzdWJtaXR0ZWQiLAogICAgICAgICAgICAgICJyZXBvcnRpbmdFeHBpcnkiIDogdGltZXN0YW1wLAogICAgICAgICAgICAgICJub3RpZmljYXRpb25FeHBpcnkiIDogdGltZXN0YW1wCiAgICAgICAgICAgIH0pOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnZHNjLWFkYmxvY2snLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2aWFzYXRfdHYgOiB7CiAgICAgICAgLy8gbm90ZTogc2tpcCB2aWRlbyBhZHMgKyBhbnRpLWFkYmxvY2sKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT10djNwbGF5CiAgICAgICAgLyogdGVzdDogaHR0cDovL3d3dy50djNwbGF5Lm5vL3Byb2dyYW1tZXIvcmVkbmluZ3Nza295dGEgaGRzL2hscwogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy50djNwbGF5LmRrL3Byb2dyYW1tZXIvbGluc2Utb2ctZGlkZGUtZWtzdHJhIGhkcy9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly93d3cudHYzcGxheS5zZS9wcm9ncmFtL2dsYW1vdXJhbWEgaGRzL2hscwogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy50djZwbGF5LnNlL3Byb2dyYW0vOTktc2FrZXItbWFuLW1hc3RlLWdvcmEtaW5uYW4tbWFuLWRvciBoZHMvaGxzCiAgICAgICAgICAgICAgICAgICBodHRwOi8vd3d3LnR2OHBsYXkuc2UvcHJvZ3JhbS9lZnRlcmx5c3QtLTEgaGRzL2hscwogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy50djEwcGxheS5zZS9wcm9ncmFtL2dhcnBlbnMtZXVyb3BhIGhkcy9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly90dnBsYXkuc2thdGllcy5sdi9wYXJyYWlkZXMvdHYzLXppbmFzIGhkcy9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9wbGF5LnR2My5sdC9wcm9ncmFtb3MvYmVhdG9zLXZpcnR1dmUgcnRtcC9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly90djNwbGF5LnR2My5lZS9zaXN1L3B1aGFwYWV2LXNlcG9nYSBydG1wL2hscyAqLwogICAgICAgIGhvc3QgOiBbJ3R2M3BsYXkubm8nLCAndHYzcGxheS5kaycsICd0djNwbGF5LnNlJywgJ3R2NnBsYXkuc2UnLCAndHY4cGxheS5zZScsICd0djEwcGxheS5zZScsICd0dnBsYXkuc2thdGllcy5sdicsICdwbGF5LnR2My5sdCcsICd0djNwbGF5LnR2My5lZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5oYXNFbGVtZW50KCcjdmlkZW8tcGxheWVyJywgZnVuY3Rpb24gKHRoaXNFbGVtZW50KSB7CiAgICAgICAgICAgIHRoaXNFbGVtZW50LmlkID0gJyc7CiAgICAgICAgICAgIC8vdmFyIHZpZGVvSWQgPSBsb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpLnBvcCgpOwogICAgICAgICAgICB2YXIgdmlkZW9JZCA9IHRoaXNFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS12aWRlby1pZCcpOwogICAgICAgICAgICBBYWsubG9nKHRoaXNFbGVtZW50LCB2aWRlb0lkKTsKCiAgICAgICAgICAgIC8vIGdldCB2aWRlbyBzb3VyY2VzCiAgICAgICAgICAgIEFhay5yZXF1ZXN0KHsKICAgICAgICAgICAgICB1cmwgOiAnaHR0cDovL3BsYXlhcGkubXRneC50di92My92aWRlb3Mvc3RyZWFtLycgKyB2aWRlb0lkLAogICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgICAgICAgICAgIEFhay5sb2cob2JqKTsKCiAgICAgICAgICAgICAgICAvKiBJbm5ob2xkZXQgZHUgcHLDuHZlciDDpSBzZSBlciBrdW4gdGlsZ2plbmdlbGlnIGZvciBicnVrZXJlIGkgTm9yZ2UKICAgICAgICAgICAgICAgIFByb2dyYW1tZXQgZXIgYmxva2VyZXQgZm9yIHZpc25pbmcgZnJhIGRlbm5lIGdlb2dyYWZpc2tlIHBvc2l0aW9uLgogICAgICAgICAgICAgICAgUHJvZ3JhbcSFIGdhbGl0ZSBtYXR5dGkgdGlrIGp1bmdkYW1pZXNpIGnFoSBMaWV0dXZvcyBpbnRlcm5ldG8gdGlla8SXasWzIHRpbmtsxbMgKi8KICAgICAgICAgICAgICAgIGlmIChvYmoubXNnKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzRWxlbWVudC5pbm5lckhUTUwgPSBvYmoubXNnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAndHYzcGxheS50djMuZWUnKSB7CiAgICAgICAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICAgICAgICBQbGF5ZXIuZ3JpbmRwbGF5ZXIodGhpc0VsZW1lbnQsIHsKICAgICAgICAgICAgICAgICAgICBzb3VyY2UgOiBvYmouc3RyZWFtcy5tZWRpdW0sCiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdydG1wL21wNCcsCiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHZpZGVvIHRhZyBmb3IgbmV3IHBsYXllcgogICAgICAgICAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgICAgICAgICAgdGFnIDogJ3ZpZGVvJywKICAgICAgICAgICAgICAgICAgICBpZCA6ICdub0FkUGxheWVyJywKICAgICAgICAgICAgICAgICAgICBjbGFzc2lkIDogJ3ZpZGVvLWpzIHZqcy1kZWZhdWx0LXNraW4nLAogICAgICAgICAgICAgICAgICAgIHdpZHRoIDogdGhpc0VsZW1lbnQuY2xpZW50V2lkdGggfHwgNzMwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IHRoaXNFbGVtZW50LmNsaWVudEhlaWdodCB8fCA0MTAsCiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZCA6ICdhdXRvJywKICAgICAgICAgICAgICAgICAgICBjb250cm9scyA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2UgOiB0aGlzRWxlbWVudAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIC8vIHBhcnNlIHNvdXJjZXMKICAgICAgICAgICAgICAgICAgdmFyIHNyY0FycmF5ID0gW107CiAgICAgICAgICAgICAgICAgIGlmIChvYmouc3RyZWFtcy5oaWdoICYmIG9iai5zdHJlYW1zLmhpZ2ggIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgc3JjQXJyYXkucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogInZpZGVvL21wNCIsIC8vIG1wNAogICAgICAgICAgICAgICAgICAgICAgc3JjIDogb2JqLnN0cmVhbXMuaGlnaAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9ICBpZiAob2JqLnN0cmVhbXMuaGxzICYmIG9iai5zdHJlYW1zLmhscyAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBzcmNBcnJheS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiAiYXBwbGljYXRpb24veC1tcGVnVVJMIiwgLy8gbTN1OAogICAgICAgICAgICAgICAgICAgICAgc3JjIDogb2JqLnN0cmVhbXMuaGxzCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gIGlmIChvYmouc3RyZWFtcy5tZWRpdW0gJiYgb2JqLnN0cmVhbXMubWVkaXVtICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gb2JqLnN0cmVhbXMubWVkaXVtLmluZGV4T2YoJ3J0bXAnKSA9PT0gMCA/ICdydG1wL21wNCcgOiAnYXBwbGljYXRpb24vZjRtK3htbCc7CiAgICAgICAgICAgICAgICAgICAgc3JjQXJyYXkucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogdHlwZSwKICAgICAgICAgICAgICAgICAgICAgIHNyYyA6IG9iai5zdHJlYW1zLm1lZGl1bQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIEFhay5sb2coc3JjQXJyYXksIEpTT04uc3RyaW5naWZ5KHNyY0FycmF5KSk7CiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIG5ldyBwbGF5ZXIKICAgICAgICAgICAgICAgICAgQWFrLmFkZFNjcmlwdChBYWsuaW50b1N0cmluZyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvblZqc1JlYWR5KCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LnZpZGVvanMgIT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVmpzUmVhZHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnZpZGVvanMoIm5vQWRQbGF5ZXIiKS5zcmMoL19TT1VSQ0VTXy8pOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBvblZqc1JlYWR5KCk7CiAgICAgICAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICAgICAgICAgIH0pLnJlcGxhY2UoIi9fU09VUkNFU18vIiwgSlNPTi5zdHJpbmdpZnkoc3JjQXJyYXkpKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gUnVzc2lhCiAgICAgIHJ1dHViZV9ydSA6IHsgLy8gcmVzZWFyY2ggc29sdXRpb24KICAgICAgICAvKiB0ZXN0OiBodHRwOi8vcnV0dWJlLnJ1L3ZpZGVvL2JkNWY2MDQ3NjU3ZjBiZGNiZmJiMGVkYWQyYmI3YzYxLyAqLwogICAgICAgIGhvc3QgOiBbJ3J1dHViZS5ydSddLAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmhhc0VsZW1lbnQoJyNydXR1YmVQbGF5ZXJIb2xkZXInLCBmdW5jdGlvbiAoKSB7ICAgICAgICAgICAgLy9kbUZ5SUc5d2RITWdQU0JCWVdzdVoyVjBSV3hsYldWdWRDZ2lJMjl3ZEdsdmJuTWlLVHNOQ2lBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJ2SUQwZ1FXRnJMbWx1ZEc5UFltcGxZM1FvYjNCMGN5NWtZWFJoYzJWMExuWmhiSFZsS1RzTkNpQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCdE0zVTRWWEpzSUQwZ2J5NTJhV1JsYjE5aVlXeGhibU5sY2k1dE0zVTRPdzBLSUNBZ0lDQWdJQ0FnSUNBZ1kyOXVjMjlzWlM1c2IyY29iVE4xT0ZWeWJDazdEUW9OQ2lBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJRYkdGNVpYSWdQU0J1WlhjZ1FXRnJMbkJzWVhsbGNpZ3BPdzBLSUNBZ0lDQWdJQ0FnSUNBZ1VHeGhlV1Z5TG5acFpHVnZhbk1vSnlOeWRYUjFZbVZRYkdGNVpYSkliMnhrWlhJbkxDQjdEUW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjMjkxY21ObElEb2diVE4xT0ZWeWJDd05DaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBlWEJsSURvZ0oyaHNjeWNzRFFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnTHk5d2NtOTRlVG9nZEhKMVpTd05DaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmhkWFJ2Y0d4aGVTQTZJSFJ5ZFdVTkNpQWdJQ0FnSUNBZ0lDQWdJQ0FnZlRzZ0tUcz0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gSXRhbHkKICAgICAgcmFpX3R2IDogeyAvLyByZXNlYXJjaCBzb2x1dGlvbgogICAgICAgIGhvc3QgOiBbJ3JhaS50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7fSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7fQogICAgICB9LAogICAgICAvLyBUViBTdHJlYW0KICAgICAgYmxvY2tfc3RyZWFtc190diA6IHsKICAgICAgICAvLyBub3RlOiByZWRpcmVjdCB0byBodHRwOi8vYmxvY2suc3RyZWFtcy50di8KICAgICAgICBob3N0IDogWydmaXJzdHJvdy5jbycsICdmaXJzdHJvd3MucnUnLCAnZmlyc3Ryb3dzLnR2JywgJ2ZpcnN0cm93cy5vcmcnLCAnZmlyc3Ryb3dzLmNvJywgJ2ZpcnN0cm93cy5iaXonLCAnZmlyc3Ryb3d1cy5ldScsICdmaXJzdHJvdzF1cy5ldScsICdmaXJzdHNyb3dzcG9ydHMuZXUnLCAnZmlyc3Ryb3dzcG9ydGVzLnR2JywgJ2ZpcnN0cm93c3BvcnRlcy5jb20nLCAnanVzdGZpcnN0cm93c3BvcnRzLmNvbScsICdoYWhhc3BvcnQubWUnLCAnd2l6aXdpZy5ydScsICd3aXppd2lnLnN4JywgJ3dpeml3aWcudG8nLCAnd2l6aXdpZy50dicsICdteXAycC5iaXonLCAnbXlwMnAudHYnLCAnbXlwMnAubGEnLCAnbXlwMnAuZWMnLCAnbXlwMnAuZXUnLCAnbXlwMnAuc3gnLCAnbXlwMnAud3MnLCAnbXlwMnAuY29tJywgJ2F0ZGhlLnJ1JywgJ2F0ZGhlLnNlJywgJ2F0ZGhlLmJ6JywgJ2F0ZGhlLnRvcCcsICdhdGRoZS50bycsICdhdGRoZS5tZScsICdhdGRoZS5teCcsICcgYXRkaGUubGknLCAnYXRkaGUuYWwnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoImFkYiIsIDEpOyAvLyBwcmV2ZW50IGFudGktYWRibG9jawogICAgICAgICAgQWFrLnV3Lm9wZW4gPSBmdW5jdGlvbiAoKSB7fTsgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYmFubmVySW5DZW50ZXIsICNoaWRkZW5CYW5uZXJDYW52YXMgeyBkaXNwbGF5OiBub25lOyB9Iik7IC8vIGhpZGUgYWRzCiAgICAgICAgfQogICAgICB9LAogICAgICBidXppbmFfeHl6IDogewogICAgICAgIC8vIG5vdGU6IGRpc2FibGUgcmVmY29udHJvbCwgdXNlZCBieSBmaXJzdHJvd3Nwb3J0cwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjY4CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyNDMKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODg5CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi84OTc1CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tLzhWVHJrdlM5CiAgICAgICAgaG9zdCA6IFsnYnV6aW5hLnh5eicsICdmYXJtZXQuaW5mbycsICdyaW1sYWRpLmNvbScsICdraXRvcmVsby5jb20nLCAnb21uaXBvbGEuY29tJywgJ3Bvcm9zaW4uY28udWsnLCAncmltbGVuby5jb20nLCAnc2ltcGxlNGFsbHMuY29tJywgJ2Fyc29wby5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRzZnJhbWUgeyBoZWlnaHQ6IDE1MXB4OyB9Iik7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL2J1emluYS54eXovLnRlc3QobG9jYXRpb24uaG9zdCkpIHsgLy8ga2VlcHMgc2FtZSBob3N0IHN0cmVhbQogICAgICAgICAgICBBYWsuaGFzRWxlbWVudCgnaWZyYW1lW3NyYyo9Ii5waHA/aGFzaD0iXScsIGZ1bmN0aW9uICh0aGlzRWxlbWVudCkgewogICAgICAgICAgICAgIC8vIGh0dHA6Ly9hcnNvcG8uY29tL3cyLnBocD9oYXNoPXBhbmRhNTgKICAgICAgICAgICAgICAvLyBodHRwOi8vd3d3LmJ1emluYS54eXovbmFuYTF2MS5waHA/b250aGV0b3AKICAgICAgICAgICAgICB2YXIgcGFydHMgPSB0aGlzRWxlbWVudC5zcmMuc3BsaXQoJy8nKTsKICAgICAgICAgICAgICBwYXJ0c1syXSA9IEFhay5ydWxlcy5idXppbmFfeHl6Lmhvc3QucG9wKCk7CiAgICAgICAgICAgICAgQWFrLmxvZyh0aGlzRWxlbWVudCwgcGFydHMpOwogICAgICAgICAgICAgIHRoaXNFbGVtZW50LnNyYyA9IHBhcnRzLmpvaW4oJy8nKTsKCiAgICAgICAgICAgICAgICAvKglkbUZ5SUc4Z1BTQjdDZ2tKQ1NBZ0lDQWljR3hoZVd4cGMzUWlJRG9nVzNzS0NRa0pJQ0FnSUNBZ0lDQWljSEp2ZG1sa1pYSWlJRG9nSW5KMGJYQWlMQW9KQ1FrZ0lDQWdJQ0FnSUNKMWNtd2lJRG9nSW5CaGJtUmhNVDlsSlRORU1UUTJOVEEzTURNeU5pVXlObk4wSlRORVVISjBTRmw1ZGtKNlpEbGFaRGRvUkY5bVVraFVaekV4TVRFek1DSUtDUWtKSUNBZ0lDQWdmUW9KQ1FrZ0lDQWdYU3dLQ1FrSklDQWdJQ0p3YkhWbmFXNXpJaUE2SUhzS0NRa0pJQ0FnSUNBZ0luSjBiWEFpSURvZ2V3b0pDUWtnSUNBZ0lDQWdJQ0oxY213aUlEb2dJbVpzYjNkd2JHRjVaWEl1Y25SdGNDMHpMakl1TVRFdWMzZG1JaXdnQ2drSkNRa0pMeThpZFhKc0lqb2dJbWgwZEhBNkx5OXlaV3hsWVhObGN5NW1iRzkzY0d4aGVXVnlMbTl5Wnk5emQyWXZabXh2ZDNCc1lYbGxjaTV5ZEcxd0xUTXVNaTR4TVM1emQyWWlMQW9KQ1FrZ0lDQWdJQ0FnSUNKdVpYUkRiMjV1WldOMGFXOXVWWEpzSWlBNklDSnlkRzF3T2k4dk1UZzFMamd5TGpJeE5TNDBOVG96TlRjNUwzWnZaQzhpQ2drSkNTQWdJQ0FnSUgwc0Nna0pDU0FnSUNBZ0lDSmpiMjUwY205c2N5SWdPaUI3Q2drSkNRa2dJQ0FnSW5WeWJDSTZJQ0pvZEhSd09pOHZjbVZzWldGelpYTXVabXh2ZDNCc1lYbGxjaTV2Y21jdmMzZG1MMlpzYjNkd2JHRjVaWEl1WTI5dWRISnZiSE10TXk0eUxqRTJMbk4zWmlJc0lDOHZJR0ZrWkdWa0lHSmxZMkYxYzJVZ2JXbHpjMmx1WndvSkNRa2dJQ0FnSUNBZ0lDSndiR0Y1SWlBNklHWmhiSE5sTEFvSkNRa2dJQ0FnSUNBZ0lDSnpZM0oxWW1KbGNpSWdPaUJtWVd4elpRb0pDUWtnSUNBZ0lDQjlDZ2tKQ1NBZ0lDQjlMQW9KQ1FrZ0lDQWdJbkJzWVhsbGNrbGtJaUE2SUNKd2JHRjVaWElpTEFvSkNRa2dJQ0FnSW1Oc2FYQWlJRG9nZXdvSkNRa2dJQ0FnSUNBaWRYSnNJaUE2SUNKd1lXNWtZVEUvWlNVelJERTBOalV3TnpBek1qWWxNalp6ZENVelJGQnlkRWhaZVhaQ2VtUTVXbVEzYUVSZlpsSklWR2N4TVRFeE16QWlDZ2tKQ1NBZ0lDQjlDZ2tKQ1NBZ2ZRb0tDUWtKSUNCMllYSWdibVYzVlhKc0lEMGdjR0Z5ZEhNdWMyeHBZMlVvTUN3Z015a3VhbTlwYmlnbkx5Y3BJQ3NnSnk5bWJHOTNjR3hoZVdWeUxUTXVNaTR4Tmk1emQyWS9ZMjl1Wm1sblBTY2dLeUJsYzJOaGNHVW9TbE5QVGk1emRISnBibWRwWm5rb2J5a3BPd29KQ1FrZ0lDOHZkbUZ5SUc1bGQxVnliQ0E5SUNkb2RIUndPaTh2Y21Wc1pXRnpaWE11Wm14dmQzQnNZWGxsY2k1dmNtY3ZjM2RtTDJac2IzZHdiR0Y1WlhJdE15NHlMakUyTG5OM1pqOWpiMjVtYVdjOUp5QXJJR1Z6WTJGd1pTaEtVMDlPTG5OMGNtbHVaMmxtZVNodktTazdDZ2tKQ1NBZ1kyOXVjMjlzWlM1c2IyY29ibVYzVlhKc0tUc0tDUWtKSUNCMGFHbHpSV3hsYldWdWRDNXpjbU1nUFNCdVpYZFZjbXc3CiAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNraXAgYW50aS1hZGJsb2NrCiAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjYWRzZnJhbWUnKTsKICAgICAgICAgICAgQWFrLmdldEVsZW1lbnQoJyNyZW1vdmUtb3ZlcicpLmNsaWNrKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBhbGxteXZpZGVvc19uZXQgOiB7CiAgICAgICAgLy8gbm90ZTogb2JmdXNjYXRlZAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yNzQKICAgICAgICBob3N0IDogWydhbGxteXZpZGVvcy5uZXQnLCAnYW12dHYubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHNraXAgZmFrZSBwbGF5IGJ1dHRvbgogICAgICAgICAgQWFrLnNldENvb2tpZSgnX2ZhdmJ0MzMnLCAxKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlsaXZlX2RvbWFpbnMgOiB7CiAgICAgICAgaG9zdCA6IFsnaWxpdmUudG8nLCAnc3RyZWFtbGl2ZS50byddLAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKC9eXC9lbWJlZHBsYXllci5waHAvaS50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBTa2lwIHRpbWVyCiAgICAgICAgICAgICAgQWFrLnV3LnJlbW92ZU92ZXJsYXlIVE1MKCk7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbWljYXN0X3R2IDogewogICAgICAgIGhvc3QgOiBbJ21pY2FzdC50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBwcmV2ZW50IHBvcHVuZGVyCiAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfbWFpbicsIHRydWUpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgndmlkX3N1YicsIHRydWUpOwogICAgICAgICAgLy8gcmVtb3ZlIG92ZXJsYXkKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGlmICh3aW5kb3cucmVtb3ZlT3ZlcmxheUhUTUwpCiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlT3ZlcmxheUhUTUwoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHhzdHJlYW1fdHYgOiB7CiAgICAgICAgaG9zdCA6IFsncHhzdHJlYW0udHYnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICgvXlwvZW1iZWRyb3V0ZXIucGhwLy50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBTa2lwIHRpbWVyIGFuZCBjbG9zZSBhZHMKICAgICAgICAgICAgICBBYWsudXcuY2xvc2VBZCgpOwogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNhd2xpdmVfdHYgOiB7CiAgICAgICAgaG9zdCA6IFsnc2F3bGl2ZS50diddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICgvXlwvZW1iZWRcL3dhdGNoXC8vaS50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICAvLyBTa2lwIHRpbWVyIGFuZCBjbG9zZSBhZHMKICAgICAgICAgICAgQWFrLnV3LmRpc3BsYXkgPSBmYWxzZTsKICAgICAgICAgICAgQWFrLnV3LmNsb3NlTXlBZCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgZ29vZGNhc3RfY28gOiB7CiAgICAgICAgaG9zdCA6IFsnZ29vZGNhc3QuY28nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL15cL3N0cmVhbS5waHAvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIC8vIHJlbW92ZSBhZHMgYWxsb3dlZCBieSBlYXN5bGlzdAogICAgICAgICAgICBBYWsudXcuJCgiLmFkdmVydGlzZW1lbnQiKS5oaWRlKCk7CiAgICAgICAgICAgIEFhay51dy4kKCcuYWRza3kgaWZyYW1lJykuYXR0cigic3JjIiwgImFib3V0OmJsYW5rIik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBzaG93c3BvcnRfdHZfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3Nob3dzcG9ydC10di5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL15cL2NoLnBocC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgLy8gcmVtb3ZlIGFkcyBhbGxvd2VkIGJ5IGVhc3lsaXN0CiAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjYWR2ZXJ0aXNlbWVudCwgLmFkdmVydGlzZW1lbnQnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNoYXJlY2FzdF90byA6IHsKICAgICAgICBob3N0IDogWydzaGFyZWNhc3QudG8nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL15cL2VtYmVkLnBocC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKCiAgICAgICAgICAgIC8vIERpc2FibGUgcG9wdW5kZXJzCiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ3ZpZF9tYWluJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfc3ViJywgMik7CiAgICAgICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfZGVsYXknLCB0cnVlKTsKICAgICAgICAgICAgICB9LCAxMDApOwoKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgIH0sIDUwMDApOwoKICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYW5zcGFyZW50IG92ZXJsYXkKICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyN0YWJsZTEnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpZGVvbWVnYV90diA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT12aWRlb21lZ2EKICAgICAgICBob3N0IDogWyd2aWRlb21lZ2EudHYnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKC9eXC92aWV3LnBocC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgLy8gcHJldmVudCBwb3B1bmRlcgogICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfbWFpbnB1JywgdHJ1ZSk7CiAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ3ZpZF9zdWJwdScsIHRydWUpOwogICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfZGVsYXknLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8ga2lsbCBhYmMKICAgICAgICAgIC8vIGZpeCBidWcgb24gZmlyZWZveDogVGhlIHZpZGVvIGNvdWxkIG5vdCBiZSBsb2FkZWQsIGVpdGhlciBiZWNhdXNlIHRoZSBzZXJ2ZXIgb3IgbmV0d29yayBmYWlsZWQgb3IgYmVjYXVzZSB0aGUgZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWQuCiAgICAgICAgICB2YXIgc2NyaXB0ID0gQWFrLmhhc1NjcmlwdCgnUGxlYXNlIGRpc2FibGUgQWRCbG9jayBQbHVnaW4gdG8gd2F0Y2ggdGhlIHZpZGVvJyk7CiAgICAgICAgICBpZiAoc2NyaXB0KSB7CiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBzY3JpcHQuaW5uZXJIVE1MOwogICAgICAgICAgICB2YXIgc3Vic3RyaW5nID0gc291cmNlLnN1YnN0cmluZyhzb3VyY2UubGFzdEluZGV4T2YoJ2V2YWwoJyksIHNvdXJjZS5sYXN0SW5kZXhPZignKScpICsgMSk7CiAgICAgICAgICAgIHZhciBkZW9iZnVzY2F0ZWQgPSBBYWsudW5wYWNrU2NyaXB0KHN1YnN0cmluZyk7CiAgICAgICAgICAgIHZhciBuZXdTY3JpcHQgPSAnaWYoJytkZW9iZnVzY2F0ZWQuc3Vic3RyaW5nKGRlb2JmdXNjYXRlZC5pbmRleE9mKCd0cnVlJykpOwogICAgICAgICAgICBBYWsuYWRkU2NyaXB0KG5ld1NjcmlwdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBmbG93cGxheWVyX2FudGlhZGJsb2NrIDogewogICAgICAgIGhvc3QgOiBbJ3ZpZGVvZnVuLm1lJywgJ3ZpZGVvYnVnLm5ldCcsICd2aWRlbzQ0Lm5ldCcsICdwbGF5NDQubmV0JywgJ2J5em9vLm9yZycsICdwbGF5YmIubWUnLCAndmlkZW93aW5nLm1lJywgJ3ZpZGVvem9vLm1lJywgJ2Vhc3l2aWRlby5tZScsICdwbGF5cGFuZGEubmV0J10sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgCiAgICAgICAgICAvKgogICAgICAgICAgaHR0cDovL3d3dy5hbmltZXRvb24udHYvYmxhY2stbGFnb29uLWVwaXNvZGUtMQogICAgICAgICAgaHR0cDovL3ZpZGVvd2luZy5tZS9lbWJlZD93PTcxOCZoPTQzOCZ2aWRlbz1vbmdvaW5nL3l1LWdpLW9oX2FyYy12Xy1fNTMubXA0CiAgICAgICAgICBodHRwOi8vcGxheWJiLm1lL2VtYmVkLnBocD93PTcxOCZoPTQzOCZ2aWQ9YXQvbncveXUtZ2ktb2hfYXJjLXZfLV81My5tcDQKICAgICAgICAgIGh0dHA6Ly92aWRlb3pvby5tZS9lbWJlZC5waHA/dz03MTgmaD00MzgmdmlkPWF0L253L3l1LWdpLW9oX2FyYy12Xy1fNTMubXA0CiAgICAgICAgICBodHRwOi8vd3d3LmVhc3l2aWRlby5tZS9nb2dvLz93PTcxOCZoPTQzOCZmaWxlPXl1LWdpLW9oX2FyYy12Xy1fNTMubXA0JnN2PTEKICAgICAgICAgIGh0dHA6Ly9wbGF5cGFuZGEubmV0L2VtYmVkLnBocD93PTcxOCZoPTQzOCZ2aWQ9YXQvbncveXUtZ2ktb2hfYXJjLXZfLV81My5tcDQKICAgICAgICAgICAqLwoKICAgICAgICAgIC8vIGFsbG93IGZ1bGxzY3JlZW4gd2hlbiBhYnAgaXMgZW5hYmxlZCBhbmQgcmVtb3ZlIGFkIGxheWVyCiAgICAgICAgICAvLyBhZHMgYmxvY2tlZCBieSBhYnAgcnVsZQogICAgICAgICAgaWYgKC9eXC8oZW1iZWR8Z29nb3xncGx1cykvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICBQbGF5ZXIuZWRpdGluZygnI2Zsb3dwbGF5ZXJfYXBpJywgewogICAgICAgICAgICAgIHNldEF0dHJpYnV0ZXMgOiB7CiAgICAgICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW4gOiB0cnVlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHIzeiA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1sYWJlbDpSM1oKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vQzE1OWtldm4KICAgICAgICBob3N0IDogWydjaXR5YW0uY29tJywgJ2NvbXB1dGVyd29ybGR1ay5jb20nLCAndGVjaHdvcmxkLmNvbScsICd2My5jby51ayddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvKiBkb24ndCB3b3JrIHdpdGggY2hyb21lCiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnX3IzeicsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDoge30KICAgICAgICAgIH0pOwogICAgICAgICAgKi8KICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy4kKCIjcjN6LXdhaXQiKS5yZW1vdmUoKTsKICAgICAgICAgIEFhay51dy4kKCIucjN6LWhpZGUiKS5yZW1vdmVDbGFzcygicjN6LWhpZGUiKTsKICAgICAgICAgIEFhay51dy5fcjN6ID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdvb2dsZV9qb2JydW5uZXIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vZm9ydW0vbWVzc2FnZXMvNDA1CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzNDMKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTM0MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MzEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI3NAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjYyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU2MQogICAgICAgIGhvc3QgOiBbJ25leHQtZXBpc29kZS5uZXQnLCAna2luZ21ha2VyLm5ld3MnLCAnZ2FtZXNwb3dlcml0YS5jb20nLCAndG9kYXlpZG9sLmNvbScsICdyZWNlaXZlLWEtc21zLmNvbScsICd3YWtldXBjYWxsbWUuY29tJywgJ3JpbmdteWNlbGxwaG9uZS5jb20nLCAnZmFxbW96aWxsYS5vcmcnLCAndGhlbWVteXBjLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lmdvb2dsZV9qb2JydW5uZXIgPSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIGZ1Y2thZGJvY2sgY3VzdG9taXplZAogICAgICBmYWJfZGF3bl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE3NDcKICAgICAgICBob3N0IDogWydkYXduLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdkZXRlY3RBZEJsb2NrJywgJ0RldGVjdEFkQmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl9zcG9ydHNfZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyMTcKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vU3BFTjVkdVMKICAgICAgICBob3N0IDogWydzcG9ydHMuZnInXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnZmFiSW5zdGFuY2UnLCAnRmFiSW5zdGFuY2UnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl9ldXJvcGUxX2ZyIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTg4CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1VMZTF2elFSCiAgICAgICAgaG9zdCA6IFsnZXVyb3BlMS5mciddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdmYWJJbnN0YW5jZScsICdGYWJJbnN0YW5jZScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX25ld3lvcmtlcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzExNzcKICAgICAgICBob3N0IDogWyduZXd5b3JrZXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5mYWtlRnVja0FkQmxvY2soJ3NuaWZmQWRCbG9jaycsICdTbmlmZkFkQmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl93aXJlZF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwNjEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mci9mb3J1bS9kaXNjdXNzaW9uLzgyMzUKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vUHExNHY0RkMKICAgICAgICBob3N0IDogWyd3aXJlZC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnc25pZmZBZEJsb2NrJywgJ1NuaWZmQWRCbG9jaycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX21hbmdhc3Byb2plY3RfZG9tYWlucyA6IHsKICAgICAgICAvLyBub3RlOiBmdWNrYWRibG9jayB3aXRoIGN1c3RvbSBpbnN0YW5jZSBuYW1lCiAgICAgICAgLy8gbm90ZTogYWxzbyBhZGRlZCBhYnAgcnVsZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTI3CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZnIvZm9ydW0vZGlzY3Vzc2lvbi80MTMyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg1OAogICAgICAgIC8vIHNvdXJjZTogaHR0cHM6Ly9tYW5nYXMuemx4LmNvbS5ici9tYW5nYXpvcmRfbGliL2pzL2xpYi9jb250cm9sbGVycy9MZWl0b3IvTGVpdG9yLm1pbi5qcwogICAgICAgIGhvc3QgOiBbJ21hbmdhc3Byb2plY3QuY29tLmJyJywgJ21hbmdhc3Byb2plY3QubmV0LmJyJywgJ21hbmdhcy56bHguY29tLmJyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5mYWtlRnVja0FkQmxvY2soJ21hbmdhc0xlaXRvclNsaWRlcicsIEFhay5nZW5lcmF0ZUlEKCkpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX3FuaW1hdGVfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy83MzkKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzA1CiAgICAgICAgLy8gbm90ZTogZnVja2FkYmxvY2sgY3VzdG9taXplZAogICAgICAgIGhvc3QgOiBbJ3FuaW1hdGUuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRCbG9ja0RldGVjdGVkID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBmYWJfZXVyb3RyYW5zcG9ydF9kZSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODU4CiAgICAgICAgLy8gbm90ZTogZnVja2FkYmxvY2sgd2l0aCBjdXN0b20gaW5zdGFuY2UgbmFtZQogICAgICAgIGhvc3QgOiBbJ2V1cm90cmFuc3BvcnQuZGUnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnYW50aUFkQmxvY2snLCBBYWsuZ2VuZXJhdGVJRCgpKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl9jYWRldGVjdCA6IHsKICAgICAgICAvLyBieTogU2tyNHRjaEdyM2F6eU1vbmtpQmFsbGxsbGxaenp6CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzc4NAogICAgICAgIC8vIG5vdGU6IGZ1Y2thZGJsb2NrIHdpdGggY3VzdG9tIGluc3RhbmNlIG5hbWUKICAgICAgICBob3N0IDogWyd0emV0emUuaXQnLCAnYmVwcGVncmlsbG8uaXQnLCAnbGEtY29zYS5pdCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdjYWRldGVjdCcsICdDQURldGVjdCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX2FnYXJfZ2FtZSA6IHsKICAgICAgICAvLyBub3RlOiBmdWNrYWRibG9jayB3aXRoIGN1c3RvbSBpbnN0YW5jZSBuYW1lCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyNTcKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTEzNQogICAgICAgIGhvc3QgOiBbJ2FnYXJpby5zeCcsICdhZ2FyYWJpLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdhZ2FyaW9fU1hfYWRzJywgQWFrLmdlbmVyYXRlSUQoKSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmYWJfZmlsZXNwYWNlX2NvbSA6IHsKICAgICAgICAvLyBub3RlOiBmdWNrYWRibG9jayB3aXRoIGN1c3RvbSBpbnN0YW5jZSBuYW1lCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1lBUzBBczg3CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwMzcKICAgICAgICBob3N0IDogWydmaWxlc3BhY2UuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5mYWtlRnVja0FkQmxvY2soJ2ZBQicsIEFhay5nZW5lcmF0ZUlEKCkpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX3RvcHNlcmlhbHlfc2sgOiB7CiAgICAgICAgLy8gbm90ZTogZnVja2FkYmxvY2sgd2l0aCBjdXN0b20gaW5zdGFuY2UgbmFtZQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS80MnRVUTlhVgogICAgICAgIGhvc3QgOiBbJ3RvcHNlcmlhbHkuc2snXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnc3JhdE5hVmFzJywgQWFrLmdlbmVyYXRlSUQoKSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmYWJfY3VzdG9taXplZCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTQ1NQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNjU3CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL040MmE1QmpFCiAgICAgICAgaG9zdCA6IFsnZXBpY3VyaW91cy5jb20nLCAnZGVza3RvcHNvbHV0aW9uLm9yZycsICdpbmRpYXRpbWVzLmNvbScsICdoaW5kdXN0YW50aW1lcy5jb20nLCAnaGFwcHl0cmlwcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfc2V0QXR0cmlidXRlID0gd2luZG93LkVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZTsKICAgICAgICAgICAgICB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSAnY2xhc3MnICYmIHZhbHVlLmluZGV4T2YoJ3RleHRfYWRzJykgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKHRoaXMsICdmYWIgaW50ZXJjZXB0ZWQgOi0pJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfc2V0QXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSwgdmFsdWUpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGQzeHQzZXJfYW50aWFkYmxvY2sgOiB7CiAgICAgICAgLy8gc2l0ZTogaHR0cDovL2QzeHQzci5jb20vYW50aS1hZGJsb2NrCiAgICAgICAgLy8gY2FzZTogaHR0cDovL3Nwb3J0LXNob3cuZnIvanMvYWR2ZXJ0aXNlbWVudC1BZEJsb2NrLmpzCiAgICAgICAgLy8gY2FzZTogaHR0cDovL3d3dy4yc2l0ZS5tZS9hZHZlcnRpc2VtZW50LUFkQmxvY2suanMKICAgICAgICBob3N0IDogWydzcG9ydC1zaG93LmZyJywgJ3ZpcGZsYXNoLm5ldCcsICcyc2l0ZS5tZSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNibG9ja2Jsb2NrQSB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tBIHRkIHt2aXNpYmlsaXR5OmludmlzaWJsZTtkaXNwbGF5Om5vbmU7fSAjYmxvY2tibG9ja0EgdGQgcCB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tCIHt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTpibG9jazt9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBhZGJsb2NrX25vdGlmeSA6IHsKICAgICAgICAvLyBieTogU2tyNHRjaEdyM2F6eU1vbmtpQmFsbGxsbGxaenp6CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE3NjYKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTM5MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMDM5CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU5MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MTMKICAgICAgICBob3N0IDogWydnYW1ldHJhbnNmZXJzLmNvbScsICd3aW5hbmRtYWMuY29tJywgJ2ZyZWUtc3RlYW0tZ2l2ZWF3YXlzLmNvbScsICdjYW5hbHdwLmNvbScsICdhbHBoYWhpc3RvcnkuY29tJywgJ25vcmRwcmVzc2UuYmUnLCAnc29zcGMubmFtZScsICdiYWJvby5jb20uYnInXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2FuQ29va2llJywgdHJ1ZSk7CiAgICAgICAgICBBYWsudXcuYW5PcHRpb25zID0ge307CiAgICAgICAgfQogICAgICB9LAogICAgICBsdXR0ZV9hZGJsb2NrIDogewogICAgICAgIC8vIHNpdGU6IGh0dHA6Ly9sdXR0ZWFkYmxvY2suYmxvZ3Nwb3QuY29tLzIwMTQvMTEvbGUtc2NyaXB0Lmh0bWwKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTM4CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU4MAogICAgICAgIGhvc3QgOiBbJ2xld2VidHZib3VxdWV0ZnJhbmNvcGhvbmUub3ZlcmJsb2cuY29tJywgJ3dlYnR2LmJsb2d1ZXouY29tJywgJ2xhdGVsZWdyYXR1aXRlLmJsb2dzcG90LmNvbScsICd0b3RhbGRlYnJpZC5vcmcnLCAnMzcuMTg3LjE3My4yMDUnLCAndHZncmF0dWl0ZS5ibG9nc3BvdC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjbXlfYWRfZGl2Jyk7CiAgICAgICAgICBBYWsudXcuamFiYmFodWQgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFudGlibG9jayA6IHsKICAgICAgICAvLyBzaXRlOiBhbnRpYmxvY2sub3JnCiAgICAgICAgLy8gbm90ZTogY3VzdG9taXplZAogICAgICAgIC8vIGlzc3VlOiAKICAgICAgICBob3N0IDogWydteWJhbmsucGwnLCAncmFwaWRncmFiLnBsJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfYWRkRXZlbnRMaXN0ZW5lciA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyOwogICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIudG9TdHJpbmcoKS5pbmRleE9mKCcubmV4dEZ1bmN0aW9uKCl9JykgPiAtMSkgewogICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oWydBbnRpQWRiS2lsbGVyJywgbG9jYXRpb24uaG9zdCwgJ0FudGlCbG9ja3tjdXN0b21pemVkfSddKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9hZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJsb2NrYWRibG9jayA6IHsKICAgICAgICAvLyBzaXRlOiBibG9ja2FkYmxvY2suY29tCiAgICAgICAgLy8gbm90ZTogcmFuZG9tIGluc3RhbmNlIG5hbWUKICAgICAgICAvLyBzb3VyY2U6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1dhdGlsaW4vYWY3NWUwYTJlODJhMmVmYjM4NGJkZTljN2I0MWRlYzgKICAgICAgICAvLyBpc3N1ZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bGFiZWw6QmxvY2tBZEJsb2NrCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi84MjczCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi83NjI1CiAgICAgICAgaG9zdCA6IFsnYmxvY2thZGJsb2NrLmNvbScsICdsaW5rZHJvcC5uZXQnLCAncmV2Y2xvdWRzLmNvbScsICdsZXBvcm5vLm9yZycsICd1cGxvYWRzaHViLmNvbScsICdkYXNvbG8ub3JnJywgJ2Z1bGxzdHVmZi5uZXQnLCAnemV1c25ld3MuaXQnLCAnY2hlbWlub3RzLm5ldCcsICdsb2xzeS50dicsICdhbmltZXMtbWFuZ2FzLWRkbC5jb20nLCAnbm90aWNpYXNhdXRvbW90aXZhcy5jb20uYnInLCAnZGFya3N0YXJzLm9yZycsICdjb3JlcGFja3MuY29tJywgJ25hdHVyYWxiZC5jb20nLCAnY29vbHNvZnQuYWx0ZXJ2aXN0YS5vcmcnLCAnb3BlbmxvYWQudXMnLCAnY2RhLW9ubGluZS5wbCcsICd1cmJhbnBsYW5ldC5vcmcnLCAnbWFtYWhkLmNvbScsICdzYWRlZW1wYy5jb20nLCAnYXZtb28uY29tJywgJ3RoYWlsYW5kZS1mci5jb20nLCAnYnRhaWEuY29tJywgJ3R1c29mdC5vcmcnLCAnaGlzc2UubmV0JywgJ2V1cm9wZXVwLmNvbScsICducmouZnInLCAnc3Juay5jbycsICdhbmltbWV4LmNvJywgJ3NvY2tldGxvb3AuY29tJywgJ2NyYWNraGV4LmNvbScsICdyZXZlYWxlZHRyaWNrczR1LmNvbScsICdwaXp6YW1ha2luZy5jb20nLCAnY29tcHV0ZXJ3b3JtLm5ldCcsICd5b3VybGlmZXVwZGF0ZWQubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyB2YXJpYW50IDEKICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgX3NldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dDsKICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCA9IGZ1bmN0aW9uIChmbiwgZGVsYXkpIHsKICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZuLnRvU3RyaW5nKCkpCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnc3RyaW5nJyAmJiBmbi5pbmRleE9mKCdiYWJfZWxlbWVudGlkJykgPiAtMSkgewogICAgICAgICAgICAgICAgICBmbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oWydBbnRpQWRiS2lsbGVyJywgbG9jYXRpb24uaG9zdCwgJ0Jsb2NrQWRCbG9jayddKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9zZXRUaW1lb3V0LmNhbGwodGhpcywgZm4sIGRlbGF5KTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBncHRfc3AgOiB7CiAgICAgICAgLy8gYnk6IFJlZWssIEdpd2F5dW1lCiAgICAgICAgLy8gbm90ZTogd2hlbiBhZGJsb2NrIGRldGVjdGVkIGluamVjdCBuZXcgYWRzLCByZWRpcmVjdCB0byBodHRwOi8vdGlueXVybC5jb20venEyejVvNgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNjM2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1OTYKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI5NwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTQ0CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1NDIKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vOEFqaXRmYjIKICAgICAgICBob3N0IDogWydtYXJrZXR3YXRjaC5jb20nLCAnZGVhZGxpbmUuY29tJywgJ3R3ZWFrdG93bi5jb20nLCAnbnlwb3N0LmNvbScsICdyZWFsZ20uY29tJywgJ25hc2RhcS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuY29udGFpbmVyLS1iYW5uZXJBZCwgLmNvbC0tYWQgeyBkaXNwbGF5OiBub25lOyB9Iik7CiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBHaXdheXVtZSAKICAgICAgICAgICAgICB3aW5kb3cuX3NwXyA9IHdpbmRvdy5fc3BfIHx8IHt9OwogICAgICAgICAgICAgIHdpbmRvdy5fc3BfLmNvbmZpZyA9IHdpbmRvdy5fc3BfLmNvbmZpZyB8fCB7fTsKICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93Ll9zcF8uY29uZmlnLCAiY29udGVudF9jb250cm9sX2NhbGxiYWNrIiwgewogICAgICAgICAgICAgICAgdmFsdWUgOiBmdW5jdGlvbiAoKSB7fSwKICAgICAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgICAgICBjb25maWd1cmFibGUgOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIC8vIFJlZWsKICAgICAgICAgICAgICB2YXIgX2FkZEV2ZW50TGlzdGVuZXIgPSB3aW5kb3cuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI7CiAgICAgICAgICAgICAgd2luZG93LkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnc3AuYmxvY2tpbmcnKSB7CiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhbJ0FudGlBZGJLaWxsZXInLCBsb2NhdGlvbi5ob3N0LCAnR1BUe3NwLWJsb2NraW5nfSddKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9hZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtydXhfYXNsIDogewogICAgICAgIC8vIG5vdGU6IHdoZW4gYWRibG9jayBkZXRlY3RlZCBpbmplY3QgbmV3IGFkcwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8wSEQ3Tjg0aQogICAgICAgIGhvc3QgOiBbJ2NvbW1lbnRjYW1hcmNoZS5uZXQnLCAnam91cm5hbGRlc2ZlbW1lcy5jb20nLCAnbGludGVybmF1dGUuY29tJ10sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW3sKICAgICAgICAgICAgICBkZXRlY3RlZCA6ICdLcnV4e2FzbH0nLAogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ0FzbC5wcm90b3R5cGUuaW5qZWN0JywKICAgICAgICAgICAgICBleHRlcm5hbCA6IGZhbHNlLAogICAgICAgICAgICAgIHJlbW92ZSA6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtydXhfYWRwIDogewogICAgICAgIC8vIG5vdGU6IHdoZW4gYWRibG9jayBkZXRlY3RlZCBpbmplY3QgbmV3IGFkcwogICAgICAgIC8vIHNvdXJjZTogCiAgICAgICAgaG9zdCA6IFsnZm91cmNoZXR0ZS1ldC1iaWtpbmkuZnInLCAnbWV0ZW9jaXR5LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRQcm90ZWN0ID0gMTsKICAgICAgICB9CiAgICAgIH0sCSAKICAgICAgcGhvZW5peF9nb3lhdmVsYWIgOiB7CiAgICAgICAgLy8gbm90ZTogd2hlbiBhZGJsb2NrIGRldGVjdGVkIGluamVjdCBuZXcgYWRzCiAgICAgICAgLy8gbm90ZTogc2NyaXB0IGFudGktYWRibG9jayBvYmZ1c2NhdGVkLAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8KICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS9nbDNnaHEyCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL2hzQW1kU3VmCiAgICAgICAgaG9zdCA6IFsnZGVtby1waG9lbml4LmNvbScsICdkcHN0cmVhbS5uZXQnLCAnZ3VtLWd1bS1zdHJlYW1pbmcuY29tJywgJ2pldS5pbmZvJywgJ3NvZm9vdC5jb20nLCAnZ2FhcmEtZnIuY29tJywgJ2dheXR1YmUuY29tJywgJ3R1eGJvYXJkLmNvbScsICd4c3RvcnktZnIuY29tJywgJ2hlbnRhaWZyLm5ldCcsICdmaWxtc3RyZWFtaW5nLWhkLmNvbScsICdmaWxtdmYubmV0JywgJ2hlbnRhaWhhdmVuLm9yZycsICduYXJ1dG9zaGlwcHVkZW52Zi5jb20nLCAndGhlYmFkYnV6ei5jb20nLCAnbWFuZ2EtbmV3cy5jb20nLCAnamV1LnZpZGVvJywgJ21hbmdhcy1mci5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vQWFrLnV3Ll9fJGRjID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJ2JvZHkge3Zpc2liaWxpdHk6IHZpc2libGU7fScpOwogICAgICAgIH0sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW3sgCiAgICAgICAgICAgICAgZGV0ZWN0ZWQgOiAnUGhvZW5peEdveWF2ZWxhYicsCiAgICAgICAgICAgICAgY29udGFpbnMgOiAnUEhFTlYnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIF07CiAgICAgICAgfQogICAgICB9LAogICAgICBhZF9kZWZlbmRfdWFicCA6IHsKICAgICAgICAvLyBub3RlOiB3aGVuIGFkYmxvY2sgZGV0ZWN0ZWQgaW5qZWN0IG5ldyBhZHMKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vY0ZRQ3A4MFcKICAgICAgICBob3N0IDogWyd0dnNwaWVsZmlsbS5kZScsICdmaW5hbnplbi5jaCddLAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgZGV0ZWN0ZWQgOiAnQWREZWZlbmR7VUFCUEluamVjdH0nLAogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ1VBQlBJbmplY3QnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWRfZGVmZW5kX3VhYiA6IHsKICAgICAgICAvLyBub3RlOiB3aGVuIGFkYmxvY2sgZGV0ZWN0ZWQgaW5qZWN0IG5ldyBhZHMKICAgICAgICAvLyB1c2Vyc2NyaXB0OiBodHRwczovL29wZW51c2VyanMub3JnL3NjcmlwdHMvc2Nod2FyenRlZS9BZERlZmVuZF9LbGF0c2NoZQogICAgICAgIC8vIHVzZXJzY3JpcHQ6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2Fub255bW91cy9hOWI5OTU2YmFmMWQ1OWExMDdjNQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8xVnlXMHU5bSwgaHR0cDovL3Bhc3RlYmluLmNvbS9BWnFoUnhXVQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWxhYmVsOkFkRGVmZW5kCiAgICAgICAgLy8gcHVsbDogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9wdWxsLzQ2NwogICAgICAgIGhvc3QgOiBbJ3dhdGNoZ2VuZXJhdGlvbi5mcicsICd0dXJiby5mcicsICcyNG1hdGlucy5mcicsICdmb290MDEuY29tJywgJ2NsdWJpYy5jb20nLCAnbWFjZy5jbycsICdiZWdlZWsuZnInLCAnaWdlbi5mcicsICdnYW1lc3Rhci5kZScsICdmb2N1cy5kZScsICdzdGVybi5kZScsICdzYXQxLicsICdwcm9zaWViZW4uJywgJ2thYmVsZWlucy4nLCAnc2F0MWdvbGQuJywgJ3NpeHguJywgJ3Byb3NpZWJlbm1heHguJywgJ2ZlbS5jb20nLCAndGhlLXZvaWNlLW9mLWdlcm1hbnkuJywgJ3dldHRlci5jb20nLCAnd2V0dGVyb25saW5lLmRlJywgJ3Bjd2VsdC5kZScsICdib2Vyc2Utb25saW5lLmRlJywgJ3Nwb3J0YXV0by5kZScsICdhdXRvLW1vdG9yLXVuZC1zcG9ydC5kZScsICdtb3Rvci1rbGFzc2lrLmRlJywgJzR3aGVlbGZ1bi5kZScsICdhdXRvc3RyYXNzZW52ZXJrZWhyLmRlJywgJ2x1c3RpY2guZGUnLCAnc3BveC5jb20nLCAnc2h6LmRlJywgJ3RyYW5zZmVybWFya3QuZGUnLCAncnAtb25saW5lLmRlJywgJ21vdG9ycmFkb25saW5lLmRlJywgJzIwbWluLmNoJywgJ21haW4tc3BpdHplLmRlJywgJ3dvcm1zZXItemVpdHVuZy5kZScsICdsYW1wZXJ0aGVpbWVyLXplaXR1bmcuZGUnLCAnd2llc2JkZW5lci10YWdibGF0dC5kZScsICdidWVyc3RhZWR0ZXItemVpdHVuZy5kZScsICd3aWVzYmRlbmVyLWt1cmllci5kZScsICdyaGVpbi1tYWluLXByZXNzZS5kZScsICdhbGxnZW1laW5lLXplaXR1bmcuZGUnLCAnYXJpdmEuZGUnLCAnc3BpZWdlbC5kZScsICdicmlnaXR0ZS5kZScsICdkc2hpbmkubmV0JywgJ2dhbGEuZGUnLCAnZ2FtZXByby5kZScsICdnYW1vbmEuZGUnLCAncG5uLmRlJywgJ3Byb21vYmlsLmRlJywgJ3Nwb3J0YWwuZGUnLCAnd2ViZmFpbC5jb20nLCAnY29tcHV0ZXJiaWxkLmRlJywgJ2ZpbmFuemVuLm5ldCcsICdjb211bmlvLmRlJywgJ21lZGlzaXRlLmZyJ10sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW3sKICAgICAgICAgICAgICBkZXRlY3RlZCA6ICdBZERlZmVuZHt1YWJJbmplY3R9JywKICAgICAgICAgICAgICBjb250YWlucyA6ICd1YWJJbmplY3QnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLyogc29sdmVkIGJ5IEFha0xJc3QKICAgICAgdGlzb29taV9pbmRpcmVrdCA6IHsKICAgICAgLy8gaW5saW5lOiBodHRwOi8vcGFzdGViaW4uY29tL25wbVhUVUh3CiAgICAgIC8vIGV4dGVybmFsOiBodHRwOi8vcGFzdGViaW4uY29tL2h2V25DdUR3CiAgICAgIGhvc3QgOiBbJ2VuZXJneS5kZScsICdnZXR2aWRzLmRlJywgJ2dld2luZGUtbm9ybWVuLmRlJywgJ3BvZGNhc3QuZGUnLCAnc3BpZWxlc3BpZWxlbjI0LmRlJywgJ2RpYWxvLmRlJ10sCiAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDsKICAgICAgdmFyIHRleHQgPSB0YXJnZXQudGV4dDsKICAgICAgaWYgKEFhay5jb250YWlucyh0ZXh0LCAnbj0iYWJjZGVmZ2hpamtsbSIscj0ibm9wcXJzdHV2d3h5eiIsaT0iMDEyMzQ1Njc4OSI7dmFyIHM9dD09MD9pOnQ9PTE/bicpKSB7CiAgICAgIEFhay5zdG9wU2NyaXB0KGUpOwogICAgICBBYWsubG9nKCdUaXNvb21pIEluZGlyZWt0Jyk7CiAgICAgIH0KICAgICAgfQogICAgICB9LAogICAgICAgKi8KICAgICAgLyogc29sdmVkIGJ5IEFha0xJc3QKICAgICAgdGlzb29taV9kaXJla3QgOiB7CiAgICAgIC8vIGlubGluZTogaHR0cDovL3Bhc3RlYmluLmNvbS8ydnEzOEpYWQogICAgICBob3N0IDogWydhdXRvemVpdHVuZy5kZScsICdmb3JtZWwxLmRlJywgJ2ZyZW1kd29ydC5kZScsICdpbnNpZGUtaGFuZHkuZGUnLCAnbW90b3JzcG9ydC10b3RhbC5jb20nLCAnYXVzc2Vud2lydHNjaGFmdHNsdXBlLmRlJywgJ2Rvbm5lcndldHRlci5kZScsICd3aW50b3RhbC5kZSddLAogICAgICBvbkJlZm9yZVNjcmlwdCA6IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7CiAgICAgIHZhciB0ZXh0ID0gdGFyZ2V0LnRleHQ7CiAgICAgIGlmIChBYWsuY29udGFpbnModGV4dCwgJ2Z1bmN0aW9uIGRldGVjdCgpJykpIHsKICAgICAgQWFrLnN0b3BTY3JpcHQoZSk7CiAgICAgIEFhay5sb2coJ1Rpc29vbWkgRGlyZWt0Jyk7CiAgICAgIH0KICAgICAgfQogICAgICB9LAogICAgICAgKi8KICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgLy8gR2VuZXJpYwogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBnZW5lcmljIDogewogICAgICAgIGhvc3QgOiBbJy4qPyddLAogICAgICAgIG9uUmVtb3ZlIDogZnVuY3Rpb24gKHJlbW92ZWROb2RlKSB7CiAgICAgICAgICBpZiAoQWFrLm9wdHMucmVtb3ZlZCkgewogICAgICAgICAgICBpZiAocmVtb3ZlZE5vZGUuc3JjIHx8CiAgICAgICAgICAgICAgcmVtb3ZlZE5vZGUuaWQgfHwKICAgICAgICAgICAgICByZW1vdmVkTm9kZS5jbGFzc05hbWUgJiYKICAgICAgICAgICAgICAhL15maXJlYnVnLy50ZXN0KHJlbW92ZWROb2RlLmNsYXNzTmFtZSkpIHsKICAgICAgICAgICAgICAvLyBOb2RlIHJlbW92ZWQKICAgICAgICAgICAgICBBYWsubG9nKHJlbW92ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAvLyBGdWNrQWRCbG9jayAmIEJsb2NrQWRCbG9jayB2MyBhbmQgdjQKICAgICAgICAgIC8vIHNpdGU6IGh0dHA6Ly93d3cuc2l0ZXh3LmZyL2Z1Y2thZGJsb2NrLwogICAgICAgICAgLy8gcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL3NpdGV4dy9GdWNrQWRCbG9jawogICAgICAgICAgLy8gcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL3NpdGV4dy9CbG9ja0FkQmxvY2sKICAgICAgICAgIC8vIG5vdGU6IHdoZW4gZnVja2FkYmxvY2suanMgb3IgYmxvY2thZGJsb2NrLmpzIGlzIGJsb2NrZWQKICAgICAgICAgIC8vIGRlbW8gdjM6IGh0dHA6Ly9zaC5zdC92b3ZIRQogICAgICAgICAgLy8gZGVtbyB2NDogaHR0cDovL2FsLmx5L3FCYlhICiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODg4CiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODI0CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdmdWNrQWRCbG9jaycsICdGdWNrQWRCbG9jaycpOwogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnYmxvY2tBZEJsb2NrJywgJ0Jsb2NrQWRCbG9jaycpOwoKICAgICAgICAgIC8vIGNhblJ1bkFkcwogICAgICAgICAgLy8gcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL01hdHRoZXdHcm9zcy9DYW5SdW5BZHMKICAgICAgICAgIC8vIG5vdGU6IHVzZSBleHRlcm5hbGwgc2NyaXB0ICIvanMvYWRzLmpzIiAtPiB2YXIgY2FuUnVuQWRzID0gdHJ1ZTsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdjYW5SdW5BZHMnLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZSA6IHRydWUKICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIGNhblNob3dBZHMKICAgICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTk3CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnY2FuU2hvd0FkcycsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CgogICAgICAgICAgLy8gQWRibG9ja2VyIERldGVjdGluZyBTY3JpcHRzOiBNZXRob2QgMgogICAgICAgICAgLy8gZ2lzdDogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vaXJhemFzeWVkLzNkMjQ3ZDNkMTIxZTc4MWEzODcyCiAgICAgICAgICAvLyBub3RlOiB1c2UgZXh0ZXJuYWxsIHNjcmlwdCAiL2pzL2Fkcy5qcyIgLT4gaXNBZEJsb2NrQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnaXNBZEJsb2NrQWN0aXZlJywgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmYWxzZQogICAgICAgICAgfSk7CgogICAgICAgICAgLyoKICAgICAgICAgIHdpbmRvdy5pSGF2ZUxvYWRlZEFkcyA9IHRydWU7CiAgICAgICAgICB2YXIgbmljZUFkc0NoZWNrPXRydWU7CiAgICAgICAgICBhZGJsb2NrID0gZmFsc2UKICAgICAgICAgIGlzX2Jsb2NrZXIgPSBmYWxzZTsKICAgICAgICAgICAqLwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewoKICAgICAgICAgIC8vIEFkQmxvY2sgRGV0ZWN0b3IgKFhlbkZvcm8gUmVsbGVjdCkKICAgICAgICAgIC8vIHNpdGU6IGh0dHA6Ly90aW55dXJsLmNvbS9wYTI4eGRuCiAgICAgICAgICAvLyBjbG9uZUludG86IGh0dHA6Ly90aW55dXJsLmNvbS9rNnFwaG1lCiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODA1CiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODA0CiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTkxCiAgICAgICAgICBpZiAoQWFrLnV3LlhlbkZvcm8gJiYgdHlwZW9mIEFhay51dy5YZW5Gb3JvLnJlbGxlY3QgPT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgQWFrLnV3LlhlbkZvcm8ucmVsbGVjdCA9IHsKICAgICAgICAgICAgICBBZEJsb2NrRGV0ZWN0b3IgOiB7CiAgICAgICAgICAgICAgICBzdGFydCA6IGZ1bmN0aW9uICgpIHt9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FkQmxvY2sgRGV0ZWN0b3IgKFhlbkZvcm8gUmVsbGVjdCknKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvKgogICAgICAgICAgLy8gQWR1bmJsb2NrIC0gaHR0cDovL2FkdW5ibG9jay5jb20vCiAgICAgICAgICBpZiAoQWFrLmdldENvb2tpZSgnYWRibG9jaycpID09IDEpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2FkYmxvY2snLCAwKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2Jhcl9jbG9zZWQnLCAxKTsKICAgICAgICAgIH0KICAgICAgICAgICAqLwoKICAgICAgICAgIC8vIEFkYmxvY2sgQmxvY2tlcgogICAgICAgICAgLy8gaHR0cHM6Ly93b3JkcHJlc3Mub3JnL3BsdWdpbnMvYWRkYmxvY2tibG9ja2VyLwogICAgICAgICAgLy8gaHR0cDovL3Rpbnl1cmwuY29tL25zd242ZnoKICAgICAgICAgIC8vIGh0dHA6Ly9wYXN0ZWJpbi5jb20vZDY1enIzN20KICAgICAgICAgIC8qIGNhbiBjYXVzZSBhIGJ1ZwogICAgICAgICAgdmFyIGFkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Fmc19hZHMnKTsKICAgICAgICAgIHZhciBhZCA9IGFkcy5sZW5ndGggJiYgYWRzW2Fkcy5sZW5ndGggLSAxXTsKICAgICAgICAgIGlmIChhZCAmJiBhZC5pbm5lckhUTUwubGVuZ3RoID09PSAwIHx8IGFkLmNsaWVudEhlaWdodCA9PT0gMCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lTmF0aXZlID0gSFRNTERvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lOwogICAgICAgICAgSFRNTERvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkgewogICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PSAnYWZzX2FkcycpIHsKICAgICAgICAgIGNvbnNvbGUuaW5mbyhbJ0FudGlBZGJLaWxsZXInLCBsb2NhdGlvbi5ob3N0LCAnQWRibG9ja0Jsb2NrZXInLCBjbGFzc05hbWVdKTsKICAgICAgICAgIHZhciB1bmlxaWQgPSBEYXRlLm5vdygpOwogICAgICAgICAgdmFyIGJhaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIGJhaXQuaW5uZXJIVE1MID0gJzxicj4nOwogICAgICAgICAgYmFpdC5jbGFzc05hbWUgPSB1bmlxaWQ7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhaXQpOwogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUodW5pcWlkKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lTmF0aXZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICAgKi8KCiAgICAgICAgICAvLyBBZGJ1ZGR5CiAgICAgICAgICBpZiAodHlwZW9mIEFhay51dy5jbG9zZUFkYnVkZHkgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgQWFrLnV3LmNsb3NlQWRidWRkeSgpOwogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FkYnVkZHknKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBZEJsb2NrIEFsZXJ0ZXIgKFdQKQogICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dwLXBsdWdpbnMvYWRibG9jay1hbGVydGVyCiAgICAgICAgICAvLwogICAgICAgICAgaWYgKEFhay5nZXRFbGVtZW50KCdkaXYuYWRiX292ZXJsYXkgPiBkaXYuYWRiX21vZGFsX2ltZycpKSB7CiAgICAgICAgICAgIC8vIFJlbW92ZSBBbGVydCArIEFsbG93IFNjcm9sbAogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnZGl2LmFkYl9vdmVybGF5Jyk7CiAgICAgICAgICAgIEFhay5hZGRTdHlsZSgnaHRtbCxib2R5IHtoZWlnaHQ6YXV0bzsgb3ZlcmZsb3c6IGF1dG87fScpOwogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FkQmxvY2tBbGVydGVyJyk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVW5rbm93IEFudGkgQWRCbG9jayBzeXN0ZW0KICAgICAgICAgIGlmIChBYWsuZ2V0RWxlbWVudCgnI2Jsb2NrZGl2JykgJiYgQWFrLmNvbnRhaW5zKEFhay5nZXRFbGVtZW50KCcjYmxvY2tkaXYnKS5pbm5lckhUTUwsICdkaXNhYmxlIGFkIGJsb2NraW5nIG9yIHVzZSBhbm90aGVyIGJyb3dzZXIgd2l0aG91dCBhbnkgYWRibG9ja2VyIHdoZW4geW91IHZpc2l0JykpIHsKICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNibG9ja2RpdicpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIEFudGlibG9jay5vcmcgdjIKICAgICAgICAgIC8vIG5vdGU6IGRldGVjdCBhbmQgc3RvcmUgYmxvY2sgaWQKICAgICAgICAgIC8vIGRlbW86IGh0dHA6Ly90aW55dXJsLmNvbS9uaHlocHprCiAgICAgICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBzdHlsZSA9IHN0eWxlc1tpXTsKICAgICAgICAgICAgdmFyIGNzc1J1bGVzID0gc3R5bGUuc2hlZXQuY3NzUnVsZXM7CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3NzUnVsZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICB2YXIgY3NzUnVsZSA9IGNzc1J1bGVzW2pdOwogICAgICAgICAgICAgIHZhciBjc3NUZXh0ID0gY3NzUnVsZS5jc3NUZXh0OwogICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL14jKFthLXowLTldezQsMTB9KSB+IFwqIFx7IGRpc3BsYXk6IG5vbmU7IFx9LzsKICAgICAgICAgICAgICBpZiAocGF0dGVybi50ZXN0KGNzc1RleHQpKSB7CiAgICAgICAgICAgICAgICB2YXIgaWQgPSBwYXR0ZXJuLmV4ZWMoY3NzVGV4dClbMV07CiAgICAgICAgICAgICAgICBpZiAoQWFrLmhhc1NjcmlwdCgidy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywiICsgaWQgKyAiLGZhbHNlKSIpKSB7CiAgICAgICAgICAgICAgICAgIEFhay5hYWJzLmFibzIgPSBpZDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHdpbiA9IEFhay51dzsKICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gd2luKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgaWYgKCEvXndlYmtpdC8udGVzdChwcm9wKSAmJiAvXlthLXowLTldezQsMTJ9JC9pLnRlc3QocHJvcCkgJiYgcHJvcCAhPT0gJ2RvY3VtZW50JyAmJiAod2luW3Byb3BdaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQpID09PSBmYWxzZSAmJiB3aW4uaGFzT3duUHJvcGVydHkocHJvcCkgJiYgdHlwZW9mIHdpbltwcm9wXSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIHZhciBtZXRob2QgPSB3aW5bcHJvcF07CgogICAgICAgICAgICAgICAgLy8gQW50aWJsb2NrLm9yZyB2MyAmIEJldHRlclN0b3BBZGJsb2NrCiAgICAgICAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODMzCiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmRlZmVyRXhlY3V0aW9uICYmCiAgICAgICAgICAgICAgICAgIG1ldGhvZC5kaXNwbGF5TWVzc2FnZSAmJgogICAgICAgICAgICAgICAgICBtZXRob2QuZ2V0RWxlbWVudEJ5ICYmCiAgICAgICAgICAgICAgICAgIG1ldGhvZC5nZXRTdHlsZSAmJgogICAgICAgICAgICAgICAgICBtZXRob2QuaW5zZXJ0ICYmCiAgICAgICAgICAgICAgICAgIG1ldGhvZC5uZXh0RnVuY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZC50b2dnbGUpIHsKICAgICAgICAgICAgICAgICAgICBBYWsuYWFicy5ic2EgPSBwcm9wOwogICAgICAgICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgnQmV0dGVyU3RvcEFkYmxvY2t7ZG9tfScpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIEFhay5hYWJzLmFibzMgPSBwcm9wOwogICAgICAgICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgnQW50aWJsb2NrM3tkb219Jyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgd2luW3Byb3BdID0gbnVsbDsgLy8ga2lsbCBpbnN0YW5jZQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEJsb2NrQWRCbG9jawogICAgICAgICAgICAgICAgLy8gc2l0ZTogYmxvY2thZGJsb2NrLmNvbQogICAgICAgICAgICAgICAgLy8gbm90ZTogcmFuZG9tIGluc3RhbmNlIG5hbWUKICAgICAgICAgICAgICAgIC8vIHNvdXJjZTogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vV2F0aWxpbi9hZjc1ZTBhMmU4MmEyZWZiMzg0YmRlOWM3YjQxZGVjOAogICAgICAgICAgICAgICAgLy8gaXNzdWVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWxhYmVsJTNBQmxvY2tBZEJsb2NrCiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmJhYikgeyAvLyB2YXJpYW50IDEKICAgICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdCbG9ja0FkQmxvY2t7ZG9tOnZhcmlhbnQxfScpOwogICAgICAgICAgICAgICAgICB3aW5bcHJvcF0gPSBudWxsOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhtZXRob2QpLmxlbmd0aCA9PT0gMyAmJiBPYmplY3Qua2V5cyhtZXRob2QpLm1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgICAgICAgICAgICB9KS5qb2luKCkubGVuZ3RoID09PSAzMikgeyAvLyB2YXJpYW50IDIKICAgICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdCbG9ja0FkQmxvY2t7ZG9tOnZhcmlhbnQyfScpOwogICAgICAgICAgICAgICAgICB3aW5bcHJvcF0gPSBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2Vycm9yJywgcHJvcCkKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIEFudGktQWRibG9ja2VycwogICAgICAgICAgdmFyIGFhYnMgPSB7CiAgICAgICAgICAgIC8vIFBsdWdpbnMgV29yZFByZXNzCiAgICAgICAgICAgIE5vQWRCbG9jayA6ICcoL3BsdWdpbnMvbm8tYWRibG9jay98L2Jsb2NrQmxvY2svYmxvY2tCbG9jay5qcXVlcnkuanMpJywKICAgICAgICAgICAgQmV0dGVyU3RvcEFkYmxvY2sgOiAnKC9wbHVnaW5zL2JldHRlci1zdG9wLWFkYmxvY2svfGJzYS1zY3JpcHQtZG9jdHlwZS5qc3xic2Etc2NyaXB0LW5vLWRvY3R5cGUuanMpJywKICAgICAgICAgICAgQWRCbG9ja0Jsb2NrZXIgOiAnL3BsdWdpbnMvd29yZHByZXNzLWFkYmxvY2stYmxvY2tlci8nLAogICAgICAgICAgICBBbnRpQmxvY2tCdWtzc2FBeW1hbiA6ICcvcGx1Z2lucy9hbnRpLWJsb2NrLycsCiAgICAgICAgICAgIEJsb2NrQWx5emVyIDogJy9wbHVnaW5zL2Jsb2NrYWx5emVyLWFkYmxvY2stY291bnRlci8nLAogICAgICAgICAgICBBZEJsb2NraW5nRGV0ZWN0b3IgOiAnL3BsdWdpbnMvYWQtYmxvY2tpbmctZGV0ZWN0b3IvJywKICAgICAgICAgICAgLy8gUGx1Z2lucyBXZWJzaXRlCiAgICAgICAgICAgIEFkd29ya21lZGlhIDogJyhhZHdvcmttZWRpYXxsb3h0a3xjb250ZW50bG9ja2luZ25ldHdvcmtzKS5jb20vZ0xvYWRlci5waHAnLAogICAgICAgICAgICBBZHNjZW5kbWVkaWEgOiAnYWRzY2VuZG1lZGlhLmNvbS9nd2pzLnBocCcsCiAgICAgICAgICAgIEZ1Y2tBZEJsb2NrIDogJygvZnVja2FkYmxvY2suanN8L2Jsb2NrYWRibG9jay5qcyknLAogICAgICAgICAgICBqUXVlcnlBZEJsb2NrIDogJy9qcXVlcnkuYWRibG9jay5qcycsCiAgICAgICAgICAgIGpRdWVyeUFkYmxvY2tEZXRlY3RvciA6ICcvanF1ZXJ5LmFkYmxvY2stZGV0ZWN0b3IuanMnLAogICAgICAgICAgICBBZEJsb2NrQWR2ZXJ0aXNlbWVudCA6ICcvYWR2ZXJ0aXNlbWVudC5qcycsCiAgICAgICAgICAgIEFkQmxvY2tBZHZlcnQgOiAnL2FkdmVydC5qcycsCiAgICAgICAgICAgIEFkQmxvY2tBZHZDdXN0b20gOiAnL2FkdmVydGlzZW1lbnQoLispLmpzJywKICAgICAgICAgICAgQWRCbG9ja0FkZnJhbWUgOiAnL2FkZnJhbWUuanMnLAogICAgICAgICAgICBBbnRpQWRCdXN0ZXIgOiAnL2FudGktYWQtYnVzdGVyLmpzJywKICAgICAgICAgICAgUlRLQW50aUFkYmxvY2sgOiAnL2Jsb2NrY2FrZS5qcycsCiAgICAgICAgICAgIEFkYmxvY2tEZXRlY3RvciA6ICcvQWRibG9ja0RldGVjdG9yL2hhbmRsZXIubWluLmpzJywKICAgICAgICAgICAgalF1ZXJ5QW50aUFkc0Jsb2NrIDogJy9qcXVlcnkuYW50aWFkc2Jsb2NrLmpzJywKICAgICAgICAgICAgQWRidWRkeSA6ICcvanMvYWRidWRkeS5taW4uanMnLAogICAgICAgICAgICBBbnRpQURzQmxvY2tlciA6ICcvYWFkYi9zY3JpcHQuanMnCiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciBzY3JpcHRzID0gZG9jdW1lbnQuc2NyaXB0czsKICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc2NyaXB0cy5sZW5ndGg7IHkrKykgewogICAgICAgICAgICB2YXIgc2NyaXB0ID0gc2NyaXB0c1t5XTsKICAgICAgICAgICAgaWYgKHNjcmlwdC5zcmMpIHsKICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYWFicykgewogICAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoYWFic1trZXldLCAnaScpLnRlc3Qoc2NyaXB0LnNyYykpIHsKICAgICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKFtrZXksIHNjcmlwdC5zcmNdKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgb25JbnNlcnQgOiBmdW5jdGlvbiAoaW5zZXJ0ZWROb2RlKSB7CgogICAgICAgICAgLy8gQWxsIE5vZGVzCiAgICAgICAgICBpZiAoQWFrLm9wdHMuaW5zZXJ0ZWQpIHsKICAgICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5zcmMgfHwKICAgICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQgfHwKICAgICAgICAgICAgICBpbnNlcnRlZE5vZGUuY2xhc3NOYW1lICYmCiAgICAgICAgICAgICAgIS9maXJlYnVnLy50ZXN0KGluc2VydGVkTm9kZS5pbm5lckhUTUwpKSB7CiAgICAgICAgICAgICAgLy8gTm9kZSBpbnNlcnRlZAogICAgICAgICAgICAgIEFhay5sb2coaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIE5vLUFkYmxvY2sgLSBodHRwOi8vd3d3Lm5vLWFkYmxvY2suY29tLwogICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQubGVuZ3RoID09IDQgJiYKICAgICAgICAgICAgL15bYS16MC05XXs0fSQvLnRlc3QoaW5zZXJ0ZWROb2RlLmlkKSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUubm9kZU5hbWUgPT0gJ0RJVicgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQuaWQgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQuaWQgPT0gaW5zZXJ0ZWROb2RlLmlkICYmCiAgICAgICAgICAgIEFhay5jb250YWlucyhpbnNlcnRlZE5vZGUuaW5uZXJIVE1MLCAnbm8tYWRibG9jay5jb20nKSkgewogICAgICAgICAgICAvLyBSZW1vdmUKICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdOby1BZGJsb2NrJywgZmFsc2UsIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChpbnNlcnRlZE5vZGUpOwogICAgICAgICAgICAvL0Fhay5sb2coaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBTdG9wQWRibG9jayAtIGh0dHA6Ly9zdG9wYWRibG9jay5vcmcvZG93bmxvYWRzLwogICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQubGVuZ3RoID09IDcgJiYKICAgICAgICAgICAgL15hW2EtejAtOV17Nn0kLy50ZXN0KGluc2VydGVkTm9kZS5pZCkgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5vZGVOYW1lID09ICdESVYnICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5wYXJlbnROb2RlICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5wYXJlbnROb2RlLmlkICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5wYXJlbnROb2RlLmlkID09IGluc2VydGVkTm9kZS5pZCArICcyJyAmJgogICAgICAgICAgICBBYWsuY29udGFpbnMoaW5zZXJ0ZWROb2RlLmlubmVySFRNTCwgJ3N0b3BhZGJsb2NrLm9yZycpKSB7CiAgICAgICAgICAgIC8vIFJlbW92ZQogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ1N0b3BBZEJsb2NrJywgZmFsc2UsIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChpbnNlcnRlZE5vZGUpOwogICAgICAgICAgICAvL0Fhay5sb2coaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBbnRpQWRibG9jayAoUGFja2VyKQogICAgICAgICAgdmFyIHJlSWZyYW1lSWQgPSAvXih6ZHx3ZCkkLzsKICAgICAgICAgIHZhciByZUltZ0lkID0gL14oeGR8Z2QpJC87CiAgICAgICAgICB2YXIgcmVJbWdTcmMgPSAvXC9hZHNcL2Jhbm5lci5qcGcvOwogICAgICAgICAgdmFyIHJlSWZyYW1lU3JjID0gLyhcL2FkaGFuZGxlclwvfFwvYWRpbWFnZXNcL3xhZC5odG1sKS87CgogICAgICAgICAgLy8gQ29tbXVucwogICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICByZUltZ0lkLnRlc3QoaW5zZXJ0ZWROb2RlLmlkKSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUubm9kZU5hbWUgPT0gJ0lNRycgJiYKICAgICAgICAgICAgcmVJbWdTcmMudGVzdChpbnNlcnRlZE5vZGUuc3JjKSB8fAogICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQgJiYKICAgICAgICAgICAgcmVJZnJhbWVJZC50ZXN0KGluc2VydGVkTm9kZS5pZCkgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5vZGVOYW1lID09ICdJRlJBTUUnICYmCiAgICAgICAgICAgIHJlSWZyYW1lU3JjLnRlc3QoaW5zZXJ0ZWROb2RlLnNyYykpIHsKCiAgICAgICAgICAgIC8vIFZhcmlhbnQgMQogICAgICAgICAgICBpZiAoaW5zZXJ0ZWROb2RlLmlkID09ICd4ZCcpIHsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FudGlBZGJsb2NrUGFja2VyWmR4ZCcsIGZhbHNlLCBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfSAvLyBWYXJpYW50IDIKICAgICAgICAgICAgZWxzZSBpZiAoaW5zZXJ0ZWROb2RlLmlkID09ICdnZCcpIHsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FudGlBZGJsb2NrUGFja2VyV2RnZCcsIGZhbHNlLCBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBSZW1vdmUKICAgICAgICAgICAgLy9BYWsubG9nKGluc2VydGVkTm9kZSk7CiAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gQWR1bmJsb2NrIC0gaHR0cDovL2FkdW5ibG9jay5jb20vCiAgICAgICAgICB2YXIgcmVJZCA9IC9eW2Etel17OH0kLzsKICAgICAgICAgIHZhciByZUNsYXNzID0gL15bYS16XXs4fSBbYS16XXs4fS87CiAgICAgICAgICB2YXIgcmVCZyA9IC9eW2Etel17OH0tYmckLzsKICAgICAgICAgIHZhciByZU1lc3NhZ2UgPSAvSWwgc2VtYmxlcmFpdCBxdWUgdm91cyB1dGlsaXNpZXogdW4gYmxvcXVldXIgZGUgcHVibGljaXTDqSAhLzsKCiAgICAgICAgICAvLyBDb21tdW5zCiAgICAgICAgICBpZiAodHlwZW9mIEFhay51dy52dGZhYiAhPSAndW5kZWZpbmVkJyAmJgogICAgICAgICAgICB0eXBlb2YgQWFrLnV3LmFkYmxvY2tfYW50aWIgIT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLnBhcmVudE5vZGUgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLnBhcmVudE5vZGUubm9kZU5hbWUgPT0gJ0JPRFknICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICByZUlkLnRlc3QoaW5zZXJ0ZWROb2RlLmlkKSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUubm9kZU5hbWUgPT0gJ0RJVicgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5uZXh0U2libGluZy5jbGFzc05hbWUgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLm5vZGVOYW1lID09ICdESVYnKSB7CgogICAgICAgICAgICAvLyBGdWxsIFNjcmVlbiBNZXNzYWdlIChQcmVtaXVtKQogICAgICAgICAgICAvLyA8ZGl2IGlkPSJsZnloc3ZkcSIgY2xhc3M9InR2d25vcWRmIHN2b25leHJrIiBzdHlsZT0idG9wOiAxMDBweDsgb3BhY2l0eTogMTsgdmlzaWJpbGl0eTogdmlzaWJsZTsiPgogICAgICAgICAgICAvLyA8ZGl2IGNsYXNzPSJ0dndub3FkZi1iZyIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyI+PC9kaXY+CiAgICAgICAgICAgIGlmIChpbnNlcnRlZE5vZGUuY2xhc3NOYW1lICYmCiAgICAgICAgICAgICAgcmVDbGFzcy50ZXN0KGluc2VydGVkTm9kZS5jbGFzc05hbWUpICYmCiAgICAgICAgICAgICAgcmVCZy50ZXN0KGluc2VydGVkTm9kZS5uZXh0U2libGluZy5jbGFzc05hbWUpICYmCiAgICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLnN0eWxlICYmCiAgICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7CgogICAgICAgICAgICAgIC8vIFJlbW92ZSBNZXNzYWdlCiAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCJBZFVuQmxvY2tQcmVtaXVtIik7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nKTsgLy8gb3ZlcmxheQogICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7IC8vIGJveAogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIFRvcCBiYXIgTWVzc2FnZSAoRnJlZSkKICAgICAgICAgICAgLy8gPGRpdiBpZD0idml4bWdybHkiPgogICAgICAgICAgICAvLyA8ZGl2IGlkPSJtZm5oYWl5eCIgY2xhc3M9Imxrcm52Ynl0Ij4KICAgICAgICAgICAgZWxzZSBpZiAoaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLmlkICYmCiAgICAgICAgICAgICAgcmVJZC50ZXN0KGluc2VydGVkTm9kZS5uZXh0U2libGluZy5pZCkgJiYKICAgICAgICAgICAgICByZU1lc3NhZ2UudGVzdChpbnNlcnRlZE5vZGUuaW5uZXJIVE1MKSkgewoKICAgICAgICAgICAgICAvLyBSZW1vdmUgTWVzc2FnZQogICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgiQWRVbkJsb2NrRnJlZSIpOwogICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBbnRpYmxvY2sgLSBodHRwOi8vYW50aWJsb2NrLm9yZy8KICAgICAgICAgIHZhciByZU1zZ0lkID0gL15bYS16MC05XXs0LDEwfSQvaTsKICAgICAgICAgIHZhciByZVRhZzEgPSAvXihkaXZ8c3BhbnxifGl8Zm9udHxzdHJvbmd8Y2VudGVyKSQvaTsKICAgICAgICAgIHZhciByZVRhZzIgPSAvXihhfGJ8aXxzfHV8cXxwfHN0cm9uZ3xjZW50ZXIpJC9pOwogICAgICAgICAgdmFyIHJlV29yZHMxID0gL2FkIGJsb2NrZXJ8YWQgYmxvY2t8YWQtYmxvY2t8YWRibG9ja2VyfGFkLWJsb2NrZXJ8YWRibG9ja3xibG9xdWV1cnxibG9xdWVhZG9yfFdlcmJlYmxvY2tlcnxhZGJsb2NrZXJ0fCYjMTU3MDsmIzE1ODM7JiMxNTc2OyYjMTYwNDsmIzE2MDg7JiMxNjAzOyAmIzE1NzY7JiMxNjA0OyYjMTU4Nzt80LHQu9C+0LrQuNGA0L7QstGJ0LjQutC+0LwvaTsKICAgICAgICAgIHZhciByZVdvcmRzMiA9IC9rYXBhdHxkaXNhYmxlfGTDqXNhY3RpdmV6fGTDqXNhY3RpdmVyfGRlc2FjdGl2ZXp8ZGVzYWN0aXZlcnxkZXNhdGl2ZXxkZXNhY3RpdmFyfGRlc2FjdGl2ZXxkZXNhY3RpdmF8ZGVha3RpdmllcmV8ZGlzYWJpbGl0YXJlfCYjOTQ1OyYjOTYwOyYjOTQ5OyYjOTU3OyYjOTQ5OyYjOTYxOyYjOTQ3OyYjOTU5OyYjOTYwOyYjOTU5OyYjOTQzOyYjOTUxOyYjOTYzOyYjOTUxO3wmIzEwNzk7JiMxMDcyOyYjMTA4NzsmIzEwODg7JiMxMDc3OyYjMTA5NzsmIzEwNzI7JiMxMDkwOyYjMTEwMDt8w6FsbMOtdHNkIGxlfHB1YmxpY2l0w6lzfNGA0LXQutC70LDQvNC1fHZlcmhpbmRlcnR8YWR2ZXJ0fGthcGF0xLFuxLF6L2k7CgogICAgICAgICAgLy8gQW50aWJsb2NrLm9yZyAoYWxsIHZlcnNpb24pCiAgICAgICAgICBpZiAoaW5zZXJ0ZWROb2RlLnBhcmVudE5vZGUgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmlkICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5zdHlsZSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUuY2hpbGROb2Rlcy5sZW5ndGggJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQgJiYKICAgICAgICAgICAgIWluc2VydGVkTm9kZS5maXJzdENoaWxkLmlkICYmCiAgICAgICAgICAgICFpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5jbGFzc05hbWUgJiYKICAgICAgICAgICAgcmVNc2dJZC50ZXN0KGluc2VydGVkTm9kZS5pZCkgJiYKICAgICAgICAgICAgcmVUYWcxLnRlc3QoaW5zZXJ0ZWROb2RlLm5vZGVOYW1lKSAmJgogICAgICAgICAgICByZVRhZzIudGVzdChpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgLy9BYWsubG9nKGluc2VydGVkTm9kZSk7CgogICAgICAgICAgICAvLyBLaWxsIGF1ZGlvIG1lc3NhZ2UKICAgICAgICAgICAgdmFyIGF1ZGlvID0gaW5zZXJ0ZWROb2RlLnF1ZXJ5U2VsZWN0b3IoImF1ZGlvW2xvb3BdIik7CiAgICAgICAgICAgIGlmIChhdWRpbykgewogICAgICAgICAgICAgIGF1ZGlvLnBhdXNlKCk7CiAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdBbnRpYmxvY2t7YXVkaW99Jyk7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoYXVkaW8pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEFudGlibG9jay5vcmcgdjIKICAgICAgICAgICAgLy8gZGVtbzogaHR0cDovL3Rpbnl1cmwuY29tL2gzbXd0YTQKICAgICAgICAgICAgZWxzZSBpZiAoKEFhay5hYWJzLmFibzIgJiYgaW5zZXJ0ZWROb2RlLmlkID09IEFhay5hYWJzLmFibzIpIHx8CiAgICAgICAgICAgICAgKGluc2VydGVkTm9kZS5maXJzdENoaWxkLmhhc0NoaWxkTm9kZXMoKSAmJiByZVdvcmRzMS50ZXN0KGluc2VydGVkTm9kZS5maXJzdENoaWxkLmlubmVySFRNTCkgJiYgcmVXb3JkczIudGVzdChpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5pbm5lckhUTUwpKSkgewogICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgnQW50aWJsb2NrMntpbnNlcnR9Jyk7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBBbnRpYmxvY2sub3JnIHYzCiAgICAgICAgICAgIC8vIGRlbW86IGh0dHA6Ly90aW55dXJsLmNvbS9xZWNmYTd3CiAgICAgICAgICAgIC8vIGNhc2U6IGh0dHA6Ly90aW55dXJsLmNvbS96YnJscjNhIC8qIGZvcmsgKi8KICAgICAgICAgICAgZWxzZSBpZiAoKEFhay5hYWJzLmFibzMgJiYgaW5zZXJ0ZWROb2RlLmlkID09IEFhay5hYWJzLmFibzMpIHx8CiAgICAgICAgICAgICAgKGluc2VydGVkTm9kZS5maXJzdENoaWxkLmhhc0NoaWxkTm9kZXMoKSAmJiBpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5maXJzdENoaWxkLm5vZGVOYW1lID09ICdJTUcnICYmIC9eZGF0YTppbWFnZVwvcG5nO2Jhc2U2NC8udGVzdChpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5maXJzdENoaWxkLnNyYykpKSB7CiAgICAgICAgICAgICAgQWFrLnV3W0Fhay5hYWJzLmFibzNdID0gbnVsbDsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FudGlibG9jazN7aW5zZXJ0fScpOwogICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gQmV0dGVyU3RvcEFkYmxvY2sKICAgICAgICAgICAgLy8gZGVtbzogaHR0cDovL3Rpbnl1cmwuY29tL2pzOXphdDQKICAgICAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1lpbWtydEtCCiAgICAgICAgICAgIC8vIGlzc3VlOiBodHRwOi8vdGlueXVybC5jb20vemV0Z2J0eAogICAgICAgICAgICBlbHNlIGlmIChBYWsuYWFicy5ic2EgJiYgaW5zZXJ0ZWROb2RlLmlkID09IEFhay5hYWJzLmJzYSkgewogICAgICAgICAgICAgIEFhay51d1tBYWsuYWFicy5ic2FdID0gbnVsbDsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0JldHRlclN0b3BBZGJsb2Nre2luc2VydH0nKTsKICAgICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChpbnNlcnRlZE5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICBNYW55IGZhbHNlIHBvc2l0aXZlCiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIC8vQWFrLnJlbW92ZUVsZW1lbnQoaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGJsb2NrRGV0ZWN0IDogZnVuY3Rpb24gKCkgewoKICAgICAgLy8gRXhjbHVkZSBkb21haW5zCiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNDY2CiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjYzCiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL2ZvcnVtL2Rpc2N1c3Npb24vODQyMi8KICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzk4NgogICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODU3CiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy82MTcKICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZnIvZm9ydW0vZGlzY3Vzc2lvbi81NDI2CiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy80MTkKICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzM3NwogICAgICB2YXIgZXhjbHVkZXMgPSBbIjM2MC5jbiIsICJhbWF6b24uIiwgImFwcGxlLmNvbSIsICJhc2suY29tIiwgImJhaWR1LmNvbSIsICJiaW5nLmNvbSIsICJidWZmZXJhcHAuY29tIiwgImNoYXRhbmdvLmNvbSIsICJjaHJvbWVhY3Rpb25zLmNvbSIsICJlYXN5aW5wbGF5Lm5ldCIsICJlYmF5LmNvbSIsICJmYWNlYm9vay5jb20iLCAiZmxhdHRyLmNvbSIsICJmbGlja3IuY29tIiwgImdoYWNrcy5uZXQiLCAiZ29vZ2xlLiIsICJpbWRiLmNvbSIsICJpbWdib3guY29tIiwgImltZ3VyLmNvbSIsICJpbnN0YWdyYW0uY29tIiwgImpzYmluLmNvbSIsICJqc2ZpZGRsZS5uZXQiLCAibGlua2VkaW4uY29tIiwgImxpdmUuY29tIiwgIm1haWwucnUiLCAibWljcm9zb2Z0LmNvbSIsICJtc24uY29tIiwgInBheXBhbC5jb20iLCAicGludGVyZXN0LmNvbSIsICJwcmVsb2FkZXJzLm5ldCIsICJxcS5jb20iLCAicmVkZGl0LmNvbSIsICJzdGFja292ZXJmbG93LmNvbSIsICJ0YW1wZXJtb25rZXkubmV0IiwgInR3aXR0ZXIuY29tIiwgInZpbWVvLmNvbSIsICJ3aWtpcGVkaWEub3JnIiwgInczc2Nob29scy5jb20iLCAieWFob28uIiwgInlhbmRleC5ydSIsICJ5b3V0dS5iZSIsICJ5b3V0dWJlLmNvbSIsICJ4ZW12dHYubmV0IiwgInZvZC5wbCIsICJhZ2FyLmlvIiwgInBhbmRvb24uaW5mbyIsICJmc2Yub3JnIiwgImFkYmxvY2twbHVzLm9yZyIsICJwbG5rci5jbyIsICJleGFjdHRhcmdldC5jb20iLCAiZG9sbGRpdmluZS5jb20iLCAicG9wbWVjaC5ydSIsICJjYWxtLmNvbSJdOwogICAgICB2YXIgaG9zdCA9IGxvY2F0aW9uLmhvc3Q7CiAgICAgIHZhciBleGNsdWRlZCA9IGZhbHNlOwogICAgICBleGNsdWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChleGNsdWRlKSB7CiAgICAgICAgaWYgKG5ldyBSZWdFeHAoZXhjbHVkZSkudGVzdChob3N0KSkgewogICAgICAgICAgZXhjbHVkZWQgPSB0cnVlOwogICAgICAgICAgaWYgKEFhay5vcHRzLmxvZ0V4Y2x1ZGVkKSB7CiAgICAgICAgICAgIEFhay53YXJuKCdFeGNsdWRlZCcpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICAvLyBJbmNsdWRlIGRvbWFpbnMKICAgICAgLy8gSXNFdmVudHVwcG9ydGVkOiBodHRwOi8vdGlueXVybC5jb20vb2VlejhjNwogICAgICBpZiAoIWV4Y2x1ZGVkKSB7CgogICAgICAgIHZhciBoYW5kbGVyRXZlbnRzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHJ1bGUgPSBBYWsucnVsZXNbbmFtZV07CgogICAgICAgICAgcnVsZS5ob3N0LmZvckVhY2goZnVuY3Rpb24gKGhvc3QpIHsKICAgICAgICAgICAgLy8gQ2hlY2sgaG9zdAogICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChob3N0KS50ZXN0KGxvY2F0aW9uLmhvc3QpKSB7CgogICAgICAgICAgICAgIC8vIE5hdGl2ZSBtb2RlCiAgICAgICAgICAgICAgaWYgKCFBYWsudXNlR00gJiYgQWFrLmlzVG9wZnJhbWUpIHsKICAgICAgICAgICAgICAgIEFhay53YXJuKCdSdW4gbmF0aXZlbHkuJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBMb2cgcnVsZSB1c2VkCiAgICAgICAgICAgICAgaWYgKHJ1bGUuaG9zdFswXSAhPSAnLio/JykgewogICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdydWxlJywgcnVsZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vIEJlZm9yZSBET00gbG9hZAogICAgICAgICAgICAgIGlmIChydWxlLm9uU3RhcnQpIHsKICAgICAgICAgICAgICAgIHJ1bGUub25TdGFydCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBPbiBhbGwgc3RhdGVtZW50cwogICAgICAgICAgICAgIGlmIChydWxlLm9uQWx3YXlzKSB7CiAgICAgICAgICAgICAgICBydWxlLm9uQWx3YXlzKCk7IC8vIHN0YXJ0CiAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdET01Db250ZW50TG9hZGVkJywgcnVsZS5vbkFsd2F5cyk7IC8vIGlkbGUKICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ2xvYWQnLCBydWxlLm9uQWx3YXlzKTsgLy8gZW5kCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIEJlZm9yZSBTY3JpcHQgRXhlY3V0ZWQKICAgICAgICAgICAgICBpZiAocnVsZS5vbkJlZm9yZVNjcmlwdCkgewoKICAgICAgICAgICAgICAgIC8vIG9wdGlvbnM6IGNvbnRhaW5zLCBzZWFyY2gsIHJlcGxhY2UsIG92ZXJyaWRlLCByZW1vdmUsIGV4dGVybmFsCiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uc0JlZm9yZVNjcmlwdCA9IHJ1bGUub25CZWZvcmVTY3JpcHQoKTsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc0JlZm9yZVNjcmlwdCA9PSAib2JqZWN0IikgewoKICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXJCZWZvcmVTY3JpcHQgPSBmdW5jdGlvbiAoZSwgb3B0aW9ucykgewogICAgICAgICAgICAgICAgICAgIHZhciBpc0V2ZW50ID0gZSBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudDsKICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1NjcmlwdCA9IChlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpIHx8IGU7CgogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobykgeyAvLyBoYXNBdHRyaWJ1dGUKICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSBvLmV4dGVybmFsID8gJ3NyYycgOiAnaW5uZXJIVE1MJzsKICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWFyY2ggPSBuZXcgUmVnRXhwKG8uY29udGFpbnMsIG8uZmxhZ3MgfHwgJycpOwoKICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2NyaXB0W3NyY10gJiYgdGhpc1NjcmlwdFtzcmNdLmxlbmd0aCAmJiBzZWFyY2gudGVzdCh0aGlzU2NyaXB0W3NyY10pKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIHNjcmlwdCBleGVjdXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBzY3JpcHQKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXNTY3JpcHQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBhIHBhcnQgb2YgdGhlIHNjcmlwdAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5yZXBsYWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NyaXB0W3NyY10gPSB0aGlzU2NyaXB0W3NyY10ucmVwbGFjZShzZWFyY2gsIG8ucmVwbGFjZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdTY3JpcHQsIHRoaXNTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9IC8vIE92ZXJyaWRlIHNjcmlwdAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvLm92ZXJyaWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NyaXB0W3NyY10gPSBvLm92ZXJyaWRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3U2NyaXB0LCB0aGlzU2NyaXB0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBSZW1vdmUgc2NyaXB0CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG8ucmVtb3ZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXNTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5kZXRlY3RlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIEFhay5kZXRlY3RlZChvLmRldGVjdGVkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQkJCQkJCQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFhay5vcHRzLmxvZ0ludGVyY2VwdGVkU2NyaXB0cykgewogICAgICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coc3JjLCBvLCB0aGlzU2NyaXB0LCBuZXdTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAvLyBCcm93c2VyIHN1cHBvcnRpbmcgZXZlbnQgYmVmb3Jlc2NyaXB0ZXhlY3V0ZQogICAgICAgICAgICAgICAgICBpZiAoJ29uYmVmb3Jlc2NyaXB0ZXhlY3V0ZScgaW4gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdiZWZvcmVzY3JpcHRleGVjdXRlJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJCZWZvcmVTY3JpcHQoZSwgb3B0aW9uc0JlZm9yZVNjcmlwdCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIEJyb3dzZXIgbm90IHN1cHBvdGluZyBiZWZvcmVzY3JpcHRleGVjdXRlCgogICAgICAgICAgICAgICAgICAgIHZhciBsb2FkRG9jdW1lbnQgPSBmdW5jdGlvbiAob3B0aW9uc0JlZm9yZVNjcmlwdCkgewogICAgICAgICAgICAgICAgICAgICAgLy9pZiAoZG9jdW1lbnQucmVmZXJyZXIgPT09ICcnKQogICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm47CgogICAgICAgICAgICAgICAgICAgICAgQWFrLndhcm4oJ29uYmVmb3Jlc2NyaXB0LWNvbXBhdGlibGUnKTsKCiAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIGxvYWRpbmcKICAgICAgICAgICAgICAgICAgICAgIEFhay5hZGRTY3JpcHQoJ3dpbmRvdy5zdG9wKCk7Jyk7IC8vIGNocm9tZS9vcGVyYQogICAgICAgICAgICAgICAgICAgICAgLy9BYWsuYWRkU2NyaXB0KCdkb2N1bWVudC5vcGVuKCk7Jyk7IC8vIGZpcmVmb3gKCiAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgY29udGVudAogICAgICAgICAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICB1cmwgOiBsb2NhdGlvbi5ocmVmLAogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzIDogewogICAgICAgICAgICAgICAgICAgICAgICAgICJSZWZlcmVyIiA6IGRvY3VtZW50LnJlZmVycmVyCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbCwgInRleHQvaHRtbCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JpcHRzID0gZG9jLnNjcmlwdHM7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTY3JpcHQgPSBzY3JpcHRzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlckJlZm9yZVNjcmlwdCh0aGlzU2NyaXB0LCBvcHRpb25zQmVmb3JlU2NyaXB0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdG8gc3RyaW5nCiAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXcml0ZSBuZXcgY29udGVudCB0byBIVE1MIGRvY3VtZW50OgogICAgICAgICAgICAgICAgICAgICAgICAgIEFhay5hZGRTY3JpcHQoJ2RvY3VtZW50Lm9wZW4oKTsgZG9jdW1lbnQud3JpdGUodW5lc2NhcGUoIicgKyB3aW5kb3cuZXNjYXBlKGh0bWwpICsgJyIpKTsgZG9jdW1lbnQuY2xvc2UoKTsnKTsgLy8gY2hyb21lL29wZXJhCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy9BYWsuYWRkU2NyaXB0KCdkb2N1bWVudC53cml0ZSh1bmVzY2FwZSgiJyArIGVzY2FwZShodG1sKSArICciKSk7IGRvY3VtZW50LmNsb3NlKCk7Jyk7IC8vIGZpcmVmb3gKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBsb2FkRG9jdW1lbnQob3B0aW9uc0JlZm9yZVNjcmlwdCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIEFmdGVyIFNjcmlwdCBFeGVjdXRlZAogICAgICAgICAgICAgIGlmIChydWxlLm9uQWZ0ZXJTY3JpcHQpIHsKICAgICAgICAgICAgICAgIGlmICgnb25hZnRlcnNjcmlwdGV4ZWN1dGUnIGluIGRvY3VtZW50KSB7IC8vIE1vemlsbGEgRmlyZWZveAogICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdhZnRlcnNjcmlwdGV4ZWN1dGUnLCBydWxlLm9uQWZ0ZXJTY3JpcHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBXaGVuIERPTSBMb2FkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25JZGxlKSB7CiAgICAgICAgICAgICAgICBpZiAoIUFhay51c2VHTSkgeyAvLyBOYXRpdmUgbW9kZQogICAgICAgICAgICAgICAgICBydWxlLm9uSWRsZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy9BYWsub25FdmVudCh3aW5kb3csICdET01Db250ZW50TG9hZGVkJywgcnVsZS5vbklkbGUpOwogICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdET01Db250ZW50TG9hZGVkJywgcnVsZS5vbklkbGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBXaGVuIFdpbmRvdyBMb2FkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25FbmQpIHsKICAgICAgICAgICAgICAgIGlmICghQWFrLnVzZUdNKSB7IC8vIE5hdGl2ZSBtb2RlCiAgICAgICAgICAgICAgICAgIHJ1bGUub25FbmQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ2xvYWQnLCBydWxlLm9uRW5kKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gQXR0ck1vZGlmaWVkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25BdHRyTW9kaWZpZWQpIHsKICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ0RPTUF0dHJNb2RpZmllZCcsIHJ1bGUub25BdHRyTW9kaWZpZWQsIGZhbHNlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gU3VidHJlZU1vZGlmaWVkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25TdWJ0cmVlTW9kaWZpZWQpIHsKICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHJ1bGUub25TdWJ0cmVlTW9kaWZpZWQsIGZhbHNlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gRWxlbWVudHMgYXJlIEluc2VydGVkIGluIERvY3VtZW50CiAgICAgICAgICAgICAgaWYgKHJ1bGUub25JbnNlcnQpIHsKCiAgICAgICAgICAgICAgICAvLyBNdXRhdGlvbiBPYnNlcnZlcgogICAgICAgICAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vbXh4emVlNAogICAgICAgICAgICAgICAgLy8gc3VwcG9ydDogaHR0cDovL3Rpbnl1cmwuY29tL25lcG43dnkKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgIT0gJ3VuZGVmaW5lZCcgfHwKICAgICAgICAgICAgICAgICAgdHlwZW9mIFdlYktpdE11dGF0aW9uT2JzZXJ2ZXIgIT0gJ3VuZGVmaW5lZCcpIHsKCiAgICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uIE9ic2VydmVyCiAgICAgICAgICAgICAgICAgIHZhciBNdXRhdGlvbk9ic2VydmVyMSA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyOwoKICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlCiAgICAgICAgICAgICAgICAgIHZhciBvYnMxID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIxKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBzYWZlbHkgdXNlIGBmb3JFYWNoYCBiZWNhdXNlIHdlIGFscmVhZHkgdXNlIG11dGF0aW9uCiAgICAgICAgICAgICAgICAgICAgICAvLyBvYnNlcnZlcnMgdGhhdCBhcmUgbW9yZSByZWNlbnQgdGhhbiBgZm9yRWFjaGAuIChzb3VyY2U6IE1ETikKICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSB3YW50IG9ubHkgYWRkZWQgbm9kZXMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChtdXRhdGlvbi5hZGRlZE5vZGVzLCBmdW5jdGlvbiAoYWRkZWROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQWFrLm9wdHMubG9nSW5zZXJ0ZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBYWsubG9nKGFkZGVkTm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlLm9uSW5zZXJ0KGFkZGVkTm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAvLyBPYnNlcnZlcgogICAgICAgICAgICAgICAgICBvYnMxLm9ic2VydmUoZG9jdW1lbnQsIHsKICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3QgOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHN1YnRyZWUgOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gTXV0YXRpb24gRXZlbnRzIChBbHRlcm5hdGl2ZSBTb2x1dGlvbikKICAgICAgICAgICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL29wOTVyZnkKICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICJET01Ob2RlSW5zZXJ0ZWQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChBYWsub3B0cy5sb2dJbnNlcnRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBBYWsubG9nKGUudGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcnVsZS5vbkluc2VydChlLnRhcmdldCk7CiAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gRWxlbWVudHMgYXJlIFJlbW92ZWQgaW4gRG9jdW1lbnQKICAgICAgICAgICAgICBpZiAocnVsZS5vblJlbW92ZSkgewoKICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uIE9ic2VydmVyCiAgICAgICAgICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS9teHh6ZWU0CiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0OiBodHRwOi8vdGlueXVybC5jb20vbmVwbjd2eQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciAhPSAndW5kZWZpbmVkJyB8fAogICAgICAgICAgICAgICAgICB0eXBlb2YgV2ViS2l0TXV0YXRpb25PYnNlcnZlciAhPSAndW5kZWZpbmVkJykgewoKICAgICAgICAgICAgICAgICAgLy8gTXV0YXRpb24gT2JzZXJ2ZXIKICAgICAgICAgICAgICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7CgogICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UKICAgICAgICAgICAgICAgICAgdmFyIG9iczIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcjIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIHNhZmVseSB1c2UgYGZvckVhY2hgIGJlY2F1c2Ugd2UgYWxyZWFkeSB1c2UgbXV0YXRpb24KICAgICAgICAgICAgICAgICAgICAgIC8vIG9ic2VydmVycyB0aGF0IGFyZSBtb3JlIHJlY2VudCB0aGFuIGBmb3JFYWNoYC4gKHNvdXJjZTogTUROKQogICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHdhbnQgb25seSByZW1vdmVkIG5vZGVzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi5yZW1vdmVkTm9kZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChtdXRhdGlvbi5yZW1vdmVkTm9kZXMsIGZ1bmN0aW9uIChyZW1vdmVkTm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFhay5vcHRzLmxvZ1JlbW92ZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBYWsubG9nKHJlbW92ZWROb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUub25SZW1vdmUocmVtb3ZlZE5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgLy8gT2JzZXJ2ZXIKICAgICAgICAgICAgICAgICAgb2JzMi5vYnNlcnZlKGRvY3VtZW50LCB7CiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0IDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlIDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uIEV2ZW50cyAoQWx0ZXJuYXRpdmUgU29sdXRpb24pCiAgICAgICAgICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS9vcDk1cmZ5CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgQWFrLm9uRXZlbnQod2luZG93LCAiRE9NTm9kZVJlbW92ZWQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChBYWsub3B0cy5sb2dSZW1vdmVkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coZS50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBydWxlLm9uUmVtb3ZlKGUudGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAKICAgICAgICAgICAgICAvLyBBYWsgRXZlbnRzCiAgICAgICAgICAgICAgQWFrLm9uRXZlbnQod2luZG93LCAnZGV0ZWN0ZWQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgQWFrLmluZm8oWydBbnRpQWRiS2lsbGVyJywgQWFrLmlzVG9wZnJhbWUgPyAndG9wZnJhbWUnIDogJ3N1YmZyYW1lJywgbG9jYXRpb24uaG9zdCwgZS5kZXRhaWxdKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLy8gQXBwbHkgcnVsZXMKICAgICAgICBmb3IgKHZhciBuYW1lIGluIEFhay5ydWxlcykgewogICAgICAgICAgaWYgKEFhay5ydWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgICAgICBoYW5kbGVyRXZlbnRzKEFhaywgbmFtZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgQWFrLmluaXRpYWxpemUoKTsKCn0pKHdpbmRvdyk7"},{"name":"addlessphotopea","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.photopea.com/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671066989341,"data":{}},"enabled":true,"position":9,"file_url":"https://greasyfork.org/scripts/389215-addlessphotopea/code/addlessphotopea.user.js","uuid":"097879ae-1065-425f-884a-383892b7bcb2","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBhZGRsZXNzcGhvdG9wZWEKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjIKLy8gQGRlc2NyaXB0aW9uICBBZGRsZXNzIFBob3RvcGVhIG9ubHkgZm9yIHlvdSEKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy5waG90b3BlYS5jb20vKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIgYmFyOwoKZnVuY3Rpb24gZ2V0QmFyKCkgewogICAgaWYgKGJhcikgewogICAgICAgIHJldHVybiBiYXI7CiAgICB9OwogICAgYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhbmVsYmxvY2subWFpbmJsb2NrIC5ibG9jayAucGFuZWxoZWFkJyk7Cn0KCmZ1bmN0aW9uIGdldEJhck1heFdpdGR0aCgpIHsKICAgIGdldEJhcigpOwogICAgcmV0dXJuIGJhci5zdHlsZS5tYXhXaWR0aDsKfQoKZnVuY3Rpb24gc2V0QmFyTWF4V2l0ZHRoKHZhbHVlKSB7CiAgICBnZXRCYXIoKTsKICAgIGJhci5zdHlsZS5tYXhXaWR0aCA9IHZhbHVlOwp9CgooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGFkZHJlbW92ZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdmFyIG1haW5TZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZsZXhyb3cucGhvdG9wZWEnKS5jaGlsZE5vZGVzOwogICAgICAgIHZhciBtYWlucGFydCA9IG1haW5TZWN0aW9uWzBdOwogICAgICAgIHZhciBhZGRwYXJ0ID0gbWFpblNlY3Rpb25bMV07CiAgICAgICAgaWYgKGFkZHBhcnQpIHsKICAgICAgICAgICAgYWRkcGFydC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBtYWlucGFydC5zdHlsZS53aWR0aCA9ICcxMDAlJzsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhbmVsYmxvY2subWFpbmJsb2NrJykuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKb2IgZG9uZSwgc2NyaXB0IHF1aXQuJykKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhZGRyZW1vdmVyKTsKICAgICAgICB9CiAgICB9LCAxMDApOwoKICAgIHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoZ2V0QmFyTWF4V2l0ZHRoKCkgIT09ICcxMDAlJykgewogICAgICAgICAgICBzZXRCYXJNYXhXaXRkdGgoJzEwMCUnKTsKICAgICAgICB9CiAgICB9LCAxMDApCn0pKCk7Cg=="},{"name":"Photopea.com - Insomniac Dark","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http://photopea.com/*","https://photopea.com/*","http://*.photopea.com/*","https://*.photopea.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1671066989342,"data":{}},"enabled":true,"position":10,"file_url":"https://userstyles.org/styles/userjs/172315/photopea-com-insomniac-dark.user.js","uuid":"33f141d8-6b82-41f8-ba75-8c0c18e92005","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgUGhvdG9wZWEuY29tIC0gSW5zb21uaWFjIERhcmsKLy8gQG5hbWVzcGFjZSAgICAgaHR0cDovL3VzZXJzdHlsZXMub3JnCi8vIEBkZXNjcmlwdGlvbgkgIEluY2x1ZGVzIGFuIG9wdGlvbmFsIHNldHRpbmcgdG8gaGlkZSB0aGUgYnV0dG9ucyBvbiB0aGUgdG9wYmFyLgovLyBAYXV0aG9yICAgICAgICBjYWxpY28KLy8gQGhvbWVwYWdlICAgICAgaHR0cHM6Ly91c2Vyc3R5bGVzLm9yZy9zdHlsZXMvMTcyMzE1Ci8vIEBpbmNsdWRlICAgICAgIGh0dHA6Ly9waG90b3BlYS5jb20vKgovLyBAaW5jbHVkZSAgICAgICBodHRwczovL3Bob3RvcGVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgIGh0dHA6Ly8qLnBob3RvcGVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgIGh0dHBzOi8vKi5waG90b3BlYS5jb20vKgovLyBAcnVuLWF0ICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAdmVyc2lvbiAgICAgICAwLjIwMjAwODA2MTc1MjQzCi8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24oKSB7dmFyIGNzcyA9IFsKCSJodG1sIHsiLAoJIiAgYmFja2dyb3VuZDogaHNsKDAsIDAlLCAxNSUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiOmZvY3VzIHsiLAoJIiAgb3V0bGluZS1jb2xvcjogaHNsKDAsIDAlLCA3MCUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkic2VsZWN0IHsiLAoJIiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQW9BQUFBS0NBTUFBQUM2N0QrUEFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFBRnpVa2RDQUs3T0hPa0FBQUFWVUV4VVJRQUFBUC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vMGpQYlFRQUFBQUhkRkpPVXdDL21pWmdQeUg4ZDNYcEFBQUFLRWxFUVZRSTEzWEdRUklBTUFRQXNTM2wvMDgyU20va0ZCalpiWWJLZVVUcDUrcTEvQis0c3dvYTJ3QnJCdW9pZUFBQUFBQkpSVTVFcmtKZ2dnPT0pIWltcG9ydGFudDsiLAoJIiAgYmFja2dyb3VuZC1zaXplOiAxMHB4IDEwcHghaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgcmlnaHQgNHB4IWltcG9ydGFudDsiLAoJIiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGNvbG9yIC4ycywgYmFja2dyb3VuZC1jb2xvciAuMnMsIGJvcmRlci1jb2xvciAuMnMsIGJhY2tncm91bmQtaW1hZ2UgLjJzIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkic2VsZWN0OmhvdmVyLCIsCgkic2VsZWN0OmZvY3VzIHsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgMTAwJSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDQyJSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBb0FBQUFLQ0FNQUFBQzY3RCtQQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUFGelVrZENBSzdPSE9rQUFBQWJVRXhVUlFBQUFQLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyt0TlBzSUFBQUFJZEZKT1V3RE5nRE15VkN4L0tnRExJUUFBQUM5SlJFRlVDTmQxeWtFT0FDQU1Ba0d3dFBYL0x6YlVxODZKYkFDZXN0Zm9SSEFQQnFEWmxDL3ViaWJlWmxYNE9pMElBTFh5Y3VjakFBQUFBRWxGVGtTdVFtQ0MpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmJidG46aG92ZXIsIiwKCSIuYmJ0bjpmb2N1cyB7IiwKCSIgIG91dGxpbmU6IG5vbmUhaW1wb3J0YW50OyIsCgkiICBib3JkZXItdG9wLWNvbG9yOiBoc2xhKDAsIDAlLCAxMDAlLCAuNCkhaW1wb3J0YW50OyIsCgkiICBib3JkZXItYm90dG9tLWNvbG9yOiBoc2xhKDAsIDAlLCAwJSwgLjg1KSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIm9wdGlvbiB7IiwKCSIgIGNvbG9yOiBoc2woMCwgMCUsIDg2JSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kOiBoc2woMCwgMCUsIDMwJSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSJpbnB1dCB7IiwKCSIgIGNvbG9yOiBoc2woMCwgMCUsIDg2JSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDIyJSkhaW1wb3J0YW50OyIsCgkiICBib3gtc2hhZG93OiAwIDAgMCAxcHggaHNsKDAsIDAlLCA0MCUpIWltcG9ydGFudDsiLAoJIiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuMnMsIGJveC1zaGFkb3cgLjJzIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiaW5wdXQ6Zm9jdXMgeyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDE2JSkhaW1wb3J0YW50OyIsCgkiICBib3gtc2hhZG93OiAwIDAgMCAxcHggaHNsKDAsIDAlLCA1NCUpIWltcG9ydGFudDsiLAoJIiAgb3V0bGluZTogbm9uZSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImlucHV0W3R5cGU9XCJjb2xvclwiXSB7IiwKCSIgIHBhZGRpbmc6IDAhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSJ0ZXh0YXJlYSB7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgMTklKSFpbXBvcnRhbnQ7IiwKCSIgIGJvcmRlcjogMXB4IHNvbGlkIGhzbCgwLCAwJSwgMzYlKSFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjJzLCBib3JkZXItY29sb3IgLjJzIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkidGV4dGFyZWE6Zm9jdXMgeyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDE3JSkhaW1wb3J0YW50OyIsCgkiICBib3JkZXItY29sb3I6IGhzbCgwLCAwJSwgNDIlKSFpbXBvcnRhbnQ7IiwKCSIgIG91dGxpbmU6IG5vbmUhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSJpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0geyIsCgkiICAtbW96LWFwcGVhcmFuY2U6IG5vbmUhaW1wb3J0YW50OyIsCgkiICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmUhaW1wb3J0YW50OyIsCgkiICBwb3NpdGlvbjogcmVsYXRpdmUhaW1wb3J0YW50OyIsCgkiICBvcGFjaXR5OiAxIWltcG9ydGFudDsiLAoJIiAgbWFyZ2luLXJpZ2h0OiAwIWltcG9ydGFudDsiLAoJIiAgbWFyZ2luLXRvcDogMCFpbXBvcnRhbnQ7IiwKCSIgIG1hcmdpbi1ib3R0b206IDAhaW1wb3J0YW50OyIsCgkiICBib3gtc2hhZG93OiBub25lIWltcG9ydGFudDsiLAoJIiAgYm9yZGVyOiAxcHggc29saWQgaHNsKDAsIDAlLCA1MCUpIWltcG9ydGFudDsiLAoJIiAgaGVpZ2h0OiAxMnB4IWltcG9ydGFudDsiLAoJIiAgd2lkdGg6IDEycHghaW1wb3J0YW50OyIsCgkiICBib3JkZXItcmFkaXVzOiAxcHghaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDIwJSkhaW1wb3J0YW50OyIsCgkiICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4ycywgYm9yZGVyLWNvbG9yIC4ycyFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpob3ZlciB7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgMjYlKSFpbXBvcnRhbnQ7IiwKCSIgIGJvcmRlci1jb2xvcjogaHNsKDAsIDAlLCA3MCUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQ6YmVmb3JlIHsiLAoJIiAgY29udGVudDogXCJcIjsiLAoJIiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQW9BQUFBS0NBWUFBQUNOTXMrOUFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBQjNSSlRVVUg0UWdURndFc1VibzVZQUFBQUhSSlJFRlVHTk90a0xFTndsQU1CYyswdjJjQWx1RDNvV1lKbEo1c2dqSkYraXdSQmtwOU5BNEtGRUdLZU5McnptZkw4SStvclZvQkRodFFCYTdBWmN0VTFDRmJQb3pxY2NWMlFBRWVFVEcvUWJVRmV2V1VLOC9BTXlLbVpUSVNiSUE3TUsrc3Q4WDJmVmVqanRuNjZ4MDF6OWlmRnhzQ1ExYW1saXBHQUFBQUFFbEZUa1N1UW1DQyluby1yZXBlYXQ7IiwKCSIgIHBvc2l0aW9uOiBhYnNvbHV0ZTsiLAoJIiAgaGVpZ2h0OiAxMHB4OyIsCgkiICB3aWR0aDogMTBweDsiLAoJIiAgdG9wOiAwOyIsCgkiICBsZWZ0OiAwOyIsCgkiICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIC4yczsiLAoJIn0iLAoJIiIsCgkiaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQ6aG92ZXI6YmVmb3JlIHsiLAoJIiAgY29udGVudDogXCJcIjsiLAoJIiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQW9BQUFBS0NBWUFBQUNOTXMrOUFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBQjNSSlRVVUg0UWdURmlVUitmais0QUFBQUZOSlJFRlVHTk5qWUtBRytQLy8vNFQvLy84SEVGSVU4QjhDTnVCVEpQRC8vLy8zLy8vLy8vRC8vMzhCZEVrRkpQWUdxR2tCMk56eS92Ly8vd1o0cmZ6Ly8zOENWUEk5VGl1eEtQNVByRThuVUJTbUFMalhieHJDNTZtUUFBQUFBRWxGVGtTdVFtQ0Mpbm8tcmVwZWF0OyIsCgkifSIsCgkiIiwKCSJpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0gKyBsYWJlbCB7IiwKCSIgIHBhZGRpbmctbGVmdDogLjNlbSFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGNvbG9yIC4ycyFpbXBvcnRhbnQ7IiwKCSIgIGZvbnQtc2l6ZTogMTNweCFpbXBvcnRhbnQ7IiwKCSIgIGhlaWdodDogMTJweCFpbXBvcnRhbnQ7IiwKCSIgIGxpbmUtaGVpZ2h0OiAxMnB4IWltcG9ydGFudDsiLAoJIiAgZGlzcGxheTogaW5saW5lLWJsb2NrIWltcG9ydGFudDsiLAoJIiAgdmVydGljYWwtYWxpZ246IG1pZGRsZSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpob3ZlciArIGxhYmVsLCIsCgkiaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdICsgbGFiZWw6aG92ZXIgeyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCAxMDAlKSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi50b29sY29uZiAuY2JveCA+IGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSwiLAoJIi50b29sY29uZiAuY2JveCA+IGxhYmVsIHsiLAoJIiAgcG9zaXRpb246IHJlbGF0aXZlIWltcG9ydGFudDsiLAoJIiAgbWFyZ2luLXRvcDogLTNweCFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5hbGVydGNvbnQgPiBkaXYgeyIsCgkiICBiYWNrZ3JvdW5kOiBoc2woMCwgMCUsIDE1JSkhaW1wb3J0YW50OyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCA4NiUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmNvbnRleHRwYW5lbCB7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgMTglKSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5jb250ZXh0cGFuZWwgLmVuYWIgeyIsCgkiICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4ycyFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5jb250ZXh0cGFuZWwgLmVuYWI6aG92ZXIgeyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDIyJSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIuY29udGV4dHBhbmVsIC5lbmFiIHNwYW4geyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCA3NSUpIWltcG9ydGFudDsiLAoJIiAgdHJhbnNpdGlvbjogY29sb3IgLjJzIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmNvbnRleHRwYW5lbCAuZW5hYjpob3ZlciBzcGFuIHsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgMTAwJSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIuY29udGV4dHBhbmVsIC5lbmFiIGltZywiLAoJIi5nc2ljb24sIiwKCSIuYmxvY2sgLnBhbmVsaGVhZCBkaXYgLmNyb3NzLCIsCgkiLndpbmRvdyAuaGVhZCAuY3Jvc3MgeyIsCgkiICAtd2Via2l0LWZpbHRlcjogaW52ZXJ0KDEpIWltcG9ydGFudDsiLAoJIiAgZmlsdGVyOiBpbnZlcnQoMSkhaW1wb3J0YW50OyIsCgkiICBvcGFjaXR5OiAuNzUhaW1wb3J0YW50OyIsCgkiICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycyFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5jb250ZXh0cGFuZWwgLmVuYWI6aG92ZXIgaW1nLCIsCgkiYnV0dG9uOmhvdmVyIC5nc2ljb24sIiwKCSJidXR0b246Zm9jdXMgLmdzaWNvbiwiLAoJImJ1dHRvbjphY3RpdmUgLmdzaWNvbiwiLAoJIi5hY3RpdmU6bm90KC5maXRlbSkgLmdzaWNvbiwiLAoJIi5ibG9jayAucGFuZWxoZWFkIGRpdiAuY3Jvc3M6aG92ZXIsIiwKCSIud2luZG93IC5oZWFkIC5jcm9zczpob3ZlciB7IiwKCSIgIG9wYWNpdHk6IDEhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIuY29udGV4dHBhbmVsIGhyIHsiLAoJIiAgYmFja2dyb3VuZDogaHNsKDAsIDAlLCAyNyUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiYnV0dG9uIHsiLAoJIiAgdHJhbnNpdGlvbjogY29sb3IgLjJzLCBiYWNrZ3JvdW5kLWNvbG9yIC4ycywgYm9yZGVyLWNvbG9yIC4ycyFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImJ1dHRvbjpob3ZlciwiLAoJImJ1dHRvbjpmb2N1cywiLAoJImJ1dHRvbjphY3RpdmUgeyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCAxMDAlKSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5wYW5lbGJsb2NrIGJ1dHRvbiwiLAoJIi50b29sYnRuIHsiLAoJIiAgb3V0bGluZTogbm9uZSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5wYW5lbGJsb2NrIGJ1dHRvbjpob3ZlciwiLAoJIi5wYW5lbGJsb2NrIGJ1dHRvbjpmb2N1cywiLAoJIi5wYW5lbGJsb2NrIGJ1dHRvbi5hY3RpdmUgeyIsCgkiICBjb2xvcjogaHNsKDAsIDAlLCAxMDAlKSFpbXBvcnRhbnQ7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbGEoMCwgMCUsIDAlLCAuMjUpIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLnBhbmVsYmxvY2sgYnV0dG9uOm5vdCguYWN0aXZlKTpub3QoOmhvdmVyKTpmb2N1cyB7IiwKCSIgIGNvbG9yOiBoc2woMCwgMCUsIDg0JSkhaW1wb3J0YW50OyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi50b3BmbG9hdCA+IGEsIiwKCSIudG9wYmFyID4gYnV0dG9uIHsiLAoJIiAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDAsIDAlLCAzOCUpIWltcG9ydGFudDsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgODQlKSFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGNvbG9yIC4ycywgYmFja2dyb3VuZC1jb2xvciAuMnMsIGJvcmRlci1jb2xvciAuMnMhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIudG9wZmxvYXQgPiBhOmhvdmVyLCIsCgkiLnRvcGJhciA+IGJ1dHRvbjpob3ZlciB7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgNDIlKSFpbXBvcnRhbnQ7IiwKCSIgIGNvbG9yOiBoc2woMCwgMCUsIDEwMCUpIWltcG9ydGFudDsiLAoJIiAgYm9yZGVyLXRvcC1jb2xvcjogaHNsYSgwLCAwJSwgMTAwJSwgLjQpIWltcG9ydGFudDsiLAoJIiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogaHNsYSgwLCAwJSwgMCUsIC44NSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIudG9wZmxvYXQgeyIsCgkiICByaWdodDogNHB4IWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmJsb2NrIC5wYW5lbGhlYWQgZGl2IHsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgNjYlKSFpbXBvcnRhbnQ7IiwKCSIgIHRyYW5zaXRpb246IGNvbG9yIC4ycywgYmFja2dyb3VuZC1jb2xvciAuMnMsIGJvcmRlci1jb2xvciAuMnMhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIuYmxvY2sgLnBhbmVsaGVhZCBkaXYuYWN0aXZlLCIsCgkiLmJsb2NrIC5wYW5lbGhlYWQgZGl2OmhvdmVyIHsiLAoJIiAgY29sb3I6IGhzbCgwLCAwJSwgOTAlKSFpbXBvcnRhbnQ7IiwKCSIgIGJhY2tncm91bmQtY29sb3I6IGhzbCgwLCAwJSwgMjYlKSFpbXBvcnRhbnQ7IiwKCSIgIGJvcmRlci10b3AtY29sb3I6IGhzbGEoMCwgMCUsIDEwMCUsIC4zKSFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJIi5yYW5nZWNvbnQgeyIsCgkiICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDQwJSkhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIjY2FwLCIsCgkiYm9keSA+IC5hcHAgPiBkaXZbc3R5bGUqPVwiei1pbmRleDogMVwiXSB7IiwKCSIgIGRpc3BsYXk6IG5vbmUhaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIubWFpbmJsb2NrID4gLmJsb2NrID4gZGl2LCIsCgkiYm9keSA+IC5hcHAgPiBkaXYgPiBkaXZbc3R5bGUqPVwid2lkdGhcIl0geyIsCgkiICB3aWR0aDogdW5zZXQhaW1wb3J0YW50OyIsCgkiICBtYXgtd2lkdGg6IHVuc2V0IWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiYm9keSA+IC5hcHAgPiBkaXYgPiBkaXZbc3R5bGUqPVwid2lkdGhcIl0gPiBkaXZbc3R5bGUqPVwibGVmdFwiXSB7IiwKCSIgIGxlZnQ6IDAhaW1wb3J0YW50OyIsCgkiICByaWdodDogMCFpbXBvcnRhbnQ7IiwKCSJ9IiwKCSIiLAoJImJvZHkgPiAuYXBwID4gZGl2IHsiLAoJIiAgZmxleC1iYXNpczogMTAwJSFpbXBvcnRhbnQiLAoJIn0iLAoJIiIsCgkiYm9keSA+IC5hcHAgPiBkaXYgPiAuY21hbmFnZXIgLmNvbnRleHRwYW5lbFtzdHlsZSo9XCJ0b3A6IDE2M1wiXSB7IiwKCSIgIGxlZnQ6IHVuc2V0IWltcG9ydGFudDsiLAoJIiAgcmlnaHQ6IDMycHghaW1wb3J0YW50OyIsCgkifSIsCgkiIiwKCSIubWFpbmJsb2NrIHsiLAoJIiAgZmxleC1ncm93OiAxIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLm1haW5ibG9jayA+IC5ibG9jayA+IGRpdiA+IGRpdi5wYm9keSB7IiwKCSIgIHdpZHRoOiBtYXgtY29udGVudDsiLAoJIiAgbWFyZ2luOiBhdXRvIWltcG9ydGFudDsiLAoJIn0iLAoJIiIsCgkiLmludHJvIHsiLAoJIiAgcG9zaXRpb246IGFic29sdXRlIWltcG9ydGFudDsiLAoJIiAgdG9wOiAwIWltcG9ydGFudDsiLAoJIiAgYm90dG9tOiAwIWltcG9ydGFudDsiLAoJIiAgbGVmdDogMCFpbXBvcnRhbnQ7IiwKCSIgIHJpZ2h0OiAwIWltcG9ydGFudDsiLAoJIiAgbWFyZ2luOiBhdXRvIWltcG9ydGFudDsiLAoJIn0iCl0uam9pbigiXG4iKTsKaWYgKHR5cGVvZiBHTV9hZGRTdHlsZSAhPSAidW5kZWZpbmVkIikgewoJR01fYWRkU3R5bGUoY3NzKTsKfSBlbHNlIGlmICh0eXBlb2YgUFJPX2FkZFN0eWxlICE9ICJ1bmRlZmluZWQiKSB7CglQUk9fYWRkU3R5bGUoY3NzKTsKfSBlbHNlIGlmICh0eXBlb2YgYWRkU3R5bGUgIT0gInVuZGVmaW5lZCIpIHsKCWFkZFN0eWxlKGNzcyk7Cn0gZWxzZSB7Cgl2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Cglub2RlLnR5cGUgPSAidGV4dC9jc3MiOwoJbm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTsKCXZhciBoZWFkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIik7CglpZiAoaGVhZHMubGVuZ3RoID4gMCkgewoJCWhlYWRzWzBdLmFwcGVuZENoaWxkKG5vZGUpOwoJfSBlbHNlIHsKCQkvLyBubyBoZWFkIHlldCwgc3RpY2sgaXQgd2hlcmVldmVyCgkJZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKG5vZGUpOwoJfQp9Cn0pKCk7Cg=="}]}